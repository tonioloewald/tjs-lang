var uO=Object.create;var{getPrototypeOf:mO,defineProperty:q8,getOwnPropertyNames:gO}=Object;var fO=Object.prototype.hasOwnProperty;var X8=(J,Z,Y)=>{Y=J!=null?uO(mO(J)):{};let q=Z||!J||!J.__esModule?q8(Y,"default",{value:J,enumerable:!0}):Y;for(let X of gO(J))if(!fO.call(q,X))q8(q,X,{get:()=>J[X],enumerable:!0});return q};var E7=(J,Z)=>{for(var Y in Z)q8(J,Y,{get:Z[Y],enumerable:!0,configurable:!0,set:(q)=>Z[Y]=()=>q})};var lO=(J,Z)=>()=>(J&&(Z=J(J=0)),Z);var Q8=((J)=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(J,{get:(Z,Y)=>(typeof require<"u"?require:Z)[Y]}):J)(function(J){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+J+'" is not supported')});var Jq={};E7(Jq,{sep:()=>Vz,resolve:()=>k6,relative:()=>_z,posix:()=>Dz,parse:()=>Mz,normalize:()=>eY,join:()=>Oz,isAbsolute:()=>zz,format:()=>Fz,extname:()=>Az,dirname:()=>Nz,delimiter:()=>Iz,default:()=>ID,basename:()=>Rz,_makeLong:()=>Hz});function F5(J){if(typeof J!=="string")throw TypeError("Path must be a string. Received "+JSON.stringify(J))}function Gz(J,Z){var Y="",q=0,X=-1,Q=0,K;for(var $=0;$<=J.length;++$){if($<J.length)K=J.charCodeAt($);else if(K===47)break;else K=47;if(K===47){if(X===$-1||Q===1);else if(X!==$-1&&Q===2){if(Y.length<2||q!==2||Y.charCodeAt(Y.length-1)!==46||Y.charCodeAt(Y.length-2)!==46){if(Y.length>2){var U=Y.lastIndexOf("/");if(U!==Y.length-1){if(U===-1)Y="",q=0;else Y=Y.slice(0,U),q=Y.length-1-Y.lastIndexOf("/");X=$,Q=0;continue}}else if(Y.length===2||Y.length===1){Y="",q=0,X=$,Q=0;continue}}if(Z){if(Y.length>0)Y+="/..";else Y="..";q=2}}else{if(Y.length>0)Y+="/"+J.slice(X+1,$);else Y=J.slice(X+1,$);q=$-X-1}X=$,Q=0}else if(K===46&&Q!==-1)++Q;else Q=-1}return Y}function VD(J,Z){var Y=Z.dir||Z.root,q=Z.base||(Z.name||"")+(Z.ext||"");if(!Y)return q;if(Y===Z.root)return Y+q;return Y+J+q}function k6(){var J="",Z=!1,Y;for(var q=arguments.length-1;q>=-1&&!Z;q--){var X;if(q>=0)X=arguments[q];else{if(Y===void 0)Y=process.cwd();X=Y}if(F5(X),X.length===0)continue;J=X+"/"+J,Z=X.charCodeAt(0)===47}if(J=Gz(J,!Z),Z)if(J.length>0)return"/"+J;else return"/";else if(J.length>0)return J;else return"."}function eY(J){if(F5(J),J.length===0)return".";var Z=J.charCodeAt(0)===47,Y=J.charCodeAt(J.length-1)===47;if(J=Gz(J,!Z),J.length===0&&!Z)J=".";if(J.length>0&&Y)J+="/";if(Z)return"/"+J;return J}function zz(J){return F5(J),J.length>0&&J.charCodeAt(0)===47}function Oz(){if(arguments.length===0)return".";var J;for(var Z=0;Z<arguments.length;++Z){var Y=arguments[Z];if(F5(Y),Y.length>0)if(J===void 0)J=Y;else J+="/"+Y}if(J===void 0)return".";return eY(J)}function _z(J,Z){if(F5(J),F5(Z),J===Z)return"";if(J=k6(J),Z=k6(Z),J===Z)return"";var Y=1;for(;Y<J.length;++Y)if(J.charCodeAt(Y)!==47)break;var q=J.length,X=q-Y,Q=1;for(;Q<Z.length;++Q)if(Z.charCodeAt(Q)!==47)break;var K=Z.length,$=K-Q,U=X<$?X:$,j=-1,W=0;for(;W<=U;++W){if(W===U){if($>U){if(Z.charCodeAt(Q+W)===47)return Z.slice(Q+W+1);else if(W===0)return Z.slice(Q+W)}else if(X>U){if(J.charCodeAt(Y+W)===47)j=W;else if(W===0)j=0}break}var G=J.charCodeAt(Y+W),z=Z.charCodeAt(Q+W);if(G!==z)break;else if(G===47)j=W}var O="";for(W=Y+j+1;W<=q;++W)if(W===q||J.charCodeAt(W)===47)if(O.length===0)O+="..";else O+="/..";if(O.length>0)return O+Z.slice(Q+j);else{if(Q+=j,Z.charCodeAt(Q)===47)++Q;return Z.slice(Q)}}function Hz(J){return J}function Nz(J){if(F5(J),J.length===0)return".";var Z=J.charCodeAt(0),Y=Z===47,q=-1,X=!0;for(var Q=J.length-1;Q>=1;--Q)if(Z=J.charCodeAt(Q),Z===47){if(!X){q=Q;break}}else X=!1;if(q===-1)return Y?"/":".";if(Y&&q===1)return"//";return J.slice(0,q)}function Rz(J,Z){if(Z!==void 0&&typeof Z!=="string")throw TypeError('"ext" argument must be a string');F5(J);var Y=0,q=-1,X=!0,Q;if(Z!==void 0&&Z.length>0&&Z.length<=J.length){if(Z.length===J.length&&Z===J)return"";var K=Z.length-1,$=-1;for(Q=J.length-1;Q>=0;--Q){var U=J.charCodeAt(Q);if(U===47){if(!X){Y=Q+1;break}}else{if($===-1)X=!1,$=Q+1;if(K>=0)if(U===Z.charCodeAt(K)){if(--K===-1)q=Q}else K=-1,q=$}}if(Y===q)q=$;else if(q===-1)q=J.length;return J.slice(Y,q)}else{for(Q=J.length-1;Q>=0;--Q)if(J.charCodeAt(Q)===47){if(!X){Y=Q+1;break}}else if(q===-1)X=!1,q=Q+1;if(q===-1)return"";return J.slice(Y,q)}}function Az(J){F5(J);var Z=-1,Y=0,q=-1,X=!0,Q=0;for(var K=J.length-1;K>=0;--K){var $=J.charCodeAt(K);if($===47){if(!X){Y=K+1;break}continue}if(q===-1)X=!1,q=K+1;if($===46){if(Z===-1)Z=K;else if(Q!==1)Q=1}else if(Z!==-1)Q=-1}if(Z===-1||q===-1||Q===0||Q===1&&Z===q-1&&Z===Y+1)return"";return J.slice(Z,q)}function Fz(J){if(J===null||typeof J!=="object")throw TypeError('The "pathObject" argument must be of type Object. Received type '+typeof J);return VD("/",J)}function Mz(J){F5(J);var Z={root:"",dir:"",base:"",ext:"",name:""};if(J.length===0)return Z;var Y=J.charCodeAt(0),q=Y===47,X;if(q)Z.root="/",X=1;else X=0;var Q=-1,K=0,$=-1,U=!0,j=J.length-1,W=0;for(;j>=X;--j){if(Y=J.charCodeAt(j),Y===47){if(!U){K=j+1;break}continue}if($===-1)U=!1,$=j+1;if(Y===46){if(Q===-1)Q=j;else if(W!==1)W=1}else if(Q!==-1)W=-1}if(Q===-1||$===-1||W===0||W===1&&Q===$-1&&Q===K+1){if($!==-1)if(K===0&&q)Z.base=Z.name=J.slice(1,$);else Z.base=Z.name=J.slice(K,$)}else{if(K===0&&q)Z.name=J.slice(1,Q),Z.base=J.slice(1,$);else Z.name=J.slice(K,Q),Z.base=J.slice(K,$);Z.ext=J.slice(Q,$)}if(K>0)Z.dir=J.slice(0,K-1);else if(q)Z.dir="/";return Z}var Vz="/",Iz=":",Dz,ID;var Zq=lO(()=>{Dz=((J)=>(J.posix=J,J))({resolve:k6,normalize:eY,isAbsolute:zz,join:Oz,relative:_z,_makeLong:Hz,dirname:Nz,basename:Rz,extname:Az,format:Fz,parse:Mz,sep:Vz,delimiter:Iz,win32:null,posix:null}),ID=Dz});var J4={};E7(J4,{xinValue:()=>Q1,xinProxy:()=>YX,xinPath:()=>tJ,xin:()=>x0,version:()=>ZX,vars:()=>F,varDefault:()=>B,updates:()=>nO,unobserve:()=>S7,touchElement:()=>D8,touch:()=>oJ,tosi:()=>E5,throttle:()=>J3,svgElements:()=>x7,settings:()=>T7,on:()=>eJ,observe:()=>q3,mathML:()=>JX,makeComponent:()=>P8,invertLuminance:()=>N_,initVars:()=>H_,hotReload:()=>S_,getListItem:()=>OJ,getListInstance:()=>F8,getListBinding:()=>A8,getCssVar:()=>sq,elements:()=>y,deleteListItem:()=>$_,debounce:()=>w7,css:()=>Z3,boxedProxy:()=>B8,boxed:()=>k7,blueprintLoader:()=>h_,blueprint:()=>x_,bindings:()=>u5,bind:()=>m1,StyleSheet:()=>_J,MoreMath:()=>G_,Component:()=>k,Color:()=>r,BlueprintLoader:()=>E8,Blueprint:()=>h7});var T7={debug:!1,perf:!1};function GJ(J){if(J==null||typeof J!=="object")return J;if(J instanceof Set)return new Set(J);else if(Array.isArray(J))return J.map(GJ);let Z={};for(let Y in J){let q=J[Y];if(J!=null&&typeof J==="object")Z[Y]=GJ(q);else Z[Y]=q}return Z}var hq="-xin-data",rJ=`.${hq}`,vq="-xin-event",Bq=`.${vq}`,P5="xinPath",r4="xinValue",pO="xinObserve",dO="xinBind",cO="xinOn",j8=Symbol("list-binding"),G8=Symbol("list-instance"),tJ=(J)=>{return J&&J[P5]||void 0};function Q1(J){return typeof J==="object"&&J!==null?J[r4]||J:J}var o4=new WeakMap,zJ=new WeakMap,t4=(J)=>{let Z=J.cloneNode();if(Z instanceof Element){let Y=zJ.get(J),q=o4.get(J);if(Y!=null)zJ.set(Z,GJ(Y));if(q!=null)o4.set(Z,GJ(q))}for(let Y of Array.from(J instanceof HTMLTemplateElement?J.content.childNodes:J.childNodes))if(Y instanceof Element||Y instanceof DocumentFragment)Z.appendChild(t4(Y));else Z.appendChild(Y.cloneNode());return Z},Pq=Symbol("observer should be removed"),y7=[],b7=[],z8=!1,O8,_8;class uq{description;test;callback;constructor(J,Z){let Y=typeof Z==="string"?`"${Z}"`:`function ${Z.name}`,q;if(typeof J==="string")this.test=(X)=>typeof X==="string"&&X!==""&&(J.startsWith(X)||X.startsWith(J)),q=`test = "${J}"`;else if(J instanceof RegExp)this.test=J.test.bind(J),q=`test = "${J.toString()}"`;else if(J instanceof Function)this.test=J,q=`test = function ${J.name}`;else throw Error("expect listener test to be a string, RegExp, or test function");if(this.description=`${q}, ${Y}`,typeof Z==="function")this.callback=Z;else throw Error("expect callback to be a path or function");y7.push(this)}}var nO=async()=>{if(O8===void 0)return;await O8},iO=()=>{if(T7.perf)console.time("xin async update");let J=Array.from(b7);for(let Z of J)y7.filter((Y)=>{let q;try{q=Y.test(Z)}catch(X){throw Error(`Listener ${Y.description} threw "${X}" at "${Z}"`)}if(q===Pq)return S7(Y),!1;return q}).forEach((Y)=>{let q;try{q=Y.callback(Z)}catch(X){console.error(`Listener ${Y.description} threw "${X}" handling "${Z}"`)}if(q===Pq)S7(Y)});if(b7.splice(0),z8=!1,typeof _8==="function")_8();if(T7.perf)console.timeEnd("xin async update")},oJ=(J)=>{let Z=typeof J==="string"?J:tJ(J);if(Z===void 0)throw console.error("touch was called on an invalid target",J),Error("touch was called on an invalid target");if(z8===!1)O8=new Promise((Y)=>{_8=Y}),z8=setTimeout(iO);if(b7.find((Y)=>Z.startsWith(Y))==null)b7.push(Z)},mq=(J,Z)=>{return new uq(J,Z)},S7=(J)=>{let Z=y7.indexOf(J);if(Z>-1)y7.splice(Z,1);else throw Error("unobserve failed, listener not found")},sO=(J)=>{try{return JSON.stringify(J)}catch(Z){return"{has circular references}"}},gq=(...J)=>Error(J.map(sO).join(" ")),aO=()=>new Date(parseInt("1000000000",36)+Date.now()).valueOf().toString(36).slice(1),rO=0,oO=()=>(parseInt("10000",36)+ ++rO).toString(36).slice(-5),tO=()=>aO()+oO(),H8=Symbol("delete"),fq=Symbol("new-object"),K8=Symbol("automatic-index");function lq(J){if(J==="")return[];if(Array.isArray(J))return J;else{let Z=[];while(J.length>0){let Y=J.search(/\[[^\]]+\]/);if(Y===-1){Z.push(J.split("."));break}else{let q=J.slice(0,Y);if(J=J.slice(Y),q!=="")Z.push(q.split("."));if(Y=J.indexOf("]")+1,Z.push(J.slice(1,Y-1)),J.slice(Y,Y+1)===".")Y+=1;J=J.slice(Y)}}return Z}}var B5=new WeakMap;function pq(J,Z){if(B5.get(J)===void 0)B5.set(J,{});if(B5.get(J)[Z]===void 0)B5.get(J)[Z]={};let Y=B5.get(J)[Z];if(Z==="_auto_")J.forEach((q,X)=>{if(q[K8]===void 0)q[K8]=tO();Y[q[K8]+""]=X});else J.forEach((q,X)=>{Y[e4(q,Z)+""]=X});return Y}function eO(J,Z){if(B5.get(J)===void 0||B5.get(J)[Z]===void 0)return pq(J,Z);else return B5.get(J)[Z]}function J_(J,Z,Y){Y=Y+"";let q=eO(J,Z)[Y];if(q===void 0||e4(J[q],Z)+""!==Y)q=pq(J,Z)[Y];return q}function Z_(J,Z,Y){if(J[Z]===void 0&&Y!==void 0)J[Z]=Y;return J[Z]}function dq(J,Z,Y,q){let X=Z!==""?J_(J,Z,Y):Y;if(q===H8)return J.splice(X,1),B5.delete(J),Symbol("deleted");else if(q===fq){if(Z===""&&J[X]===void 0)J[X]={}}else if(q!==void 0)if(X!==void 0)J[X]=q;else if(Z!==""&&e4(q,Z)+""===Y+"")J.push(q),X=J.length-1;else throw Error(`byIdPath insert failed at [${Z}=${Y}]`);return J[X]}function Eq(J){if(!Array.isArray(J))throw gq("setByPath failed: expected array, found",J)}function Cq(J){if(J==null||!(J instanceof Object))throw gq("setByPath failed: expected Object, found",J)}function e4(J,Z){let Y=lq(Z),q=J,X,Q,K,$;for(X=0,Q=Y.length;q!==void 0&&X<Q;X++){let U=Y[X];if(Array.isArray(U))for(K=0,$=U.length;q!==void 0&&K<$;K++){let j=U[K];q=q[j]}else if(q.length===0){if(q=q[Number(U.slice(1))],U[0]!=="=")return}else if(U.includes("=")){let[j,...W]=U.split("=");q=dq(q,j,W.join("="))}else K=parseInt(U,10),q=q[K]}return q}function Y_(J,Z,Y){let q=J;if(Z==="")throw Error("setByPath cannot be used to set the root object");let X=lq(Z);while(q!=null&&X.length>0){let Q=X.shift();if(typeof Q==="string"){let K=Q.indexOf("=");if(K>-1){if(K===0)Cq(q);else Eq(q);let $=Q.slice(0,K),U=Q.slice(K+1);if(q=dq(q,$,U,X.length>0?fq:Y),X.length===0)return!0}else{Eq(q);let $=parseInt(Q,10);if(X.length>0)q=q[$];else{if(Y!==H8){if(q[$]===Y)return!1;q[$]=Y}else q.splice($,1);return!0}}}else if(Array.isArray(Q)&&Q.length>0){Cq(q);while(Q.length>0){let K=Q.shift();if(Q.length>0||X.length>0)q=Z_(q,K,Q.length>0?{}:[]);else{if(Y!==H8){if(q[K]===Y)return!1;q[K]=Y}else{if(!Object.prototype.hasOwnProperty.call(q,K))return!1;delete q[K]}return!0}}}else throw Error(`setByPath failed, bad path ${Z}`)}throw Error(`setByPath(${J}, ${Z}, ${Y}) failed`)}var cq=(J,Z)=>{let Y=new Event(Z);J.dispatchEvent(Y)},nq=(J)=>{if(J instanceof HTMLInputElement)return J.type;else if(J instanceof HTMLSelectElement&&J.hasAttribute("multiple"))return"multi-select";else return"other"},q_=(J,Z)=>{switch(nq(J)){case"radio":J.checked=J.value===Z;break;case"checkbox":J.checked=!!Z;break;case"date":J.valueAsDate=new Date(Z);break;case"multi-select":for(let Y of Array.from(J.querySelectorAll("option")))Y.selected=Z[Y.value];break;default:J.value=Z}},X_=(J)=>{switch(nq(J)){case"radio":{let Z=J.parentElement?.querySelector(`[name="${J.name}"]:checked`);return Z!=null?Z.value:null}case"checkbox":return J.checked;case"date":return J.valueAsDate?.toISOString();case"multi-select":return Array.from(J.querySelectorAll("option")).reduce((Z,Y)=>{return Z[Y.value]=Y.selected,Z},{});default:return J.value}},{ResizeObserver:Tq}=globalThis,N8=Tq!=null?new Tq((J)=>{for(let Z of J){let Y=Z.target;cq(Y,"resize")}}):{observe(){},unobserve(){}},yq=(J,Z,Y=!0)=>{if(J!=null&&Z!=null)if(typeof Z==="string")J.textContent=Z;else if(Array.isArray(Z))Z.forEach((q)=>{J.append(q instanceof Node&&Y?t4(q):q)});else if(Z instanceof Node)J.append(Y?t4(Z):Z);else throw Error("expect text content or document node")},w7=(J,Z=250)=>{let Y;return(...q)=>{if(Y!==void 0)clearTimeout(Y);Y=setTimeout(()=>{J(...q)},Z)}},J3=(J,Z=250)=>{let Y,q=Date.now()-Z,X=!1;return(...Q)=>{if(clearTimeout(Y),Y=setTimeout(()=>{J(...Q),q=Date.now()},Z),!X&&Date.now()-q>=Z){X=!0;try{J(...Q),q=Date.now()}finally{X=!1}}}},Q_=16,K_=100;function bq(J,Z){let Y=Array.from(J.querySelectorAll(rJ));if(J.matches(rJ))Y.unshift(J);for(let q of Y){let X=zJ.get(q);for(let Q of X){if(Q.path.startsWith("^"))Q.path=`${Z}${Q.path.substring(1)}`;if(Q.binding.toDOM!=null)Q.binding.toDOM(q,x0[Q.path])}}}class iq{boundElement;listTop;listBottom;template;options;itemToElement;array=[];_update;_previousSlice;static filterBoundObservers=new WeakMap;constructor(J,Z,Y={}){if(this.boundElement=J,this.itemToElement=new WeakMap,J.children.length!==1)throw Error("ListBinding expects an element with exactly one child element");if(J.children[0]instanceof HTMLTemplateElement){let q=J.children[0];if(q.content.children.length!==1)throw Error("ListBinding expects a template with exactly one child element");this.template=t4(q.content.children[0])}else this.template=J.children[0],this.template.remove();if(this.options=Y,this.listTop=document.createElement("div"),this.listBottom=document.createElement("div"),this.listTop.classList.add("virtual-list-padding"),this.listBottom.classList.add("virtual-list-padding"),this.boundElement.append(this.listTop),this.boundElement.append(this.listBottom),Y.virtual!=null)N8.observe(this.boundElement),this._update=J3(()=>{this.update(this.array,!0)},Q_),this.boundElement.addEventListener("scroll",this._update),this.boundElement.addEventListener("resize",this._update)}visibleSlice(){let{virtual:J,hiddenProp:Z,visibleProp:Y}=this.options,q=this.array;if(Z!==void 0)q=q.filter((U)=>U[Z]!==!0);if(Y!==void 0)q=q.filter((U)=>U[Y]===!0);if(this.options.filter&&this.needle!==void 0)q=this.options.filter(q,this.needle);let X=0,Q=q.length-1,K=0,$=0;if(J!=null&&this.boundElement instanceof HTMLElement){let U=this.boundElement.offsetWidth,j=this.boundElement.offsetHeight;if(J.visibleColumns==null)J.visibleColumns=J.width!=null?Math.max(1,Math.floor(U/J.width)):1;let W=Math.ceil(j/J.height)+(J.rowChunkSize||1),G=Math.ceil(q.length/J.visibleColumns),z=J.visibleColumns*W,O=Math.floor(this.boundElement.scrollTop/J.height);if(O>G-W+1)O=Math.max(0,G-W+1);if(J.rowChunkSize)O-=O%J.rowChunkSize;X=O*J.visibleColumns,Q=X+z-1,K=O*J.height,$=Math.max((G-W)*J.height-K,0)}return{items:q,firstItem:X,lastItem:Q,topBuffer:K,bottomBuffer:$}}needle;filter=J3((J)=>{if(this.needle!==J)this.needle=J,this.update(this.array)},K_);update(J,Z){if(J==null)J=[];this.array=J;let{hiddenProp:Y,visibleProp:q}=this.options,X=tJ(J),Q=this.visibleSlice();this.boundElement.classList.toggle("-xin-empty-list",Q.items.length===0);let K=this._previousSlice,{firstItem:$,lastItem:U,topBuffer:j,bottomBuffer:W}=Q;if(Y===void 0&&q===void 0&&Z===!0&&K!=null&&$===K.firstItem&&U===K.lastItem)return;this._previousSlice=Q;let G=0,z=0,O=0;for(let M of Array.from(this.boundElement.children)){if(M===this.listTop||M===this.listBottom)continue;let V=M[G8];if(V==null)M.remove();else{let D=Q.items.indexOf(V);if(D<$||D>U)M.remove(),this.itemToElement.delete(V),G++}}this.listTop.style.height=String(j)+"px",this.listBottom.style.height=String(W)+"px";let _=[],{idPath:N}=this.options;for(let M=$;M<=U;M++){let V=Q.items[M];if(V===void 0)continue;let D=this.itemToElement.get(Q1(V));if(D==null){if(O++,D=t4(this.template),typeof V==="object")this.itemToElement.set(Q1(V),D),D[G8]=Q1(V);if(this.boundElement.insertBefore(D,this.listBottom),N!=null){let P=V[N],E=`${X}[${N}=${P}]`;bq(D,E)}else{let P=`${X}[${M}]`;bq(D,P)}}_.push(D)}let A=null;for(let M of _){if(M.previousElementSibling!==A)if(z++,A?.nextElementSibling!=null)this.boundElement.insertBefore(M,A.nextElementSibling);else this.boundElement.insertBefore(M,this.listBottom);A=M}if(T7.perf)console.log(X,"updated",{removed:G,created:O,moved:z})}}var A8=(J,Z,Y)=>{let q=J[j8];if(Z&&q===void 0)q=new iq(J,Z,Y),J[j8]=q;return q},F8=(J)=>{let Z;while(!(Z=J[G8])&&J&&J.parentElement)J=J.parentElement;return Z?{element:J,item:Z}:void 0},OJ=(J)=>{let Z=F8(J);return Z?Z.item:void 0},$_=(J)=>{let Z=F8(J);if(!Z)return console.error("deleteListItem failed, element is not part of a list instance",J),!1;let Y=A8(Z.element.parentElement);if(!Y.options.idPath)return console.error("deleteListItem failed, list binding has no idPath",J.parentElement,Y),!1;let q=Y.array.indexOf(Z.item);if(q>-1)return Y.array.splice(q,1),!0;return!1},u5={value:{toDOM:q_,fromDOM(J){return X_(J)}},text:{toDOM(J,Z){J.textContent=Z}},enabled:{toDOM(J,Z){J.disabled=!Z}},disabled:{toDOM(J,Z){J.disabled=Boolean(Z)}},list:{toDOM(J,Z,Y){A8(J,Z,Y).update(Z)}}};function m5(J){return J.replace(/[A-Z]/g,(Z)=>{return`-${Z.toLocaleLowerCase()}`})}function U_(J){return J.replace(/-([a-z])/g,(Z,Y)=>{return Y.toLocaleUpperCase()})}var W_=180/Math.PI,j_=Math.PI/180;function X5(J,Z,Y){return Y<J?NaN:Z<J?J:Z>Y?Y:Z}function h5(J,Z,Y,q=!0){if(q)Y=X5(0,Y,1);return Y*(Z-J)+J}var G_={RADIANS_TO_DEGREES:W_,DEGREES_TO_RADIANS:j_,clamp:X5,lerp:h5};function sq(J,Z=document.body){let Y=getComputedStyle(Z);if(J.endsWith(")")&&J.startsWith("var("))J=J.slice(4,-1);return Y.getPropertyValue(J).trim()}var z_=(J,Z,Y)=>{return(0.299*J+0.587*Z+0.114*Y)/255},WJ=(J)=>("00"+Math.round(Number(J)).toString(16)).slice(-2);class aq{h;s;l;constructor(J,Z,Y){J/=255,Z/=255,Y/=255;let q=Math.max(J,Z,Y),X=q-Math.min(J,Z,Y),Q=X!==0?q===J?(Z-Y)/X:q===Z?2+(Y-J)/X:4+(J-Z)/X:0;this.h=60*Q<0?60*Q+360:60*Q,this.s=X!==0?q<=0.5?X/(2*q-X):X/(2-(2*q-X)):0,this.l=(2*q-X)/2}}var aJ=globalThis.document!==void 0?globalThis.document.createElement("span"):void 0;class r{r;g;b;a;static fromVar(J,Z=document.body){return r.fromCss(sq(J,Z))}static fromCss(J){let Z=J;if(aJ instanceof HTMLSpanElement)aJ.style.color="black",aJ.style.color=J,document.body.appendChild(aJ),Z=getComputedStyle(aJ).color,aJ.remove();let[Y,q,X,Q]=Z.match(/[\d.]+/g)||["0","0","0","0"],K=Z.startsWith("color(srgb")?255:1;return new r(Number(Y)*K,Number(q)*K,Number(X)*K,Q==null?1:Number(Q))}static fromHsl(J,Z,Y,q=1){let X,Q,K;if(Z===0)X=Q=K=Y;else{let U=(z,O,_)=>{if(_<0)_+=1;if(_>1)_-=1;if(_<0.16666666666666666)return z+(O-z)*6*_;if(_<0.5)return O;if(_<0.6666666666666666)return z+(O-z)*(0.6666666666666666-_)*6;return z},j=Y<0.5?Y*(1+Z):Y+Z-Y*Z,W=2*Y-j,G=(J%360+360)%360/360;X=U(W,j,G+0.3333333333333333),Q=U(W,j,G),K=U(W,j,G-0.3333333333333333)}let $=new r(X*255,Q*255,K*255,q);return $.hslCached={h:(J%360+360)%360,s:Z,l:Y},$}static black=new r(0,0,0);static white=new r(255,255,255);constructor(J,Z,Y,q=1){this.r=X5(0,J,255),this.g=X5(0,Z,255),this.b=X5(0,Y,255),this.a=X5(0,q,1)}get inverse(){return new r(255-this.r,255-this.g,255-this.b,this.a)}get inverseLuminance(){let{h:J,s:Z,l:Y}=this._hsl;return r.fromHsl(J,Z,1-Y,this.a)}get opaque(){return this.a===1?this:new r(this.r,this.g,this.b,1)}contrasting(J=1){return this.opaque.blend(this.brightness>0.5?r.black:r.white,J)}get rgb(){let{r:J,g:Z,b:Y}=this;return`rgb(${J.toFixed(0)},${Z.toFixed(0)},${Y.toFixed(0)})`}get rgba(){let{r:J,g:Z,b:Y,a:q}=this;return`rgba(${J.toFixed(0)},${Z.toFixed(0)},${Y.toFixed(0)},${q.toFixed(2)})`}get RGBA(){return[this.r/255,this.g/255,this.b/255,this.a]}get ARGB(){return[this.a,this.r/255,this.g/255,this.b/255]}hslCached;get _hsl(){if(this.hslCached==null)this.hslCached=new aq(this.r,this.g,this.b);return this.hslCached}get hsl(){let{h:J,s:Z,l:Y}=this._hsl;return`hsl(${J.toFixed(0)}deg ${(Z*100).toFixed(0)}% ${(Y*100).toFixed(0)}%)`}get hsla(){let{h:J,s:Z,l:Y}=this._hsl;return`hsl(${J.toFixed(0)}deg ${(Z*100).toFixed(0)}% ${(Y*100).toFixed(0)}% / ${(this.a*100).toFixed(0)}%)`}get mono(){let J=this.brightness*255;return new r(J,J,J)}get brightness(){return z_(this.r,this.g,this.b)}get html(){return this.toString()}toString(){return this.a===1?"#"+WJ(this.r)+WJ(this.g)+WJ(this.b):"#"+WJ(this.r)+WJ(this.g)+WJ(this.b)+WJ(Math.floor(255*this.a))}brighten(J){let{h:Z,s:Y,l:q}=this._hsl,X=X5(0,q+J*(1-q),1);return r.fromHsl(Z,Y,X,this.a)}darken(J){let{h:Z,s:Y,l:q}=this._hsl,X=X5(0,q*(1-J),1);return r.fromHsl(Z,Y,X,this.a)}saturate(J){let{h:Z,s:Y,l:q}=this._hsl,X=X5(0,Y+J*(1-Y),1);return r.fromHsl(Z,X,q,this.a)}desaturate(J){let{h:Z,s:Y,l:q}=this._hsl,X=X5(0,Y*(1-J),1);return r.fromHsl(Z,X,q,this.a)}rotate(J){let{h:Z,s:Y,l:q}=this._hsl,X=(Z+360+J)%360;return r.fromHsl(X,Y,q,this.a)}opacity(J){let{h:Z,s:Y,l:q}=this._hsl;return r.fromHsl(Z,Y,q,J)}swatch(){return console.log(`%c      %c ${this.html}, ${this.rgba}`,`background-color: ${this.html}`,"background-color: transparent"),this}blend(J,Z){return new r(h5(this.r,J.r,Z),h5(this.g,J.g,Z),h5(this.b,J.b,Z),h5(this.a,J.a,Z))}static blendHue(J,Z,Y){let q=(Z-J+720)%360;if(q<180)return J+Y*q;else return J-(360-q)*Y}mix(J,Z){let Y=this._hsl,q=J._hsl;return r.fromHsl(Y.s===0?q.h:q.s===0?Y.h:r.blendHue(Y.h,q.h,Z),h5(Y.s,q.s,Z),h5(Y.l,q.l,Z),h5(this.a,J.a,Z))}colorMix(J,Z){return r.fromCss(`color-mix(in hsl, ${this.html}, ${J.html} ${(Z*100).toFixed(0)}%)`)}}function _J(J,Z){let Y=y.style(Z3(Z));Y.id=J,document.head.append(Y)}var O_=["animation-iteration-count","flex","flex-base","flex-grow","flex-shrink","opacity","order","tab-size","widows","z-index","zoom"],rq=(J,Z)=>{if(typeof Z==="number"&&!O_.includes(J))Z=`${Z}px`;if(J.startsWith("_"))if(J.startsWith("__"))J="--"+J.substring(2),Z=`var(${J}-default, ${Z})`;else J="--"+J.substring(1);return{prop:J,value:String(Z)}},__=(J,Z,Y)=>{if(Y===void 0)return"";if(Y instanceof r)Y=Y.html;let q=rq(Z,Y);return`${J}  ${q.prop}: ${q.value};`},oq=(J,Z,Y="")=>{let q=m5(J);if(typeof Z==="object"&&!(Z instanceof r)){let X=Object.keys(Z).map((Q)=>oq(Q,Z[Q],`${Y}  `)).join(`
`);return`${Y}  ${J} {
${X}
${Y}  }`}else return __(Y,q,Z)},Z3=(J,Z="")=>{return Object.keys(J).map((Y)=>{let q=J[Y];if(typeof q==="string"){if(Y==="@import")return`@import url('${q}');`;throw Error("top-level string value only allowed for `@import`")}let X=Object.keys(q).map((Q)=>oq(Q,q[Q])).join(`
`);return`${Z}${Y} {
${X}
}`}).join(`

`)},H_=(J)=>{console.warn("initVars is deprecated. Just use _ and __ prefixes instead.");let Z={};for(let Y of Object.keys(J)){let q=J[Y],X=m5(Y);Z[`--${X}`]=typeof q==="number"&&q!==0?String(q)+"px":q}return Z},N_=(J)=>{let Z={};for(let Y of Object.keys(J)){let q=J[Y];if(q instanceof r)Z[Y]=q.inverseLuminance;else if(typeof q==="string"&&q.match(/^(#[0-9a-fA-F]{3}|rgba?\(|hsla?\()/))Z[Y]=r.fromCss(q).inverseLuminance}return Z},B=new Proxy({},{get(J,Z){if(J[Z]===void 0){let Y="--"+m5(Z);J[Z]=(q)=>`var(${Y}, ${q})`}return J[Z]}}),F=new Proxy({},{get(J,Z){if(Z==="default")return B;if(J[Z]==null){Z=m5(Z);let[,Y,,q,X,Q]=Z.match(/^([-\w]*?)((_)?(\d+)(\w?))?$/)||["",Z],K=`--${Y}`;if(X!=null){let $=q==null?Number(X)/100:-Number(X)/100;switch(Q){case"b":{let U=r.fromVar(K);J[Z]=$>0?U.brighten($).rgba:U.darken(-$).rgba}break;case"s":{let U=r.fromVar(K);J[Z]=$>0?U.saturate($).rgba:U.desaturate(-$).rgba}break;case"h":{let U=r.fromVar(K);J[Z]=U.rotate($*100).rgba}break;case"o":{let U=r.fromVar(K);J[Z]=U.opacity($).rgba}break;case"":J[Z]=`calc(var(${K}) * ${$})`;break;default:throw console.error(Q),Error(`Unrecognized method ${Q} for css variable ${K}`)}}else J[Z]=`var(${K})`}return J[Z]}}),R_="http://www.w3.org/1998/Math/MathML",A_="http://www.w3.org/2000/svg",C7={},tq=(J,Z,Y)=>{let q=rq(m5(Z),Y);if(q.prop.startsWith("--"))J.style.setProperty(q.prop,q.value);else J.style[Z]=q.value},F_=(J)=>{return{toDOM(Z,Y){tq(Z,J,Y)}}},eq=(J,Z,Y)=>{if(Z==="style")if(typeof Y==="object")for(let q of Object.keys(Y))if(tJ(Y[q]))m1(J,Y[q],F_(q));else tq(J,q,Y[q]);else J.setAttribute("style",Y);else if(J[Z]!==void 0){let{MathMLElement:q}=globalThis;if(J instanceof SVGElement||q!==void 0&&J instanceof q)J.setAttribute(Z,Y);else J[Z]=Y}else{let q=m5(Z);if(q==="class")Y.split(" ").forEach((X)=>{J.classList.add(X)});else if(J[q]!==void 0)J[q]=Y;else if(typeof Y==="boolean")Y?J.setAttribute(q,""):J.removeAttribute(q);else J.setAttribute(q,Y)}},M_=(J)=>{return{toDOM(Z,Y){eq(Z,J,Y)}}},V_=(J,Z,Y)=>{if(Z==="apply")Y(J);else if(Z.match(/^on[A-Z]/)!=null){let q=Z.substring(2).toLowerCase();eJ(J,q,Y)}else if(Z==="bind")if((typeof Y.binding==="string"?u5[Y.binding]:Y.binding)!==void 0&&Y.value!==void 0)m1(J,Y.value,Y.binding instanceof Function?{toDOM:Y.binding}:Y.binding);else throw Error("bad binding");else if(Z.match(/^bind[A-Z]/)!=null){let q=Z.substring(4,5).toLowerCase()+Z.substring(5),X=u5[q];if(X!==void 0)m1(J,Y,X);else throw Error(`${Z} is not allowed, bindings.${q} is not defined`)}else if(tJ(Y))m1(J,Y,M_(Z));else eq(J,Z,Y)},M8=(J,...Z)=>{if(C7[J]===void 0){let[X,Q]=J.split("|");if(Q===void 0)C7[J]=globalThis.document.createElement(X);else C7[J]=globalThis.document.createElementNS(Q,X)}let Y=C7[J].cloneNode(),q={};for(let X of Z)if(X instanceof Element||X instanceof DocumentFragment||typeof X==="string"||typeof X==="number")if(Y instanceof HTMLTemplateElement)Y.content.append(X);else Y.append(X);else if(tJ(X))Y.append(y.span({bindText:X}));else Object.assign(q,X);for(let X of Object.keys(q)){let Q=q[X];V_(Y,X,Q)}return Y},V8=(...J)=>{let Z=globalThis.document.createDocumentFragment();for(let Y of J)Z.append(Y);return Z},y=new Proxy({fragment:V8},{get(J,Z){if(Z=Z.replace(/[A-Z]/g,(Y)=>`-${Y.toLocaleLowerCase()}`),J[Z]===void 0)J[Z]=(...Y)=>M8(Z,...Y);return J[Z]},set(){throw Error("You may not add new properties to elements")}}),x7=new Proxy({fragment:V8},{get(J,Z){if(J[Z]===void 0)J[Z]=(...Y)=>M8(`${Z}|${A_}`,...Y);return J[Z]},set(){throw Error("You may not add new properties to elements")}}),JX=new Proxy({fragment:V8},{get(J,Z){if(J[Z]===void 0)J[Z]=(...Y)=>M8(`${Z}|${R_}`,...Y);return J[Z]},set(){throw Error("You may not add new properties to elements")}}),I_=["sort","splice","copyWithin","fill","pop","push","reverse","shift","unshift"],I8={},D_=!0,L_=/^\.?([^.[\](),])+(\.[^.[\](),]+|\[\d+\]|\[[^=[\](),]*=[^[\]()]+\])*$/,B_=(J)=>L_.test(J),jJ=(J="",Z="")=>{if(J==="")return Z;else if(Z.match(/^\d+$/)!==null||Z.includes("="))return`${J}[${Z}]`;else return`${J}.${Z}`},P_={string(J){return new String(J)},boolean(J){return new Boolean(J)},bigint(J){return J},symbol(J){return J},number(J){return new Number(J)}},R8=Symbol("undefined");function $8(J,Z){if(J===void 0||J===null)return new Proxy({[R8]:J===null?"null":"undefined"},v5(Z,!0));let Y=typeof J;if(Y==="object"||Y==="function")return J;else return new Proxy(P_[typeof J](J),v5(Z,!0))}var E_=()=>new Proxy({},v5("^",!0)),v5=(J,Z)=>({get(Y,q){switch(q){case P5:case"tosiPath":return J;case r4:case"tosiValue":return Y[R8]?Y[R8]==="null"?null:void 0:Y.valueOf?Y.valueOf():Y;case pO:case"tosiObserve":return(K)=>{let $=mq(J,K);return()=>S7($)};case cO:case"tosiOn":return(K,$)=>eJ(K,$,Q1(Y));case dO:case"tosiBind":return(K,$,U)=>{m1(K,J,$,U)};case"tosiBinding":return(K)=>({bind:{value:J,binding:K}});case"tosiListBinding":return(K=({span:U})=>U({bindText:"^"}),$={})=>[{bindList:{value:J,...$}},y.template(K(y,E_()))]}if(typeof q==="symbol")return Y[q];let X=q,Q=X.match(/^([^.[]+)\.(.+)$/)??X.match(/^([^\]]+)(\[.+)/)??X.match(/^(\[[^\]]+\])\.(.+)$/)??X.match(/^(\[[^\]]+\])\[(.+)$/);if(Q!==null){let[,K,$]=Q,U=jJ(J,K),j=e4(Y,K);return j!==null&&typeof j==="object"?new Proxy(j,v5(U,Z))[$]:j}if(X.startsWith("[")&&X.endsWith("]"))X=X.substring(1,X.length-1);if(!Array.isArray(Y)&&Y[X]!==void 0||Array.isArray(Y)&&X.includes("=")){let K;if(X.includes("=")){let[$,U]=X.split("=");K=Y.find((j)=>`${e4(j,$)}`===U)}else K=Y[X];if(K instanceof Object){let $=jJ(J,X);return new Proxy(K instanceof Function?K.bind(Y):K,v5($,Z))}else return Z?$8(K,jJ(J,X)):K}else if(Array.isArray(Y)){let K=Y[X];return typeof K==="function"?(...$)=>{let U=K.apply(Y,$);if(I_.includes(X))oJ(J);return U}:typeof K==="object"?new Proxy(K,v5(jJ(J,X),Z)):Z?$8(K,jJ(J,X)):K}else return Z?$8(Y[X],jJ(J,X)):Y[X]},set(Y,q,X){X=Q1(X);let Q=q!==r4?jJ(J,q):J;if(D_&&!B_(Q))throw Error(`setting invalid path ${Q}`);if(Q1(x0[Q])!==X&&Y_(I8,Q,X))oJ(Q);return!0}}),q3=(J,Z)=>{let Y=typeof Z==="function"?Z:x0[Z];if(typeof Y!=="function")throw Error(`observe expects a function or path to a function, ${Z} is neither`);return mq(J,Y)},x0=new Proxy(I8,v5("",!1)),k7=new Proxy(I8,v5("",!0)),{document:Y3,MutationObserver:Sq}=globalThis,D8=(J,Z)=>{let Y=zJ.get(J);if(Y==null)return;for(let q of Y){let{binding:X,options:Q}=q,{path:K}=q,{toDOM:$}=X;if($!=null){if(K.startsWith("^")){let U=OJ(J);if(U!=null&&U[P5]!=null)K=q.path=`${U[P5]}${K.substring(1)}`;else throw console.error(`Cannot resolve relative binding ${K}`,J,"is not part of a list"),Error(`Cannot resolve relative binding ${K}`)}if(Z==null||K.startsWith(Z))$(J,x0[K],Q)}}};if(Sq!=null)new Sq((J)=>{J.forEach((Z)=>{Array.from(Z.addedNodes).forEach((Y)=>{if(Y instanceof Element)Array.from(Y.querySelectorAll(rJ)).forEach((q)=>D8(q))})})}).observe(Y3.body,{subtree:!0,childList:!0});q3(()=>!0,(J)=>{let Z=Array.from(Y3.querySelectorAll(rJ));for(let Y of Z)D8(Y,J)});var kq=(J)=>{let Z=J.target.closest(rJ);while(Z!=null){let Y=zJ.get(Z);for(let q of Y){let{binding:X,path:Q}=q,{fromDOM:K}=X;if(K!=null){let $;try{$=K(Z,q.options)}catch(U){throw console.error("Cannot get value from",Z,"via",q),Error("Cannot obtain value fromDOM")}if($!=null){let U=x0[Q];if(U==null)x0[Q]=$;else{let j=U[P5]!=null?U[r4]:U,W=$[P5]!=null?$[r4]:$;if(j!==W)x0[Q]=W}}}}Z=Z.parentElement.closest(rJ)}};if(globalThis.document!=null)Y3.body.addEventListener("change",kq,!0),Y3.body.addEventListener("input",kq,!0);function m1(J,Z,Y,q){if(J instanceof DocumentFragment)throw Error("bind cannot bind to a DocumentFragment");let X;if(typeof Z==="object"&&Z[P5]===void 0&&q===void 0){let{value:$}=Z;X=typeof $==="string"?$:$[P5],q=Z,delete q.value}else X=typeof Z==="string"?Z:Z[P5];if(X==null)throw Error("bind requires a path or object with xin Proxy");let{toDOM:Q}=Y;J.classList?.add(hq);let K=zJ.get(J);if(K==null)K=[],zJ.set(J,K);if(K.push({path:X,binding:Y,options:q}),Q!=null&&!X.startsWith("^"))oJ(X);if(q?.filter&&q?.needle)m1(J,q.needle,{toDOM($,U){console.log({needle:U}),$[j8]?.filter(U)}});return J}var wq=new Set,C_=(J)=>{let Z=J?.target.closest(Bq),Y=!1,q=new Proxy(J,{get(Q,K){if(K==="stopPropagation")return()=>{J.stopPropagation(),Y=!0};else{let $=Q[K];return typeof $==="function"?$.bind(Q):$}}}),X=new Set;while(!Y&&Z!=null){let Q=o4.get(Z)[J.type]||X;for(let K of Q){if(typeof K==="function")K(q);else{let $=x0[K];if(typeof $==="function")$(q);else throw Error(`no event handler found at path ${K}`)}if(Y)continue}Z=Z.parentElement!=null?Z.parentElement.closest(Bq):null}};function eJ(J,Z,Y){let q=o4.get(J);if(J.classList.add(vq),q==null)q={},o4.set(J,q);if(!q[Z])q[Z]=new Set;if(q[Z].add(Y),!wq.has(Z))wq.add(Z),Y3.body.addEventListener(Z,C_,!0);return()=>{q[Z].delete(Y)}}var T_=0;function U8(){return`custom-elt${(T_++).toString(36)}`}var xq=0,a4={};function y_(J,Z){let Y=a4[J],q=Z3(Z).replace(/:host\b/g,J);a4[J]=Y?Y+`
`+q:q}function b_(J){if(a4[J])document.head.append(y.style({id:J+"-component"},a4[J]));delete a4[J]}class k extends HTMLElement{static elements=y;static _elementCreator;instanceId;styleNode;static styleSpec;static styleNode;content=y.slot();isSlotted;static _tagName=null;static get tagName(){return this._tagName}static StyleNode(J){return console.warn("StyleNode is deprecated, just assign static styleSpec: XinStyleSheet to the class directly"),y.style(Z3(J))}static elementCreator(J={}){let Z=this;if(Z._elementCreator==null){let{tag:Y,styleSpec:q}=J,X=J!=null?Y:null;if(X==null)if(typeof Z.name==="string"&&Z.name!==""){if(X=m5(Z.name),X.startsWith("-"))X=X.slice(1)}else X=U8();if(customElements.get(X)!=null)console.warn(`${X} is already defined`);if(X.match(/\w+(-\w+)+/)==null)console.warn(`${X} is not a legal tag for a custom-element`),X=U8();while(customElements.get(X)!==void 0)X=U8();if(Z._tagName=X,q!==void 0)y_(X,q);window.customElements.define(X,this,J),Z._elementCreator=y[X]}return Z._elementCreator}initAttributes(...J){let Z={},Y={};new MutationObserver((q)=>{let X=!1;if(q.forEach((Q)=>{X=!!(Q.attributeName&&J.includes(U_(Q.attributeName)))}),X&&this.queueRender!==void 0)this.queueRender(!1)}).observe(this,{attributes:!0}),J.forEach((q)=>{Z[q]=GJ(this[q]);let X=m5(q);Object.defineProperty(this,q,{enumerable:!1,get(){if(typeof Z[q]==="boolean")return this.hasAttribute(X);else if(this.hasAttribute(X))return typeof Z[q]==="number"?parseFloat(this.getAttribute(X)):this.getAttribute(X);else if(Y[q]!==void 0)return Y[q];else return Z[q]},set(Q){if(typeof Z[q]==="boolean"){if(Q!==this[q]){if(Q)this.setAttribute(X,"");else this.removeAttribute(X);this.queueRender()}}else if(typeof Z[q]==="number"){if(Q!==parseFloat(this[q]))this.setAttribute(X,Q),this.queueRender()}else if(typeof Q==="object"||`${Q}`!==`${this[q]}`){if(Q===null||Q===void 0||typeof Q==="object")this.removeAttribute(X);else this.setAttribute(X,Q);this.queueRender(),Y[q]=Q}}})})}initValue(){let J=Object.getOwnPropertyDescriptor(this,"value");if(J===void 0||J.get!==void 0||J.set!==void 0)return;let Z=this.hasAttribute("value")?this.getAttribute("value"):GJ(this.value);delete this.value,Object.defineProperty(this,"value",{enumerable:!1,get(){return Z},set(Y){if(Z!==Y)Z=Y,this.queueRender(!0)}})}_parts;get parts(){let J=this.shadowRoot!=null?this.shadowRoot:this;if(this._parts==null)this._parts=new Proxy({},{get(Z,Y){if(Z[Y]===void 0){let q=J.querySelector(`[part="${Y}"]`);if(q==null)q=J.querySelector(Y);if(q==null)throw Error(`elementRef "${Y}" does not exist!`);q.removeAttribute("data-ref"),Z[Y]=q}return Z[Y]}});return this._parts}constructor(){super();xq+=1,this.initAttributes("hidden"),this.instanceId=`${this.tagName.toLocaleLowerCase()}-${xq}`,this._value=GJ(this.defaultValue)}connectedCallback(){if(b_(this.constructor.tagName),this.hydrate(),this.role!=null)this.setAttribute("role",this.role);if(this.onResize!==void 0){if(N8.observe(this),this._onResize==null)this._onResize=this.onResize.bind(this);this.addEventListener("resize",this._onResize)}if(this.value!=null&&this.getAttribute("value")!=null)this._value=this.getAttribute("value");this.queueRender()}disconnectedCallback(){N8.unobserve(this)}_changeQueued=!1;_renderQueued=!1;queueRender(J=!1){if(!this._hydrated)return;if(!this._changeQueued)this._changeQueued=J;if(!this._renderQueued)this._renderQueued=!0,requestAnimationFrame(()=>{if(this._changeQueued)cq(this,"change");this._changeQueued=!1,this._renderQueued=!1,this.render()})}_hydrated=!1;hydrate(){if(!this._hydrated){this.initValue();let J=typeof this.content!=="function",Z=typeof this.content==="function"?this.content(y):this.content,{styleSpec:Y}=this.constructor,{styleNode:q}=this.constructor;if(Y)q=this.constructor.styleNode=y.style(Z3(Y)),delete this.constructor.styleNode;if(this.styleNode)console.warn(this,"styleNode is deprecrated, use static styleNode or statc styleSpec instead"),q=this.styleNode;if(q){let X=this.attachShadow({mode:"open"});X.appendChild(q.cloneNode(!0)),yq(X,Z,J)}else if(Z!==null){let X=Array.from(this.childNodes);yq(this,Z,J),this.isSlotted=this.querySelector("slot,xin-slot")!==void 0;let Q=Array.from(this.querySelectorAll("slot"));if(Q.length>0)Q.forEach(L8.replaceSlot);if(X.length>0){let K={"":this};Array.from(this.querySelectorAll("xin-slot")).forEach(($)=>{K[$.name]=$}),X.forEach(($)=>{let U=K[""],j=$ instanceof Element?K[$.slot]:U;(j!==void 0?j:U).append($)})}}this._hydrated=!0}}render(){}}class L8 extends k{name="";content=null;static replaceSlot(J){let Z=document.createElement("xin-slot");if(J.name!=="")Z.setAttribute("name",J.name);J.replaceWith(Z)}constructor(){super();this.initAttributes("name")}}var $B=L8.elementCreator({tag:"xin-slot"}),S_=(J=()=>!0)=>{let Z=localStorage.getItem("xin-state");if(Z!=null){let q=JSON.parse(Z);for(let X of Object.keys(q).filter(J))if(x0[X]!==void 0)Object.assign(x0[X],q[X]);else x0[X]=q[X]}let Y=w7(()=>{let q={},X=Q1(x0);for(let Q of Object.keys(X).filter(J))q[Q]=X[Q];localStorage.setItem("xin-state",JSON.stringify(q)),console.log("xin state saved to localStorage")},500);q3(J,Y)},ZX="1.0.10";function E5(J){return Object.assign(k7,J),k7}function B8(J){return console.warn("boxedProxy is deprecated, please use tosi() instead"),E5(J)}function YX(J,Z=!1){if(Z)return console.warn("xinProxy(..., true) is deprecated; use tosi(...) instead"),B8(J);return Object.keys(J).forEach((Y)=>{x0[Y]=J[Y]}),x0}var k_={};async function P8(J,Z){let{type:Y,styleSpec:q}=await Z(J,{Color:r,Component:k,elements:y,svgElements:x7,mathML:JX,varDefault:B,vars:F,xin:x0,boxed:k7,xinProxy:YX,boxedProxy:B8,tosi:E5,makeComponent:P8,bind:m1,on:eJ,version:ZX}),X={type:Y,creator:Y.elementCreator({tag:J,styleSpec:q})};return k_[J]=X,X}var W8={},w_=(J)=>import(J);class h7 extends k{tag="anon-elt";src="";property="default";loaded;blueprintLoaded=(J)=>{};async packaged(){let{tag:J,src:Z,property:Y}=this,q=`${J}.${Y}:${Z}`;if(!this.loaded){if(W8[q]===void 0)W8[q]=w_(Z).then((X)=>{let Q=X[Y];return P8(J,Q)});else console.log(`using cached ${J} with signature ${q}`);this.loaded=await W8[q],this.blueprintLoaded(this.loaded)}return this.loaded}constructor(){super();this.initAttributes("tag","src","property")}}var x_=h7.elementCreator({tag:"xin-blueprint",styleSpec:{":host":{display:"none"}}});class E8 extends k{allLoaded=()=>{};constructor(){super()}async load(){let J=Array.from(this.querySelectorAll(h7.tagName)).filter((Z)=>Z.src).map((Z)=>Z.packaged());await Promise.all(J),this.allLoaded()}connectedCallback(){super.connectedCallback(),this.load()}}var h_=E8.elementCreator({tag:"xin-loader",styleSpec:{":host":{display:"none"}}});var J9={};E7(J9,{xrControllersText:()=>dH,xrControllers:()=>pH,xinTagList:()=>PN,xinTag:()=>QQ,xinSizer:()=>IN,xinSelect:()=>DJ,xinSegmented:()=>VN,xinRating:()=>WN,xinPasswordStrength:()=>UN,xinNotification:()=>eX,xinMenu:()=>zH,xinLocalized:()=>o7,xinForm:()=>fH,xinFloat:()=>d8,xinField:()=>gH,xinCarousel:()=>e_,version:()=>EN,updateLocalized:()=>t8,trackDrag:()=>l5,tosijs:()=>J4,tosiMonth:()=>qN,tosiDialog:()=>s7,tabSelector:()=>oX,svgIcon:()=>a_,svg2DataUrl:()=>yX,styleSheet:()=>TX,spacer:()=>K4,sizeBreak:()=>F2,sideNav:()=>R2,setLocale:()=>QH,scriptTag:()=>VJ,richTextWidgets:()=>XQ,richText:()=>NN,removeLastMenu:()=>LJ,postNotification:()=>KN,positionFloat:()=>hX,popMenu:()=>U5,popFloat:()=>xX,menu:()=>pX,markdownViewer:()=>j2,mapBox:()=>JN,makeSorter:()=>vX,localize:()=>v0,localePicker:()=>UH,liveExample:()=>U2,isBreached:()=>ZQ,initLocalization:()=>$H,icons:()=>h,i18n:()=>k0,gamepadText:()=>lH,gamepadState:()=>rX,findHighestZ:()=>r7,filterPart:()=>a7,filterBuilder:()=>wH,elastic:()=>ON,editableRect:()=>TH,dragAndDrop:()=>cX,digest:()=>JQ,defineIcons:()=>s_,dataTable:()=>VH,createSubMenu:()=>fX,createMenuItem:()=>lX,createMenuAction:()=>gX,commandButton:()=>p1,colorInput:()=>wX,codeEditor:()=>n7,bringToFront:()=>W3,bodymovinPlayer:()=>o_,blockStyle:()=>_2,b3d:()=>r_,availableFilters:()=>X2,abTest:()=>i_,XinTagList:()=>V2,XinTag:()=>e7,XinSizer:()=>M2,XinSelect:()=>G3,XinSegmented:()=>N2,XinRating:()=>O2,XinPasswordStrength:()=>z2,XinNotification:()=>IJ,XinMenu:()=>Z2,XinLocalized:()=>$5,XinForm:()=>j3,XinFloat:()=>p5,XinField:()=>t7,XinCarousel:()=>o8,TosiMonth:()=>G2,TosiDialog:()=>q2,TabSelector:()=>$2,SvgIcon:()=>a8,SizeBreak:()=>A2,SideNav:()=>U4,RichText:()=>H2,MarkdownViewer:()=>W2,MapBox:()=>MJ,LocalePicker:()=>e8,LiveExample:()=>$4,FilterPart:()=>Q2,FilterBuilder:()=>K2,EditableRect:()=>f1,DataTable:()=>Y2,CodeEditor:()=>Q4,BodymovinPlayer:()=>X4,B3d:()=>r8,AbTest:()=>q4});function C8(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var NJ=C8();function $X(J){NJ=J}var UX=/[&<>"']/,v_=new RegExp(UX.source,"g"),WX=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,u_=new RegExp(WX.source,"g"),m_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},qX=(J)=>m_[J];function H1(J,Z){if(Z){if(UX.test(J))return J.replace(v_,qX)}else if(WX.test(J))return J.replace(u_,qX);return J}var g_=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function f_(J){return J.replace(g_,(Z,Y)=>{if(Y=Y.toLowerCase(),Y==="colon")return":";if(Y.charAt(0)==="#")return Y.charAt(1)==="x"?String.fromCharCode(parseInt(Y.substring(2),16)):String.fromCharCode(+Y.substring(1));return""})}var l_=/(^|[^\[])\^/g;function U0(J,Z){J=typeof J==="string"?J:J.source,Z=Z||"";let Y={replace:(q,X)=>{return X=typeof X==="object"&&"source"in X?X.source:X,X=X.replace(l_,"$1"),J=J.replace(q,X),Y},getRegex:()=>{return new RegExp(J,Z)}};return Y}function XX(J){try{J=encodeURI(J).replace(/%25/g,"%")}catch(Z){return null}return J}var u7={exec:()=>null};function QX(J,Z){let Y=J.replace(/\|/g,(Q,K,$)=>{let U=!1,j=K;while(--j>=0&&$[j]==="\\")U=!U;if(U)return"|";else return" |"}),q=Y.split(/ \|/),X=0;if(!q[0].trim())q.shift();if(q.length>0&&!q[q.length-1].trim())q.pop();if(Z)if(q.length>Z)q.splice(Z);else while(q.length<Z)q.push("");for(;X<q.length;X++)q[X]=q[X].trim().replace(/\\\|/g,"|");return q}function v7(J,Z,Y){let q=J.length;if(q===0)return"";let X=0;while(X<q){let Q=J.charAt(q-X-1);if(Q===Z&&!Y)X++;else if(Q!==Z&&Y)X++;else break}return J.slice(0,q-X)}function p_(J,Z){if(J.indexOf(Z[1])===-1)return-1;let Y=0;for(let q=0;q<J.length;q++)if(J[q]==="\\")q++;else if(J[q]===Z[0])Y++;else if(J[q]===Z[1]){if(Y--,Y<0)return q}return-1}function KX(J,Z,Y,q){let X=Z.href,Q=Z.title?H1(Z.title):null,K=J[1].replace(/\\([\[\]])/g,"$1");if(J[0].charAt(0)!=="!"){q.state.inLink=!0;let $={type:"link",raw:Y,href:X,title:Q,text:K,tokens:q.inlineTokens(K)};return q.state.inLink=!1,$}return{type:"image",raw:Y,href:X,title:Q,text:H1(K)}}function d_(J,Z){let Y=J.match(/^(\s+)(?:```)/);if(Y===null)return Z;let q=Y[1];return Z.split(`
`).map((X)=>{let Q=X.match(/^\s+/);if(Q===null)return X;let[K]=Q;if(K.length>=q.length)return X.slice(q.length);return X}).join(`
`)}class Q3{options;rules;lexer;constructor(J){this.options=J||NJ}space(J){let Z=this.rules.block.newline.exec(J);if(Z&&Z[0].length>0)return{type:"space",raw:Z[0]}}code(J){let Z=this.rules.block.code.exec(J);if(Z){let Y=Z[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:Z[0],codeBlockStyle:"indented",text:!this.options.pedantic?v7(Y,`
`):Y}}}fences(J){let Z=this.rules.block.fences.exec(J);if(Z){let Y=Z[0],q=d_(Y,Z[3]||"");return{type:"code",raw:Y,lang:Z[2]?Z[2].trim().replace(this.rules.inline._escapes,"$1"):Z[2],text:q}}}heading(J){let Z=this.rules.block.heading.exec(J);if(Z){let Y=Z[2].trim();if(/#$/.test(Y)){let q=v7(Y,"#");if(this.options.pedantic)Y=q.trim();else if(!q||/ $/.test(q))Y=q.trim()}return{type:"heading",raw:Z[0],depth:Z[1].length,text:Y,tokens:this.lexer.inline(Y)}}}hr(J){let Z=this.rules.block.hr.exec(J);if(Z)return{type:"hr",raw:Z[0]}}blockquote(J){let Z=this.rules.block.blockquote.exec(J);if(Z){let Y=v7(Z[0].replace(/^ *>[ \t]?/gm,""),`
`),q=this.lexer.state.top;this.lexer.state.top=!0;let X=this.lexer.blockTokens(Y);return this.lexer.state.top=q,{type:"blockquote",raw:Z[0],tokens:X,text:Y}}}list(J){let Z=this.rules.block.list.exec(J);if(Z){let Y=Z[1].trim(),q=Y.length>1,X={type:"list",raw:"",ordered:q,start:q?+Y.slice(0,-1):"",loose:!1,items:[]};if(Y=q?`\\d{1,9}\\${Y.slice(-1)}`:`\\${Y}`,this.options.pedantic)Y=q?Y:"[*+-]";let Q=new RegExp(`^( {0,3}${Y})((?:[	 ][^\\n]*)?(?:\\n|$))`),K="",$="",U=!1;while(J){let j=!1;if(!(Z=Q.exec(J)))break;if(this.rules.block.hr.test(J))break;K=Z[0],J=J.substring(K.length);let W=Z[2].split(`
`,1)[0].replace(/^\t+/,(A)=>" ".repeat(3*A.length)),G=J.split(`
`,1)[0],z=0;if(this.options.pedantic)z=2,$=W.trimStart();else z=Z[2].search(/[^ ]/),z=z>4?1:z,$=W.slice(z),z+=Z[1].length;let O=!1;if(!W&&/^ *$/.test(G))K+=G+`
`,J=J.substring(G.length+1),j=!0;if(!j){let A=new RegExp(`^ {0,${Math.min(3,z-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),M=new RegExp(`^ {0,${Math.min(3,z-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),V=new RegExp(`^ {0,${Math.min(3,z-1)}}(?:\`\`\`|~~~)`),D=new RegExp(`^ {0,${Math.min(3,z-1)}}#`);while(J){let P=J.split(`
`,1)[0];if(G=P,this.options.pedantic)G=G.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ");if(V.test(G))break;if(D.test(G))break;if(A.test(G))break;if(M.test(J))break;if(G.search(/[^ ]/)>=z||!G.trim())$+=`
`+G.slice(z);else{if(O)break;if(W.search(/[^ ]/)>=4)break;if(V.test(W))break;if(D.test(W))break;if(M.test(W))break;$+=`
`+G}if(!O&&!G.trim())O=!0;K+=P+`
`,J=J.substring(P.length+1),W=G.slice(z)}}if(!X.loose){if(U)X.loose=!0;else if(/\n *\n *$/.test(K))U=!0}let _=null,N;if(this.options.gfm){if(_=/^\[[ xX]\] /.exec($),_)N=_[0]!=="[ ] ",$=$.replace(/^\[[ xX]\] +/,"")}X.items.push({type:"list_item",raw:K,task:!!_,checked:N,loose:!1,text:$,tokens:[]}),X.raw+=K}X.items[X.items.length-1].raw=K.trimEnd(),X.items[X.items.length-1].text=$.trimEnd(),X.raw=X.raw.trimEnd();for(let j=0;j<X.items.length;j++)if(this.lexer.state.top=!1,X.items[j].tokens=this.lexer.blockTokens(X.items[j].text,[]),!X.loose){let W=X.items[j].tokens.filter((z)=>z.type==="space"),G=W.length>0&&W.some((z)=>/\n.*\n/.test(z.raw));X.loose=G}if(X.loose)for(let j=0;j<X.items.length;j++)X.items[j].loose=!0;return X}}html(J){let Z=this.rules.block.html.exec(J);if(Z)return{type:"html",block:!0,raw:Z[0],pre:Z[1]==="pre"||Z[1]==="script"||Z[1]==="style",text:Z[0]}}def(J){let Z=this.rules.block.def.exec(J);if(Z){let Y=Z[1].toLowerCase().replace(/\s+/g," "),q=Z[2]?Z[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",X=Z[3]?Z[3].substring(1,Z[3].length-1).replace(this.rules.inline._escapes,"$1"):Z[3];return{type:"def",tag:Y,raw:Z[0],href:q,title:X}}}table(J){let Z=this.rules.block.table.exec(J);if(Z){if(!/[:|]/.test(Z[2]))return;let Y={type:"table",raw:Z[0],header:QX(Z[1]).map((q)=>{return{text:q,tokens:[]}}),align:Z[2].replace(/^\||\| *$/g,"").split("|"),rows:Z[3]&&Z[3].trim()?Z[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(Y.header.length===Y.align.length){let q=Y.align.length,X,Q,K,$;for(X=0;X<q;X++){let U=Y.align[X];if(U)if(/^ *-+: *$/.test(U))Y.align[X]="right";else if(/^ *:-+: *$/.test(U))Y.align[X]="center";else if(/^ *:-+ *$/.test(U))Y.align[X]="left";else Y.align[X]=null}q=Y.rows.length;for(X=0;X<q;X++)Y.rows[X]=QX(Y.rows[X],Y.header.length).map((U)=>{return{text:U,tokens:[]}});q=Y.header.length;for(Q=0;Q<q;Q++)Y.header[Q].tokens=this.lexer.inline(Y.header[Q].text);q=Y.rows.length;for(Q=0;Q<q;Q++){$=Y.rows[Q];for(K=0;K<$.length;K++)$[K].tokens=this.lexer.inline($[K].text)}return Y}}}lheading(J){let Z=this.rules.block.lheading.exec(J);if(Z)return{type:"heading",raw:Z[0],depth:Z[2].charAt(0)==="="?1:2,text:Z[1],tokens:this.lexer.inline(Z[1])}}paragraph(J){let Z=this.rules.block.paragraph.exec(J);if(Z){let Y=Z[1].charAt(Z[1].length-1)===`
`?Z[1].slice(0,-1):Z[1];return{type:"paragraph",raw:Z[0],text:Y,tokens:this.lexer.inline(Y)}}}text(J){let Z=this.rules.block.text.exec(J);if(Z)return{type:"text",raw:Z[0],text:Z[0],tokens:this.lexer.inline(Z[0])}}escape(J){let Z=this.rules.inline.escape.exec(J);if(Z)return{type:"escape",raw:Z[0],text:H1(Z[1])}}tag(J){let Z=this.rules.inline.tag.exec(J);if(Z){if(!this.lexer.state.inLink&&/^<a /i.test(Z[0]))this.lexer.state.inLink=!0;else if(this.lexer.state.inLink&&/^<\/a>/i.test(Z[0]))this.lexer.state.inLink=!1;if(!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(Z[0]))this.lexer.state.inRawBlock=!0;else if(this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(Z[0]))this.lexer.state.inRawBlock=!1;return{type:"html",raw:Z[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:Z[0]}}}link(J){let Z=this.rules.inline.link.exec(J);if(Z){let Y=Z[2].trim();if(!this.options.pedantic&&/^</.test(Y)){if(!/>$/.test(Y))return;let Q=v7(Y.slice(0,-1),"\\");if((Y.length-Q.length)%2===0)return}else{let Q=p_(Z[2],"()");if(Q>-1){let $=(Z[0].indexOf("!")===0?5:4)+Z[1].length+Q;Z[2]=Z[2].substring(0,Q),Z[0]=Z[0].substring(0,$).trim(),Z[3]=""}}let q=Z[2],X="";if(this.options.pedantic){let Q=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(q);if(Q)q=Q[1],X=Q[3]}else X=Z[3]?Z[3].slice(1,-1):"";if(q=q.trim(),/^</.test(q))if(this.options.pedantic&&!/>$/.test(Y))q=q.slice(1);else q=q.slice(1,-1);return KX(Z,{href:q?q.replace(this.rules.inline._escapes,"$1"):q,title:X?X.replace(this.rules.inline._escapes,"$1"):X},Z[0],this.lexer)}}reflink(J,Z){let Y;if((Y=this.rules.inline.reflink.exec(J))||(Y=this.rules.inline.nolink.exec(J))){let q=(Y[2]||Y[1]).replace(/\s+/g," ");if(q=Z[q.toLowerCase()],!q){let X=Y[0].charAt(0);return{type:"text",raw:X,text:X}}return KX(Y,q,Y[0],this.lexer)}}emStrong(J,Z,Y=""){let q=this.rules.inline.emStrong.lDelim.exec(J);if(!q)return;if(q[3]&&Y.match(/[\p{L}\p{N}]/u))return;if(!(q[1]||q[2])||!Y||this.rules.inline.punctuation.exec(Y)){let Q=[...q[0]].length-1,K,$,U=Q,j=0,W=q[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;W.lastIndex=0,Z=Z.slice(-1*J.length+Q);while((q=W.exec(Z))!=null){if(K=q[1]||q[2]||q[3]||q[4]||q[5]||q[6],!K)continue;if($=[...K].length,q[3]||q[4]){U+=$;continue}else if(q[5]||q[6]){if(Q%3&&!((Q+$)%3)){j+=$;continue}}if(U-=$,U>0)continue;$=Math.min($,$+U+j);let G=[...q[0]][0].length,z=J.slice(0,Q+q.index+G+$);if(Math.min(Q,$)%2){let _=z.slice(1,-1);return{type:"em",raw:z,text:_,tokens:this.lexer.inlineTokens(_)}}let O=z.slice(2,-2);return{type:"strong",raw:z,text:O,tokens:this.lexer.inlineTokens(O)}}}}codespan(J){let Z=this.rules.inline.code.exec(J);if(Z){let Y=Z[2].replace(/\n/g," "),q=/[^ ]/.test(Y),X=/^ /.test(Y)&&/ $/.test(Y);if(q&&X)Y=Y.substring(1,Y.length-1);return Y=H1(Y,!0),{type:"codespan",raw:Z[0],text:Y}}}br(J){let Z=this.rules.inline.br.exec(J);if(Z)return{type:"br",raw:Z[0]}}del(J){let Z=this.rules.inline.del.exec(J);if(Z)return{type:"del",raw:Z[0],text:Z[2],tokens:this.lexer.inlineTokens(Z[2])}}autolink(J){let Z=this.rules.inline.autolink.exec(J);if(Z){let Y,q;if(Z[2]==="@")Y=H1(Z[1]),q="mailto:"+Y;else Y=H1(Z[1]),q=Y;return{type:"link",raw:Z[0],text:Y,href:q,tokens:[{type:"text",raw:Y,text:Y}]}}}url(J){let Z;if(Z=this.rules.inline.url.exec(J)){let Y,q;if(Z[2]==="@")Y=H1(Z[0]),q="mailto:"+Y;else{let X;do X=Z[0],Z[0]=this.rules.inline._backpedal.exec(Z[0])[0];while(X!==Z[0]);if(Y=H1(Z[0]),Z[1]==="www.")q="http://"+Z[0];else q=Z[0]}return{type:"link",raw:Z[0],text:Y,href:q,tokens:[{type:"text",raw:Y,text:Y}]}}}inlineText(J){let Z=this.rules.inline.text.exec(J);if(Z){let Y;if(this.lexer.state.inRawBlock)Y=Z[0];else Y=H1(Z[0]);return{type:"text",raw:Z[0],text:Y}}}}var l={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:u7,lheading:/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};l._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;l._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;l.def=U0(l.def).replace("label",l._label).replace("title",l._title).getRegex();l.bullet=/(?:[*+-]|\d{1,9}[.)])/;l.listItemStart=U0(/^( *)(bull) */).replace("bull",l.bullet).getRegex();l.list=U0(l.list).replace(/bull/g,l.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+l.def.source+")").getRegex();l._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";l._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;l.html=U0(l.html,"i").replace("comment",l._comment).replace("tag",l._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();l.lheading=U0(l.lheading).replace(/bull/g,l.bullet).getRegex();l.paragraph=U0(l._paragraph).replace("hr",l.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",l._tag).getRegex();l.blockquote=U0(l.blockquote).replace("paragraph",l.paragraph).getRegex();l.normal={...l};l.gfm={...l.normal,table:"^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};l.gfm.table=U0(l.gfm.table).replace("hr",l.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",l._tag).getRegex();l.gfm.paragraph=U0(l._paragraph).replace("hr",l.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",l.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",l._tag).getRegex();l.pedantic={...l.normal,html:U0(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",l._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:u7,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:U0(l.normal._paragraph).replace("hr",l.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",l.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};var w={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:u7,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:u7,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};w._punctuation="\\p{P}$+<=>`^|~";w.punctuation=U0(w.punctuation,"u").replace(/punctuation/g,w._punctuation).getRegex();w.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g;w.anyPunctuation=/\\[punct]/g;w._escapes=/\\([punct])/g;w._comment=U0(l._comment).replace("(?:-->|$)","-->").getRegex();w.emStrong.lDelim=U0(w.emStrong.lDelim,"u").replace(/punct/g,w._punctuation).getRegex();w.emStrong.rDelimAst=U0(w.emStrong.rDelimAst,"gu").replace(/punct/g,w._punctuation).getRegex();w.emStrong.rDelimUnd=U0(w.emStrong.rDelimUnd,"gu").replace(/punct/g,w._punctuation).getRegex();w.anyPunctuation=U0(w.anyPunctuation,"gu").replace(/punct/g,w._punctuation).getRegex();w._escapes=U0(w._escapes,"gu").replace(/punct/g,w._punctuation).getRegex();w._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;w._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;w.autolink=U0(w.autolink).replace("scheme",w._scheme).replace("email",w._email).getRegex();w._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;w.tag=U0(w.tag).replace("comment",w._comment).replace("attribute",w._attribute).getRegex();w._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;w._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;w._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;w.link=U0(w.link).replace("label",w._label).replace("href",w._href).replace("title",w._title).getRegex();w.reflink=U0(w.reflink).replace("label",w._label).replace("ref",l._label).getRegex();w.nolink=U0(w.nolink).replace("ref",l._label).getRegex();w.reflinkSearch=U0(w.reflinkSearch,"g").replace("reflink",w.reflink).replace("nolink",w.nolink).getRegex();w.normal={...w};w.pedantic={...w.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:U0(/^!?\[(label)\]\((.*?)\)/).replace("label",w._label).getRegex(),reflink:U0(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",w._label).getRegex()};w.gfm={...w.normal,escape:U0(w.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};w.gfm.url=U0(w.gfm.url,"i").replace("email",w.gfm._extended_email).getRegex();w.breaks={...w.gfm,br:U0(w.br).replace("{2,}","*").getRegex(),text:U0(w.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class Q5{tokens;options;state;tokenizer;inlineQueue;constructor(J){this.tokens=[],this.tokens.links=Object.create(null),this.options=J||NJ,this.options.tokenizer=this.options.tokenizer||new Q3,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let Z={block:l.normal,inline:w.normal};if(this.options.pedantic)Z.block=l.pedantic,Z.inline=w.pedantic;else if(this.options.gfm)if(Z.block=l.gfm,this.options.breaks)Z.inline=w.breaks;else Z.inline=w.gfm;this.tokenizer.rules=Z}static get rules(){return{block:l,inline:w}}static lex(J,Z){return new Q5(Z).lex(J)}static lexInline(J,Z){return new Q5(Z).inlineTokens(J)}lex(J){J=J.replace(/\r\n|\r/g,`
`),this.blockTokens(J,this.tokens);let Z;while(Z=this.inlineQueue.shift())this.inlineTokens(Z.src,Z.tokens);return this.tokens}blockTokens(J,Z=[]){if(this.options.pedantic)J=J.replace(/\t/g,"    ").replace(/^ +$/gm,"");else J=J.replace(/^( *)(\t+)/gm,(K,$,U)=>{return $+"    ".repeat(U.length)});let Y,q,X,Q;while(J){if(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((K)=>{if(Y=K.call({lexer:this},J,Z))return J=J.substring(Y.raw.length),Z.push(Y),!0;return!1}))continue;if(Y=this.tokenizer.space(J)){if(J=J.substring(Y.raw.length),Y.raw.length===1&&Z.length>0)Z[Z.length-1].raw+=`
`;else Z.push(Y);continue}if(Y=this.tokenizer.code(J)){if(J=J.substring(Y.raw.length),q=Z[Z.length-1],q&&(q.type==="paragraph"||q.type==="text"))q.raw+=`
`+Y.raw,q.text+=`
`+Y.text,this.inlineQueue[this.inlineQueue.length-1].src=q.text;else Z.push(Y);continue}if(Y=this.tokenizer.fences(J)){J=J.substring(Y.raw.length),Z.push(Y);continue}if(Y=this.tokenizer.heading(J)){J=J.substring(Y.raw.length),Z.push(Y);continue}if(Y=this.tokenizer.hr(J)){J=J.substring(Y.raw.length),Z.push(Y);continue}if(Y=this.tokenizer.blockquote(J)){J=J.substring(Y.raw.length),Z.push(Y);continue}if(Y=this.tokenizer.list(J)){J=J.substring(Y.raw.length),Z.push(Y);continue}if(Y=this.tokenizer.html(J)){J=J.substring(Y.raw.length),Z.push(Y);continue}if(Y=this.tokenizer.def(J)){if(J=J.substring(Y.raw.length),q=Z[Z.length-1],q&&(q.type==="paragraph"||q.type==="text"))q.raw+=`
`+Y.raw,q.text+=`
`+Y.raw,this.inlineQueue[this.inlineQueue.length-1].src=q.text;else if(!this.tokens.links[Y.tag])this.tokens.links[Y.tag]={href:Y.href,title:Y.title};continue}if(Y=this.tokenizer.table(J)){J=J.substring(Y.raw.length),Z.push(Y);continue}if(Y=this.tokenizer.lheading(J)){J=J.substring(Y.raw.length),Z.push(Y);continue}if(X=J,this.options.extensions&&this.options.extensions.startBlock){let K=1/0,$=J.slice(1),U;if(this.options.extensions.startBlock.forEach((j)=>{if(U=j.call({lexer:this},$),typeof U==="number"&&U>=0)K=Math.min(K,U)}),K<1/0&&K>=0)X=J.substring(0,K+1)}if(this.state.top&&(Y=this.tokenizer.paragraph(X))){if(q=Z[Z.length-1],Q&&q.type==="paragraph")q.raw+=`
`+Y.raw,q.text+=`
`+Y.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=q.text;else Z.push(Y);Q=X.length!==J.length,J=J.substring(Y.raw.length);continue}if(Y=this.tokenizer.text(J)){if(J=J.substring(Y.raw.length),q=Z[Z.length-1],q&&q.type==="text")q.raw+=`
`+Y.raw,q.text+=`
`+Y.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=q.text;else Z.push(Y);continue}if(J){let K="Infinite loop on byte: "+J.charCodeAt(0);if(this.options.silent){console.error(K);break}else throw Error(K)}}return this.state.top=!0,Z}inline(J,Z=[]){return this.inlineQueue.push({src:J,tokens:Z}),Z}inlineTokens(J,Z=[]){let Y,q,X,Q=J,K,$,U;if(this.tokens.links){let j=Object.keys(this.tokens.links);if(j.length>0){while((K=this.tokenizer.rules.inline.reflinkSearch.exec(Q))!=null)if(j.includes(K[0].slice(K[0].lastIndexOf("[")+1,-1)))Q=Q.slice(0,K.index)+"["+"a".repeat(K[0].length-2)+"]"+Q.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex)}}while((K=this.tokenizer.rules.inline.blockSkip.exec(Q))!=null)Q=Q.slice(0,K.index)+"["+"a".repeat(K[0].length-2)+"]"+Q.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);while((K=this.tokenizer.rules.inline.anyPunctuation.exec(Q))!=null)Q=Q.slice(0,K.index)+"++"+Q.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);while(J){if(!$)U="";if($=!1,this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((j)=>{if(Y=j.call({lexer:this},J,Z))return J=J.substring(Y.raw.length),Z.push(Y),!0;return!1}))continue;if(Y=this.tokenizer.escape(J)){J=J.substring(Y.raw.length),Z.push(Y);continue}if(Y=this.tokenizer.tag(J)){if(J=J.substring(Y.raw.length),q=Z[Z.length-1],q&&Y.type==="text"&&q.type==="text")q.raw+=Y.raw,q.text+=Y.text;else Z.push(Y);continue}if(Y=this.tokenizer.link(J)){J=J.substring(Y.raw.length),Z.push(Y);continue}if(Y=this.tokenizer.reflink(J,this.tokens.links)){if(J=J.substring(Y.raw.length),q=Z[Z.length-1],q&&Y.type==="text"&&q.type==="text")q.raw+=Y.raw,q.text+=Y.text;else Z.push(Y);continue}if(Y=this.tokenizer.emStrong(J,Q,U)){J=J.substring(Y.raw.length),Z.push(Y);continue}if(Y=this.tokenizer.codespan(J)){J=J.substring(Y.raw.length),Z.push(Y);continue}if(Y=this.tokenizer.br(J)){J=J.substring(Y.raw.length),Z.push(Y);continue}if(Y=this.tokenizer.del(J)){J=J.substring(Y.raw.length),Z.push(Y);continue}if(Y=this.tokenizer.autolink(J)){J=J.substring(Y.raw.length),Z.push(Y);continue}if(!this.state.inLink&&(Y=this.tokenizer.url(J))){J=J.substring(Y.raw.length),Z.push(Y);continue}if(X=J,this.options.extensions&&this.options.extensions.startInline){let j=1/0,W=J.slice(1),G;if(this.options.extensions.startInline.forEach((z)=>{if(G=z.call({lexer:this},W),typeof G==="number"&&G>=0)j=Math.min(j,G)}),j<1/0&&j>=0)X=J.substring(0,j+1)}if(Y=this.tokenizer.inlineText(X)){if(J=J.substring(Y.raw.length),Y.raw.slice(-1)!=="_")U=Y.raw.slice(-1);if($=!0,q=Z[Z.length-1],q&&q.type==="text")q.raw+=Y.raw,q.text+=Y.text;else Z.push(Y);continue}if(J){let j="Infinite loop on byte: "+J.charCodeAt(0);if(this.options.silent){console.error(j);break}else throw Error(j)}}return Z}}class K3{options;constructor(J){this.options=J||NJ}code(J,Z,Y){let q=(Z||"").match(/^\S*/)?.[0];if(J=J.replace(/\n$/,"")+`
`,!q)return"<pre><code>"+(Y?J:H1(J,!0))+`</code></pre>
`;return'<pre><code class="language-'+H1(q)+'">'+(Y?J:H1(J,!0))+`</code></pre>
`}blockquote(J){return`<blockquote>
${J}</blockquote>
`}html(J,Z){return J}heading(J,Z,Y){return`<h${Z}>${J}</h${Z}>
`}hr(){return`<hr>
`}list(J,Z,Y){let q=Z?"ol":"ul",X=Z&&Y!==1?' start="'+Y+'"':"";return"<"+q+X+`>
`+J+"</"+q+`>
`}listitem(J,Z,Y){return`<li>${J}</li>
`}checkbox(J){return"<input "+(J?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(J){return`<p>${J}</p>
`}table(J,Z){if(Z)Z=`<tbody>${Z}</tbody>`;return`<table>
<thead>
`+J+`</thead>
`+Z+`</table>
`}tablerow(J){return`<tr>
${J}</tr>
`}tablecell(J,Z){let Y=Z.header?"th":"td";return(Z.align?`<${Y} align="${Z.align}">`:`<${Y}>`)+J+`</${Y}>
`}strong(J){return`<strong>${J}</strong>`}em(J){return`<em>${J}</em>`}codespan(J){return`<code>${J}</code>`}br(){return"<br>"}del(J){return`<del>${J}</del>`}link(J,Z,Y){let q=XX(J);if(q===null)return Y;J=q;let X='<a href="'+J+'"';if(Z)X+=' title="'+Z+'"';return X+=">"+Y+"</a>",X}image(J,Z,Y){let q=XX(J);if(q===null)return Y;J=q;let X=`<img src="${J}" alt="${Y}"`;if(Z)X+=` title="${Z}"`;return X+=">",X}text(J){return J}}class m7{strong(J){return J}em(J){return J}codespan(J){return J}del(J){return J}html(J){return J}text(J){return J}link(J,Z,Y){return""+Y}image(J,Z,Y){return""+Y}br(){return""}}class K5{options;renderer;textRenderer;constructor(J){this.options=J||NJ,this.options.renderer=this.options.renderer||new K3,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new m7}static parse(J,Z){return new K5(Z).parse(J)}static parseInline(J,Z){return new K5(Z).parseInline(J)}parse(J,Z=!0){let Y="";for(let q=0;q<J.length;q++){let X=J[q];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[X.type]){let Q=X,K=this.options.extensions.renderers[Q.type].call({parser:this},Q);if(K!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Q.type)){Y+=K||"";continue}}switch(X.type){case"space":continue;case"hr":{Y+=this.renderer.hr();continue}case"heading":{let Q=X;Y+=this.renderer.heading(this.parseInline(Q.tokens),Q.depth,f_(this.parseInline(Q.tokens,this.textRenderer)));continue}case"code":{let Q=X;Y+=this.renderer.code(Q.text,Q.lang,!!Q.escaped);continue}case"table":{let Q=X,K="",$="";for(let j=0;j<Q.header.length;j++)$+=this.renderer.tablecell(this.parseInline(Q.header[j].tokens),{header:!0,align:Q.align[j]});K+=this.renderer.tablerow($);let U="";for(let j=0;j<Q.rows.length;j++){let W=Q.rows[j];$="";for(let G=0;G<W.length;G++)$+=this.renderer.tablecell(this.parseInline(W[G].tokens),{header:!1,align:Q.align[G]});U+=this.renderer.tablerow($)}Y+=this.renderer.table(K,U);continue}case"blockquote":{let Q=X,K=this.parse(Q.tokens);Y+=this.renderer.blockquote(K);continue}case"list":{let Q=X,K=Q.ordered,$=Q.start,U=Q.loose,j="";for(let W=0;W<Q.items.length;W++){let G=Q.items[W],z=G.checked,O=G.task,_="";if(G.task){let N=this.renderer.checkbox(!!z);if(U)if(G.tokens.length>0&&G.tokens[0].type==="paragraph"){if(G.tokens[0].text=N+" "+G.tokens[0].text,G.tokens[0].tokens&&G.tokens[0].tokens.length>0&&G.tokens[0].tokens[0].type==="text")G.tokens[0].tokens[0].text=N+" "+G.tokens[0].tokens[0].text}else G.tokens.unshift({type:"text",text:N+" "});else _+=N+" "}_+=this.parse(G.tokens,U),j+=this.renderer.listitem(_,O,!!z)}Y+=this.renderer.list(j,K,$);continue}case"html":{let Q=X;Y+=this.renderer.html(Q.text,Q.block);continue}case"paragraph":{let Q=X;Y+=this.renderer.paragraph(this.parseInline(Q.tokens));continue}case"text":{let Q=X,K=Q.tokens?this.parseInline(Q.tokens):Q.text;while(q+1<J.length&&J[q+1].type==="text")Q=J[++q],K+=`
`+(Q.tokens?this.parseInline(Q.tokens):Q.text);Y+=Z?this.renderer.paragraph(K):K;continue}default:{let Q='Token with "'+X.type+'" type was not found.';if(this.options.silent)return console.error(Q),"";else throw Error(Q)}}}return Y}parseInline(J,Z){Z=Z||this.renderer;let Y="";for(let q=0;q<J.length;q++){let X=J[q];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[X.type]){let Q=this.options.extensions.renderers[X.type].call({parser:this},X);if(Q!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(X.type)){Y+=Q||"";continue}}switch(X.type){case"escape":{let Q=X;Y+=Z.text(Q.text);break}case"html":{let Q=X;Y+=Z.html(Q.text);break}case"link":{let Q=X;Y+=Z.link(Q.href,Q.title,this.parseInline(Q.tokens,Z));break}case"image":{let Q=X;Y+=Z.image(Q.href,Q.title,Q.text);break}case"strong":{let Q=X;Y+=Z.strong(this.parseInline(Q.tokens,Z));break}case"em":{let Q=X;Y+=Z.em(this.parseInline(Q.tokens,Z));break}case"codespan":{let Q=X;Y+=Z.codespan(Q.text);break}case"br":{Y+=Z.br();break}case"del":{let Q=X;Y+=Z.del(this.parseInline(Q.tokens,Z));break}case"text":{let Q=X;Y+=Z.text(Q.text);break}default:{let Q='Token with "'+X.type+'" type was not found.';if(this.options.silent)return console.error(Q),"";else throw Error(Q)}}}return Y}}class X3{options;constructor(J){this.options=J||NJ}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(J){return J}postprocess(J){return J}}class jX{defaults=C8();options=this.setOptions;parse=this.#J(Q5.lex,K5.parse);parseInline=this.#J(Q5.lexInline,K5.parseInline);Parser=K5;Renderer=K3;TextRenderer=m7;Lexer=Q5;Tokenizer=Q3;Hooks=X3;constructor(...J){this.use(...J)}walkTokens(J,Z){let Y=[];for(let q of J)switch(Y=Y.concat(Z.call(this,q)),q.type){case"table":{let X=q;for(let Q of X.header)Y=Y.concat(this.walkTokens(Q.tokens,Z));for(let Q of X.rows)for(let K of Q)Y=Y.concat(this.walkTokens(K.tokens,Z));break}case"list":{let X=q;Y=Y.concat(this.walkTokens(X.items,Z));break}default:{let X=q;if(this.defaults.extensions?.childTokens?.[X.type])this.defaults.extensions.childTokens[X.type].forEach((Q)=>{Y=Y.concat(this.walkTokens(X[Q],Z))});else if(X.tokens)Y=Y.concat(this.walkTokens(X.tokens,Z))}}return Y}use(...J){let Z=this.defaults.extensions||{renderers:{},childTokens:{}};return J.forEach((Y)=>{let q={...Y};if(q.async=this.defaults.async||q.async||!1,Y.extensions)Y.extensions.forEach((X)=>{if(!X.name)throw Error("extension name required");if("renderer"in X){let Q=Z.renderers[X.name];if(Q)Z.renderers[X.name]=function(...K){let $=X.renderer.apply(this,K);if($===!1)$=Q.apply(this,K);return $};else Z.renderers[X.name]=X.renderer}if("tokenizer"in X){if(!X.level||X.level!=="block"&&X.level!=="inline")throw Error("extension level must be 'block' or 'inline'");let Q=Z[X.level];if(Q)Q.unshift(X.tokenizer);else Z[X.level]=[X.tokenizer];if(X.start){if(X.level==="block")if(Z.startBlock)Z.startBlock.push(X.start);else Z.startBlock=[X.start];else if(X.level==="inline")if(Z.startInline)Z.startInline.push(X.start);else Z.startInline=[X.start]}}if("childTokens"in X&&X.childTokens)Z.childTokens[X.name]=X.childTokens}),q.extensions=Z;if(Y.renderer){let X=this.defaults.renderer||new K3(this.defaults);for(let Q in Y.renderer){let K=Y.renderer[Q],$=Q,U=X[$];X[$]=(...j)=>{let W=K.apply(X,j);if(W===!1)W=U.apply(X,j);return W||""}}q.renderer=X}if(Y.tokenizer){let X=this.defaults.tokenizer||new Q3(this.defaults);for(let Q in Y.tokenizer){let K=Y.tokenizer[Q],$=Q,U=X[$];X[$]=(...j)=>{let W=K.apply(X,j);if(W===!1)W=U.apply(X,j);return W}}q.tokenizer=X}if(Y.hooks){let X=this.defaults.hooks||new X3;for(let Q in Y.hooks){let K=Y.hooks[Q],$=Q,U=X[$];if(X3.passThroughHooks.has(Q))X[$]=(j)=>{if(this.defaults.async)return Promise.resolve(K.call(X,j)).then((G)=>{return U.call(X,G)});let W=K.call(X,j);return U.call(X,W)};else X[$]=(...j)=>{let W=K.apply(X,j);if(W===!1)W=U.apply(X,j);return W}}q.hooks=X}if(Y.walkTokens){let X=this.defaults.walkTokens,Q=Y.walkTokens;q.walkTokens=function(K){let $=[];if($.push(Q.call(this,K)),X)$=$.concat(X.call(this,K));return $}}this.defaults={...this.defaults,...q}}),this}setOptions(J){return this.defaults={...this.defaults,...J},this}lexer(J,Z){return Q5.lex(J,Z??this.defaults)}parser(J,Z){return K5.parse(J,Z??this.defaults)}#J(J,Z){return(Y,q)=>{let X={...q},Q={...this.defaults,...X};if(this.defaults.async===!0&&X.async===!1){if(!Q.silent)console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored.");Q.async=!0}let K=this.#Z(!!Q.silent,!!Q.async);if(typeof Y>"u"||Y===null)return K(Error("marked(): input parameter is undefined or null"));if(typeof Y!=="string")return K(Error("marked(): input parameter is of type "+Object.prototype.toString.call(Y)+", string expected"));if(Q.hooks)Q.hooks.options=Q;if(Q.async)return Promise.resolve(Q.hooks?Q.hooks.preprocess(Y):Y).then(($)=>J($,Q)).then(($)=>Q.walkTokens?Promise.all(this.walkTokens($,Q.walkTokens)).then(()=>$):$).then(($)=>Z($,Q)).then(($)=>Q.hooks?Q.hooks.postprocess($):$).catch(K);try{if(Q.hooks)Y=Q.hooks.preprocess(Y);let $=J(Y,Q);if(Q.walkTokens)this.walkTokens($,Q.walkTokens);let U=Z($,Q);if(Q.hooks)U=Q.hooks.postprocess(U);return U}catch($){return K($)}}}#Z(J,Z){return(Y)=>{if(Y.message+=`
Please report this to https://github.com/markedjs/marked.`,J){let q="<p>An error occurred:</p><pre>"+H1(Y.message+"",!0)+"</pre>";if(Z)return Promise.resolve(q);return q}if(Z)return Promise.reject(Y);throw Y}}}var HJ=new jX;function K0(J,Z){return HJ.parse(J,Z)}K0.options=K0.setOptions=function(J){return HJ.setOptions(J),K0.defaults=HJ.defaults,$X(K0.defaults),K0};K0.getDefaults=C8;K0.defaults=NJ;K0.use=function(...J){return HJ.use(...J),K0.defaults=HJ.defaults,$X(K0.defaults),K0};K0.walkTokens=function(J,Z){return HJ.walkTokens(J,Z)};K0.parseInline=HJ.parseInline;K0.Parser=K5;K0.parser=K5.parse;K0.Renderer=K3;K0.TextRenderer=m7;K0.Lexer=Q5;K0.lexer=Q5.lex;K0.Tokenizer=Q3;K0.Hooks=X3;K0.parse=K0;var{options:UB,setOptions:WB,use:jB,walkTokens:GB,parseInline:zB}=K0;var OB=K5.parse,_B=Q5.lex;var c_=Object.defineProperty,n_=(J,Z)=>{for(var Y in Z)c_(J,Y,{get:Z[Y],enumerable:!0,configurable:!0,set:(q)=>Z[Y]=()=>q})},T8={};class q4 extends k{static set conditions(J){Object.assign(T8,J);for(let Z of[...q4.instances])Z.queueRender()}condition="";not=!1;static instances=new Set;constructor(){super();this.initAttributes("condition","not")}connectedCallback(){super.connectedCallback(),q4.instances.add(this)}disconnectedCallback(){super.disconnectedCallback(),q4.instances.delete(this)}render(){if(this.condition!==""&&(this.not?T8[this.condition]!==!0:T8[this.condition]===!0))this.toggleAttribute("hidden",!1);else this.toggleAttribute("hidden",!0)}}var i_=q4.elementCreator({tag:"xin-ab"}),g7={};function VJ(J,Z){if(g7[J]===void 0){if(Z!==void 0){let q=globalThis[Z];g7[J]=Promise.resolve({[Z]:q})}let Y=y.script({src:J});document.head.append(Y),g7[J]=new Promise((q)=>{Y.onload=()=>q(globalThis)})}return g7[J]}var y8={};function TX(J){if(y8[J]===void 0){let Z=y.link({rel:"stylesheet",type:"text/css",href:J});document.head.append(Z),y8[J]=new Promise((Y)=>{Z.onload=Y})}return y8[J]}var c7={earth:'<svg class="color" viewBox="0 0 48 48"><g><g><g><path style="fill:#a3d9ff;fill-rule:evenodd;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M7,13.46 C5.10,16.52,4,20.13,4,24 C4,31.81,8.47,38.57,15,41.87 C15,41.87,15,31,15,31 C15,31,9,29,9,29 C9,29,9,19,9,19 C9,19,7,15,7,15 C7,15,7,13.46,7,13.46 z"/><path style="fill:#a3d9ff;fill-rule:evenodd;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M18.40,4.79 C20.18,4.28,22.06,4,24,4 C27.57,4,30.92,4.93,33.82,6.57 C33.82,6.57,29,13,29,13 C29,13,31,19,31,19 C31,19,37,21,37,21 C37,21,39,29,39,29 C39,29,37.35,38.89,37.35,38.89 C33.81,42.07,29.13,44,24,44 C21.03,44,18.22,43.35,15.69,42.20 C15.69,42.20,27,29,27,29 C27,29,27,25,27,25 C27,25,21,23,21,23 C21,23,15,19,15,19 C15,19,11,19,11,19 C11,19,11,13,11,13 C11,13,13,11,13,11 C13,11,15,15,15,15 C15,15,17,15,17,15 C17,15,17,9,17,9 C17,9,18.40,4.79,18.40,4.79 z"/><path style="fill:#274e42;fill-rule:evenodd;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M18.40,4.79 C18.40,4.79,17,9,17,9 C17,9,17,15,17,15 C17,15,15,15,15,15 C15,15,13,11,13,11 C13,11,11,13,11,13 C11,13,11,19,11,19 C11,19,15,19,15,19 C15,19,21,23,21,23 C21,23,27,25,27,25 C27,25,27,29,27,29 C27,29,15.69,42.20,15.69,42.20 C15.46,42.09,15.23,41.98,15,41.87 C15,41.87,15,31,15,31 C15,31,9,29,9,29 C9,29,9,19,9,19 C9,19,7,15,7,15 C7,15,7,13.46,7,13.46 C9.57,9.32,13.62,6.19,18.40,4.79 z"/><path style="fill:#274e42;fill-rule:evenodd;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M33.82,6.57 C33.82,6.57,29,13,29,13 C29,13,31,19,31,19 C31,19,37,21,37,21 C37,21,39,29,39,29 C39,29,37.35,38.89,37.35,38.89 C41.43,35.23,44,29.91,44,24 C44,16.52,39.90,10.00,33.82,6.57 z"/></g></g></g></svg> ',blueprint:'<svg class="color" viewBox="0 0 24 24"><g><path style="fill:#9e9e9e;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M10.5,14.5 C10.5,14.5,7.5,15.5,7.5,17.5 C7.5,19.5,10.5,19.5,10.5,19.5"/><path style="fill:#9e9e9e;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M18.50,14.5 C18.50,14.5,21.50,15.5,21.50,17.5 C21.50,19.5,18.50,19.5,18.50,19.5"/><path style="fill:#ffffff;fill-rule:evenodd;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M7,5.09 C7,3.94,7.90,3,9,3 C9,3,20,3,20,3 C21.10,3,22,3.94,22,5.09 C22,5.09,22,12.41,22,12.41 C22,13.56,21.10,14.5,20,14.5 C20,14.5,9,14.5,9,14.5 C7.90,14.5,7,13.56,7,12.41 C7,12.41,7,5.09,7,5.09 z"/><path style="fill:#ffffff;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M14.5,5.5 C14.5,5.5,14.5,11.5,14.5,11.5"/><path style="fill:#ffffff;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M16.5,7.5 C16.5,7.5,16.5,8.5,16.5,8.5"/><path style="fill:#ffffff;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M12.5,7.5 C12.5,7.5,12.5,8.5,12.5,8.5"/><g/><path style="fill:none;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M18.5,21.5 C18.5,21.5,17.5,20.5,17.5,20.5 C17.5,20.5,16.5,21.5,16.5,21.5"/><path style="fill:none;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M12.5,21.5 C12.5,21.5,11.5,20.5,11.5,20.5 C11.5,20.5,10.5,21.5,10.5,21.5"/><path style="fill:#e4e4e4;fill-rule:evenodd;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M10.5,14.5 C10.5,14.5,18.5,14.5,18.5,14.5 C18.5,14.5,18.5,19.5,18.5,19.5 C18.5,19.5,10.5,19.5,10.5,19.5 C10.5,19.5,10.5,14.5,10.5,14.5 z"/><g><g><path style="fill:#5e78ca;fill-rule:nonzero;stroke:#f2f2f2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M14,16.5 C14,16.5,16,16.5,16,16.5 C16,16.5,14.53,19.5,14.53,19.5"/><path style="fill:#5e78ca;fill-rule:evenodd;stroke:none;" d="M3.59,8.5 C3.59,8.5,12.59,8.5,12.59,8.5 C12.59,8.5,14.53,19.5,14.53,19.5 C14.53,19.5,5.53,19.5,5.53,19.5 C5.53,19.5,3.59,8.5,3.59,8.5 z"/><path style="fill:#5e78ca;fill-rule:nonzero;stroke:#f2f2f2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M12.59,8.5 C12.59,8.5,11.12,11.5,11.12,11.5 C11.12,11.5,2.12,11.5,2.12,11.5 C2.12,11.5,3.59,8.5,3.59,8.5"/><path style="fill:#5e78ca;fill-rule:nonzero;stroke:#f2f2f2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M12.59,8.5 C12.59,8.5,14.53,19.5,14.53,19.5"/><path style="fill:#5e78ca;fill-rule:nonzero;stroke:#f2f2f2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M4.12,11.5 C4.12,11.5,5.53,19.5,5.53,19.5"/></g><path style="fill:#9e9e9e;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M9.24,12.5 C10.75,12.5,12.20,13.73,12.46,15.24 C12.46,15.24,12.46,15.24,12.46,15.24 C12.68,16.49,11.85,17.5,10.60,17.5 C10.60,17.5,10.55,17.5,10.55,17.5 C10.17,17.5,9.92,17.81,9.98,18.19 C9.98,18.19,9.98,18.19,9.98,18.19 C10.21,19.47,9.36,20.5,8.08,20.5 C8.08,20.5,6.39,20.5,6.39,20.5 C5.10,20.5,3.87,19.45,3.64,18.16 C3.64,18.16,3.12,15.21,3.12,15.21 C2.86,13.71,3.86,12.5,5.35,12.5 C5.35,12.5,9.24,12.5,9.24,12.5 z"/></g></g></svg> ',tosiXr:'<svg class="color" viewBox="0 0 24 24"><g><path style="fill:#9e9e9e;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M8.00,14.25 C8.00,14.25,5.00,15.25,5.00,17.25 C5.00,19.25,8.00,19.25,8.00,19.25"/><path style="fill:#9e9e9e;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M16.00,14.25 C16.00,14.25,19.00,15.25,19.00,17.25 C19.00,19.25,16.00,19.25,16.00,19.25"/><path style="fill:#ffffff;fill-rule:evenodd;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M4.50,4.85 C4.50,3.69,5.40,2.75,6.50,2.75 C6.50,2.75,17.50,2.75,17.50,2.75 C18.61,2.75,19.50,3.69,19.50,4.85 C19.50,4.85,19.50,12.16,19.50,12.16 C19.50,13.32,18.61,14.25,17.50,14.25 C17.50,14.25,6.50,14.25,6.50,14.25 C5.40,14.25,4.50,13.32,4.50,12.16 C4.50,12.16,4.50,4.85,4.50,4.85 z"/><path style="fill:#ffffff;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M12.00,5.25 C12.00,5.25,12.00,11.25,12.00,11.25"/><path style="fill:#ffffff;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M14.00,7.25 C14.00,7.25,14.00,8.25,14.00,8.25"/><path style="fill:#ffffff;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M10.00,7.25 C10.00,7.25,10.00,8.25,10.00,8.25"/><path style="fill:none;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M16.00,21.25 C16.00,21.25,15.00,20.25,15.00,20.25 C15.00,20.25,14.00,21.25,14.00,21.25"/><path style="fill:none;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M10.00,21.25 C10.00,21.25,9.00,20.25,9.00,20.25 C9.00,20.25,8.00,21.25,8.00,21.25"/><path style="fill:#e4e4e4;fill-rule:evenodd;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M8.00,14.25 C8.00,14.25,16.00,14.25,16.00,14.25 C16.00,14.25,16.00,19.25,16.00,19.25 C16.00,19.25,8.00,19.25,8.00,19.25 C8.00,19.25,8.00,14.25,8.00,14.25 z"/><path style="fill:#ff7bac;fill-opacity:0.75;fill-rule:evenodd;stroke:#000000;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;stroke-width:1;" d="M12.00,4.00 C12.00,4,11.99,4,11.99,4 C6.19,4,3,4.73,3,8.50 C3,11.39,4.66,13.00,7.27,13 C9.88,13.00,10.68,11.13,11.99,11.13 C11.99,11.13,12.00,11.13,12,11.13 C12.00,11.13,12.01,11.13,12.01,11.13 C13.32,11.13,14.12,13.00,16.73,13 C19.34,13.00,21,11.39,21,8.50 C21,4.73,17.81,4,12.01,4 C12.01,4,12.00,4,12.00,4.00 C12.00,4.00,12.00,4.00,12.00,4.00 z"/></g></svg> ',cmy:'<svg class="color filled" viewBox="0 0 24 24"><g><g><path style="fill:#00ff00;fill-rule:evenodd;" d="M12.00,10.88 C10.90,10.01,9.51,9.5,8.00,9.5 C7.22,9.5,6.47,9.64,5.78,9.89 C6.37,11.85,7.87,13.42,9.78,14.11 C10.17,12.81,10.96,11.69,12.00,10.88 z"/><path style="fill:#0000ff;fill-rule:evenodd;" d="M12.00,10.88 C13.10,10.01,14.49,9.5,16,9.5 C16.78,9.5,17.53,9.64,18.22,9.89 C17.63,11.85,16.13,13.42,14.22,14.11 C13.83,12.81,13.04,11.69,12.00,10.88 C12.00,10.88,12.00,10.88,12.00,10.88 z"/><path style="fill:#000000;fill-rule:evenodd;" d="M9.78,14.11 C10.17,12.81,10.96,11.69,12.00,10.88 C13.04,11.69,13.83,12.81,14.22,14.11 C13.53,14.36,12.78,14.5,12,14.5 C11.22,14.5,10.47,14.36,9.78,14.11 C9.78,14.11,9.78,14.11,9.78,14.11 z"/><path style="fill:#ff0000;fill-rule:evenodd;" d="M9.78,14.11 C9.60,14.71,9.5,15.34,9.5,16 C9.5,18.08,10.48,19.93,12.00,21.12 C13.52,19.93,14.50,18.08,14.50,16 C14.50,15.34,14.40,14.71,14.22,14.11 C13.53,14.36,12.78,14.5,12,14.5 C11.22,14.5,10.47,14.36,9.78,14.11 C9.78,14.11,9.78,14.11,9.78,14.11 z"/><path style="fill:#02fefe;fill-rule:evenodd;" d="M5.78,9.89 C5.60,9.29,5.5,8.66,5.5,8 C5.5,4.41,8.41,1.5,12,1.5 C15.59,1.5,18.5,4.41,18.5,8 C18.5,8.66,18.40,9.29,18.22,9.89 C17.53,9.64,16.78,9.5,16,9.5 C14.49,9.5,13.10,10.01,12.00,10.88 C10.90,10.01,9.51,9.5,8.00,9.5 C7.22,9.5,6.47,9.64,5.78,9.89 C5.78,9.89,5.78,9.89,5.78,9.89 z"/><path style="fill:#fffe00;fill-rule:evenodd;" d="M5.78,9.89 C3.28,10.80,1.50,13.19,1.50,16 C1.50,19.59,4.41,22.5,8.00,22.5 C9.51,22.5,10.90,21.99,12.00,21.12 C10.48,19.93,9.5,18.08,9.5,16 C9.5,15.34,9.60,14.71,9.78,14.11 C7.87,13.42,6.37,11.85,5.78,9.89 C5.78,9.89,5.78,9.89,5.78,9.89 z"/><path style="fill:#ff00ff;fill-rule:evenodd;" d="M18.22,9.89 C20.72,10.80,22.5,13.19,22.5,16 C22.5,19.59,19.59,22.5,16,22.5 C14.49,22.5,13.10,21.99,12.00,21.12 C13.52,19.93,14.50,18.08,14.50,16 C14.50,15.34,14.40,14.71,14.22,14.11 C16.13,13.42,17.63,11.85,18.22,9.89 z"/></g></g></svg> ',rgb:'<svg class="color filled" viewBox="0 0 24 24"><g><g><path style="fill:#ff00ff;fill-rule:evenodd;" d="M12.00,10.88 C10.90,10.01,9.51,9.5,8.00,9.5 C7.22,9.5,6.47,9.64,5.78,9.89 C6.37,11.85,7.87,13.42,9.78,14.11 C10.17,12.81,10.96,11.69,12.00,10.88 z"/><path style="fill:#ffff00;fill-rule:evenodd;" d="M12.00,10.88 C13.10,10.01,14.49,9.5,16,9.5 C16.78,9.5,17.53,9.64,18.22,9.89 C17.63,11.85,16.13,13.42,14.22,14.11 C13.83,12.81,13.04,11.69,12.00,10.88 C12.00,10.88,12.00,10.88,12.00,10.88 z"/><path style="fill:#ffffff;fill-rule:evenodd;" d="M9.78,14.11 C10.17,12.81,10.96,11.69,12.00,10.88 C13.04,11.69,13.83,12.81,14.22,14.11 C13.53,14.36,12.78,14.5,12,14.5 C11.22,14.5,10.47,14.36,9.78,14.11 C9.78,14.11,9.78,14.11,9.78,14.11 z"/><path style="fill:#00ffff;fill-rule:evenodd;" d="M9.78,14.11 C9.60,14.71,9.5,15.34,9.5,16 C9.5,18.08,10.48,19.93,12.00,21.12 C13.52,19.93,14.50,18.08,14.50,16 C14.50,15.34,14.40,14.71,14.22,14.11 C13.53,14.36,12.78,14.5,12,14.5 C11.22,14.5,10.47,14.36,9.78,14.11 C9.78,14.11,9.78,14.11,9.78,14.11 z"/><path style="fill:#ff0000;fill-rule:evenodd;" d="M5.78,9.89 C5.60,9.29,5.5,8.66,5.5,8 C5.5,4.41,8.41,1.5,12,1.5 C15.59,1.5,18.5,4.41,18.5,8 C18.5,8.66,18.40,9.29,18.22,9.89 C17.53,9.64,16.78,9.5,16,9.5 C14.49,9.5,13.10,10.01,12.00,10.88 C10.90,10.01,9.51,9.5,8.00,9.5 C7.22,9.5,6.47,9.64,5.78,9.89 C5.78,9.89,5.78,9.89,5.78,9.89 z"/><path style="fill:#0000ff;fill-rule:evenodd;" d="M5.78,9.89 C3.28,10.80,1.50,13.19,1.50,16 C1.50,19.59,4.41,22.5,8.00,22.5 C9.51,22.5,10.90,21.99,12.00,21.12 C10.48,19.93,9.5,18.08,9.5,16 C9.5,15.34,9.60,14.71,9.78,14.11 C7.87,13.42,6.37,11.85,5.78,9.89 C5.78,9.89,5.78,9.89,5.78,9.89 z"/><path style="fill:#00ff00;fill-rule:evenodd;" d="M18.22,9.89 C20.72,10.80,22.5,13.19,22.5,16 C22.5,19.59,19.59,22.5,16,22.5 C14.49,22.5,13.10,21.99,12.00,21.12 C13.52,19.93,14.50,18.08,14.50,16 C14.50,15.34,14.40,14.71,14.22,14.11 C16.13,13.42,17.63,11.85,18.22,9.89 z"/></g></g></svg> ',xrColor:'<svg class="color filled" viewBox="0 0 40 24"><g><g><g><path style="fill:#000000;fill-rule:evenodd;" d="M20.00,2.00 C19.99,2.00,19.98,2,19.98,2 C8.39,2,2,3.61,2,12.00 C2,18.41,5.32,22.00,10.54,22 C15.77,22.00,17.37,17.85,19.98,17.85 C19.98,17.85,19.99,17.85,20,17.85 C20.01,17.85,20.02,17.85,20.02,17.85 C22.63,17.85,24.23,22.00,29.46,22 C34.68,22.00,38,18.41,38,12.00 C38,3.61,31.61,2,20.02,2 C20.02,2,20.01,2.00,20.00,2.00 C20.00,2.00,20.00,2.00,20.00,2.00 z"/></g><path style="fill:#fbed21;fill-rule:evenodd;" d="M12.20,19.84 C15.79,19.39,17.07,16.46,19.07,16.46 C19.07,16.46,19.08,16.46,19.09,16.46 C19.09,16.46,19.10,16.46,19.11,16.46 C19.44,16.46,19.75,16.54,20.06,16.68 C20.37,16.54,20.68,16.46,21.01,16.46 C21.02,16.46,21.02,16.46,21.03,16.46 C21.04,16.46,21.04,16.46,21.05,16.46 C23.05,16.46,24.33,19.39,27.92,19.84 C31.66,19.40,33.98,16.50,33.98,11.62 C33.98,4.91,29.04,3.44,20.06,3.35 C11.07,3.44,6.14,4.91,6.14,11.62 C6.14,16.50,8.46,19.40,12.20,19.84 z"/><path style="fill:#8cc63f;fill-rule:evenodd;" d="M12.20,19.84 C12.52,19.87,12.86,19.89,13.21,19.89 C16.86,19.89,18.37,17.43,20.06,16.68 C19.75,16.54,19.44,16.46,19.11,16.46 C19.10,16.46,19.09,16.46,19.09,16.46 C19.08,16.46,19.07,16.46,19.07,16.46 C17.07,16.46,15.79,19.39,12.20,19.84 z"/><path style="fill:#8cc63f;fill-rule:evenodd;" d="M20.06,3.35 C20.37,3.35,20.69,3.35,21.01,3.35 C21.02,3.35,21.02,3.35,21.03,3.35 C21.03,3.35,21.03,3.35,21.03,3.35 C21.04,3.35,21.04,3.35,21.05,3.35 C30.64,3.35,35.92,4.68,35.92,11.62 C35.92,16.92,33.18,19.89,28.86,19.89 C28.53,19.89,28.22,19.87,27.92,19.84 C31.66,19.40,33.98,16.50,33.98,11.62 C33.98,4.91,29.04,3.44,20.06,3.35 C20.06,3.35,20.06,3.35,20.06,3.35 z"/><path style="fill:#ff1c23;fill-rule:evenodd;" d="M20.06,16.68 C21.74,17.43,23.25,19.89,26.91,19.89 C27.26,19.89,27.59,19.87,27.92,19.84 C24.33,19.39,23.05,16.46,21.05,16.46 C21.04,16.46,21.04,16.46,21.03,16.46 C21.02,16.46,21.02,16.46,21.01,16.46 C20.68,16.46,20.37,16.54,20.06,16.68 z"/><path style="fill:#ff1c23;fill-rule:evenodd;" d="M12.20,19.84 C11.90,19.87,11.59,19.89,11.26,19.89 C6.94,19.89,4.19,16.92,4.19,11.62 C4.19,4.68,9.48,3.35,19.07,3.35 C19.07,3.35,19.08,3.35,19.09,3.35 C19.09,3.35,19.09,3.35,19.09,3.35 C19.09,3.35,19.1,3.35,19.11,3.35 C19.43,3.35,19.75,3.35,20.06,3.35 C11.07,3.44,6.14,4.91,6.14,11.62 C6.14,16.50,8.46,19.40,12.20,19.84 z"/></g><g><path style="fill:#8cc63e;fill-rule:nonzero;" d="M22.55,8.63 C22.55,9.05,22.55,9.46,22.55,9.88 C22.54,10.25,22.85,10.56,23.20,10.55 C23.54,10.56,23.85,10.25,23.85,9.88 C23.85,9.46,23.85,9.05,23.85,8.63 C23.85,8.26,23.54,7.95,23.20,7.96 C22.85,7.95,22.54,8.26,22.55,8.63 z"/><path style="fill:#8cc63e;fill-rule:nonzero;" d="M17.32,8.63 C17.32,9.05,17.32,9.46,17.32,9.88 C17.31,10.25,17.62,10.56,17.97,10.55 C18.31,10.56,18.62,10.25,18.62,9.88 C18.62,9.46,18.62,9.05,18.62,8.63 C18.62,8.26,18.31,7.95,17.97,7.96 C17.62,7.95,17.31,8.26,17.32,8.63 z"/><path style="fill:#8cc63e;fill-rule:nonzero;" d="M19.99,4.39 C19.99,8.09,19.99,11.80,19.99,15.50 C19.99,15.87,20.30,16.18,20.64,16.17 C20.99,16.18,21.30,15.87,21.29,15.50 C21.29,11.80,21.29,8.09,21.29,4.39 C21.30,4.02,20.99,3.71,20.64,3.72 C20.30,3.71,19.99,4.02,19.99,4.39 z"/><path style="fill:#fe1a22;fill-rule:nonzero;" d="M21.43,8.63 C21.43,9.05,21.43,9.46,21.43,9.88 C21.42,10.25,21.73,10.56,22.08,10.55 C22.42,10.56,22.73,10.25,22.73,9.88 C22.73,9.46,22.73,9.05,22.73,8.63 C22.73,8.26,22.42,7.95,22.08,7.96 C21.73,7.95,21.42,8.26,21.43,8.63 z"/><path style="fill:#fe1a22;fill-rule:nonzero;" d="M16.20,8.63 C16.20,9.05,16.20,9.46,16.20,9.88 C16.19,10.25,16.50,10.56,16.85,10.55 C17.19,10.56,17.50,10.25,17.50,9.88 C17.50,9.46,17.50,9.05,17.50,8.63 C17.50,8.26,17.19,7.95,16.85,7.96 C16.50,7.95,16.19,8.26,16.20,8.63 z"/><path style="fill:#fe1a22;fill-rule:nonzero;" d="M18.87,4.39 C18.87,8.09,18.87,11.80,18.87,15.50 C18.87,15.87,19.18,16.18,19.52,16.17 C19.86,16.18,20.18,15.87,20.17,15.50 C20.17,11.80,20.17,8.09,20.17,4.39 C20.18,4.02,19.86,3.71,19.52,3.72 C19.18,3.71,18.87,4.02,18.87,4.39 z"/><path style="fill:#000000;fill-rule:nonzero;" d="M21.97,8.63 C21.97,9.05,21.97,9.46,21.97,9.88 C21.97,10.25,22.28,10.56,22.62,10.55 C22.97,10.56,23.28,10.25,23.27,9.88 C23.27,9.46,23.27,9.05,23.27,8.63 C23.28,8.26,22.97,7.95,22.62,7.96 C22.28,7.95,21.97,8.26,21.97,8.63 z"/><path style="fill:#000000;fill-rule:nonzero;" d="M16.74,8.63 C16.74,9.05,16.74,9.46,16.74,9.88 C16.74,10.25,17.05,10.56,17.39,10.55 C17.74,10.56,18.05,10.25,18.04,9.88 C18.04,9.46,18.04,9.05,18.04,8.63 C18.05,8.26,17.74,7.95,17.39,7.96 C17.05,7.95,16.74,8.26,16.74,8.63 z"/><path style="fill:#000000;fill-rule:nonzero;" d="M19.41,4.39 C19.41,8.09,19.41,11.80,19.41,15.50 C19.41,15.87,19.72,16.18,20.07,16.17 C20.41,16.18,20.72,15.87,20.72,15.50 C20.72,11.80,20.72,8.09,20.72,4.39 C20.72,4.02,20.41,3.71,20.07,3.72 C19.72,3.71,19.41,4.02,19.41,4.39 z"/></g></g></svg> ',tosiUi:'<svg class="color" viewBox="0 0 48 48"><g><g><g><path style="fill:#ffffff;fill-rule:evenodd;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M3,33 C3,31.90,3.90,31,5,31 C5,31,43,31,43,31 C44.10,31,45,31.90,45,33 C45,33,45,43,45,43 C45,44.10,44.10,45,43,45 C43,45,5,45,5,45 C3.90,45,3,44.10,3,43 C3,43,3,33,3,33 z"/><g><path style="fill:#ffffff;fill-rule:evenodd;stroke:#ed247b;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M7,35 C7,35,7,36.34,7,38 C7,39.66,8.34,41,10,41 C11.66,41,13,39.66,13,38 C13,36.34,13,35,13,35"/><path style="fill:#ffffff;fill-rule:nonzero;stroke:#ed247b;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M17,35 C17,35,17,41,17,41"/></g><g><path style="fill:#ed247b;fill-rule:evenodd;stroke:none;" d="M38,33 C40.76,33,43,35.24,43,38 C43,40.76,40.76,43,38,43 C35.24,43,33,40.76,33,38 C33,35.24,35.24,33,38,33 z"/><path style="fill:#ed247b;fill-rule:nonzero;stroke:#ffffff;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M40,36 C40,36,36,40,36,40"/><path style="fill:#ed247b;fill-rule:nonzero;stroke:#ffffff;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M36,36 C36,36,40,40,40,40"/></g></g><g><path style="fill:#9e9e9e;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M15.97,21.01 C15.97,21.01,9.97,23.01,9.97,27.01 C9.97,31.01,15.97,31.01,15.97,31.01"/><path style="fill:#9e9e9e;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M31.97,21.01 C31.97,21.01,37.97,23.01,37.97,27.01 C37.97,31.01,31.97,31.01,31.97,31.01"/><path style="fill:none;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M31,33 C31,33,29.49,31,29.49,31 C29.49,31,27.97,33,27.97,33"/><path style="fill:none;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M19.97,33 C19.97,33,17.97,31,17.97,31 C17.97,31,15.97,33,15.97,33"/><path style="fill:#e4e4e4;fill-rule:evenodd;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M15.97,21 C15.97,21,31.97,21,31.97,21 C31.97,21,31.97,31,31.97,31 C31.97,31,15.97,31,15.97,31 C15.97,31,15.97,21,15.97,21 z"/><path style="fill:#ffffff;fill-rule:evenodd;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M9,7.18 C9,4.87,10.79,3,13.00,3 C13.00,3,35.02,3,35.02,3 C37.23,3,39.03,4.87,39.03,7.18 C39.03,7.18,39.03,21.82,39.03,21.82 C39.03,24.13,37.23,26,35.02,26 C35.02,26,13.00,26,13.00,26 C10.79,26,9,24.13,9,21.82 C9,21.82,9,7.18,9,7.18 z"/><path style="fill:#ffffff;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M24,11 C24,11,24,23,24,23"/><path style="fill:#ffffff;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M28,15 C28,15,28,17,28,17"/><path style="fill:#ffffff;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M20,15 C20,15,20,17,20,17"/></g></g></g></svg> ',tosiFavicon:'<svg class="color" viewBox="0 0 48 48"><g><g><path style="fill:#ed247b;fill-rule:evenodd;stroke:none;" d="M1,9 C1,4.58,4.58,1,9,1 C9,1,39,1,39,1 C43.42,1,47,4.58,47,9 C47,9,47,39,47,39 C47,43.42,43.42,47,39,47 C39,47,9,47,9,47 C4.58,47,1,43.42,1,39 C1,39,1,9,1,9 z"/><g><path style="fill:#9e9e9e;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M16,29 C16,29,10,31,10,35 C10,39,16,39,16,39"/><path style="fill:#9e9e9e;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M32.00,29 C32.00,29,38.00,31,38.00,35 C38.00,39,32.00,39,32.00,39"/><path style="fill:#ffffff;fill-rule:evenodd;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M9,10.18 C9,7.87,10.79,6,13,6 C13,6,35,6,35,6 C37.21,6,39,7.87,39,10.18 C39,10.18,39,24.82,39,24.82 C39,27.13,37.21,29,35,29 C35,29,13,29,13,29 C10.79,29,9,27.13,9,24.82 C9,24.82,9,10.18,9,10.18 z"/><path style="fill:#ffffff;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M24,11 C24,11,24,23,24,23"/><path style="fill:#ffffff;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M28,15 C28,15,28,17,28,17"/><path style="fill:#ffffff;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M20,15 C20,15,20,17,20,17"/><path style="fill:none;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M32,43 C32,43,30,41,30,41 C30,41,28,43,28,43"/><path style="fill:none;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M20,43 C20,43,18,41,18,41 C18,41,16,43,16,43"/><path style="fill:#e4e4e4;fill-rule:evenodd;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M16,29 C16,29,32,29,32,29 C32,29,32,39,32,39 C32,39,16,39,16,39 C16,39,16,29,16,29 z"/></g></g></g></svg> ',tosiPlatform:'<svg class="color" viewBox="0 0 48 48"><g><g><g><path style="fill:#3ea9f5;fill-rule:evenodd;stroke:none;" d="M23.97,47 C23.97,47,39,47,39,47 C43.42,47,47,43.42,47,39 C47,39,47,9,47,9 C47,4.58,43.42,1,39,1 C39,1,9,1,9,1 C4.58,1,1,4.58,1,9 C1,9,1,39,1,39 C1,41.64,2.28,43.98,4.25,45.44 C4.09,44.82,4,44.17,4,43.5 C4,39.36,7.36,36,11.5,36 C15.14,36,18.18,38.60,18.86,42.05 C19.07,42.02,19.28,42,19.5,42 C21.99,42,24,44.01,24,46.5 C24,46.67,23.99,46.84,23.97,47 z"/><path style="fill:#ffffff;fill-rule:evenodd;stroke:none;" d="M4.25,45.44 C4.09,44.82,4,44.17,4,43.5 C4,39.36,7.36,36,11.5,36 C15.14,36,18.18,38.60,18.86,42.05 C19.07,42.02,19.28,42,19.5,42 C21.99,42,24,44.01,24,46.5 C24,46.67,23.99,46.84,23.97,47 C23.97,47,9,47,9,47 C7.22,47,5.58,46.42,4.25,45.44 z"/></g><path style="fill:none;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M35,35 C35,35,32.17,35,32.17,35 C32.17,35,32.17,37.83,32.17,37.83"/><path style="fill:none;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M31,39 C31,39,28.17,39,28.17,39 C28.17,39,28.17,41.83,28.17,41.83"/><path style="fill:#9e9e9e;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M7.48,16 C4.45,16,2,18.45,2,21.48 C2,21.48,2,21.48,2,21.48 C2,23.98,4.02,26,6.52,26 C6.52,26,6.62,26,6.62,26 C7.38,26,8,26.62,8,27.38 C8,27.38,8,27.38,8,27.38 C8,29.93,10.07,32,12.62,32 C12.62,32,16,32,16,32 C18.58,32,20.68,29.91,20.68,27.32 C20.68,27.32,20.68,21.42,20.68,21.42 C20.68,18.43,18.25,16,15.26,16 C15.26,16,7.48,16,7.48,16 z"/><path style="fill:#e4e4e4;fill-rule:evenodd;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M17,29 C17,29,33,29,33,29 C33,29,33,29,33,29 C33,34.52,28.52,39,23,39 C23,39,23,39,23,39 C19.69,39,17,36.31,17,33 C17,33,17,29,17,29 z"/><path style="fill:#9e9e9e;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M40.52,16 C43.55,16,46,18.45,46,21.48 C46,21.48,46,21.48,46,21.48 C46,23.98,43.98,26,41.48,26 C41.48,26,41.38,26,41.38,26 C40.62,26,40,26.62,40,27.38 C40,27.38,40,27.38,40,27.38 C40,29.93,37.93,32,35.38,32 C35.38,32,32,32,32,32 C29.42,32,27.32,29.91,27.32,27.32 C27.32,27.32,27.32,21.42,27.32,21.42 C27.32,18.43,29.75,16,32.74,16 C32.74,16,40.52,16,40.52,16 z"/><g><path style="fill:#ffffff;fill-rule:evenodd;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M6,10.18 C6,7.87,7.79,6,10,6 C10,6,32,6,32,6 C34.21,6,36,7.87,36,10.18 C36,10.18,36,24.82,36,24.82 C36,27.13,34.21,29,32,29 C32,29,10,29,10,29 C7.79,29,6,27.13,6,24.82 C6,24.82,6,10.18,6,10.18 z"/><path style="fill:#ffffff;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M21,11 C21,11,21,23,21,23"/><path style="fill:#ffffff;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M25,15 C25,15,25,17,25,17"/><path style="fill:#ffffff;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M17,15 C17,15,17,17,17,17"/></g></g></g></svg> ',tosi:'<svg class="color" viewBox="0 0 48 48"><g><path style="fill:#9e9e9e;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M38.35,31.70 C39.78,34.37,38.78,37.69,36.11,39.13 C36.11,39.13,36.11,39.13,36.11,39.13 C33.92,40.31,31.18,39.48,29.99,37.29 C29.99,37.29,29.95,37.20,29.95,37.20 C29.58,36.53,28.75,36.27,28.08,36.64 C28.08,36.64,28.08,36.64,28.08,36.64 C25.83,37.84,23.03,37.00,21.82,34.76 C21.82,34.76,20.22,31.78,20.22,31.78 C18.99,29.50,19.85,26.67,22.12,25.44 C22.12,25.44,27.32,22.65,27.32,22.65 C29.96,21.23,33.24,22.22,34.66,24.85 C34.66,24.85,38.35,31.70,38.35,31.70 z"/><path style="fill:#9e9e9e;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M10.65,31.70 C9.22,34.37,10.22,37.69,12.89,39.13 C12.89,39.13,12.89,39.13,12.89,39.13 C15.08,40.31,17.82,39.48,19.01,37.29 C19.01,37.29,19.05,37.20,19.05,37.20 C19.42,36.53,20.25,36.27,20.92,36.64 C20.92,36.64,20.92,36.64,20.92,36.64 C23.17,37.84,25.97,37.00,27.18,34.76 C27.18,34.76,28.78,31.78,28.78,31.78 C30.01,29.50,29.15,26.67,26.88,25.44 C26.88,25.44,21.68,22.65,21.68,22.65 C19.04,21.23,15.76,22.22,14.34,24.85 C14.34,24.85,10.65,31.70,10.65,31.70 z"/><path style="fill:none;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M32.5,43 C32.5,43,30.5,41,30.5,41 C30.5,41,28.5,43,28.5,43"/><path style="fill:none;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M20.5,43 C20.5,43,18.5,41,18.5,41 C18.5,41,16.5,43,16.5,43"/><path style="fill:#e4e4e4;fill-rule:evenodd;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M16.5,29 C16.5,29,32.5,29,32.5,29 C32.5,29,32.5,36,32.5,36 C32.5,37.66,31.16,39,29.5,39 C29.5,39,19.5,39,19.5,39 C17.84,39,16.5,37.66,16.5,36 C16.5,36,16.5,29,16.5,29 z"/><g><path style="fill:#ffffff;fill-rule:evenodd;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M9.5,10.18 C9.5,7.87,11.29,6,13.5,6 C13.5,6,35.5,6,35.5,6 C37.71,6,39.5,7.87,39.5,10.18 C39.5,10.18,39.5,24.82,39.5,24.82 C39.5,27.13,37.71,29,35.5,29 C35.5,29,13.5,29,13.5,29 C11.29,29,9.5,27.13,9.5,24.82 C9.5,24.82,9.5,10.18,9.5,10.18 z"/><g><path style="fill:#ffffff;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M24.5,11 C24.5,11,24.5,23,24.5,23"/><path style="fill:#ffffff;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M28.5,15 C28.5,15,28.5,17,28.5,17"/><path style="fill:#ffffff;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M20.5,15 C20.5,15,20.5,17,20.5,17"/></g></g></g></svg> ',sortDescending:'<svg class="stroked" viewBox="0 0 24 24"><g><path d="M16.5,14.5 C16.5,14.5,7.5,14.5,7.5,14.5"/><path d="M14.5,18.5 C14.5,18.5,9.5,18.5,9.5,18.5"/><path d="M18.5,10.5 C18.5,10.5,5.5,10.5,5.5,10.5"/><path d="M20.5,6.5 C20.5,6.5,3.5,6.5,3.5,6.5"/></g></svg> ',columns:'<svg class="stroked" viewBox="0 0 24 24"><path d="M12 3h7a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-7m0-18H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7m0-18v18"></path></svg>',underline:'<svg class="stroked" viewBox="0 0 24 24"><path d="M6 3v7a6 6 0 0 0 6 6 6 6 0 0 0 6-6V3"></path><line x1="4" y1="21" x2="20" y2="21"></line></svg>',grid:'<svg class="stroked" viewBox="0 0 24 24"><rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect></svg>',triangle:'<svg class="stroked" viewBox="0 0 24 24"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path></svg>',search:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>',volume2:'<svg class="stroked" viewBox="0 0 24 24"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path></svg>',arrowUpCircle:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><polyline points="16 12 12 8 8 12"></polyline><line x1="12" y1="16" x2="12" y2="8"></line></svg>',pauseCircle:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><line x1="10" y1="15" x2="10" y2="9"></line><line x1="14" y1="15" x2="14" y2="9"></line></svg>',checkSquare:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="9 11 12 14 22 4"></polyline><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path></svg>',arrowDown:'<svg class="stroked" viewBox="0 0 24 24"><line x1="12" y1="5" x2="12" y2="19"></line><polyline points="19 12 12 19 5 12"></polyline></svg>',figma:'<svg class="stroked" viewBox="0 0 24 24"><path d="M5 5.5A3.5 3.5 0 0 1 8.5 2H12v7H8.5A3.5 3.5 0 0 1 5 5.5z"></path><path d="M12 2h3.5a3.5 3.5 0 1 1 0 7H12V2z"></path><path d="M12 12.5a3.5 3.5 0 1 1 7 0 3.5 3.5 0 1 1-7 0z"></path><path d="M5 19.5A3.5 3.5 0 0 1 8.5 16H12v3.5a3.5 3.5 0 1 1-7 0z"></path><path d="M5 12.5A3.5 3.5 0 0 1 8.5 9H12v7H8.5A3.5 3.5 0 0 1 5 12.5z"></path></svg>',cornerRightUp:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="10 9 15 4 20 9"></polyline><path d="M4 20h7a4 4 0 0 0 4-4V4"></path></svg>',chevronsRight:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="13 17 18 12 13 7"></polyline><polyline points="6 17 11 12 6 7"></polyline></svg>',list:'<svg class="stroked" viewBox="0 0 24 24"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg>',chevronsDown:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="7 13 12 18 17 13"></polyline><polyline points="7 6 12 11 17 6"></polyline></svg>',wind:'<svg class="stroked" viewBox="0 0 24 24"><path d="M9.59 4.59A2 2 0 1 1 11 8H2m10.59 11.41A2 2 0 1 0 14 16H2m15.73-8.27A2.5 2.5 0 1 1 19.5 12H2"></path></svg>',cornerUpRight:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="15 14 20 9 15 4"></polyline><path d="M4 20v-7a4 4 0 0 1 4-4h12"></path></svg>',target:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="6"></circle><circle cx="12" cy="12" r="2"></circle></svg>',scissors:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="6" cy="6" r="3"></circle><circle cx="6" cy="18" r="3"></circle><line x1="20" y1="4" x2="8.12" y2="15.88"></line><line x1="14.47" y1="14.48" x2="20" y2="20"></line><line x1="8.12" y1="8.12" x2="12" y2="12"></line></svg>',minimize2:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="4 14 10 14 10 20"></polyline><polyline points="20 10 14 10 14 4"></polyline><line x1="14" y1="10" x2="21" y2="3"></line><line x1="3" y1="21" x2="10" y2="14"></line></svg>',playCircle:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><polygon points="10 8 16 12 10 16 10 8"></polygon></svg>',crosshair:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><line x1="22" y1="12" x2="18" y2="12"></line><line x1="6" y1="12" x2="2" y2="12"></line><line x1="12" y1="6" x2="12" y2="2"></line><line x1="12" y1="22" x2="12" y2="18"></line></svg>',airplay:'<svg class="stroked" viewBox="0 0 24 24"><path d="M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"></path><polygon points="12 15 17 21 7 21 12 15"></polygon></svg>',xOctagon:'<svg class="stroked" viewBox="0 0 24 24"><polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>',repeat:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="17 1 21 5 17 9"></polyline><path d="M3 11V9a4 4 0 0 1 4-4h14"></path><polyline points="7 23 3 19 7 15"></polyline><path d="M21 13v2a4 4 0 0 1-4 4H3"></path></svg>',edit3:'<svg class="stroked" viewBox="0 0 24 24"><path d="M12 20h9"></path><path d="M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path></svg>',volume1:'<svg class="stroked" viewBox="0 0 24 24"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path></svg>',sunrise:'<svg class="stroked" viewBox="0 0 24 24"><path d="M17 18a5 5 0 0 0-10 0"></path><line x1="12" y1="2" x2="12" y2="9"></line><line x1="4.22" y1="10.22" x2="5.64" y2="11.64"></line><line x1="1" y1="18" x2="3" y2="18"></line><line x1="21" y1="18" x2="23" y2="18"></line><line x1="18.36" y1="11.64" x2="19.78" y2="10.22"></line><line x1="23" y1="22" x2="1" y2="22"></line><polyline points="8 6 12 2 16 6"></polyline></svg>',toggleRight:'<svg class="stroked" viewBox="0 0 24 24"><rect x="1" y="5" width="22" height="14" rx="7" ry="7"></rect><circle cx="16" cy="12" r="3"></circle></svg>',umbrella:'<svg class="stroked" viewBox="0 0 24 24"><path d="M23 12a11.05 11.05 0 0 0-22 0zm-5 7a3 3 0 0 1-6 0v-7"></path></svg>',user:'<svg class="stroked" viewBox="0 0 24 24"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>',fileMinus:'<svg class="stroked" viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="9" y1="15" x2="15" y2="15"></line></svg>',xCircle:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>',circle:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle></svg>',phoneMissed:'<svg class="stroked" viewBox="0 0 24 24"><line x1="23" y1="1" x2="17" y2="7"></line><line x1="17" y1="1" x2="23" y2="7"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg>',edit2:'<svg class="stroked" viewBox="0 0 24 24"><path d="M17 3a2.83 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path></svg>',cornerLeftUp:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="14 9 9 4 4 9"></polyline><path d="M20 20h-7a4 4 0 0 1-4-4V4"></path></svg>',home:'<svg class="stroked" viewBox="0 0 24 24"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>',gitlab:'<svg class="stroked" viewBox="0 0 24 24"><path d="M22.65 14.39L12 22.13 1.35 14.39a.84.84 0 0 1-.3-.94l1.22-3.78 2.44-7.51A.42.42 0 0 1 4.82 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.49h8.1l2.44-7.51A.42.42 0 0 1 18.6 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.51L23 13.45a.84.84 0 0 1-.35.94z"></path></svg>',music:'<svg class="stroked" viewBox="0 0 24 24"><path d="M9 18V5l12-2v13"></path><circle cx="6" cy="18" r="3"></circle><circle cx="18" cy="16" r="3"></circle></svg>',smartphone:'<svg class="stroked" viewBox="0 0 24 24"><rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line></svg>',moreHorizontal:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="1"></circle><circle cx="19" cy="12" r="1"></circle><circle cx="5" cy="12" r="1"></circle></svg>',sliders:'<svg class="stroked" viewBox="0 0 24 24"><line x1="4" y1="21" x2="4" y2="14"></line><line x1="4" y1="10" x2="4" y2="3"></line><line x1="12" y1="21" x2="12" y2="12"></line><line x1="12" y1="8" x2="12" y2="3"></line><line x1="20" y1="21" x2="20" y2="16"></line><line x1="20" y1="12" x2="20" y2="3"></line><line x1="1" y1="14" x2="7" y2="14"></line><line x1="9" y1="8" x2="15" y2="8"></line><line x1="17" y1="16" x2="23" y2="16"></line></svg>',arrowUpLeft:'<svg class="stroked" viewBox="0 0 24 24"><line x1="17" y1="17" x2="7" y2="7"></line><polyline points="7 17 7 7 17 7"></polyline></svg>',chevronDown:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="6 9 12 15 18 9"></polyline></svg>',hexagon:'<svg class="stroked" viewBox="0 0 24 24"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path></svg>',github:'<svg class="stroked" viewBox="0 0 24 24"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>',crop:'<svg class="stroked" viewBox="0 0 24 24"><path d="M6.13 1L6 16a2 2 0 0 0 2 2h15"></path><path d="M1 6.13L16 6a2 2 0 0 1 2 2v15"></path></svg>',tag:'<svg class="stroked" viewBox="0 0 24 24"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>',briefcase:'<svg class="stroked" viewBox="0 0 24 24"><rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path></svg>',rotateCw:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="23 4 23 10 17 10"></polyline><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path></svg>',map:'<svg class="stroked" viewBox="0 0 24 24"><polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"></polygon><line x1="8" y1="2" x2="8" y2="18"></line><line x1="16" y1="6" x2="16" y2="22"></line></svg>',inbox:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="22 12 16 12 14 15 10 15 8 12 2 12"></polyline><path d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"></path></svg>',alignJustify:'<svg class="stroked" viewBox="0 0 24 24"><line x1="21" y1="10" x2="3" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="21" y1="18" x2="3" y2="18"></line></svg>',plusSquare:'<svg class="stroked" viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line></svg>',power:'<svg class="stroked" viewBox="0 0 24 24"><path d="M18.36 6.64a9 9 0 1 1-12.73 0"></path><line x1="12" y1="2" x2="12" y2="12"></line></svg>',database:'<svg class="stroked" viewBox="0 0 24 24"><ellipse cx="12" cy="5" rx="9" ry="3"></ellipse><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"></path><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"></path></svg>',cameraOff:'<svg class="stroked" viewBox="0 0 24 24"><line x1="1" y1="1" x2="23" y2="23"></line><path d="M21 21H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3m3-3h6l2 3h4a2 2 0 0 1 2 2v9.34m-7.72-2.06a4 4 0 1 1-5.56-5.56"></path></svg>',toggleLeft:'<svg class="stroked" viewBox="0 0 24 24"><rect x="1" y="5" width="22" height="14" rx="7" ry="7"></rect><circle cx="8" cy="12" r="3"></circle></svg>',file:'<svg class="stroked" viewBox="0 0 24 24"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>',messageCircle:'<svg class="stroked" viewBox="0 0 24 24"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg>',voicemail:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="5.5" cy="11.5" r="4.5"></circle><circle cx="18.5" cy="11.5" r="4.5"></circle><line x1="5.5" y1="16" x2="18.5" y2="16"></line></svg>',terminal:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" y1="19" x2="20" y2="19"></line></svg>',move:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="5 9 2 12 5 15"></polyline><polyline points="9 5 12 2 15 5"></polyline><polyline points="15 19 12 22 9 19"></polyline><polyline points="19 9 22 12 19 15"></polyline><line x1="2" y1="12" x2="22" y2="12"></line><line x1="12" y1="2" x2="12" y2="22"></line></svg>',maximize:'<svg class="stroked" viewBox="0 0 24 24"><path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path></svg>',chevronUp:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="18 15 12 9 6 15"></polyline></svg>',arrowDownLeft:'<svg class="stroked" viewBox="0 0 24 24"><line x1="17" y1="7" x2="7" y2="17"></line><polyline points="17 17 7 17 7 7"></polyline></svg>',fileText:'<svg class="stroked" viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>',droplet:'<svg class="stroked" viewBox="0 0 24 24"><path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"></path></svg>',zapOff:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="12.41 6.75 13 2 10.57 4.92"></polyline><polyline points="18.57 12.91 21 10 15.66 10"></polyline><polyline points="8 8 3 14 12 14 11 22 16 16"></polyline><line x1="1" y1="1" x2="23" y2="23"></line></svg>',x:'<svg class="stroked" viewBox="0 0 24 24"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>',barChart:'<svg class="stroked" viewBox="0 0 24 24"><line x1="12" y1="20" x2="12" y2="10"></line><line x1="18" y1="20" x2="18" y2="4"></line><line x1="6" y1="20" x2="6" y2="16"></line></svg>',lock:'<svg class="stroked" viewBox="0 0 24 24"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>',logIn:'<svg class="stroked" viewBox="0 0 24 24"><path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path><polyline points="10 17 15 12 10 7"></polyline><line x1="15" y1="12" x2="3" y2="12"></line></svg>',shoppingBag:'<svg class="stroked" viewBox="0 0 24 24"><path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path><line x1="3" y1="6" x2="21" y2="6"></line><path d="M16 10a4 4 0 0 1-8 0"></path></svg>',divide:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="6" r="2"></circle><line x1="5" y1="12" x2="19" y2="12"></line><circle cx="12" cy="18" r="2"></circle></svg>',cloudDrizzle:'<svg class="stroked" viewBox="0 0 24 24"><line x1="8" y1="19" x2="8" y2="21"></line><line x1="8" y1="13" x2="8" y2="15"></line><line x1="16" y1="19" x2="16" y2="21"></line><line x1="16" y1="13" x2="16" y2="15"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="12" y1="15" x2="12" y2="17"></line><path d="M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"></path></svg>',refreshCw:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg>',chevronRight:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"></polyline></svg>',clipboard:'<svg class="stroked" viewBox="0 0 24 24"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect></svg>',package:'<svg class="stroked" viewBox="0 0 24 24"><line x1="16.5" y1="9.4" x2="7.5" y2="4.21"></line><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line></svg>',instagram:'<svg class="stroked" viewBox="0 0 24 24"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg>',link:'<svg class="stroked" viewBox="0 0 24 24"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg>',videoOff:'<svg class="stroked" viewBox="0 0 24 24"><path d="M16 16v1a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h2m5.66 0H14a2 2 0 0 1 2 2v3.34l1 1L23 7v10"></path><line x1="1" y1="1" x2="23" y2="23"></line></svg>',key:'<svg class="stroked" viewBox="0 0 24 24"><path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.78 7.78 5.5 5.5 0 0 1 7.78-7.78zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"></path></svg>',meh:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><line x1="8" y1="15" x2="16" y2="15"></line><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line></svg>',cornerDownRight:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="15 10 20 15 15 20"></polyline><path d="M4 4v7a4 4 0 0 0 4 4h12"></path></svg>',arrowRight:'<svg class="stroked" viewBox="0 0 24 24"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg>',aperture:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><line x1="14.31" y1="8" x2="20.05" y2="17.94"></line><line x1="9.69" y1="8" x2="21.17" y2="8"></line><line x1="7.38" y1="12" x2="13.12" y2="2.06"></line><line x1="9.69" y1="16" x2="3.95" y2="6.06"></line><line x1="14.31" y1="16" x2="2.83" y2="16"></line><line x1="16.62" y1="12" x2="10.88" y2="21.94"></line></svg>',stopCircle:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><rect x="9" y="9" width="6" height="6"></rect></svg>',logOut:'<svg class="stroked" viewBox="0 0 24 24"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg>',arrowLeftCircle:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><polyline points="12 8 8 12 12 16"></polyline><line x1="16" y1="12" x2="8" y2="12"></line></svg>',barChart2:'<svg class="stroked" viewBox="0 0 24 24"><line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line></svg>',gitPullRequest:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M13 6h3a2 2 0 0 1 2 2v7"></path><line x1="6" y1="9" x2="6" y2="21"></line></svg>',minimize:'<svg class="stroked" viewBox="0 0 24 24"><path d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"></path></svg>',minusSquare:'<svg class="stroked" viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line></svg>',settings:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg>',cloudSnow:'<svg class="stroked" viewBox="0 0 24 24"><path d="M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"></path><line x1="8" y1="16" x2="8.01" y2="16"></line><line x1="8" y1="20" x2="8.01" y2="20"></line><line x1="12" y1="18" x2="12.01" y2="18"></line><line x1="12" y1="22" x2="12.01" y2="22"></line><line x1="16" y1="16" x2="16.01" y2="16"></line><line x1="16" y1="20" x2="16.01" y2="20"></line></svg>',thumbsDown:'<svg class="stroked" viewBox="0 0 24 24"><path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path></svg>',type:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="4 7 4 4 20 4 20 7"></polyline><line x1="9" y1="20" x2="15" y2="20"></line><line x1="12" y1="4" x2="12" y2="20"></line></svg>',archive:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="21 8 21 21 3 21 3 8"></polyline><rect x="1" y="3" width="22" height="5"></rect><line x1="10" y1="12" x2="14" y2="12"></line></svg>',phoneOutgoing:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="23 7 23 1 17 1"></polyline><line x1="16" y1="8" x2="23" y2="1"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg>',pocket:'<svg class="stroked" viewBox="0 0 24 24"><path d="M4 3h16a2 2 0 0 1 2 2v6a10 10 0 0 1-10 10A10 10 0 0 1 2 11V5a2 2 0 0 1 2-2z"></path><polyline points="8 10 12 14 16 10"></polyline></svg>',mail:'<svg class="stroked" viewBox="0 0 24 24"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>',shield:'<svg class="stroked" viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>',download:'<svg class="stroked" viewBox="0 0 24 24"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>',phoneForwarded:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="19 1 23 5 19 9"></polyline><line x1="15" y1="5" x2="23" y2="5"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg>',cornerRightDown:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="10 15 15 20 20 15"></polyline><path d="M4 4h7a4 4 0 0 1 4 4v12"></path></svg>',bookOpen:'<svg class="stroked" viewBox="0 0 24 24"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path></svg>',divideSquare:'<svg class="stroked" viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line></svg>',server:'<svg class="stroked" viewBox="0 0 24 24"><rect x="2" y="2" width="20" height="8" rx="2" ry="2"></rect><rect x="2" y="14" width="20" height="8" rx="2" ry="2"></rect><line x1="6" y1="6" x2="6.01" y2="6"></line><line x1="6" y1="18" x2="6.01" y2="18"></line></svg>',tv:'<svg class="stroked" viewBox="0 0 24 24"><rect x="2" y="7" width="20" height="15" rx="2" ry="2"></rect><polyline points="17 2 12 7 7 2"></polyline></svg>',skipForward:'<svg class="stroked" viewBox="0 0 24 24"><polygon points="5 4 15 12 5 20 5 4"></polygon><line x1="19" y1="5" x2="19" y2="19"></line></svg>',volume:'<svg class="stroked" viewBox="0 0 24 24"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon></svg>',userPlus:'<svg class="stroked" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="20" y1="8" x2="20" y2="14"></line><line x1="23" y1="11" x2="17" y2="11"></line></svg>',batteryCharging:'<svg class="stroked" viewBox="0 0 24 24"><path d="M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"></path><line x1="23" y1="13" x2="23" y2="11"></line><polyline points="11 6 7 12 13 12 9 18"></polyline></svg>',layers:'<svg class="stroked" viewBox="0 0 24 24"><polygon points="12 2 2 7 12 12 22 7 12 2"></polygon><polyline points="2 17 12 22 22 17"></polyline><polyline points="2 12 12 17 22 12"></polyline></svg>',slash:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><line x1="4.93" y1="4.93" x2="19.07" y2="19.07"></line></svg>',radio:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="2"></circle><path d="M16.24 7.76a6 6 0 0 1 0 8.49m-8.48-.01a6 6 0 0 1 0-8.49m11.31-2.82a10 10 0 0 1 0 14.14m-14.14 0a10 10 0 0 1 0-14.14"></path></svg>',book:'<svg class="stroked" viewBox="0 0 24 24"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path></svg>',userMinus:'<svg class="stroked" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="23" y1="11" x2="17" y2="11"></line></svg>',bell:'<svg class="stroked" viewBox="0 0 24 24"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path></svg>',gitBranch:'<svg class="stroked" viewBox="0 0 24 24"><line x1="6" y1="3" x2="6" y2="15"></line><circle cx="18" cy="6" r="3"></circle><circle cx="6" cy="18" r="3"></circle><path d="M18 9a9 9 0 0 1-9 9"></path></svg>',coffee:'<svg class="stroked" viewBox="0 0 24 24"><path d="M18 8h1a4 4 0 0 1 0 8h-1"></path><path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"></path><line x1="6" y1="1" x2="6" y2="4"></line><line x1="10" y1="1" x2="10" y2="4"></line><line x1="14" y1="1" x2="14" y2="4"></line></svg>',code:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg>',thermometer:'<svg class="stroked" viewBox="0 0 24 24"><path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path></svg>',cast:'<svg class="stroked" viewBox="0 0 24 24"><path d="M2 16.1A5 5 0 0 1 5.9 20M2 12.05A9 9 0 0 1 9.95 20M2 8V6a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-6"></path><line x1="2" y1="20" x2="2.01" y2="20"></line></svg>',flag:'<svg class="stroked" viewBox="0 0 24 24"><path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path><line x1="4" y1="22" x2="4" y2="15"></line></svg>',eyeOff:'<svg class="stroked" viewBox="0 0 24 24"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line></svg>',battery:'<svg class="stroked" viewBox="0 0 24 24"><rect x="1" y="6" width="18" height="12" rx="2" ry="2"></rect><line x1="23" y1="13" x2="23" y2="11"></line></svg>',disc:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="3"></circle></svg>',frown:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><path d="M16 16s-1.5-2-4-2-4 2-4 2"></path><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line></svg>',tool:'<svg class="stroked" viewBox="0 0 24 24"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path></svg>',cpu:'<svg class="stroked" viewBox="0 0 24 24"><rect x="4" y="4" width="16" height="16" rx="2" ry="2"></rect><rect x="9" y="9" width="6" height="6"></rect><line x1="9" y1="1" x2="9" y2="4"></line><line x1="15" y1="1" x2="15" y2="4"></line><line x1="9" y1="20" x2="9" y2="23"></line><line x1="15" y1="20" x2="15" y2="23"></line><line x1="20" y1="9" x2="23" y2="9"></line><line x1="20" y1="14" x2="23" y2="14"></line><line x1="1" y1="9" x2="4" y2="9"></line><line x1="1" y1="14" x2="4" y2="14"></line></svg>',bold:'<svg class="stroked" viewBox="0 0 24 24"><path d="M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path><path d="M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path></svg>',hash:'<svg class="stroked" viewBox="0 0 24 24"><line x1="4" y1="9" x2="20" y2="9"></line><line x1="4" y1="15" x2="20" y2="15"></line><line x1="10" y1="3" x2="8" y2="21"></line><line x1="16" y1="3" x2="14" y2="21"></line></svg>',share2:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line></svg>',plus:'<svg class="stroked" viewBox="0 0 24 24"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>',check:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"></polyline></svg>',rotateCcw:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="1 4 1 10 7 10"></polyline><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path></svg>',hardDrive:'<svg class="stroked" viewBox="0 0 24 24"><line x1="22" y1="12" x2="2" y2="12"></line><path d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"></path><line x1="6" y1="16" x2="6.01" y2="16"></line><line x1="10" y1="16" x2="10.01" y2="16"></line></svg>',bluetooth:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="6.5 6.5 17.5 17.5 12 23 12 1 17.5 6.5 6.5 17.5"></polyline></svg>',pieChart:'<svg class="stroked" viewBox="0 0 24 24"><path d="M21.21 15.89A10 10 0 1 1 8 2.83"></path><path d="M22 12A10 10 0 0 0 12 2v10z"></path></svg>',headphones:'<svg class="stroked" viewBox="0 0 24 24"><path d="M3 18v-6a9 9 0 0 1 18 0v6"></path><path d="M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"></path></svg>',rss:'<svg class="stroked" viewBox="0 0 24 24"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg>',wifi:'<svg class="stroked" viewBox="0 0 24 24"><path d="M5 12.55a11 11 0 0 1 14.08 0"></path><path d="M1.42 9a16 16 0 0 1 21.16 0"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1="12" y1="20" x2="12.01" y2="20"></line></svg>',cornerUpLeft:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="9 14 4 9 9 4"></polyline><path d="M20 20v-7a4 4 0 0 0-4-4H4"></path></svg>',watch:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="7"></circle><polyline points="12 9 12 12 13.5 13.5"></polyline><path d="M16.51 17.35l-.35 3.83a2 2 0 0 1-2 1.82H9.83a2 2 0 0 1-2-1.82l-.35-3.83m.01-10.7l.35-3.83A2 2 0 0 1 9.83 1h4.35a2 2 0 0 1 2 1.82l.35 3.83"></path></svg>',info:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>',userX:'<svg class="stroked" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="18" y1="8" x2="23" y2="13"></line><line x1="23" y1="8" x2="18" y2="13"></line></svg>',loader:'<svg class="stroked" viewBox="0 0 24 24"><line x1="12" y1="2" x2="12" y2="6"></line><line x1="12" y1="18" x2="12" y2="22"></line><line x1="4.93" y1="4.93" x2="7.76" y2="7.76"></line><line x1="16.24" y1="16.24" x2="19.07" y2="19.07"></line><line x1="2" y1="12" x2="6" y2="12"></line><line x1="18" y1="12" x2="22" y2="12"></line><line x1="4.93" y1="19.07" x2="7.76" y2="16.24"></line><line x1="16.24" y1="7.76" x2="19.07" y2="4.93"></line></svg>',refreshCcw:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="1 4 1 10 7 10"></polyline><polyline points="23 20 23 14 17 14"></polyline><path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path></svg>',folderPlus:'<svg class="stroked" viewBox="0 0 24 24"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path><line x1="12" y1="11" x2="12" y2="17"></line><line x1="9" y1="14" x2="15" y2="14"></line></svg>',gitMerge:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M6 21V9a9 9 0 0 0 9 9"></path></svg>',mic:'<svg class="stroked" viewBox="0 0 24 24"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path><path d="M19 10v2a7 7 0 0 1-14 0v-2"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line></svg>',copy:'<svg class="stroked" viewBox="0 0 24 24"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>',zoomIn:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="11" y1="8" x2="11" y2="14"></line><line x1="8" y1="11" x2="14" y2="11"></line></svg>',arrowRightCircle:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><polyline points="12 16 16 12 12 8"></polyline><line x1="8" y1="12" x2="16" y2="12"></line></svg>',alignRight:'<svg class="stroked" viewBox="0 0 24 24"><line x1="21" y1="10" x2="7" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="21" y1="18" x2="7" y2="18"></line></svg>',image:'<svg class="stroked" viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline></svg>',maximize2:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="15 3 21 3 21 9"></polyline><polyline points="9 21 3 21 3 15"></polyline><line x1="21" y1="3" x2="14" y2="10"></line><line x1="3" y1="21" x2="10" y2="14"></line></svg>',checkCircle:'<svg class="stroked" viewBox="0 0 24 24"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg>',sunset:'<svg class="stroked" viewBox="0 0 24 24"><path d="M17 18a5 5 0 0 0-10 0"></path><line x1="12" y1="9" x2="12" y2="2"></line><line x1="4.22" y1="10.22" x2="5.64" y2="11.64"></line><line x1="1" y1="18" x2="3" y2="18"></line><line x1="21" y1="18" x2="23" y2="18"></line><line x1="18.36" y1="11.64" x2="19.78" y2="10.22"></line><line x1="23" y1="22" x2="1" y2="22"></line><polyline points="16 5 12 9 8 5"></polyline></svg>',save:'<svg class="stroked" viewBox="0 0 24 24"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline></svg>',smile:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><path d="M8 14s1.5 2 4 2 4-2 4-2"></path><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line></svg>',navigation:'<svg class="stroked" viewBox="0 0 24 24"><polygon points="3 11 22 2 13 21 11 13 3 11"></polygon></svg>',cloudLightning:'<svg class="stroked" viewBox="0 0 24 24"><path d="M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"></path><polyline points="13 11 9 17 15 17 11 23"></polyline></svg>',paperclip:'<svg class="stroked" viewBox="0 0 24 24"><path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path></svg>',fastForward:'<svg class="stroked" viewBox="0 0 24 24"><polygon points="13 19 22 12 13 5 13 19"></polygon><polygon points="2 19 11 12 2 5 2 19"></polygon></svg>',xSquare:'<svg class="stroked" viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="9" y1="9" x2="15" y2="15"></line><line x1="15" y1="9" x2="9" y2="15"></line></svg>',award:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="8" r="7"></circle><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"></polyline></svg>',zoomOut:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="8" y1="11" x2="14" y2="11"></line></svg>',box:'<svg class="stroked" viewBox="0 0 24 24"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line></svg>',thumbsUp:'<svg class="stroked" viewBox="0 0 24 24"><path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path></svg>',percent:'<svg class="stroked" viewBox="0 0 24 24"><line x1="19" y1="5" x2="5" y2="19"></line><circle cx="6.5" cy="6.5" r="2.5"></circle><circle cx="17.5" cy="17.5" r="2.5"></circle></svg>',sidebar:'<svg class="stroked" viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="9" y1="3" x2="9" y2="21"></line></svg>',square:'<svg class="stroked" viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect></svg>',play:'<svg class="stroked" viewBox="0 0 24 24"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>',gitCommit:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4"></circle><line x1="1.05" y1="12" x2="7" y2="12"></line><line x1="17.01" y1="12" x2="22.96" y2="12"></line></svg>',table:'<svg class="stroked" viewBox="0 0 24 24"><path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"></path></svg>',send:'<svg class="stroked" viewBox="0 0 24 24"><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg>',phoneCall:'<svg class="stroked" viewBox="0 0 24 24"><path d="M15.05 5A5 5 0 0 1 19 8.95M15.05 1A9 9 0 0 1 23 8.94m-1 7.98v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg>',speaker:'<svg class="stroked" viewBox="0 0 24 24"><rect x="4" y="2" width="16" height="20" rx="2" ry="2"></rect><circle cx="12" cy="14" r="4"></circle><line x1="12" y1="6" x2="12.01" y2="6"></line></svg>',facebook:'<svg class="filled" version="1.1" viewBox="0 0 512 512"><g></g><path d="M464 0h-416c-26.4 0-48 21.6-48 48v416c0 26.4 21.6 48 48 48h208v-224h-64v-64h64v-32c0-52.9 43.1-96 96-96h64v64h-64c-17.6 0-32 14.4-32 32v32h96l-16 64h-80v224h144c26.4 0 48-21.6 48-48v-416c0-26.4-21.6-48-48-48z"></path></svg> ',codesandbox:'<svg class="stroked" viewBox="0 0 24 24"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="7.5 4.21 12 6.81 16.5 4.21"></polyline><polyline points="7.5 19.79 7.5 14.6 3 12"></polyline><polyline points="21 12 16.5 14.6 16.5 19.79"></polyline><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line></svg>',camera:'<svg class="stroked" viewBox="0 0 24 24"><path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"></path><circle cx="12" cy="13" r="4"></circle></svg>',link2:'<svg class="stroked" viewBox="0 0 24 24"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg>',printer:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="6 9 6 2 18 2 18 9"></polyline><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path><rect x="6" y="14" width="12" height="8"></rect></svg>',folderMinus:'<svg class="stroked" viewBox="0 0 24 24"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path><line x1="9" y1="14" x2="15" y2="14"></line></svg>',arrowUpRight:'<svg class="stroked" viewBox="0 0 24 24"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg>',truck:'<svg class="stroked" viewBox="0 0 24 24"><rect x="1" y="3" width="15" height="13"></rect><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon><circle cx="5.5" cy="18.5" r="2.5"></circle><circle cx="18.5" cy="18.5" r="2.5"></circle></svg>',lifeBuoy:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="4"></circle><line x1="4.93" y1="4.93" x2="9.17" y2="9.17"></line><line x1="14.83" y1="14.83" x2="19.07" y2="19.07"></line><line x1="14.83" y1="9.17" x2="19.07" y2="4.93"></line><line x1="14.83" y1="9.17" x2="18.36" y2="5.64"></line><line x1="4.93" y1="19.07" x2="9.17" y2="14.83"></line></svg>',penTool:'<svg class="stroked" viewBox="0 0 24 24"><path d="M12 19l7-7 3 3-7 7-3-3z"></path><path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path><path d="M2 2l7.59 7.59"></path><circle cx="11" cy="11" r="2"></circle></svg>',atSign:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4"></circle><path d="M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-3.92 7.94"></path></svg>',feather:'<svg class="stroked" viewBox="0 0 24 24"><path d="M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"></path><line x1="16" y1="8" x2="2" y2="22"></line><line x1="17.5" y1="15" x2="9" y2="15"></line></svg>',trash:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path></svg>',wifiOff:'<svg class="stroked" viewBox="0 0 24 24"><line x1="1" y1="1" x2="23" y2="23"></line><path d="M16.72 11.06A10.94 10.94 0 0 1 19 12.55"></path><path d="M5 12.55a10.94 10.94 0 0 1 5.17-2.39"></path><path d="M10.71 5.05A16 16 0 0 1 22.58 9"></path><path d="M1.42 9a15.91 15.91 0 0 1 4.7-2.88"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1="12" y1="20" x2="12.01" y2="20"></line></svg>',cornerLeftDown:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="14 15 9 20 4 15"></polyline><path d="M20 4h-7a4 4 0 0 0-4 4v12"></path></svg>',dollarSign:'<svg class="stroked" viewBox="0 0 24 24"><line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path></svg>',star:'<svg class="stroked" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>',cloudOff:'<svg class="stroked" viewBox="0 0 24 24"><path d="M22.61 16.95A5 5 0 0 0 18 10h-1.26a8 8 0 0 0-7.05-6M5 5a8 8 0 0 0 4 15h9a5 5 0 0 0 1.7-.3"></path><line x1="1" y1="1" x2="23" y2="23"></line></svg>',sun:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>',messageSquare:'<svg class="stroked" viewBox="0 0 24 24"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>',edit:'<svg class="stroked" viewBox="0 0 24 24"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg>',anchor:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="5" r="3"></circle><line x1="12" y1="22" x2="12" y2="8"></line><path d="M5 12H2a10 10 0 0 0 20 0h-3"></path></svg>',alertCircle:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>',chevronsUp:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="17 11 12 6 7 11"></polyline><polyline points="17 18 12 13 7 18"></polyline></svg>',uploadCloud:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="16 16 12 12 8 16"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"></path><polyline points="16 16 12 12 8 16"></polyline></svg>',twitch:'<svg class="stroked" viewBox="0 0 24 24"><path d="M21 2H3v16h5v4l4-4h5l4-4V2zm-10 9V7m5 4V7"></path></svg>',youtube:'<svg class="filled" version="1.1" viewBox="0 0 512 512"><g></g><path d="M506.9 153.6c0 0-5-35.3-20.4-50.8-19.5-20.4-41.3-20.5-51.3-21.7-71.6-5.2-179.1-5.2-179.1-5.2h-0.2c0 0-107.5 0-179.1 5.2-10 1.2-31.8 1.3-51.3 21.7-15.4 15.5-20.3 50.8-20.3 50.8s-5.1 41.4-5.1 82.9v38.8c0 41.4 5.1 82.9 5.1 82.9s5 35.3 20.3 50.8c19.5 20.4 45.1 19.7 56.5 21.9 41 3.9 174.1 5.1 174.1 5.1s107.6-0.2 179.2-5.3c10-1.2 31.8-1.3 51.3-21.7 15.4-15.5 20.4-50.8 20.4-50.8s5.1-41.4 5.1-82.9v-38.8c-0.1-41.4-5.2-82.9-5.2-82.9zM203.1 322.4v-143.9l138.3 72.2-138.3 71.7z"></path></svg> ',unlock:'<svg class="stroked" viewBox="0 0 24 24"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 9.9-1"></path></svg>',compass:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><polygon points="16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"></polygon></svg>',plusCircle:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line></svg>',creditCard:'<svg class="stroked" viewBox="0 0 24 24"><rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect><line x1="1" y1="10" x2="23" y2="10"></line></svg>',cloudRain:'<svg class="stroked" viewBox="0 0 24 24"><line x1="16" y1="13" x2="16" y2="21"></line><line x1="8" y1="13" x2="8" y2="21"></line><line x1="12" y1="15" x2="12" y2="23"></line><path d="M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"></path></svg>',trash2:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>',skipBack:'<svg class="stroked" viewBox="0 0 24 24"><polygon points="19 20 9 12 19 4 19 20"></polygon><line x1="5" y1="19" x2="5" y2="5"></line></svg>',filePlus:'<svg class="stroked" viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="12" y1="18" x2="12" y2="12"></line><line x1="9" y1="15" x2="15" y2="15"></line></svg>',delete:'<svg class="stroked" viewBox="0 0 24 24"><path d="M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"></path><line x1="18" y1="9" x2="12" y2="15"></line><line x1="12" y1="9" x2="18" y2="15"></line></svg>',command:'<svg class="stroked" viewBox="0 0 24 24"><path d="M18 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3H6a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3V6a3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 3 3 0 0 0-3-3z"></path></svg>',clock:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>',octagon:'<svg class="stroked" viewBox="0 0 24 24"><polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon></svg>',phone:'<svg class="stroked" viewBox="0 0 24 24"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg>',eye:'<svg class="stroked" viewBox="0 0 24 24"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>',phoneOff:'<svg class="stroked" viewBox="0 0 24 24"><path d="M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91"></path><line x1="23" y1="1" x2="1" y2="23"></line></svg>',codepen:'<svg class="stroked" viewBox="0 0 24 24"><polygon points="12 2 22 8.5 22 15.5 12 22 2 15.5 2 8.5 12 2"></polygon><line x1="12" y1="22" x2="12" y2="15.5"></line><polyline points="22 8.5 12 15.5 2 8.5"></polyline><polyline points="2 15.5 12 8.5 22 15.5"></polyline><line x1="12" y1="2" x2="12" y2="8.5"></line></svg>',dribbble:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><path d="M8.56 2.75c4.37 6.03 6.02 9.42 8.03 17.72m2.54-15.38c-3.72 4.35-8.94 5.66-16.88 5.85m19.5 1.9c-3.5-.93-6.63-.82-8.94 0-2.58.92-5.01 2.86-7.44 6.32"></path></svg>',gift:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="20 12 20 22 4 22 4 12"></polyline><rect x="2" y="7" width="20" height="5"></rect><line x1="12" y1="22" x2="12" y2="7"></line><path d="M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"></path><path d="M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"></path></svg>',externalLink:'<svg class="stroked" viewBox="0 0 24 24"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>',zap:'<svg class="stroked" viewBox="0 0 24 24"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon></svg>',trello:'<svg class="stroked" viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><rect x="7" y="7" width="3" height="9"></rect><rect x="14" y="7" width="3" height="5"></rect></svg>',moreVertical:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="1"></circle><circle cx="12" cy="5" r="1"></circle><circle cx="12" cy="19" r="1"></circle></svg>',micOff:'<svg class="stroked" viewBox="0 0 24 24"><line x1="1" y1="1" x2="23" y2="23"></line><path d="M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"></path><path d="M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line></svg>',share:'<svg class="stroked" viewBox="0 0 24 24"><path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path><polyline points="16 6 12 2 8 6"></polyline><line x1="12" y1="2" x2="12" y2="15"></line></svg>',arrowUp:'<svg class="stroked" viewBox="0 0 24 24"><line x1="12" y1="19" x2="12" y2="5"></line><polyline points="5 12 12 5 19 12"></polyline></svg>',bellOff:'<svg class="stroked" viewBox="0 0 24 24"><path d="M13.73 21a2 2 0 0 1-3.46 0"></path><path d="M18.63 13A17.89 17.89 0 0 1 18 8"></path><path d="M6.26 6.26A5.86 5.86 0 0 0 6 8c0 7-3 9-3 9h14"></path><path d="M18 8a6 6 0 0 0-9.33-5"></path><line x1="1" y1="1" x2="23" y2="23"></line></svg>',linkedin:'<svg class="stroked" viewBox="0 0 24 24"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg>',video:'<svg class="stroked" viewBox="0 0 24 24"><polygon points="23 7 16 12 23 17 23 7"></polygon><rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect></svg>',divideCircle:'<svg class="stroked" viewBox="0 0 24 24"><line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line><circle cx="12" cy="12" r="10"></circle></svg>',activity:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline></svg>',twitter:'<svg class="stroked" viewBox="0 0 24 24"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg>',mapPin:'<svg class="stroked" viewBox="0 0 24 24"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg>',filter:'<svg class="stroked" viewBox="0 0 24 24"><polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon></svg>',phoneIncoming:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="16 2 16 8 22 8"></polyline><line x1="23" y1="1" x2="16" y2="8"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg>',italic:'<svg class="stroked" viewBox="0 0 24 24"><line x1="19" y1="4" x2="10" y2="4"></line><line x1="14" y1="20" x2="5" y2="20"></line><line x1="15" y1="4" x2="9" y2="20"></line></svg>',chevronsLeft:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="11 17 6 12 11 7"></polyline><polyline points="18 17 13 12 18 7"></polyline></svg>',calendar:'<svg class="stroked" viewBox="0 0 24 24"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>',globe:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg>',arrowLeft:'<svg class="stroked" viewBox="0 0 24 24"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>',alignCenter:'<svg class="stroked" viewBox="0 0 24 24"><line x1="18" y1="10" x2="6" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="18" y1="18" x2="6" y2="18"></line></svg>',minusCircle:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><line x1="8" y1="12" x2="16" y2="12"></line></svg>',arrowDownRight:'<svg class="stroked" viewBox="0 0 24 24"><line x1="7" y1="7" x2="17" y2="17"></line><polyline points="17 7 17 17 7 17"></polyline></svg>',framer:'<svg class="stroked" viewBox="0 0 24 24"><path d="M5 16V9h14V2H5l14 14h-7m-7 0l7 7v-7m-7 0h7"></path></svg>',volumeX:'<svg class="stroked" viewBox="0 0 24 24"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><line x1="23" y1="9" x2="17" y2="15"></line><line x1="17" y1="9" x2="23" y2="15"></line></svg>',slack:'<svg class="stroked" viewBox="0 0 24 24"><path d="M14.5 10c-.83 0-1.5-.67-1.5-1.5v-5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5z"></path><path d="M20.5 10H19V8.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path><path d="M9.5 14c.83 0 1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5S8 21.33 8 20.5v-5c0-.83.67-1.5 1.5-1.5z"></path><path d="M3.5 14H5v1.5c0 .83-.67 1.5-1.5 1.5S2 16.33 2 15.5 2.67 14 3.5 14z"></path><path d="M14 14.5c0-.83.67-1.5 1.5-1.5h5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-5c-.83 0-1.5-.67-1.5-1.5z"></path><path d="M15.5 19H14v1.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"></path><path d="M10 9.5C10 8.67 9.33 8 8.5 8h-5C2.67 8 2 8.67 2 9.5S2.67 11 3.5 11h5c.83 0 1.5-.67 1.5-1.5z"></path><path d="M8.5 5H10V3.5C10 2.67 9.33 2 8.5 2S7 2.67 7 3.5 7.67 5 8.5 5z"></path></svg>',cloud:'<svg class="stroked" viewBox="0 0 24 24"><path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"></path></svg>',downloadCloud:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="8 17 12 21 16 17"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.88 18.09A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.29"></path></svg>',shuffle:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="16 3 21 3 21 8"></polyline><line x1="4" y1="20" x2="21" y2="3"></line><polyline points="21 16 21 21 16 21"></polyline><line x1="15" y1="15" x2="21" y2="21"></line><line x1="4" y1="4" x2="9" y2="9"></line></svg>',rewind:'<svg class="stroked" viewBox="0 0 24 24"><polygon points="11 19 2 12 11 5 11 19"></polygon><polygon points="22 19 13 12 22 5 22 19"></polygon></svg>',upload:'<svg class="stroked" viewBox="0 0 24 24"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line></svg>',trendingDown:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="23 18 13.5 8.5 8.5 13.5 1 6"></polyline><polyline points="17 18 23 18 23 12"></polyline></svg>',pause:'<svg class="stroked" viewBox="0 0 24 24"><rect x="6" y="4" width="4" height="16"></rect><rect x="14" y="4" width="4" height="16"></rect></svg>',arrowDownCircle:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><polyline points="8 12 12 16 16 12"></polyline><line x1="12" y1="8" x2="12" y2="16"></line></svg>',bookmark:'<svg class="stroked" viewBox="0 0 24 24"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path></svg>',alertTriangle:'<svg class="stroked" viewBox="0 0 24 24"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>',userCheck:'<svg class="stroked" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><polyline points="17 11 19 13 23 9"></polyline></svg>',tablet:'<svg class="stroked" viewBox="0 0 24 24"><rect x="4" y="2" width="16" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line></svg>',alertOctagon:'<svg class="stroked" viewBox="0 0 24 24"><polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>',menu:'<svg class="stroked" viewBox="0 0 24 24"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>',chrome:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="4"></circle><line x1="21.17" y1="8" x2="12" y2="8"></line><line x1="3.95" y1="6.06" x2="8.54" y2="14"></line><line x1="10.88" y1="21.94" x2="15.46" y2="14"></line></svg>',shoppingCart:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path></svg>',folder:'<svg class="stroked" viewBox="0 0 24 24"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path></svg>',users:'<svg class="stroked" viewBox="0 0 24 24"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>',cornerDownLeft:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="9 10 4 15 9 20"></polyline><path d="M20 4v7a4 4 0 0 1-4 4H4"></path></svg>',monitor:'<svg class="stroked" viewBox="0 0 24 24"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect><line x1="8" y1="21" x2="16" y2="21"></line><line x1="12" y1="17" x2="12" y2="21"></line></svg>',minus:'<svg class="stroked" viewBox="0 0 24 24"><line x1="5" y1="12" x2="19" y2="12"></line></svg>',helpCircle:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>',navigation2:'<svg class="stroked" viewBox="0 0 24 24"><polygon points="12 2 19 21 12 17 5 21 12 2"></polygon></svg>',chevronLeft:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="15 18 9 12 15 6"></polyline></svg>',film:'<svg class="stroked" viewBox="0 0 24 24"><rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"></rect><line x1="7" y1="2" x2="7" y2="22"></line><line x1="17" y1="2" x2="17" y2="22"></line><line x1="2" y1="12" x2="22" y2="12"></line><line x1="2" y1="7" x2="7" y2="7"></line><line x1="2" y1="17" x2="7" y2="17"></line><line x1="17" y1="17" x2="22" y2="17"></line><line x1="17" y1="7" x2="22" y2="7"></line></svg>',moon:'<svg class="stroked" viewBox="0 0 24 24"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>',shieldOff:'<svg class="stroked" viewBox="0 0 24 24"><path d="M19.69 14a6.9 6.9 0 0 0 .31-2V5l-8-3-3.16 1.18"></path><path d="M4.73 4.73L4 5v7c0 6 8 10 8 10a20.29 20.29 0 0 0 5.62-4.38"></path><line x1="1" y1="1" x2="23" y2="23"></line></svg>',layout:'<svg class="stroked" viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="9" y1="21" x2="9" y2="9"></line></svg>',mousePointer:'<svg class="stroked" viewBox="0 0 24 24"><path d="M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"></path><path d="M13 13l6 6"></path></svg>',alignLeft:'<svg class="stroked" viewBox="0 0 24 24"><line x1="17" y1="10" x2="3" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="17" y1="18" x2="3" y2="18"></line></svg>',heart:'<svg class="stroked" viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>',trendingUp:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline><polyline points="17 6 23 6 23 12"></polyline></svg>',listBullet:'<svg class="stroked" viewBox="0 0 24 24"><g><path style="" d="M21,6 C21,6,10,6,10,6"/><path style="" d="M21,12 C21,12,10,12,10,12"/><path style="" d="M21,18 C21,18,10,18,10,18"/><path style="" d="M5.5,5 C6.05,5,6.5,5.45,6.5,6 C6.5,6.55,6.05,7,5.5,7 C4.95,7,4.5,6.55,4.5,6 C4.5,5.45,4.95,5,5.5,5 z"/><path style="" d="M5.5,11 C6.05,11,6.5,11.45,6.5,12 C6.5,12.55,6.05,13,5.5,13 C4.95,13,4.5,12.55,4.5,12 C4.5,11.45,4.95,11,5.5,11 z"/><path style="" d="M5.5,17 C6.05,17,6.5,17.45,6.5,18 C6.5,18.55,6.05,19,5.5,19 C4.95,19,4.5,18.55,4.5,18 C4.5,17.45,4.95,17,5.5,17 z"/></g></svg> ',indent:'<svg class="stroked" viewBox="0 0 24 24"><g><path style="" d="M21,10 C21,10,8,10,8,10"/><path style="" d="M21,6 C21,6,8,6,8,6"/><path style="" d="M21,14 C21,14,8,14,8,14"/><path style="" d="M21,18 C21,18,8,18,8,18"/><path style="" d="M2.5,9 C2.5,9,5.5,12,5.5,12 C5.5,12,2.5,15,2.5,15"/></g></svg> ',fontBold:'<svg class="stroked" viewBox="0 0 24 24"><g><path style="" d="M13.5,11 C15.71,11,17.5,12.68,17.5,14.75 C17.5,16.82,15.71,18.5,13.5,18.5 C13.5,18.5,8.5,18.5,8.5,18.5 C8.5,18.5,8.5,3.5,8.5,3.5 C8.5,3.5,13.5,3.5,13.5,3.5 C15.71,3.5,17.5,5.18,17.5,7.25 C17.5,9.32,15.71,11,13.5,11 C13.5,11,13.5,11,13.5,11 z"/><path style="" d="M13.5,11 C13.5,11,8.5,11,8.5,11"/><path style="" d="M12.5,11 C14.71,11,16.5,12.68,16.5,14.75 C16.5,16.82,14.71,18.5,12.5,18.5 C12.5,18.5,7.5,18.5,7.5,18.5 C7.5,18.5,7.5,3.5,7.5,3.5 C7.5,3.5,12.5,3.5,12.5,3.5 C14.71,3.5,16.5,5.18,16.5,7.25 C16.5,9.32,14.71,11,12.5,11 C12.5,11,12.5,11,12.5,11 z"/><path style="" d="M12.5,11 C12.5,11,7.5,11,7.5,11"/></g></svg> ',fontItalic:'<svg class="stroked" viewBox="0 0 24 24"><g><path style="" d="M17.00,4.50 C17.00,4.50,13.00,4.50,13.00,4.50"/><path style="" d="M11.00,19.50 C11.00,19.50,7.00,19.50,7.00,19.50"/><path style="" d="M15.00,4.50 C15.00,4.50,9.00,19.50,9.00,19.50"/></g></svg> ',fontUnderline:'<svg class="stroked" viewBox="0 0 24 24"><g><path style="" d="M7.5,3.5 C7.5,3.5,7.5,10.74,7.5,13.5 C7.5,16.26,9.74,18.5,12.5,18.5 C15.26,18.5,17.5,16.26,17.5,13.5 C17.5,10.74,17.5,3.5,17.5,3.5"/><path style="" d="M7.5,21.5 C7.5,21.5,17.5,21.5,17.5,21.5"/></g></svg> ',outdent:'<svg class="stroked" viewBox="0 0 24 24"><g><path style="" d="M21,10 C21,10,8,10,8,10"/><path style="" d="M21,6 C21,6,8,6,8,6"/><path style="" d="M21,14 C21,14,8,14,8,14"/><path style="" d="M21,18 C21,18,8,18,8,18"/><path style="" d="M5.5,9 C5.5,9,2.5,12,2.5,12 C2.5,12,5.5,15,5.5,15"/></g></svg> ',listNumber:'<svg class="stroked" viewBox="0 0 24 24"><g><path style="" d="M21,6 C21,6,10,6,10,6"/><path style="" d="M21,12 C21,12,10,12,10,12"/><path style="" d="M21,18 C21,18,10,18,10,18"/><path style="" d="M4.5,5 C4.5,5,5.5,4,5.5,4 C5.5,4,5.5,8,5.5,8"/><path style="" d="M4.5,10 C4.5,10,5.50,10,5.50,10 C6.05,10,6.5,10.45,6.5,11.00 C6.5,11.00,6.5,11.00,6.5,11.00 C6.5,11.55,6.05,12,5.50,12 C5.50,12,5.50,12,5.50,12 C4.95,12,4.5,12.45,4.5,13.00 C4.5,13.00,4.5,14,4.5,14 C4.5,14,6.5,14,6.5,14"/><path style="" d="M4.5,16 C4.5,16,5.50,16,5.50,16 C6.05,16,6.5,16.45,6.5,17.00 C6.5,17.00,6.5,17.00,6.5,17.00 C6.5,17.55,6.05,18,5.50,18 C5.50,18,4.5,18,4.5,18 C4.5,18,5.50,18,5.50,18 C6.05,18,6.5,18.45,6.5,19.00 C6.5,19.00,6.5,19.00,6.5,19.00 C6.5,19.55,6.05,20,5.50,20 C5.50,20,4.5,20,4.5,20"/></g></svg> ',resize:'<svg class="stroked" version="1.1" viewBox="0, 0, 24, 24"><g><path d="M9,3 L3,3 L3,9"/><path d="M15,21 L21,21 L21,15"/><path d="M3,3 L10,10"/><path d="M21,21 L14,14"/></g></svg> ',bug:'<svg class="stroked" viewBox="0 0 24 24"><g><path style="" d="M8,6 C8,3.79,9.79,2,12,2 C14.21,2,16,3.79,16,6 C16,6,8,6,8,6 z"/><path style="" d="M20,7 C20,7,18,9,18,9"/><path style="" d="M20,19 C20,19,18,17,18,17"/><path style="" d="M21,13 C21,13,18,13,18,13"/><path style="" d="M16.44,9 C17.30,9,18.00,9.70,18.00,10.56 C18.00,10.56,18.00,15.00,18.00,15.00 C18.00,18.31,15.31,21,12,21 C8.69,21,6,18.31,6,15.00 C6,15.00,6,10.56,6,10.56 C6,9.70,6.70,9,7.56,9 C7.56,9,16.44,9,16.44,9 z"/><path style="" d="M4,7 C4,7,6,9,6,9"/><path style="" d="M4,19 C4,19,6,17,6,17"/><path style="" d="M3,13 C3,13,6,13,6,13"/><path style="" d="M12,12 C12,12,12,17,12,17"/></g></svg> ',blog:'<svg class="stroked" viewBox="0 0 24 24"><g><path style="" d="M21,10.02 C21,10.02,21,15,21,15 C21,15.53,20.79,16.04,20.41,16.41 C20.04,16.79,19.53,17,19,17 C19,17,7,17,7,17 C5.67,18.33,4.33,19.67,3,21 C3,21,3,5,3,5 C3,4.47,3.21,3.96,3.59,3.59 C3.96,3.21,4.47,3,5,3 C8.53,3,10.49,3,14.02,3"/><path style="" d="M19,2 C19.54,1.46,20.32,1.25,21.05,1.45 C21.78,1.65,22.35,2.22,22.55,2.95 C22.75,3.68,22.54,4.46,22,5 C22,5,15.5,11.5,15.5,11.5 C14.17,11.83,12.83,12.17,11.5,12.5 C11.83,11.17,12.17,9.83,12.5,8.5 C15.67,5.33,15.83,5.17,19,2 z"/><path style="" d="M14.60,3"/><path style="" d="M21,8.77"/><path style="" d="M7,7 C7,7,10,7,10,7"/><path style="" d="M7,10 C7,10,9,10,9,10"/></g></svg> ',sortAscending:'<svg class="stroked" viewBox="0 0 24 24"><g><path d="M16.5,10.5 C16.5,10.5,7.5,10.5,7.5,10.5"/><path d="M14.5,6.5 C14.5,6.5,9.5,6.5,9.5,6.5"/><path d="M18.5,14.5 C18.5,14.5,5.5,14.5,5.5,14.5"/><path d="M20.5,18.5 C20.5,18.5,3.5,18.5,3.5,18.5"/></g></svg> ',npm:'<svg class="filled" version="1.1" viewBox="0 0 512 512"><g></g><path d="M0 0v512h512v-512h-512zM416 416h-64v-256h-96v256h-160v-320h320v320z"></path></svg> ',game:'<svg class="filled" version="1.1" viewBox="0 0 704 512"><g></g><path d="M528 96.79v-0.79h-336c-88.36 0-160 71.64-160 160s71.64 160 160 160c52.34 0 98.82-25.14 128.01-64h63.98c29.19 38.86 75.66 64 128.01 64 88.37 0 160-71.63 160-160 0-82.97-63.15-151.18-144-159.21zM288 288h-64v64h-64v-64h-64v-64h64v-64h64v64h64v64zM480 288c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zM576 288c-17.67 0-32-14.33-32-32 0-17.67 14.33-32 32-32s32 14.33 32 32c0 17.67-14.33 32-32 32z"></path></svg> ',google:'<svg class="filled" version="1.1" viewBox="0 0 512 512"><g></g><path d="M256 0c-141.4 0-256 114.6-256 256s114.6 256 256 256 256-114.6 256-256-114.6-256-256-256zM259.8 448c-106.1 0-192-85.9-192-192s85.9-192 192-192c51.8 0 95.2 18.9 128.6 50.2l-52.1 50.2c-14.3-13.7-39.2-29.6-76.5-29.6-65.6 0-119 54.3-119 121.2s53.5 121.2 119 121.2c76 0 104.5-54.6 108.9-82.8h-108.9v-65.8h181.3c1.6 9.6 3 19.2 3 31.8 0.1 109.7-73.4 187.6-184.3 187.6z"></path></svg> ',discord:'<svg class="filled" version="1.1" viewBox="0 0 1013 768"><g></g><path d="M858.38 64.32c-60.41-28.44-130.58-50.8-204.05-63.60l-5.01-0.72c-8.35 14.47-17.31 32.35-25.34 50.74l-1.44 3.7c-34.87-5.53-75.06-8.69-116.00-8.69s-81.14 3.16-120.37 9.25l4.37-0.56c-9.48-22.09-18.44-39.97-28.27-57.29l1.49 2.86c-78.56 13.64-148.78 36.05-214.41 66.65l5.19-2.17c-132.30 195.75-168.17 386.63-150.24 574.80v0c73.25 54.65 158.46 98.55 250.43 127.12l5.97 1.60c19.28-25.64 37.51-54.63 53.29-85.10l1.63-3.45c-33.48-12.62-61.98-26.51-88.96-42.66l2.48 1.38c7.25-5.26 14.35-10.68 21.2-15.94 75.07 36.14 163.23 57.26 256.32 57.26s181.25-21.12 259.94-58.83l-3.62 1.56c6.93 5.66 14.03 11.08 21.2 15.94-24.54 14.80-53.09 28.72-82.88 40.10l-3.75 1.26c17.37 33.87 35.61 62.84 56.05 90.05l-1.14-1.58c98.00-30.05 183.28-73.93 258.78-130.22l-2.22 1.58c21.04-218.22-35.95-407.35-150.63-575.04zM338.33 523.56c-49.97 0-91.26-45.35-91.26-101.14s39.85-101.54 91.10-101.54 92.21 45.75 91.34 101.54-40.25 101.14-91.18 101.14zM674.99 523.56c-50.05 0-91.18-45.35-91.18-101.14s39.85-101.54 91.18-101.54 91.97 45.75 91.10 101.54-40.17 101.14-91.10 101.14z"></path></svg> '},s_=(J)=>{Object.assign(c7,J)},yX=(J,Z,Y,q)=>{J.setAttribute("xmlns","http://www.w3.org/2000/svg");for(let Q of[...J.querySelectorAll("path, polygon, line, circle, rect, ellipse, polyline")]){if(Z!==void 0)Q.setAttribute("fill",Z);if(Y!==void 0)Q.setAttribute("stroke",Y);if(q!==void 0)Q.setAttribute("stroke-width",String(q))}let X=J.querySelectorAll("[style]");J.removeAttribute("style");for(let Q of[...X]){let{fill:K,stroke:$,strokeWidth:U,strokeLinecap:j,strokeLinejoin:W}=Q.style;if(K)Q.setAttribute("fill",r.fromCss(K).html);if($)Q.setAttribute("stroke",r.fromCss($).html);if(U)Q.setAttribute("strokeWidth",U);if(j)Q.setAttribute("strokeLinecap",j);if(W)Q.setAttribute("strokeLinejoin",W);Q.removeAttribute("style")}return`url(data:image/svg+xml;charset=UTF-8,${encodeURIComponent(J.outerHTML)})`},h=new Proxy(c7,{get(J,Z){let Y=c7[Z];if(Z&&!Y)console.warn(`icon ${Z} does not exist`);if(!Y)Y=c7.square;return(...q)=>{let X=y.div();X.innerHTML=Y;let Q=X.querySelector("svg"),K=new Set(Q.classList);K.add("xin-icon");let $=x7.svg({class:Array.from(K).join(" "),viewBox:Q.getAttribute("viewBox")},...q,...Q.children);return $.style.strokeWidth=B.xinIconStrokeWidth("2px"),$.style.stroke=B.xinIconStroke(K.has("filled")?"none":"currentColor"),$.style.fill=B.xinIconFill(K.has("stroked")?"none":"currentColor"),$.style.height=B.xinIconSize("16px"),$}}});class a8 extends k{icon="";size=0;fill="";stroke="";strokeWidth=1;constructor(){super();this.initAttributes("icon","size","fill","stroke","strokeWidth")}render(){super.render(),this.textContent="";let J={};if(this.size)J.height=this.size+"px",this.style.setProperty("--xin-icon-size",`${this.size}px`);if(this.stroke)J.stroke=this.stroke,J.strokeWidth=this.strokeWidth;J.fill=this.fill,this.append(h[this.icon]({style:J}))}}var a_=a8.elementCreator({tag:"xin-icon",styleSpec:{":host":{display:"inline-flex",stroke:"currentColor",strokeWidth:B.iconStrokeWidth("2px"),strokeLinejoin:B.iconStrokeLinejoin("round"),strokeLinecap:B.iconStrokeLinecap("round"),fill:B.iconFill("none")},":host, :host svg":{height:B.xinIconSize("16px")}}}),GX=()=>{};class r8 extends k{babylonReady;BABYLON;static styleSpec={":host":{display:"block",position:"relative"},":host canvas":{width:"100%",height:"100%"},":host .babylonVRicon":{height:50,width:80,backgroundColor:"transparent",filter:"drop-shadow(0 0 4px #000c)",backgroundImage:yX(h.xrColor()),backgroundPosition:"center",backgroundRepeat:"no-repeat",border:"none",borderRadius:5,borderStyle:"none",outline:"none",transition:"transform 0.125s ease-out"},":host .babylonVRicon:hover":{transform:"scale(1.1)"}};content=y.canvas({part:"canvas"});constructor(){super();this.babylonReady=(async()=>{let{BABYLON:J}=await VJ("https://cdn.babylonjs.com/babylon.js","BABYLON");return J})()}scene;engine;sceneCreated=GX;update=GX;_update=()=>{if(this.scene){if(this.update!==void 0)this.update(this,this.BABYLON);if(this.scene.activeCamera!==void 0)this.scene.render()}};onResize(){if(this.engine)this.engine.resize()}loadScene=async(J,Z,Y)=>{let{BABYLON:q}=await VJ("https://cdn.babylonjs.com/loaders/babylonjs.loaders.min.js","BABYLON");q.SceneLoader.Append(J,Z,this.scene,Y)};loadUI=async(J)=>{let{BABYLON:Z}=await VJ("https://cdn.babylonjs.com/gui/babylon.gui.min.js","BABYLON"),Y=Z.GUI.AdvancedDynamicTexture.CreateFullscreenUI("GUI",!0,this.scene),{snippetId:q,jsonUrl:X,data:Q,size:K}=J;if(K)Y.idealWidth=K,Y.renderAtIdealSize=!0;let $;if(q)$=await Y.parseFromSnippetAsync(q);else if(X)$=await Y.parseFromURLAsync(X);else if(Q)$=Y.parseContent(Q);else return null;let U=Y.getChildren()[0],j=U.children.reduce((W,G)=>{return W[G.name]=G,W},{});return{advancedTexture:Y,gui:$,root:U,widgets:j}};connectedCallback(){super.connectedCallback();let{canvas:J}=this.parts;this.babylonReady.then(async(Z)=>{if(this.BABYLON=Z,this.engine=new Z.Engine(J,!0),this.scene=new Z.Scene(this.engine),this.sceneCreated)await this.sceneCreated(this,Z);if(this.scene.activeCamera===void 0)new Z.ArcRotateCamera("default-camera",-Math.PI/2,Math.PI/2.5,3,new Z.Vector3(0,0,0)).attachControl(this.parts.canvas,!0);this.engine.runRenderLoop(this._update)})}}var r_=r8.elementCreator({tag:"xin-3d"});class X4 extends k{content=null;src="";json="";config={renderer:"svg",loop:!0,autoplay:!0};static bodymovinAvailable;animation;static styleSpec={":host":{width:400,height:400,display:"inline-block"}};_loading=!1;get loading(){return this._loading}constructor(){super();if(this.initAttributes("src","json"),X4.bodymovinAvailable===void 0)X4.bodymovinAvailable=VJ("https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.12.2/lottie.min.js","bodymovin")}doneLoading=()=>{this._loading=!1};load=({bodymovin:J})=>{if(this._loading=!0,this.config.container=this.shadowRoot!==null?this.shadowRoot:void 0,this.json!=="")this.config.animationData=this.json,delete this.config.path;else if(this.src!=="")delete this.config.animationData,this.config.path=this.src;else console.log("%c<xin-lottie>%c expected either %cjson%c (animation data) or %csrc% c(url) but found neither.","color: #44f; background: #fff; padding: 0 5px","color: default","color: #44f; background: #fff; padding: 0 5px","color: default","color: #44f; background: #fff; padding: 0 5px","color: default");if(this.animation){this.animation.destroy();let Z=this.shadowRoot;if(Z!==null)Z.querySelector("svg")?.remove()}this.animation=J.loadAnimation(this.config),this.animation.addEventListener("DOMLoaded",this.doneLoading)};render(){super.render(),X4.bodymovinAvailable.then(this.load).catch((J)=>{console.error(J)})}}var o_=X4.elementCreator({tag:"xin-lottie"}),{button:b8,slot:t_,div:f7}=y;class o8 extends k{arrows=!1;dots=!1;loop=!1;maxVisibleItems=1;snapDelay=0.1;snapDuration=0.25;auto=0;lastAutoAdvance=Date.now();interval;autoAdvance=()=>{if(this.auto>0&&this.auto*1000<Date.now()-this.lastAutoAdvance)this.forward()};_page=0;get page(){return this._page}set page(J){let{scroller:Z,back:Y,forward:q}=this.parts;if(this.lastPage<=0)q.disabled=Y.disabled=!0,J=0;else J=Math.max(0,Math.min(this.lastPage,J)),J=isNaN(J)?0:J;if(this._page!==J)this._page=isNaN(J)?0:J,this.animateScroll(this._page*Z.offsetWidth),Y.disabled=this.page<=0&&!this.loop,q.disabled=this.page>=this.lastPage&&!this.loop}get visibleItems(){return[...this.children].filter((J)=>getComputedStyle(J).display!=="none")}get lastPage(){return Math.max(Math.ceil(this.visibleItems.length/(this.maxVisibleItems||1))-1,0)}static styleSpec={":host":{display:"flex",flexDirection:"column",position:"relative"},":host svg":{height:F.carouselIconSize},":host button":{outline:"none",border:"none",boxShadow:"none",background:"transparent",color:F.carouselButtonColor,padding:0},":host::part(back), :host::part(forward)":{position:"absolute",top:0,bottom:0,width:F.carouseButtonWidth,zIndex:2},":host::part(back)":{left:0},":host::part(forward)":{right:0},":host button:disabled":{opacity:0.5,pointerEvents:"none"},":host button:hover":{color:F.carouselButtonHoverColor},":host button:active":{color:F.carouselButtonActiveColor},":host::part(pager)":{position:"relative"},":host::part(scroller)":{overflow:"auto hidden",position:"relative"},":host::part(grid)":{display:"grid",justifyItems:"center"},":host *::-webkit-scrollbar, *::-webkit-scrollbar-thumb":{display:"none"},":host .dot":{background:F.carouselButtonColor,borderRadius:F.carouselDotSize,height:F.carouselDotSize,width:F.carouselDotSize,transition:F.carouselDotTransition},":host .dot:not(.current):hover":{background:F.carouselButtonHoverColor,height:F.carouselDotSize150,width:F.carouselDotSize150,margin:F.carouselDotSize_25},":host .dot:not(.current):active":{background:F.carouselButtonActiveColor},":host .dot.current":{background:F.carouselDotCurrentColor},":host::part(progress)":{display:"flex",gap:F.carouselDotSpacing,justifyContent:"center",padding:F.carouselProgressPadding}};easing=(J)=>{return Math.sin(J*Math.PI*0.5)};indicateCurrent=()=>{let{scroller:J,progress:Z}=this.parts,Y=J.scrollLeft/J.offsetWidth;[...Z.children].forEach((q,X)=>{q.classList.toggle("current",Math.floor(X/this.maxVisibleItems-Y)===0)}),this.lastAutoAdvance=Date.now(),clearTimeout(this.snapTimer),this.snapTimer=setTimeout(this.snapPosition,this.snapDelay*1000)};snapPosition=()=>{let{scroller:J}=this.parts,Z=Math.round(J.scrollLeft/J.offsetWidth);if(Z!==this.page)this.page=Z>this.page?Math.ceil(Z):Math.floor(Z);this.lastAutoAdvance=Date.now()};back=()=>{this.page=this.page>0?this.page-1:this.lastPage};forward=()=>{this.page=this.page<this.lastPage?this.page+1:0};handleDotClick=(J)=>{let{progress:Z}=this.parts,Y=[...Z.children].indexOf(J.target);if(Y>-1)this.page=Math.floor(Y/this.maxVisibleItems)};snapTimer;animationFrame;animateScroll(J,Z=-1,Y=0){cancelAnimationFrame(this.animationFrame);let{scroller:q}=this.parts;if(Z===-1){Z=q.scrollLeft,Y=Date.now(),this.animationFrame=requestAnimationFrame(()=>{this.animateScroll(J,Z,Y)});return}let X=(Date.now()-Y)/1000;if(X>=this.snapDuration||Math.abs(q.scrollLeft-J)<2)q.scrollLeft=J,this.animationFrame=null;else q.scrollLeft=Z+this.easing(X/this.snapDuration)*(J-Z),this.animationFrame=requestAnimationFrame(()=>{this.animateScroll(J,Z,Y)})}content=()=>[f7({part:"pager"},b8({title:"previous slide",part:"back"},h.chevronLeft()),f7({title:"slides",role:"group",part:"scroller"},f7({part:"grid"},t_())),b8({title:"next slide",part:"forward"},h.chevronRight())),f7({title:"choose slide to display",role:"group",part:"progress"})];constructor(){super();this.initAttributes("dots","arrows","maxVisibleItems","snapDuration","loop","auto")}connectedCallback(){super.connectedCallback(),this.ariaRoleDescription="carousel",this.ariaOrientation="horizontal",this.ariaReadOnly="true";let{back:J,forward:Z,scroller:Y,progress:q}=this.parts;J.addEventListener("click",this.back),Z.addEventListener("click",this.forward),Y.addEventListener("scroll",this.indicateCurrent),q.addEventListener("click",this.handleDotClick),this.lastAutoAdvance=Date.now(),this.interval=setInterval(this.autoAdvance,100)}disconnectedCallback(){clearInterval(this.interval)}render(){super.render();let{dots:J,arrows:Z,visibleItems:Y,lastPage:q}=this,{progress:X,back:Q,forward:K,grid:$}=this.parts;Y.forEach((U)=>{U.role="group"}),$.style.gridTemplateColumns=`${100/this.maxVisibleItems/(1+this.lastPage)}% `.repeat(Y.length).trim(),$.style.width=(1+this.lastPage)*100+"%",X.textContent="",X.append(...Y.map((U,j)=>b8({title:`item ${j+1}`,class:"dot"}))),this.indicateCurrent(),X.style.display=J&&q>0?"":"none",Q.hidden=K.hidden=!(Z&&q>0)}}var e_=o8.elementCreator({tag:"xin-carousel",styleSpec:{":host":{_carouselIconSize:24,_carouselButtonColor:"#0004",_carouselButtonHoverColor:"#0006",_carouselButtonActiveColor:"#000c",_carouseButtonWidth:48,_carouselDotCurrentColor:"#0008",_carouselDotSize:8,_carouselDotSpacing:F.carouselDotSize,_carouselProgressPadding:12,_carouselDotTransition:"0.125s ease-in-out"},":host:focus":{outline:"none",boxShadow:"none"}}}),bX="https://cdnjs.cloudflare.com/ajax/libs/ace/1.23.2/",SX="ace/theme/tomorrow",JH=async()=>{let{ace:J}=await VJ(`${bX}ace.min.js`);return J},ZH=async(J,Z="html",Y={},q=SX)=>{let X=await JH();X.config.set("basePath",bX);let Q=X.edit(J,{mode:`ace/mode/${Z}`,tabSize:2,useSoftTabs:!0,useWorker:!1,...Y});return Q.setTheme(q),{ace:X,editor:Q}};class Q4 extends k{source="";get value(){return this.editor===void 0?this.source:this.editor.getValue()}set value(J){if(this.editor===void 0)this.source=J;else this.editor.setValue(J),this.editor.clearSelection(),this.editor.session.getUndoManager().reset()}mode="javascript";disabled=!1;role="code editor";_ace;_editor;_editorPromise;options={};theme=SX;get ace(){return this._ace}get editor(){return this._editor}static styleSpec={":host":{display:"block",position:"relative",width:"100%",height:"100%"}};constructor(){super();this.initAttributes("mode","theme","disabled")}onResize(){if(this.editor!==void 0)this.editor.resize(!0)}connectedCallback(){if(super.connectedCallback(),this.source==="")this.value=this.textContent!==null?this.textContent.trim():"";if(this._editorPromise===void 0)this._editorPromise=ZH(this,this.mode,this.options,this.theme),this._editorPromise.then(({ace:J,editor:Z})=>{this._ace=J,this._editor=Z,Z.setValue(this.source,1),Z.clearSelection(),Z.session.getUndoManager().reset()})}render(){if(super.render(),this._editorPromise!==void 0)this._editorPromise.then(({editor:J})=>J.setReadOnly(this.disabled))}}var n7=Q4.elementCreator({tag:"xin-code"}),{input:S8}=y,zX=r.fromCss("#8888");class kX extends k{value=zX.rgba;color=zX;static styleSpec={":host":{_gap:8,_swatchSize:32,_cssWidth:72,_alphaWidth:72,display:"inline-flex",gap:F.gap,alignItems:"center"},':host input[type="color"]':{border:0,width:F.swatchSize,height:F.swatchSize,background:"transparent"},":host::part(alpha)":{width:F.alphaWidth},":host::part(css)":{width:F.cssWidth,fontFamily:"monospace"}};content=[S8({title:"base color",type:"color",part:"rgb"}),S8({type:"range",title:"opacity",part:"alpha",min:0,max:1,step:0.05}),S8({title:"css color spec",part:"css"})];valueChanged=!1;update=(J)=>{let{rgb:Z,alpha:Y,css:q}=this.parts;if(J.type==="input")this.color=r.fromCss(Z.value),this.color.a=Number(Y.value),q.value=this.color.html;else this.color=r.fromCss(q.value),Z.value=this.color.html.substring(0,7),Y.value=String(this.color.a);Z.style.opacity=String(this.color.a),this.value=this.color.rgba,this.valueChanged=!0};connectedCallback(){super.connectedCallback();let{rgb:J,alpha:Z,css:Y}=this.parts;J.addEventListener("input",this.update),Z.addEventListener("input",this.update),Y.addEventListener("change",this.update)}render(){if(this.valueChanged){this.valueChanged=!1;return}let{rgb:J,alpha:Z,css:Y}=this.parts;this.color=r.fromCss(this.value),J.value=this.color.html.substring(0,7),J.style.opacity=String(this.color.a),Z.value=String(this.color.a),Y.value=this.color.html}}var wX=kX.elementCreator({tag:"xin-color"}),g5=y.div({style:{content:" ",position:"fixed",top:0,left:0,right:0,bottom:0}}),l7={passive:!0},l5=(J,Z,Y="move")=>{if(!J.type.startsWith("touch")){let{clientX:q,clientY:X}=J;g5.style.cursor=Y,W3(g5),document.body.append(g5);let Q=(K)=>{let $=K.clientX-q,U=K.clientY-X;if(Z($,U,K)===!0)g5.removeEventListener("mousemove",Q),g5.removeEventListener("mouseup",Q),g5.remove()};g5.addEventListener("mousemove",Q,l7),g5.addEventListener("mouseup",Q,l7)}else if(J instanceof TouchEvent){let q=J.changedTouches[0],X=q.identifier,Q=q.clientX,K=q.clientY,$=J.target,U=0,j=0,W=(G)=>{let z=[...G.touches].find((O)=>O.identifier===X);if(z!==void 0)U=z.clientX-Q,j=z.clientY-K;if(G.type==="touchmove")G.stopPropagation(),G.preventDefault();if(Z(U,j,G)===!0||z===void 0)$.removeEventListener("touchmove",W),$.removeEventListener("touchend",W),$.removeEventListener("touchcancel",W)};$.addEventListener("touchmove",W),$.addEventListener("touchend",W,l7),$.addEventListener("touchcancel",W,l7)}},r7=(J="body *")=>[...document.querySelectorAll(J)].map((Z)=>parseFloat(getComputedStyle(Z).zIndex)).reduce((Z,Y)=>isNaN(Z)||Number(Z)<Y?Y:Number(Z),0),W3=(J,Z="body *")=>{J.style.zIndex=String(r7(Z)+1)},{slot:YH}=y;class p5 extends k{static floats=new Set;drag=!1;remainOnResize="remove";remainOnScroll="remain";content=YH();static styleSpec={":host":{position:"fixed"}};constructor(){super();this.initAttributes("drag","remainOnResize","remainOnScroll")}reposition=(J)=>{if(J.target?.closest(".no-drag"))return;if(this.drag){W3(this);let Z=this.offsetLeft,Y=this.offsetTop;l5(J,(q,X,Q)=>{if(this.style.left=`${Z+q}px`,this.style.top=`${Y+X}px`,this.style.right="auto",this.style.bottom="auto",Q.type==="mouseup")return!0})}};connectedCallback(){super.connectedCallback(),p5.floats.add(this);let J={passive:!0};this.addEventListener("touchstart",this.reposition,J),this.addEventListener("mousedown",this.reposition,J),W3(this)}disconnectedCallback(){super.disconnectedCallback(),p5.floats.delete(this)}}var d8=p5.elementCreator({tag:"xin-float"});window.addEventListener("resize",()=>{Array.from(p5.floats).forEach((J)=>{if(J.remainOnResize==="hide")J.hidden=!0;else if(J.remainOnResize==="remove")J.remove()})},{passive:!0});document.addEventListener("scroll",(J)=>{if(J.target instanceof HTMLElement&&J.target.closest(p5.tagName))return;Array.from(p5.floats).forEach((Z)=>{if(Z.remainOnScroll==="hide")Z.hidden=!0;else if(Z.remainOnScroll==="remove")Z.remove()})},{passive:!0,capture:!0});var xX=(J)=>{let{content:Z,target:Y,position:q,remainOnScroll:X,remainOnResize:Q,draggable:K}=J,$=Array.isArray(Z)?d8(...Z):d8(Z);if(hX($,Y,q,X,Q,K),J.class)$.setAttribute("class",J.class);return document.body.append($),$},hX=(J,Z,Y,q,X,Q=!1)=>{{let{position:_}=getComputedStyle(J);if(_!=="fixed")J.style.position="fixed";if(X)J.remainOnResize=X;if(q)J.remainOnScroll=q;W3(J)}J.drag=Q;let{left:K,top:$,width:U,height:j}=Z.getBoundingClientRect(),W=K+U*0.5,G=$+j*0.5,z=window.innerWidth,O=window.innerHeight;if(Y==="side")Y=(W<z*0.5?"e":"w")+(G<O*0.5?"s":"n");else if(Y==="auto"||Y===void 0)Y=(G<O*0.5?"s":"n")+(W<z*0.5?"e":"w");if(J.style.top=J.style.left=J.style.right=J.style.bottom=J.style.transform="",Y.length===2){let[_,N]=Y;switch(_){case"n":J.style.bottom=(O-$).toFixed(2)+"px";break;case"e":J.style.left=(K+U).toFixed(2)+"px";break;case"s":J.style.top=($+j).toFixed(2)+"px";break;case"w":J.style.right=(z-K).toFixed(2)+"px";break}switch(N){case"n":J.style.bottom=(O-$-j).toFixed(2)+"px";break;case"e":J.style.left=K.toFixed(2)+"px";break;case"s":J.style.top=$.toFixed(2)+"px";break;case"w":J.style.right=(z-K-U).toFixed(2)+"px";break}J.style.transform=""}else if(Y==="n")J.style.bottom=(O-$).toFixed(2)+"px",J.style.left=W.toFixed(2)+"px",J.style.transform="translateX(-50%)";else if(Y==="s")J.style.top=($+j).toFixed(2)+"px",J.style.left=W.toFixed(2)+"px",J.style.transform="translateX(-50%)";else if(Y==="e")J.style.left=(K+U).toFixed(2)+"px",J.style.top=G.toFixed(2)+"px",J.style.transform="translateY(-50%)";else if(Y==="w")J.style.right=(z-K).toFixed(2)+"px",J.style.top=G.toFixed(2)+"px",J.style.transform="translateY(-50%)";J.style.setProperty("--max-height",`calc(100vh - ${J.style.top||J.style.bottom})`),J.style.setProperty("--max-width",`calc(100vw - ${J.style.left||J.style.right})`)};function vX(J,Z=!0){return(Y,q)=>{let X=J(Y),Q=J(q);for(let K in X)if(X[K]!==Q[K])return(Array.isArray(Z)?Z[K]!==!1:Z)?X[K]>Q[K]?1:-1:X[K]>Q[K]?-1:1;return 0}}var{button:qH,span:OX,input:XH}=y,uX=(J,Z)=>{return!!J.find((Y)=>{if(Y===null||Z==null)return!1;else if(Array.isArray(Y))return uX(Y,Z);else if(Y.value===Z||Y===Z)return!0})};class G3 extends k{editable=!1;showIcon=!1;hideCaption=!1;options="";value="";placeholder="";filter="";localized=!1;disabled=!1;setValue=(J,Z=!1)=>{if(this.value!==J)this.value=J;if(Z)this.dispatchEvent(new Event("action"))};getValue=()=>this.value;get selectOptions(){return typeof this.options==="string"?this.options.split(",").map((J)=>J.trim()||null):this.options}buildOptionMenuItem=(J)=>{if(J===null)return null;let{setValue:Z,getValue:Y}=this,q,X,Q;if(typeof J==="string")X=Q=J;else({icon:q,caption:X,value:Q}=J);if(this.localized)X=v0(X);let{options:K}=J;if(K)return{icon:q,caption:X,checked:()=>uX(K,Y()),menuItems:K.map(this.buildOptionMenuItem)};return{icon:q,caption:X,checked:()=>Y()===Q,action:typeof Q==="function"?async()=>{let $=await Q();if($!==void 0)Z($,!0)}:()=>{if(typeof Q==="string")Z(Q,!0)}}};get optionsMenu(){let J=this.selectOptions.map(this.buildOptionMenuItem);if(this.filter==="")return J;let Z=(Y)=>{if(Y===null)return!0;else if(Y.menuItems)return Y.menuItems=Y.menuItems.filter(Z),Y.menuItems.length>0;else return Y.caption.toLocaleLowerCase().includes(this.filter)};return J.filter(Z)}handleChange=(J)=>{let{value:Z}=this.parts,Y=Z.value||"";if(this.value!==String(Y))this.value=Y,this.dispatchEvent(new Event("change"));this.filter="",J.stopPropagation(),J.preventDefault()};handleKey=(J)=>{if(J.key==="Enter")J.preventDefault()};filterMenu=J3(()=>{this.filter=this.parts.value.value.toLocaleLowerCase(),LJ(0),this.popOptions()});popOptions=(J)=>{if(J&&J.type==="click")this.filter="";this.poppedOptions=this.optionsMenu,U5({target:this,menuItems:this.poppedOptions,showChecked:!0})};content=()=>[qH({part:"button",onClick:this.popOptions},OX(),XH({part:"value",value:this.value,tabindex:0,onKeydown:this.handleKey,onInput:this.filterMenu,onChange:this.handleChange}),h.chevronDown())];constructor(){super();this.initAttributes("options","editable","placeholder","showIcon","hideCaption","localized","disabled")}get allOptions(){let J=[];function Z(Y){for(let q of Y)if(typeof q==="string")J.push({caption:q,value:q});else if(q?.value)J.push(q);else if(q?.options)Z(q.options)}return Z(this.selectOptions),J}findOption(){return this.allOptions.find((J)=>J.value===this.value)||{caption:this.value,value:this.value}}localeChanged=()=>{this.queueRender()};connectedCallback(){if(super.connectedCallback(),this.localized)$5.allInstances.add(this)}disconnectedCallback(){if(super.disconnectedCallback(),this.localized)$5.allInstances.delete(this)}render(){super.render();let{value:J,button:Z}=this.parts;Z.disabled=this.disabled;let Y=J.previousElementSibling,q=this.findOption(),X=OX();if(J.value=this.localized?v0(q.caption):q.caption,q.icon)if(q.icon instanceof HTMLElement)X=q.icon.cloneNode(!0);else X=h[q.icon]();Y.replaceWith(X),J.setAttribute("placeholder",this.localized?v0(this.placeholder):this.placeholder),J.style.pointerEvents=this.editable?"":"none",J.readOnly=!this.editable}}var DJ=G3.elementCreator({tag:"xin-select",styleSpec:{":host":{"--gap":"8px","--touch-size":"44px","--padding":"0 8px","--value-padding":"0 8px","--icon-width":"24px","--fieldWidth":"140px",display:"inline-flex",position:"relative"},":host button":{display:"flex",alignItems:"center",justifyItems:"center",gap:F.gap,textAlign:"left",height:F.touchSize,padding:F.padding,position:"relative",width:"100%"},":host:not([show-icon]) button > :first-child":{display:"none"},":host[hide-caption] button > :nth-child(2)":{display:"none"},':host [part="value"]':{width:F.fieldWidth,padding:F.valuePadding,height:F.touchSize,lineHeight:F.touchSize,boxShadow:"none",whiteSpace:"nowrap",outline:"none",background:"transparent",flex:"1"},':host [part="value"]:not(:focus)':{overflow:"hidden",textOverflow:"ellipsis",background:"transparent"}}}),{span:mX}=y,{i18n:k0}=E5({i18n:{locale:window.navigator.language,locales:[window.navigator.language],languages:[window.navigator.language],emoji:[""],stringMap:{},localeOptions:[{icon:mX(),caption:window.navigator.language,value:window.navigator.language}]}});u5.localeOptions={toDOM(J,Z){if(J instanceof G3)J.options=Z}};var QH=(J)=>{if(k0.locales.xinValue.includes(J))k0.locale.xinValue=J;else console.error(`language ${J} is not available`)},t8=()=>{let J=Array.from($5.allInstances);for(let Z of J)Z.localeChanged()};q3(k0.locale.xinPath,t8);var KH=vX((J)=>[J.caption.toLocaleLowerCase()]);function $H(J){let[Z,,Y,q,...X]=J.split(`
`).map((Q)=>Q.split("\t"));if(Z&&Y&&q&&X){if(k0.locales.xinValue=Z,k0.languages.xinValue=Y,k0.emoji.xinValue=q,k0.stringMap.xinValue=X.reduce((Q,K)=>{return Q[K[0].toLocaleLowerCase()]=K,Q},{}),k0.localeOptions.xinValue=Z.map((Q,K)=>({icon:mX({title:Z[K]},q[K]),caption:Y[K],value:Q})).sort(KH),!k0.locales.xinValue.includes(k0.locale.xinValue)){let Q=k0.locale.substring(0,2);k0.locale.xinValue=k0.locales.xinValue.find((K)=>K.substring(0,2)===Q)||k0.locales.xinValue[0]}t8()}}function v0(J){if(J.endsWith(""))return v0(J.substring(0,J.length-1))+"";let Z=k0.locales.xinValue.indexOf(k0.locale.xinValue);if(Z>-1){let Y=k0.stringMap[J.toLocaleLowerCase()],q=Y.xinValue&&Y[Z];if(q)J=J.toLocaleLowerCase()===J?q.toLocaleLowerCase():q.tosiValue}return J}class e8 extends k{hideCaption=!1;content=()=>{return DJ({part:"select",showIcon:!0,title:v0("Language"),bindValue:k0.locale,bindLocaleOptions:k0.localeOptions})};constructor(){super();this.initAttributes("hideCaption")}render(){super.render(),this.parts.select.toggleAttribute("hide-caption",this.hideCaption)}}var UH=e8.elementCreator({tag:"xin-locale-picker"});class $5 extends k{static allInstances=new Set;contents=()=>y.xinSlot();refString="";constructor(){super();this.initAttributes("refString")}connectedCallback(){super.connectedCallback(),$5.allInstances.add(this)}disconnectedCallback(){super.disconnectedCallback(),$5.allInstances.delete(this)}localeChanged(){if(!this.refString)this.refString=this.textContent||"";this.textContent=this.refString?v0(this.refString):""}render(){super.render(),this.localeChanged()}}var o7=$5.elementCreator({tag:"xin-localized",styleSpec:{":host":{pointerEvents:"none"}}}),WH=(J,Z)=>{Z=Z.toLocaleLowerCase();let Y=!!Z.match(/\^|ctrl/),q=!!Z.match(/|meta/),X=!!Z.match(/||alt|option/),Q=!!Z.match(/|shift/),K=Z.slice(-1);return J.key===K&&J.metaKey===q&&J.ctrlKey===Y&&J.altKey===X&&J.shiftKey===Q},{div:_X,button:J2,span:l1,a:jH,xinSlot:GH}=y;_J("xin-menu-helper",{".xin-menu":{overflow:"hidden auto",maxHeight:`calc(${F.maxHeight} - ${B.menuInset("8px")})`,borderRadius:F.spacing50,background:B.menuBg("#fafafa"),boxShadow:B.menuShadow(`${F.spacing13} ${F.spacing50} ${F.spacing} #0004`)},".xin-menu > div":{width:B.menuWidth("auto")},".xin-menu-trigger":{paddingLeft:0,paddingRight:0,minWidth:B.touchSize("48px")},".xin-menu-separator":{display:"inline-block",content:" ",height:"1px",width:"100%",background:B.menuSeparatorColor("#2224"),margin:B.menuSeparatorMargin("8px 0")},".xin-menu-item":{boxShadow:"none",border:"none !important",display:"grid",alignItems:"center",justifyContent:"flex-start",textDecoration:"none",gridTemplateColumns:"0px 1fr 30px",width:"100%",gap:0,background:"transparent",padding:B.menuItemPadding("0 16px"),height:B.menuItemHeight("48px"),lineHeight:B.menuItemHeight("48px"),textAlign:"left"},".xin-menu-item, .xin-menu-item > span":{color:B.menuItemColor("#222")},".xin-menu-with-icons .xin-menu-item":{gridTemplateColumns:"30px 1fr 30px"},".xin-menu-item svg":{stroke:B.menuItemIconColor("#222")},".xin-menu-item.xin-menu-item-checked":{background:B.menuItemHoverBg("#eee")},".xin-menu-item > span:nth-child(2)":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"left"},".xin-menu-item:hover":{boxShadow:"none !important",background:B.menuItemHoverBg("#eee")},".xin-menu-item:active":{boxShadow:"none !important",background:B.menuItemActiveBg("#aaa"),color:B.menuItemActiveColor("#000")},".xin-menu-item:active svg":{stroke:B.menuItemIconActiveColor("#000")}});var gX=(J,Z)=>{let Y=J.checked&&J.checked()&&"check"||!1,q=J?.icon||Y||l1(" ");if(typeof q==="string")q=h[q]();let X;if(typeof J?.action==="string")X=jH({class:"xin-menu-item",href:J.action},q,Z.localized?l1(v0(J.caption)):l1(J.caption),l1(J.shortcut||" "));else X=J2({class:"xin-menu-item",onClick:J.action},q,Z.localized?l1(v0(J.caption)):l1(J.caption),l1(J.shortcut||" "));if(X.classList.toggle("xin-menu-item-checked",Y!==!1),J?.enabled&&!J.enabled())X.setAttribute("disabled","");return X},fX=(J,Z)=>{let Y=J.checked&&J.checked()&&"check"||!1,q=J?.icon||Y||l1(" ");if(typeof q==="string")q=h[q]();let X=J2({class:"xin-menu-item",disabled:!(!J.enabled||J.enabled()),onClick(Q){U5(Object.assign({},Z,{menuItems:J.menuItems,target:X,submenuDepth:(Z.submenuDepth||0)+1,position:"side"})),Q.stopPropagation(),Q.preventDefault()}},q,Z.localized?l1(v0(J.caption)):l1(J.caption),h.chevronRight({style:{justifySelf:"flex-end"}}));return X},lX=(J,Z)=>{if(J===null)return l1({class:"xin-menu-separator"});else{let Y=J?.action?gX(J,Z):fX(J,Z);if(Z.showChecked&&J.checked&&J.checked())requestAnimationFrame(()=>{Y.scrollIntoView({block:"center"})});return Y}},pX=(J)=>{let{target:Z,width:Y,menuItems:q}=J,X=q.find((Q)=>Q?.icon||Q?.checked);return _X({class:X?"xin-menu xin-menu-with-icons":"xin-menu",onClick(){LJ(0)}},_X({style:{minWidth:Z.offsetWidth+"px",width:typeof Y==="number"?`${Y}px`:Y},onMousedown(Q){Q.preventDefault(),Q.stopPropagation()}},...q.map((Q)=>lX(Q,J))))},Y4,FJ=[],LJ=(J=0)=>{let Z=FJ.splice(J);for(let Y of Z)Y.menu.remove();return Y4=Z[0],J>0?FJ[J-1]:void 0};document.body.addEventListener("mousedown",(J)=>{if(J.target&&!FJ.find((Z)=>Z.target.contains(J.target)))LJ(0)});document.body.addEventListener("keydown",(J)=>{if(J.key==="Escape")LJ(0)});var U5=(J)=>{J=Object.assign({submenuDepth:0},J);let{target:Z,position:Y,submenuDepth:q}=J;if(Y4&&!document.body.contains(Y4?.menu))Y4=void 0;if(FJ.length&&!document.body.contains(FJ[0].menu))FJ.splice(0);if(q===0&&Y4?.target===Z)return;let X=LJ(q);if(Y4?.target===Z)return;if(X&&X.target===Z){LJ();return}if(!J.menuItems?.length)return;let Q=pX(J),K=xX({content:Q,target:Z,position:Y});K.remainOnScroll="remove",FJ.push({target:Z,menu:K})};function dX(J,Z){for(let Y of J){if(!Y)continue;let{shortcut:q}=Y,{menuItems:X}=Y;if(q){if(WH(Z,q))return Y}else if(X){let Q=dX(X,Z);if(Q)return Q}}return}class Z2 extends k{menuItems=[];menuWidth="auto";localized=!1;showMenu=(J)=>{if(J.type==="click"||J.code==="Space")U5({target:this.parts.trigger,width:this.menuWidth,localized:this.localized,menuItems:this.menuItems}),J.stopPropagation(),J.preventDefault()};content=()=>J2({tabindex:0,part:"trigger",onClick:this.showMenu},GH());handleShortcut=async(J)=>{let Z=dX(this.menuItems,J);if(Z){if(Z.action instanceof Function)Z.action()}};constructor(){super();this.initAttributes("menuWidth","localized","icon"),this.addEventListener("keydown",this.showMenu)}connectedCallback(){super.connectedCallback(),document.addEventListener("keydown",this.handleShortcut,!0)}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("keydown",this.handleShortcut)}}var zH=Z2.elementCreator({tag:"xin-menu",styleSpec:{":host":{display:"inline-block"},":host button > xin-slot":{display:"flex",alignItems:"center",gap:B.xinMenuTriggerGap("10px")}}}),cX={};n_(cX,{init:()=>aX,draggedElement:()=>RH});var OH=()=>!!document.querySelector(".drag-source"),nX=(J,Z)=>{if(!J)return!1;for(let Y of J)if(Y==="special/any")return!0;else if(Y.indexOf("*")>-1){let[q,X]=Y.split("/"),[Q,K]=Z.split("/");if((q==="*"||q===Q)&&(X==="*"||X===K))return!0}else if(Y===Z)return!0},i7=(J)=>{for(let Z of[...document.querySelectorAll(`.${J}`)])Z.classList.remove(J)},iX=()=>{i7("drag-over"),i7("drag-source"),i7("drag-target")},c8=(J,Z=";")=>{return(J||"").split(Z).map((Y)=>Y.trim()).filter((Y)=>Y!=="")},sX=(J)=>{if(!J)J=[];let Z=[...document.querySelectorAll("[data-drop]")];for(let Y of Z){let q=c8(Y.dataset.drop);if(J.find((X)=>nX(q,X)))Y.classList.add("drag-target");else Y.classList.remove("drag-target")}};function _H(J){let Z=J.target?.closest('[draggable="true"],a[href]');if(!Z)return;Z.classList.add("drag-source");let Y=Z.matches('[draggable="true"]')?c8(Z.dataset.drag||"text/html"):c8(Z.dataset.drag||"url");for(let q of Y){let X=Z.dataset.dragContent||(q==="text/html"?Z.innerHTML:Z.textContent);J.dataTransfer?.setData(q,X||"")}sX(J.dataTransfer?.types),J.stopPropagation()}function HX(J){if(!OH())sX(J.dataTransfer?.types);let Z=J.target.closest(".drag-target");if(Z&&J.dataTransfer)Z.classList.add("drag-over"),J.dataTransfer.dropEffect="copy";else J.preventDefault(),J.stopPropagation()}function HH(){i7("drag-over")}function NH(J){let Z=J.target.closest(".drag-target");if(Z){let Y=(Z.dataset?.drop||"").split(";");for(let q of Y)if(nX(J.dataTransfer?.types,q))if(q==="text/html")Z.innerHTML=J.dataTransfer?.getData(q)||"";else Z.textContent=J.dataTransfer?.getData(q)||""}iX()}var RH=()=>document.querySelector(".drag-source"),NX=!1,aX=()=>{if(NX)return;document.body.addEventListener("dragstart",_H),document.body.addEventListener("dragenter",HX),document.body.addEventListener("dragover",HX),document.body.addEventListener("drop",NH),document.body.addEventListener("dragleave",HH),document.body.addEventListener("dragend",iX),window.addEventListener("dragover",(J)=>J.preventDefault()),window.addEventListener("drop",(J)=>J.preventDefault()),NX=!0};function AH(J,Z,Y){let q=J.find((X)=>X[Z]!==void 0&&X[Z]!==null);if(q!==void 0){let X=q[Z];switch(typeof X){case"string":if(X.match(/^\d+(\.\d+)?$/))return 6*Y;else if(X.includes(" "))return 20*Y;else return 12*Y;case"number":return 6*Y;case"boolean":return 5*Y;case"object":return!1;default:return 8*Y}}return!1}var{div:Z4,span:k8,button:FH,template:MH}=y,RX=(J)=>J;class Y2 extends k{select=!1;multiple=!1;nosort=!1;nohide=!1;noreorder=!1;selectionChanged=()=>{};localized=!1;selectedKey=Symbol("selected");selectBinding=(J,Z)=>{J.toggleAttribute("aria-selected",Z[this.selectedKey]===!0)};pinnedTop=0;pinnedBottom=0;maxVisibleRows=1e4;get value(){return{array:this.array,filter:this.filter,columns:this.columns}}set value(J){let{array:Z,columns:Y,filter:q}=Q1(J);if(this._array!==Z||this._columns!==Y||this._filter!==q)this.queueRender();this._array=Z||[],this._columns=Y||null,this._filter=q||RX}rowData={visible:[],pinnedTop:[],pinnedBottom:[]};_array=[];_columns=null;_filter=RX;charWidth=15;rowHeight=30;minColumnWidth=30;get virtual(){return this.rowHeight>0?{height:this.rowHeight}:void 0}constructor(){super();this.rowData=E5({[this.instanceId]:this.rowData})[this.instanceId],this.initAttributes("rowHeight","charWidth","minColumnWidth","select","multiple","pinnedTop","pinnedBottom","nosort","nohide","noreorder","localized")}get array(){return this._array}set array(J){this._array=Q1(J),this.queueRender()}get filter(){return this._filter}set filter(J){if(this._filter!==J)this._filter=J,this.queueRender()}get sort(){if(this._sort)return this._sort;let J=this._columns?.find((Y)=>Y.sort==="ascending"||Y.sort==="descending");if(!J)return;let{prop:Z}=J;return J.sort==="ascending"?(Y,q)=>Y[Z]>q[Z]?1:-1:(Y,q)=>Y[Z]>q[Z]?-1:1}set sort(J){if(this._sort!==J)this._sort=J,this.queueRender()}get columns(){if(!Array.isArray(this._columns)){let{_array:J}=this;this._columns=Object.keys(J[0]||{}).map((Z)=>{let Y=AH(J,Z,this.charWidth);return{name:Z.replace(/([a-z])([A-Z])/g,"$1 $2").toLocaleLowerCase(),prop:Z,align:typeof J[0][Z]==="number"||J[0][Z]!==""&&!isNaN(J[0][Z])?"right":"left",visible:Y!==!1,width:Y?Y:0}})}return this._columns}set columns(J){this._columns=J,this.queueRender()}get visibleColumns(){return this.columns.filter((J)=>J.visible!==!1)}content=null;getColumn(J){let Z=(J.touches!==void 0?J.touches[0].clientX:J.clientX)-this.getBoundingClientRect().x,Y=J.touches!==void 0?20:5,q=0,X=[];return this.visibleColumns.find((Q)=>{if(Q.visible!==!1)return q+=Q.width,X.push(q),Math.abs(Z-q)<Y})}setCursor=(J)=>{if(this.getColumn(J)!==void 0)this.style.cursor="col-resize";else this.style.cursor=""};resizeColumn=(J)=>{let Z=this.getColumn(J);if(Z!==void 0){let Y=Number(Z.width),q=J.touches!==void 0,X=q?J.touches[0].identifier:void 0;l5(J,(Q,K,$)=>{if((q?[...$.touches].find((j)=>j.identifier===X):!0)===void 0)return!0;let U=Y+Q;if(Z.width=U>this.minColumnWidth?U:this.minColumnWidth,this.setColumnWidths(),$.type==="mouseup")return!0},"col-resize")}};selectRow(J,Z=!0){if(Z)J[this.selectedKey]=!0;else delete J[this.selectedKey]}selectRows(J,Z=!0){for(let Y of J||this.array)this.selectRow(Y,Z)}deSelect(J){this.selectRows(J,!1)}rangeStart;updateSelection=(J)=>{if(!this.select&&!this.multiple)return;let{target:Z}=J;if(!(Z instanceof HTMLElement))return;let Y=Z.closest(".tr");if(!(Y instanceof HTMLElement))return;let q=OJ(Y);if(q===!1)return;let X=J,Q=window.getSelection();if(Q!==null)Q.removeAllRanges();let K=this.visibleRows;if(this.multiple&&X.shiftKey&&K.length>0&&this.rangeStart!==q){let $=this.rangeStart===void 0||this.rangeStart[this.selectedKey]===!0,[U,j]=[this.rangeStart!==void 0?K.indexOf(this.rangeStart):0,K.indexOf(q)].sort((W,G)=>W-G);if(U>-1)for(let W=U;W<=j;W++){let G=K[W];this.selectRow(G,$)}}else if(this.multiple&&X.metaKey){this.selectRow(q,!q[this.selectedKey]);let $=K.indexOf(q),U=K[$+1],j=$>0?K[$-1]:void 0;if(U!==void 0&&U[this.selectedKey]===!0)this.rangeStart=U;else if(j!==void 0&&j[this.selectedKey]===!0)this.rangeStart=j;else this.rangeStart=void 0}else this.rangeStart=q,this.deSelect(),this.selectRow(q,!0);this.selectionChanged(this.visibleSelectedRows);for(let $ of Array.from(this.querySelectorAll(".tr"))){let U=OJ($);this.selectBinding($,U)}};connectedCallback(){super.connectedCallback(),this.addEventListener("mousemove",this.setCursor),this.addEventListener("mousedown",this.resizeColumn),this.addEventListener("touchstart",this.resizeColumn,{passive:!0}),this.addEventListener("mouseup",this.updateSelection),this.addEventListener("touchend",this.updateSelection)}setColumnWidths(){this.style.setProperty("--grid-columns",this.visibleColumns.map((J)=>J.width+"px").join(" ")),this.style.setProperty("--grid-row-width",this.visibleColumns.reduce((J,Z)=>J+Z.width,0)+"px")}sortByColumn=(J,Z="auto")=>{for(let Y of this.columns.filter((q)=>Q1(q.sort)!==!1))if(Q1(Y)===J){if(Z==="auto")Y.sort=Y.sort==="ascending"?"descending":"ascending";else Y.sort=Z;this.queueRender()}else delete Y.sort};popColumnMenu=(J,Z)=>{let{sortByColumn:Y}=this,q=this.columns.filter((K)=>K.visible===!1),X=this.queueRender.bind(this),Q=[];if(!this.nosort&&Z.sort!==!1)Q.push({caption:this.localized?`${v0("Sort")} ${v0("Ascending")}`:"Sort Ascending",icon:"sortAscending",action(){Y(Z)}},{caption:this.localized?`${v0("Sort")} ${v0("Descending")}`:"Sort Descending",icon:"sortDescending",action(){Y(Z,"descending")}});if(!this.nohide){if(Q.length)Q.push(null);Q.push({caption:this.localized?`${v0("Hide")} ${v0("Column")}`:"Hide Column",icon:"eyeOff",enabled:()=>Z.visible!==!0,action(){Z.visible=!1,X()}},{caption:this.localized?`${v0("Show")} ${v0("Column")}`:"Show Column",icon:"eye",enabled:()=>q.length>0,menuItems:q.map((K)=>{return{caption:K.name||K.prop,action(){delete K.visible,X()}}})})}U5({target:J,localized:this.localized,menuItems:Q})};get captionSpan(){return this.localized?o7:k8}headerCell=(J)=>{let{popColumnMenu:Z}=this,Y="none",q;switch(J.sort){case"ascending":q=h.sortAscending(),Y="descending";break;case!1:break;default:break;case"descending":Y="ascending",q=h.sortDescending()}let X=!(this.nosort&&this.nohide)?FH({class:"menu-trigger",onClick(Q){Z(Q.target,J),Q.stopPropagation()}},q||h.moreVertical()):{};return J.headerCell!==void 0?J.headerCell(J):k8({class:"th",role:"columnheader",ariaSort:Y,style:{...this.cellStyle,justifyContent:J.align||"left"}},this.captionSpan({style:{flex:"1"}},typeof J.name==="string"?J.name:J.prop),X)};dataCell=(J)=>{if(J.dataCell!==void 0)return J.dataCell(J);return k8({class:"td",role:"cell",style:{...this.cellStyle,justifyContent:J.align||"left"},bindText:`^.${J.prop}`})};get visibleRows(){return Q1(this.rowData.visible)}get visibleSelectedRows(){return this.visibleRows.filter((J)=>J[this.selectedKey])}get selectedRows(){return this.array.filter((J)=>J[this.selectedKey])}rowTemplate(J){return MH(Z4({class:"tr",role:"row",bind:{value:"^",binding:{toDOM:this.selectBinding}}},...J.map(this.dataCell)))}draggedColumn;dropColumn=(J)=>{let Z=J.target.closest(".drag-over"),Y=Array.from(Z.parentElement.children).indexOf(Z),q=this.visibleColumns[Y],X=this.columns.indexOf(this.draggedColumn),Q=this.columns.indexOf(q);this.columns.splice(X,1),this.columns.splice(Q,0,this.draggedColumn),console.log({event:J,target:Z,targetIndex:Y,draggedIndex:X,droppedIndex:Q}),this.queueRender(),J.preventDefault(),J.stopPropagation()};render(){super.render(),this.rowData.pinnedTop=this.pinnedTop>0?this._array.slice(0,this.pinnedTop):[],this.rowData.pinnedBottom=this.pinnedBottom>0?this._array.slice(this._array.length-this.pinnedBottom):[],this.rowData.visible=this.filter(this._array.slice(this.pinnedTop,Math.min(this.maxVisibleRows,this._array.length-this.pinnedTop-this.pinnedBottom)));let{sort:J}=this;if(J)this.rowData.visible.sort(J);this.textContent="",this.style.display="flex",this.style.flexDirection="column";let{visibleColumns:Z}=this;if(this.style.setProperty("--row-height",`${this.rowHeight}px`),this.setColumnWidths(),!this.noreorder)aX();let Y=this.instanceId+"-column-header",q=Z.map((X)=>{let Q=this.headerCell(X);if(!this.noreorder&&Q.children[0]){let K=Q.children[0];K.setAttribute("draggable","true"),K.style.pointerEvents="all",K.dataset.drag=Y,Q.dataset.drop=Y,K.addEventListener("dragstart",()=>{this.draggedColumn=X}),Q.addEventListener("drop",this.dropColumn)}return Q});if(this.append(Z4({class:"thead",role:"rowgroup",style:{touchAction:"none"}},Z4({class:"tr",role:"row"},...q))),this.pinnedTop>0)this.append(Z4({part:"pinnedTopRows",class:"tbody",role:"rowgroup",style:{flex:"0 0 auto",overflow:"hidden",height:`${this.rowHeight*this.pinnedTop}px`},bindList:{value:this.rowData.pinnedTop,virtual:this.virtual}},this.rowTemplate(Z)));if(this.append(Z4({part:"visibleRows",class:"tbody",role:"rowgroup",style:{content:" ",minHeight:"100px",flex:"1 1 100px",overflow:"hidden auto"},bindList:{value:this.rowData.visible,virtual:this.virtual}},this.rowTemplate(Z))),this.pinnedBottom>0)this.append(Z4({part:"pinnedBottomRows",class:"tbody",role:"rowgroup",style:{flex:"0 0 auto",overflow:"hidden",height:`${this.rowHeight*this.pinnedBottom}px`},bindList:{value:this.rowData.pinnedBottom,virtual:this.virtual}},this.rowTemplate(Z)))}}var VH=Y2.elementCreator({tag:"xin-table",styleSpec:{":host":{overflow:"auto hidden"},":host .thead, :host .tbody":{width:F.gridRowWidth},":host .tr":{display:"grid",gridTemplateColumns:F.gridColumns,height:F.rowHeight,lineHeight:F.rowHeight},":host .td, :host .th":{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",display:"flex",alignItems:"center"},":host .th .menu-trigger":{color:"currentColor",background:"none",padding:0,lineHeight:F.touchSize,height:F.touchSize,width:F.touchSize},':host [draggable="true"]':{cursor:"ew-resize"},':host [draggable="true"]:active':{background:B.draggedHeaderBg("#0004"),color:B.draggedHeaderColor("#fff")},":host .drag-over":{background:B.dropHeaderBg("#fff4")}}}),{dialog:IH,button:w8,header:DH,footer:LH,xinSlot:x8,h3:h8,p:v8,label:BH,input:PH,div:EH}=y;class q2 extends k{static async alert(J,Z="Alert"){return new Promise((Y)=>{let q=s7({removeOnClose:!0,closeOnBackgroundClick:!0,dialogWillClose(){Y()}},h8({slot:"header"},Z),v8(J));document.body.append(q),q.showModal()})}static async confirm(J,Z="Confirm"){return new Promise((Y)=>{let q=s7({removeOnClose:!0,dialogWillClose(X){Y(X==="confirm")}},h8({slot:"header"},Z),v8(J),w8({slot:"footer",onClick(){q.close()}},"Cancel"));document.body.append(q),q.showModal()})}static async prompt(J,Z="Prompt",Y=""){return new Promise((q)=>{let X=PH({value:Y}),Q=s7({removeOnClose:!0,dialogWillClose(K){q(K==="confirm"?X.value:null)},initialFocus(){X.focus()}},h8({slot:"header"},Z),v8(BH({style:{display:"flex",flexDirection:"column",alignItems:"stretch",gap:5}},EH(J),X)),w8({slot:"footer",onClick(){Q.close()}},"Cancel"));document.body.append(Q),Q.showModal()})}removeOnClose=!1;closeOnBackgroundClick=!1;constructor(){super();this.initAttributes("removeOnClose","closeOnBackgroundClick"),eJ(this,"click",()=>{if(this.closeOnBackgroundClick)this.close()})}dialogWillClose=(J="cancel")=>{console.log("dialog will close with",J)};initialFocus(){this.parts.ok.focus()}#J=(J)=>{};showModal=()=>{return this.style.zIndex=String(r7()),new Promise((J)=>{this.#J=J,this.parts.dialog.showModal(),requestAnimationFrame(()=>{this.initialFocus()})})};close=(J="cancel")=>{if(this.dialogWillClose(J),this.#J(J),this.parts.dialog.close(),this.removeOnClose)this.remove()};ok=()=>{this.close("confirm")};content=()=>IH({part:"dialog"},DH(x8({name:"header"})),x8(),LH(x8({name:"footer"}),w8({part:"ok",onClick:this.ok},"OK")))}var s7=q2.elementCreator({tag:"tosi-dialog",styleSpec:{":host > dialog::backdrop":{backdropFilter:"blur(8px)"},":host > dialog:not([open])":{display:"none"},":host > dialog[open]":{minWidth:300,border:0,borderRadius:10,overflow:"hidden",maxHeight:"calc(100% - 20px)",padding:0,display:"flex",flexDirection:"column",gap:5,_dialogShadow:B.menuShadow("0 5px 10px #0004"),_dialogBackground:B.background("#fafafa"),_dialogColor:B.textColor("#222"),boxShadow:F.dialogShadow,background:F.dialogBackground,color:F.dialogColor},":host > dialog > *":{padding:"0 20px"},":host > dialog > header":{display:"flex",justifyContent:"center",gap:10},":host > dialog > footer":{display:"flex",justifyContent:"flex-end",gap:10,paddingBottom:20}}}),{div:g1,slot:CH}=y;class f1 extends k{static angleSize=15;static gridSize=8;static snapAngle=!1;static snapToGrid=!1;static styleSpec={":host":{"--handle-bg":"#fff4","--handle-color":"#2228","--handle-hover-bg":"#8ff8","--handle-hover-color":"#222","--handle-size":"20px","--handle-padding":"2px"},":host ::slotted(*)":{position:"absolute"},":host > :not(style,slot)":{boxSizing:"border-box",content:'" "',position:"absolute",display:"flex",height:F.handleSize,width:F.handleSize,padding:F.handlePadding,"--text-color":F.handleColor,background:F.handleBg},":host > .drag-size":{top:0,bottom:0,left:0,right:0,height:"auto",width:"auto",background:"transparent",cursor:"ew-resize"},':host > [part="rotate"]':{transform:`translateY(${F.handleSize_50})`},":host > [locked] > svg:first-child, :host > :not([locked]) > svg+svg":{display:"none"},":host .icon-unlock":{opacity:0.5},":host svg":{pointerEvents:"none"},":host > *:hover":{"--text-color":F.handleHoverColor,background:F.handleHoverBg}};static snappedCoords(J,Z){let{gridSize:Y}=f1;return f1.snapToGrid||J.shiftKey?Z.map((q)=>Math.round(q/Y)*Y):Z}static snappedAngle(J,Z){let{angleSize:Y}=f1;return f1.snapAngle||J.shiftKey?Math.round(Z/Y)*Y:Z}get locked(){let J=this.parentElement;if(J.style.inset)return{left:!0,top:!0,bottom:!0,right:!0};let Z=J.style.right.match(/\d/)!==null,Y=!Z||J.style.left.match(/\d/)!==null,q=J.style.bottom.match(/\d/)!==null,X=!q||J.style.top.match(/\d/)!==null;return{left:Y,top:X,bottom:q,right:Z}}set locked(J){let{bottom:Z,right:Y}=J,{left:q,top:X}=J,Q=this.parentElement,K=Q.offsetLeft,$=Q.offsetTop,U=Q.offsetWidth,j=Q.offsetHeight,W=Q.offsetParent.offsetWidth-K-U,G=Q.offsetParent.offsetHeight-$-j;if(Object.assign(Q.style,{left:"",right:"",top:"",bottom:"",width:"",height:""}),!Y)q=!0;if(!Z)X=!0;if(q)Q.style.left=K+"px";if(Y)Q.style.right=W+"px";if(q&&Y)Q.style.width="auto";else Q.style.width=U+"px";if(X)Q.style.top=$+"px";if(Z)Q.style.bottom=G+"px";if(X&&Z)Q.style.height="auto";else Q.style.height=j+"px";this.queueRender()}get coords(){let{top:J,left:Z,right:Y,bottom:q}=this.parentElement.style;return{top:parseFloat(J),left:parseFloat(Z),right:parseFloat(Y),bottom:parseFloat(q)}}get left(){return this.parentElement.offsetLeft}get width(){return this.parentElement.offsetWidth}get right(){return this.parentElement.offsetParent.offsetWidth-(this.left+this.width)}get top(){return this.parentElement.offsetTop}get height(){return this.parentElement.offsetHeight}get bottom(){return this.parentElement.offsetParent.offsetHeight-(this.top+this.height)}triggerChange=()=>{this.parentElement.dispatchEvent(new Event("change",{bubbles:!0,composed:!0}))};adjustPosition=(J)=>{let{locked:Z}=this;this.locked=Z;let Y=this.parentElement,{top:q,left:X,bottom:Q,right:K}=this.coords;l5(J,($,U,j)=>{if([$,U]=f1.snappedCoords(j,[$,U]),!isNaN(q))Y.style.top=q+U+"px";if(!isNaN(Q))Y.style.bottom=Q-U+"px";if(!isNaN(X))Y.style.left=X+$+"px";if(!isNaN(K))Y.style.right=K-$+"px";if(j.type==="mouseup")return this.triggerChange(),!0})};resize=(J)=>{let Z=this.parentElement,{locked:Y}=this;this.locked=Object.assign({left:!0,top:!0,right:!0,bottom:!0});let[q,X]=[this.right,this.bottom];l5(J,(Q,K,$)=>{let U=q-Q,j=X-K;if([U,j]=f1.snappedCoords($,[U,j]),Z.style.right=U+"px",Z.style.bottom=j+"px",$.type==="mouseup")return this.locked=Y,this.triggerChange(),!0})};adjustSize=(J)=>{let Z=this.parentElement,{locked:Y}=this,q=J.target.getAttribute("part");this.locked=Object.assign({left:!0,right:!0,top:!0,bottom:!0});let X=this[q];l5(J,(Q,K,$)=>{let[U]=f1.snappedCoords($,[X+(["left","right"].includes(q)?Q:K)*(["right","bottom"].includes(q)?-1:1)]);if(Z.style[q]=U+"px",$.type==="mouseup")return this.locked=Y,this.triggerChange(),!0})};get rect(){return this.parentElement.getBoundingClientRect()}get center(){let J=this.parentElement.getBoundingClientRect();return{x:J.x+J.width*0.5,y:J.y+J.height*0.5}}get element(){return this.parentElement}adjustRotation=(J)=>{let{center:Z}=this,{transformOrigin:Y}=this.element.style;if(!Y)this.element.style.transformOrigin="50% 50%";l5(J,(q,X,Q)=>{let{clientX:K,clientY:$}=Q,U=K-Z.x,j=$-Z.y,W=j>0?90:-90;if(U!==0)W=Math.atan2(j,U)*180/Math.PI;if(W=f1.snappedAngle(Q,W),W===0)this.element.style.transformOrigin="",this.element.style.transform="";else this.element.style.transform=`rotate(${W}deg)`;return this.triggerChange(),Q.type==="mouseup"})};toggleLock=(J)=>{let{locked:Z}=this,Y=J.target.title.split(" ")[1];Z[Y]=!Z[Y],this.locked=Z,this.queueRender(),J.stopPropagation(),J.preventDefault()};content=()=>[g1({part:"move",style:{top:"50%",left:"50%",transform:"translate(-50%,-50%)"}},h.move()),g1({part:"left",title:"resize left",class:"drag-size",style:{left:"-6px",width:"8px"}}),g1({part:"right",title:"resize right",class:"drag-size",style:{left:"calc(100% - 2px)",width:"8px"}}),g1({part:"top",title:"resize top",class:"drag-size",style:{top:"-6px",height:"8px",cursor:"ns-resize"}}),g1({part:"bottom",title:"resize bottom",class:"drag-size",style:{top:"calc(100% - 2px)",height:"8px",cursor:"ns-resize"}}),g1({part:"resize",style:{top:"100%",left:"100%"}},h.resize()),g1({part:"rotate",style:{top:"50%",right:"0"}},h.refreshCw()),g1({part:"lockLeft",title:"lock left",style:{top:"50%",left:0,transform:"translate(-100%, -50%)"}},h.unlock(),h.lock()),g1({part:"lockRight",title:"lock right",style:{top:"50%",left:"100%",transform:"translate(0%, -50%)"}},h.unlock(),h.lock()),g1({part:"lockTop",title:"lock top",style:{top:0,left:"50%",transform:"translate(-50%, -100%)"}},h.unlock(),h.lock()),g1({part:"lockBottom",title:"lock bottom",style:{top:"100%",left:"50%",transform:"translate(-50%, 0%)"}},h.unlock(),h.lock()),CH()];constructor(){super();this.initAttributes("rotationSnap","positionSnap")}connectedCallback(){super.connectedCallback();let{left:J,right:Z,top:Y,bottom:q,lockLeft:X,lockRight:Q,lockTop:K,lockBottom:$,move:U,resize:j,rotate:W}=this.parts,G={passive:!0};[J,Z,Y,q].forEach((z)=>{z.addEventListener("mousedown",this.adjustSize,G),z.addEventListener("touchstart",this.adjustSize,G)}),[X,Q,K,$].forEach((z)=>{z.addEventListener("click",this.toggleLock)}),j.addEventListener("mousedown",this.resize,G),U.addEventListener("mousedown",this.adjustPosition,G),W.addEventListener("mousedown",this.adjustRotation,G),j.addEventListener("touchstart",this.resize,G),U.addEventListener("touchstart",this.adjustPosition,G),W.addEventListener("touchstart",this.adjustRotation,G)}render(){if(super.render(),!this.parentElement)return;let{lockLeft:J,lockRight:Z,lockTop:Y,lockBottom:q}=this.parts,{left:X,right:Q,top:K,bottom:$}=this.locked;J.toggleAttribute("locked",X),Z.toggleAttribute("locked",Q),Y.toggleAttribute("locked",K),q.toggleAttribute("locked",$)}}var TH=f1.elementCreator({tag:"xin-editable"}),{div:yH,input:bH,button:n8,span:SH}=y,AX=(J)=>J,FX="null filter, everything matches",X2={contains:{caption:"contains",negative:"does not contain",makeTest:(J)=>{return J=J.toLocaleLowerCase(),(Z)=>String(Z).toLocaleLowerCase().includes(J)}},hasTags:{caption:"has tags",makeTest:(J)=>{let Z=J.split(/[\s,]/).map((Y)=>Y.trim().toLocaleLowerCase()).filter((Y)=>Y!=="");return(Y)=>Array.isArray(Y)&&Z.find((q)=>!Y.includes(q))===void 0}},doesNotHaveTags:{caption:"does not have tags",makeTest:(J)=>{let Z=J.split(/[\s,]/).map((Y)=>Y.trim().toLocaleLowerCase()).filter((Y)=>Y!=="");return(Y)=>Array.isArray(Y)&&Z.find((q)=>Y.includes(q))===void 0}},equals:{caption:"=",negative:"",makeTest:(J)=>{if(isNaN(Number(J)))return J=String(J).toLocaleLowerCase(),(Y)=>String(Y).toLocaleLowerCase()===J;let Z=Number(J);return(Y)=>Number(Y)===Z}},after:{caption:"is after",negative:"is before",makeTest:(J)=>{let Z=new Date(J);return(Y)=>new Date(Y)>Z}},greaterThan:{caption:">",negative:"",makeTest:(J)=>{if(!isNaN(Number(J))){let Z=Number(J);return(Y)=>Number(Y)>Z}return J=J.toLocaleLowerCase(),(Z)=>String(Z).toLocaleLowerCase()>J}},truthy:{caption:"is true/non-empty/non-zero",negative:"is false/empty/zero",needsValue:!1,makeTest:()=>(J)=>!!J},isTrue:{caption:"= true",needsValue:!1,makeTest:()=>(J)=>J===!0},isFalse:{caption:"= false",needsValue:!1,makeTest:()=>(J)=>J===!1}},kH={description:"anything",test:()=>!0};function MX(J){return J.options[J.selectedIndex]?.caption||""}class Q2 extends k{fields=[];filters=X2;haystack="*";condition="contains";needle="";content=()=>[DJ({part:"haystack"}),DJ({part:"condition"}),bH({part:"needle",type:"search"}),SH({part:"padding"}),n8({part:"remove",title:"delete"},h.trash())];filter=kH;constructor(){super();this.initAttributes("haystack","condition","needle")}get state(){let{haystack:J,needle:Z,condition:Y}=this.parts;return{haystack:J.value,needle:Z.value,condition:Y.value}}set state(J){Object.assign(this,J)}buildFilter=()=>{let{haystack:J,condition:Z,needle:Y}=this.parts,q=Z.value.startsWith("~"),X=q?Z.value.slice(1):Z.value,Q=this.filters[X];Y.hidden=Q.needsValue===!1;let K=Q.needsValue===!1?Q.makeTest(void 0):Q.makeTest(Y.value),$=J.value,U;if($!=="*")U=q?(G)=>!K(G[$]):(G)=>K(G[$]);else U=q?(G)=>Object.values(G).find((z)=>!K(z))!==void 0:(G)=>Object.values(G).find((z)=>K(z))!==void 0;let j=Q.needsValue!==!1?` "${Y.value}"`:"",W=`${MX(J)} ${MX(Z)}${j}`;this.filter={description:W,test:U},this.parentElement?.dispatchEvent(new Event("change"))};connectedCallback(){super.connectedCallback();let{haystack:J,condition:Z,needle:Y,remove:q}=this.parts;J.addEventListener("change",this.buildFilter),Z.addEventListener("change",this.buildFilter),Y.addEventListener("input",this.buildFilter),J.value=this.haystack,Z.value=this.condition,Y.value=this.needle,q.addEventListener("click",()=>{let{parentElement:X}=this;this.remove(),X?.dispatchEvent(new Event("change"))})}render(){super.render();let{haystack:J,condition:Z,needle:Y}=this.parts;if(J.options=[{caption:"any field",value:"*"},...this.fields.map((q)=>q.prop)],Z.options=Object.keys(this.filters).map((q)=>{let X=this.filters[q];return X.negative!==void 0?[{caption:X.caption,value:q},{caption:X.negative,value:"~"+q}]:{caption:X.caption,value:q}}).flat(),this.haystack!=="")J.value=this.haystack;if(this.condition!=="")Z.value=this.condition;if(this.needle!=="")Y.value=this.needle;this.buildFilter()}}var a7=Q2.elementCreator({tag:"xin-filter-part",styleSpec:{":host":{display:"flex"},":host .xin-icon:":{verticalAlign:"middle",pointerEvents:"none"},':host [part="haystack"], :host [part="condition"]':{flex:"1"},':host [part="needle"]':{flex:2},':host [hidden]+[part="padding"]':{display:"block",content:" ",flex:"1 1 auto"}}});class K2 extends k{_fields=[];get fields(){return this._fields}set fields(J){this._fields=J,this.queueRender()}get state(){let{filterContainer:J}=this.parts;return[...J.children].map((Z)=>Z.state)}set state(J){let{fields:Z,filters:Y}=this,{filterContainer:q}=this.parts;q.textContent="";for(let X of J)q.append(a7({fields:Z,filters:Y,...X}))}filter=AX;description=FX;addFilter=()=>{let{fields:J,filters:Z}=this,{filterContainer:Y}=this.parts;Y.append(a7({fields:J,filters:Z}))};content=()=>[n8({part:"add",title:"add filter condition",onClick:this.addFilter,class:"round"},h.plus()),yH({part:"filterContainer"}),n8({part:"reset",title:"reset filter",onClick:this.reset},h.x())];filters=X2;reset=()=>{let{fields:J,filters:Z}=this,{filterContainer:Y}=this.parts;this.description=FX,this.filter=AX,Y.textContent="",Y.append(a7({fields:J,filters:Z})),this.dispatchEvent(new Event("change"))};buildFilter=()=>{let{filterContainer:J}=this.parts;if(J.children.length===0){this.reset();return}let Z=[...J.children].map((q)=>q.filter),Y=Z.map((q)=>q.test);this.description=Z.map((q)=>q.description).join(", "),this.filter=(q)=>q.filter((X)=>Y.find((Q)=>Q(X)===!1)===void 0),this.dispatchEvent(new Event("change"))};connectedCallback(){super.connectedCallback();let{filterContainer:J}=this.parts;J.addEventListener("change",this.buildFilter),this.reset()}render(){super.render()}}var wH=K2.elementCreator({tag:"xin-filter",styleSpec:{":host":{height:"auto",display:"grid",gridTemplateColumns:"32px calc(100% - 64px) 32px",alignItems:"center"},':host [part="filterContainer"]':{display:"flex",flexDirection:"column",alignItems:"stretch",flex:"1 1 auto"},':host [part="haystack"]':{_fieldWidth:"100px"},':host [part="condition"]':{_fieldWidth:"60px"},':host [part="needle"]':{_fieldWidth:"80px"},':host [part="add"], :host [part="reset"]':{"--button-size":"var(--touch-size, 32px)",borderRadius:"999px",height:"var(--button-size)",lineHeight:"var(--button-size)",margin:"0",padding:"0",textAlign:"center",width:"var(--button-size)",flex:"0 0 var(--button-size)"}}}),{form:xH,slot:u8,xinSlot:VX,label:hH,input:vH,span:uH}=y;function f5(J,Z,Y){if(Y!==""&&Y!==!1)J.setAttribute(Z,Y);else J.removeAttribute(Z)}function mH(J){switch(J.type){case"checkbox":return J.checked;case"radio":{let Z=J.parentElement?.querySelector(`input[type="radio"][name="${J.name}"]:checked`);return Z?Z.value:null}case"range":case"number":return Number(J.value);default:return Array.isArray(J.value)&&J.value.length===0?null:J.value}}function IX(J,Z){if(!(J instanceof HTMLElement));else if(J instanceof HTMLInputElement)switch(J.type){case"checkbox":J.checked=Z;break;case"radio":J.checked=Z===J.value;break;default:J.value=String(Z||"")}else if(Z!=null||J.value!=null)J.value=String(Z||"")}class t7 extends k{caption="";key="";type="";optional=!1;pattern="";placeholder="";min="";max="";step="";fixedPrecision=-1;value=null;content=hH(VX({part:"caption"}),uH({part:"field"},VX({part:"input",name:"input"}),vH({part:"valueHolder"})));constructor(){super();this.initAttributes("caption","key","type","optional","pattern","placeholder","min","max","step","fixedPrecision","prefix","suffix")}valueChanged=!1;handleChange=()=>{let{input:J,valueHolder:Z}=this.parts,Y=J.children[0]||Z;if(Y!==Z)Z.value=Y.value;this.value=mH(Y),this.valueChanged=!0;let q=this.closest("xin-form");if(q&&this.key!=="")switch(this.type){case"checkbox":q.fields[this.key]=Y.checked;break;case"number":case"range":if(this.fixedPrecision>-1)Y.value=Number(Y.value).toFixed(this.fixedPrecision),q.fields[this.key]=Number(Y.value);else q.fields[this.key]=Number(Y.value);break;default:q.fields[this.key]=Y.value}};initialize(J){let Z=J.fields[this.key]!==void 0?J.fields[this.key]:this.value;if(Z!=null&&Z!==""){if(J.fields[this.key]==null)J.fields[this.key]=Z;this.value=Z}}connectedCallback(){super.connectedCallback();let{input:J,valueHolder:Z}=this.parts,Y=this.closest(j3.tagName);if(Y instanceof j3)this.initialize(Y);Z.addEventListener("change",this.handleChange),J.addEventListener("change",this.handleChange,!0)}render(){if(this.valueChanged){this.valueChanged=!1;return}let{input:J,caption:Z,valueHolder:Y,field:q}=this.parts;if(Z.textContent?.trim()==="")Z.append(this.caption!==""?this.caption:this.key);if(this.type==="text"){J.textContent="";let X=y.textarea({value:this.value});if(this.placeholder)X.setAttribute("placeholder",this.placeholder);J.append(X)}else if(this.type==="color")J.textContent="",J.append(wX({value:this.value}));else if(J.children.length===0){if(f5(Y,"placeholder",this.placeholder),f5(Y,"type",this.type),f5(Y,"pattern",this.pattern),f5(Y,"min",this.min),f5(Y,"max",this.max),this.step)f5(Y,"step",this.step);else if(this.fixedPrecision>0&&this.type==="number")f5(Y,"step",Math.pow(10,-this.fixedPrecision))}if(IX(Y,this.value),IX(J.children[0],this.value),this.prefix?q.setAttribute("prefix",this.prefix):q.removeAttribute("prefix"),this.suffix?q.setAttribute("suffix",this.suffix):q.removeAttribute("suffix"),Y.classList.toggle("hidden",J.children.length>0),J.children.length>0)Y.setAttribute("tabindex","-1");else Y.removeAttribute("tabindex");J.style.display=J.children.length===0?"none":"",f5(Y,"required",!this.optional)}}class j3 extends k{context={};value={};get isValid(){return[...this.querySelectorAll("*")].filter((J)=>J.required!==void 0).find((J)=>!J.reportValidity())===void 0}static styleSpec={":host":{display:"flex",flexDirection:"column"},":host::part(header), :host::part(footer)":{display:"flex"},":host::part(content)":{display:"flex",flexDirection:"column",overflow:"hidden auto",height:"100%",width:"100%",position:"relative",boxSizing:"border-box"},":host form":{display:"flex",flex:"1 1 auto",position:"relative",overflow:"hidden"}};content=[u8({part:"header",name:"header"}),xH({part:"form"},u8({part:"content"})),u8({part:"footer",name:"footer"})];getField=(J)=>{return this.querySelector(`xin-field[key="${J}"]`)};get fields(){if(typeof this.value==="string")try{this.value=JSON.parse(this.value)}catch(Y){console.log("<xin-form> could not use its value, expects valid JSON"),this.value={}}let{getField:J}=this,Z=this.dispatchEvent.bind(this);return new Proxy(this.value,{get(Y,q){return Y[q]},set(Y,q,X){if(Y[q]!==X){Y[q]=X;let Q=J(q);if(Q)Q.value=X;Z(new Event("change"))}return!0}})}set fields(J){let Z=[...this.querySelectorAll(t7.tagName)];for(let Y of Z)Y.value=J[Y.key]}submit=()=>{this.parts.form.dispatchEvent(new Event("submit"))};handleSubmit=(J)=>{J.preventDefault(),J.stopPropagation(),this.submitCallback(this.value,this.isValid)};submitCallback=(J,Z)=>{console.log("override submitCallback to handle this data",{value:J,isValid:Z})};connectedCallback(){super.connectedCallback();let{form:J}=this.parts;J.addEventListener("submit",this.handleSubmit)}}var gH=t7.elementCreator({tag:"xin-field",styleSpec:{':host [part="field"]':{position:"relative",display:"flex",alignItems:"center",gap:B.prefixSuffixGap("8px")},':host [part="field"][prefix]::before':{content:"attr(prefix)"},':host [part="field"][suffix]::after':{content:"attr(suffix)"},':host [part="field"] > *, :host [part="input"] > *':{width:"100%"},":host textarea":{resize:"none"},':host input[type="checkbox"]':{width:"fit-content"},":host .hidden":{position:"absolute",pointerEvents:"none",opacity:0}}}),fH=j3.elementCreator({tag:"xin-form"});function rX(){return navigator.getGamepads().filter((J)=>J!==null).map((J)=>{let{id:Z,axes:Y,buttons:q}=J;return{id:Z,axes:Y,buttons:q.map((X,Q)=>{let{pressed:K,value:$}=X;return{index:Q,pressed:K,value:$}}).filter((X)=>X.pressed||X.value!==0).reduce((X,Q)=>{return X[Q.index]=Q.value,X},{})}})}function lH(){let J=rX();return J.length===0?"no active gamepads":J.map(({id:Z,axes:Y,buttons:q})=>{let X=Y.map((K)=>K.toFixed(2)).join(" "),Q=Object.keys(q).map((K)=>`[${K}](${q[Number(K)].toFixed(2)})`).join(" ");return`${Z}
${X}
${Q}`}).join(`
`)}function pH(J){let Z={};return J.input.onControllerAddedObservable.add((Y)=>{Y.onMotionControllerInitObservable.add((q)=>{let X={};q.getComponentIds().forEach((Q)=>{let K=q.getComponent(Q);if(X[Q]={pressed:K.pressed},K.onButtonStateChangedObservable.add(()=>{X[Q].pressed=K.pressed}),K.onAxisValueChangedObservable)X[Q].axes=[],K.onAxisValueChangedObservable.add(($)=>{X[Q].axes=$})}),Z[q.handedness]=X})}),Z}function dH(J){if(J===void 0||Object.keys(J).length===0)return"no xr inputs";return Object.keys(J).map((Z)=>{let Y=J[Z],q=Object.keys(Y).filter((X)=>Y[X].pressed).join(" ");return`${Z}
${q}`}).join(`
`)}var{div:RJ,slot:DX,span:cH,button:nH}=y;class $2 extends k{value=0;localized=!1;makeTab(J,Z,Y){let q=Z.getAttribute("name"),X=Z.querySelector('template[role="tab"]')?.content.cloneNode(!0)||(this.localized?o7(q):cH(q));return RJ(X,{part:"tab",tabindex:0,role:"tab",ariaControls:Y},Z.hasAttribute("data-close")?nH({title:"close",class:"close"},h.x()):{})}static styleSpec={":host":{display:"flex",flexDirection:"column",position:"relative",overflow:"hidden",boxShadow:"none !important"},slot:{position:"relative",display:"block",flex:"1",overflow:"hidden",overflowY:"auto"},'slot[name="after-tabs"]':{flex:"0 0 auto"},"::slotted([hidden])":{display:"none !important"},":host::part(tabpanel)":{display:"flex",flexDirection:"column",overflowX:"auto"},":host::part(tabrow)":{display:"flex"},":host .tabs":{display:"flex",userSelect:"none",whiteSpace:"nowrap"},":host .tabs > div":{padding:`${F.spacing50} ${F.spacing}`,cursor:"default",display:"flex",alignItems:"baseline"},':host .tabs > [aria-selected="true"]':{"--text-color":F.xinTabsSelectedColor,color:F.textColor},":host .elastic":{flex:"1"},":host .border":{background:"var(--xin-tabs-bar-color, #ccc)"},":host .border > .selected":{content:" ",width:0,height:"var(--xin-tabs-bar-height, 2px)",background:F.xinTabsSelectedColor,transition:"ease-out 0.2s"},":host button.close":{border:0,background:"transparent",textAlign:"center",marginLeft:F.spacing50,padding:0},":host button.close > svg":{height:"12px"}};onCloseTab=null;content=[RJ({role:"tabpanel",part:"tabpanel"},RJ({part:"tabrow"},RJ({class:"tabs",part:"tabs"}),RJ({class:"elastic"}),DX({name:"after-tabs"})),RJ({class:"border"},RJ({class:"selected",part:"selected"}))),DX()];constructor(){super();this.initAttributes("localized")}addTabBody(J,Z=!1){if(!J.hasAttribute("name"))throw console.error("element has no name attribute",J),Error("element has no name attribute");if(this.append(J),this.setupTabs(),Z)this.value=this.bodies.length-1;this.queueRender()}removeTabBody(J){J.remove(),this.setupTabs(),this.queueRender()}keyTab=(J)=>{let{tabs:Z}=this.parts,Y=[...Z.children].indexOf(J.target);switch(J.key){case"ArrowLeft":this.value=(Y+Number(Z.children.length)-1)%Z.children.length,Z.children[this.value].focus(),J.preventDefault();break;case"ArrowRight":this.value=(Y+1)%Z.children.length,Z.children[this.value].focus(),J.preventDefault();break;case" ":this.pickTab(J),J.preventDefault();break;default:}};get bodies(){return[...this.children].filter((J)=>J.hasAttribute("name"))}pickTab=(J)=>{let{tabs:Z}=this.parts,Y=J.target,q=Y.closest("button.close")!==null,X=Y.closest(".tabs > div"),Q=[...Z.children].indexOf(X);if(q){let K=this.bodies[Q];if(!this.onCloseTab||this.onCloseTab(K)!==!1)this.removeTabBody(this.bodies[Q])}else if(Q>-1)this.value=Q};setupTabs=()=>{let{tabs:J}=this.parts,Z=[...this.children].filter((Y)=>!Y.hasAttribute("slot")&&Y.hasAttribute("name"));if(J.textContent="",this.value>=Z.length)this.value=Z.length-1;for(let Y in Z){let q=Z[Y],X=`${this.instanceId}-${Y}`;q.id=X;let Q=this.makeTab(this,q,X);J.append(Q)}};connectedCallback(){super.connectedCallback();let{tabs:J}=this.parts;J.addEventListener("click",this.pickTab),J.addEventListener("keydown",this.keyTab),this.setupTabs(),$5.allInstances.add(this)}disconnectedCallback(){super.disconnectedCallback(),$5.allInstances.delete(this)}localeChanged=()=>{this.queueRender()};onResize(){this.queueRender()}render(){let{tabs:J,selected:Z}=this.parts,Y=this.bodies;for(let q=0;q<Y.length;q++){let X=Y[q],Q=J.children[q];if(this.value===Number(q))Q.setAttribute("aria-selected","true"),Z.style.marginLeft=`${Q.offsetLeft-J.offsetLeft}px`,Z.style.width=`${Q.offsetWidth}px`,X.toggleAttribute("hidden",!1);else Q.toggleAttribute("aria-selected",!1),X.toggleAttribute("hidden",!0)}}}var oX=$2.elementCreator({tag:"xin-tabs"}),{div:p7,xinSlot:iH,style:sH,button:AJ,h4:hB,pre:aH,code:vB}=y,rH=()=>"https://cdn.jsdelivr.net/npm/sucrase@3.35.0/+esm",oH=(async()=>{}).constructor;class $4 extends k{persistToDom=!1;prettier=!1;prefix="lx";storageKey="live-example-payload";context={};uuid=crypto.randomUUID();remoteId="";lastUpdate=0;interval;static insertExamples(J,Z={}){let Y=[...J.querySelectorAll(".language-html,.language-js,.language-css")].filter((q)=>!q.closest($4.tagName)).map((q)=>({block:q.parentElement,language:q.classList[0].split("-").pop(),code:q.innerText}));for(let q=0;q<Y.length;q+=1){let X=[Y[q]];while(q<Y.length-1&&Y[q].block.nextElementSibling===Y[q+1].block)X.push(Y[q+1]),q+=1;let Q=U2({context:Z});X[0].block.parentElement.insertBefore(Q,X[0].block),X.forEach((K)=>{switch(K.language){case"js":Q.js=K.code;break;case"html":Q.html=K.code;break;case"css":Q.css=K.code;break}K.block.remove()}),Q.showDefaultTab()}}constructor(){super();this.initAttributes("persistToDom","prettier")}get activeTab(){let{editors:J}=this.parts;return[...J.children].find((Z)=>Z.getAttribute("hidden")===null)}getEditorValue(J){return this.parts[J].value}setEditorValue(J,Z){let Y=this.parts[J];Y.value=Z}get css(){return this.getEditorValue("css")}set css(J){this.setEditorValue("css",J)}get html(){return this.getEditorValue("html")}set html(J){this.setEditorValue("html",J)}get js(){return this.getEditorValue("js")}set js(J){this.setEditorValue("js",J)}updateUndo=()=>{let{activeTab:J}=this,{undo:Z,redo:Y}=this.parts;if(J instanceof Q4&&J.editor!==void 0){let q=J.editor.session.getUndoManager();Z.disabled=!q.hasUndo(),Y.disabled=!q.hasRedo()}else Z.disabled=!0,Y.disabled=!0};undo=()=>{let{activeTab:J}=this;if(J instanceof Q4)J.editor.undo()};redo=()=>{let{activeTab:J}=this;if(J instanceof Q4)J.editor.redo()};get isMaximized(){return this.classList.contains("-maximize")}flipLayout=()=>{this.classList.toggle("-vertical")};exampleMenu=()=>{U5({target:this.parts.exampleWidgets,width:"auto",menuItems:[{icon:"edit2",caption:"view/edit code",action:this.showCode},{icon:"edit",caption:"view/edit code in a new window",action:this.openEditorWindow},null,{icon:this.isMaximized?"minimize":"maximize",caption:this.isMaximized?"restore preview":"maximize preview",action:this.toggleMaximize}]})};handleShortcuts=(J)=>{if(J.metaKey||J.ctrlKey){let Z=!1;switch(J.key){case"s":case"r":this.refresh(),Z=!0;break;case"/":this.flipLayout();break;case"c":if(J.shiftKey)this.copy(),Z=!0;break}if(Z)J.preventDefault(),J.stopPropagation()}};content=()=>[p7({part:"example"},sH({part:"style"}),AJ({title:"example menu",part:"exampleWidgets",onClick:this.exampleMenu},h.code())),p7({class:"code-editors",part:"codeEditors",onKeydown:this.handleShortcuts,hidden:!0},oX({part:"editors",onChange:this.updateUndo},n7({name:"js",mode:"javascript",part:"js"}),n7({name:"html",mode:"html",part:"html"}),n7({name:"css",mode:"css",part:"css"}),p7({slot:"after-tabs",class:"row"},AJ({title:"undo",part:"undo",class:"transparent",onClick:this.undo},h.cornerUpLeft()),AJ({title:"redo",part:"redo",class:"transparent",onClick:this.redo},h.cornerUpRight()),AJ({title:"flip direction (/ | ^/)",class:"transparent",onClick:this.flipLayout},h.columns({class:"layout-indicator"})),AJ({title:"copy as markdown (C | ^C)",class:"transparent",onClick:this.copy},h.copy()),AJ({title:"reload (R | ^R)",class:"transparent",onClick:this.refreshRemote},h.refreshCw()),AJ({title:"close code",class:"transparent",onClick:this.closeCode},h.x())))),iH({part:"sources",hidden:!0})];connectedCallback(){super.connectedCallback();let{sources:J}=this.parts;this.initFromElements([...J.children]),addEventListener("storage",this.remoteChange),this.interval=setInterval(this.remoteChange,500),this.undoInterval=setInterval(this.updateUndo,250)}disconnectedCallback(){super.disconnectedCallback();let{storageKey:J,remoteKey:Z}=this;clearInterval(this.interval),clearInterval(this.undoInterval),localStorage.setItem(J,JSON.stringify({remoteKey:Z,sentAt:Date.now(),close:!0}))}copy=()=>{let J=this.js!==""?"```js\n"+this.js.trim()+"\n```\n":"",Z=this.html!==""?"```html\n"+this.html.trim()+"\n```\n":"",Y=this.css!==""?"```css\n"+this.css.trim()+"\n```\n":"";navigator.clipboard.writeText(J+Z+Y)};toggleMaximize=()=>{this.classList.toggle("-maximize")};get remoteKey(){return this.remoteId!==""?this.prefix+"-"+this.remoteId:this.prefix+"-"+this.uuid}remoteChange=(J)=>{let Z=localStorage.getItem(this.storageKey);if(J instanceof StorageEvent&&J.key!==this.storageKey)return;if(Z===null)return;let{remoteKey:Y,sentAt:q,css:X,html:Q,js:K,close:$}=JSON.parse(Z);if(q<=this.lastUpdate)return;if(Y!==this.remoteKey)return;if($===!0)window.close();console.log("received new code",q,this.lastUpdate),this.lastUpdate=q,this.css=X,this.html=Q,this.js=K,this.refresh()};showCode=()=>{this.classList.add("-maximize"),this.classList.toggle("-vertical",this.offsetHeight>this.offsetWidth),this.parts.codeEditors.hidden=!1};closeCode=()=>{if(this.remoteId!=="")window.close();else this.classList.remove("-maximize"),this.parts.codeEditors.hidden=!0};openEditorWindow=()=>{let{storageKey:J,remoteKey:Z,css:Y,html:q,js:X,uuid:Q,prefix:K}=this,$=location.href.split("?")[0]+`?${K}=${Q}`;localStorage.setItem(J,JSON.stringify({remoteKey:Z,sentAt:Date.now(),css:Y,html:q,js:X})),window.open($)};refreshRemote=()=>{let{remoteKey:J,css:Z,html:Y,js:q}=this;localStorage.setItem(this.storageKey,JSON.stringify({remoteKey:J,sentAt:Date.now(),css:Z,html:Y,js:q}))};updateSources=()=>{if(this.persistToDom){let{sources:J}=this.parts;J.innerText="";for(let Z of["js","css","html"])if(this[Z])J.append(aH({class:`language-${Z}`,innerHTML:this[Z]}))}};refresh=async()=>{if(this.remoteId!=="")return;let{transform:J}=await import(rH()),{example:Z,style:Y}=this.parts,q=p7({class:"preview"});q.innerHTML=this.html,Y.innerText=this.css;let X=Z.querySelector(".preview");if(X)X.replaceWith(q);else Z.insertBefore(q,this.parts.exampleWidgets);let Q={preview:q,...this.context};try{let K=this.js;for(let $ of Object.keys(this.context))K=K.replace(new RegExp(`import \\{(.*)\\} from '${$}'`,"g"),`const {$1} = ${$.replace(/-/g,"")}`);if(new oH(...Object.keys(Q).map(($)=>$.replace(/-/g,"")),J(K,{transforms:["typescript"]}).code)(...Object.values(Q)).catch(($)=>console.error($)),this.persistToDom)this.updateSources()}catch(K){console.error(K),window.alert(`Error: ${K}, the console may have more information`)}};initFromElements(J){for(let Z of J){Z.hidden=!0;let[Y,...q]=Z.innerHTML.split(`
`);if(["js","html","css"].includes(Y)){let X=q.filter((K)=>K.trim()!=="").map((K)=>K.match(/^\s*/)[0].length).sort()[0],Q=(X>0?q.map((K)=>K.substring(X)):q).join(`
`);this.parts[Y].value=Q}else{let X=["js","html","css"].find((Q)=>Z.matches(`.language-${Q}`));if(X)this.parts[X].value=X==="html"?Z.innerHTML:Z.innerText}}}showDefaultTab(){let{editors:J}=this.parts;if(this.js!=="")J.value=0;else if(this.html!=="")J.value=1;else if(this.css!=="")J.value=2}render(){if(super.render(),this.remoteId!==""){let J=localStorage.getItem(this.storageKey);if(J!==null){let{remoteKey:Z,sentAt:Y,css:q,html:X,js:Q}=JSON.parse(J);if(this.remoteKey!==Z)return;this.lastUpdate=Y,this.css=q,this.html=X,this.js=Q,this.parts.example.hidden=!0,this.parts.codeEditors.hidden=!1,this.classList.add("-maximize"),this.updateUndo()}}else this.refresh()}}var U2=$4.elementCreator({tag:"xin-example",styleSpec:{":host":{"--xin-example-height":"320px","--code-editors-bar-bg":"#777","--code-editors-bar-color":"#fff","--widget-bg":"#fff8","--widget-color":"#000",position:"relative",display:"flex",height:"var(--xin-example-height)",background:"var(--background)",boxSizing:"border-box"},":host.-maximize":{position:"fixed",left:"0",top:"0",height:"100vh",width:"100vw",margin:"0 !important"},".-maximize":{zIndex:101},":host.-vertical":{flexDirection:"column"},":host .layout-indicator":{transition:"0.5s ease-out",transform:"rotateZ(270deg)"},":host.-vertical .layout-indicator":{transform:"rotateZ(180deg)"},":host.-maximize .hide-if-maximized, :host:not(.-maximize) .show-if-maximized":{display:"none"},':host [part="example"]':{flex:"1 1 50%",height:"100%",position:"relative",overflowX:"auto"},":host .preview":{height:"100%",position:"relative",overflow:"hidden",boxShadow:"inset 0 0 0 2px #8883"},':host [part="editors"]':{flex:"1 1 200px",height:"100%",position:"relative"},':host [part="exampleWidgets"]':{position:"absolute",left:"5px",bottom:"5px","--widget-color":"var(--brand-color)",borderRadius:"5px",width:"44px",height:"44px",lineHeight:"44px",zIndex:"100"},':host [part="exampleWidgets"] svg':{stroke:"var(--widget-color)"},":host .code-editors":{overflow:"hidden",background:"white",position:"relative",top:"0",right:"0",flex:"1 1 50%",height:"100%",flexDirection:"column",zIndex:"10"},":host .code-editors:not([hidden])":{display:"flex"},":host .code-editors > h4":{padding:"5px",margin:"0",textAlign:"center",background:"var(--code-editors-bar-bg)",color:"var(--code-editors-bar-color)",cursor:"move"},":host button.transparent, :host .sizer":{width:"32px",height:"32px",lineHeight:"32px",textAlign:"center",padding:"0",margin:"0"},":host .sizer":{cursor:"nwse-resize"}}}),tH=new URL(window.location.href).searchParams,LX=tH.get("lx");if(LX)document.title+=" [code editor]",document.body.textContent="",document.body.append(U2({remoteId:LX}));var{div:eH}=y;class MJ extends k{coords="65.01715565258993,25.48081004203459,12";content=eH({style:{width:"100%",height:"100%"}});get map(){return this._map}mapStyle="mapbox://styles/mapbox/streets-v12";token="";static mapboxCSSAvailable;static mapboxAvailable;_map;static styleSpec={":host":{display:"inline-block",position:"relative",width:"400px",height:"400px",textAlign:"left"}};constructor(){super();if(this.initAttributes("coords","token","mapStyle"),MJ.mapboxCSSAvailable===void 0)MJ.mapboxCSSAvailable=TX("https://api.mapbox.com/mapbox-gl-js/v1.4.1/mapbox-gl.css").catch((J)=>{console.error("failed to load mapbox-gl.css",J)}),MJ.mapboxAvailable=VJ("https://api.mapbox.com/mapbox-gl-js/v1.4.1/mapbox-gl.js").catch((J)=>{console.error("failed to load mapbox-gl.js",J)})}connectedCallback(){if(super.connectedCallback(),!this.token)console.error("mapbox requires an access token which you can provide via the token attribute")}render(){if(super.render(),!this.token)return;let{div:J}=this.parts,[Z,Y,q]=this.coords.split(",").map((X)=>Number(X));if(this.map)this.map.remove();MJ.mapboxAvailable.then(({mapboxgl:X})=>{console.log("%cmapbox may complain about missing css -- don't panic!","background: orange; color: black; padding: 0 5px;"),X.accessToken=this.token,this._map=new X.Map({container:J,style:this.mapStyle,zoom:q,center:[Y,Z]}),this._map.on("render",()=>this._map.resize())})}}var JN=MJ.elementCreator({tag:"xin-map"});function tX(J,Z){if(Z==null)Z="";else if(typeof Z!=="string")Z=String(Z);return Z.replace(/\{\{([^}]+)\}\}/g,(Y,q)=>{let X=x0[`${J}${q.startsWith("[")?q:"."+q}`];return X===void 0?Y:tX(J,String(X))})}class W2 extends k{src="";value="";content=null;elements=!1;context={};options={};constructor(){super();this.initAttributes("src","elements","context")}connectedCallback(){if(super.connectedCallback(),this.src!=="")(async()=>{let J=await fetch(this.src);this.value=await J.text()})();else if(this.value==="")if(this.elements)this.value=this.innerHTML;else this.value=this.textContent!=null?this.textContent:""}didRender=()=>{};render(){super.render(),x0[this.instanceId]=typeof this.context==="string"?JSON.parse(this.context):this.context;let J=tX(this.instanceId,this.value);if(this.elements){let Z=J.split(`
`).reduce((Y,q)=>{if(q.startsWith("<")||Y.length===0)Y.push(q);else{let X=Y[Y.length-1];if(!X.startsWith("<")||!X.endsWith(">"))Y[Y.length-1]+=`
`+q;else Y.push(q)}return Y},[]);this.innerHTML=Z.map((Y)=>Y.startsWith("<")&&Y.endsWith(">")?Y:K0(Y,this.options)).join("")}else this.innerHTML=K0(J,this.options);this.didRender()}}var j2=W2.elementCreator({tag:"xin-md"}),{div:m8,span:d7,button:g8}=y,$3=86400000,ZN=[0,1,2,3,4,5,6],YN=[1,2,3,4,5,6,7,8,9,10,11,12],i8=(J,Z=2,Y="0")=>String(J).padStart(Z,Y),U3=(J,Z,Y)=>new Date(`${J}-${i8(Z)}-${i8(Y)}`);class G2 extends k{month=NaN;year=NaN;minDate=U3(new Date().getFullYear()-100,1,1).toISOString().split("T")[0];maxDate=U3(new Date().getFullYear()+10,12,31).toISOString().split("T")[0];weekStart=0;selectable=!1;multiple=!1;range=!1;disabled=!1;readonly=!1;selectedDays=[];value="";get endDay(){return 1-this.weekStart}get months(){return YN.map((J)=>({caption:U3(2025,J,1).toString().split(" ")[1],value:String(J)}))}get years(){let J=Number(this.minDate.split("-")[0]),Z=Number(this.maxDate.split("-")[0]),Y=[];for(let q=J;q<=Z;q++)Y.push(String(q));return Y}monthChanged=(J,Z)=>{};gotoMonth(J,Z){if(this.month!==Z||this.year!==J)this.month=Z,this.year=J,this.monthChanged(J,Z)}setMonth=()=>{this.gotoMonth(Number(this.parts.year.value),Number(this.parts.month.value))};get to(){return this.selectedDays[1]||""}set to(J){this.selectedDays[1]=J,this.selectedDays.splice(2)}get from(){return this.selectedDays[0]||""}set from(J){this.selectedDays[0]=J,this.selectedDays.splice(2)}clickDate=(J)=>{let Z=J.target.getAttribute("title");this.selectDate(Z)};keyDate=(J)=>{let Z=!1;switch(J.code){case"Space":let Y=J.target.getAttribute("title");this.selectDate(Y),Z=!0;break;case"Tab":break;default:console.log(J)}if(Z)J.preventDefault(),J.stopPropagation()};#J="";selectDate=(J)=>{if(this.#J=J,this.range){if(!this.to)this.selectedDays=[J,J];else if(this.from===J&&this.to===J)this.selectedDays=[];else if(this.from===J)this.from=this.to;else if(this.to===J)this.to=this.from;else if(J<this.from)this.from=J;else if(J>this.to)this.to=J;else if(J<this.from)this.from=J;else this.to=J;this.value=`${this.from},${this.to}`}else if(this.multiple){if(this.selectedDays.includes(J))this.selectedDays.splice(this.selectedDays.indexOf(J),1);else this.selectedDays.push(J),this.selectedDays.sort();this.value=this.selectedDays.join(",")}else if(this.selectable)if(this.selectedDays.includes(J))this.value="",this.selectedDays=[];else this.value=J,this.selectedDays=[J]};nextMonth=()=>{if(this.month<12)this.gotoMonth(this.year,this.month+1);else this.gotoMonth(this.year+1,1)};previousMonth=()=>{if(this.month>1)this.gotoMonth(this.year,this.month-1);else this.gotoMonth(this.year-1,12)};checkDay=(J)=>{if(!this.range)return this.selectedDays.includes(J);else if(this.range)return this.from&&J>=this.from&&J<=this.to;return!1};dateMenuItem=(J,Z="")=>{return J=J.split("T")[0],{caption:Z||J,enabled:()=>!J.startsWith(`${this.year}-${i8(this.month)}-`),action:()=>{this.gotoDate(J)}}};jumpMenu=()=>{U5({target:this.parts.jump,menuItems:[this.dateMenuItem(new Date().toISOString(),"This Month"),...this.selectedDays.length===0?[]:[null],...this.selectedDays.map((J)=>this.dateMenuItem(J))]})};content=()=>[m8({part:"header"},g8({part:"previous",onClick:this.previousMonth},h.chevronLeft()),d7({style:{flex:"1"}}),g8({part:"jump",onClick:this.jumpMenu},h.calendar()),DJ({part:"month",options:this.months,onChange:this.setMonth}),DJ({part:"year",options:[this.year],onChange:this.setMonth}),d7({style:{flex:"1"}}),g8({part:"next",onClick:this.nextMonth},h.chevronRight())),m8({part:"week"}),m8({part:"days"})];gotoDate(J){let Z=new Date(J);this.gotoMonth(Z.getFullYear(),Z.getMonth()+1)}constructor(){super();this.initAttributes("month","year","weekStart","minDate","maxDate","selectable","multiple","range","disabled","readonly")}connectedCallback(){super.connectedCallback();let J=new Date(this.value.split(",").pop()||Date.now());if(isNaN(this.month))this.month=J.getMonth()+1;if(isNaN(this.year))this.year=J.getFullYear()}days=[];render(){let{week:J,days:Z,jump:Y,month:q,year:X,previous:Q,next:K}=this.parts;this.selectedDays=this.value?this.value.split(","):[];let $=U3(this.year,this.month,1),U=new Date($.valueOf()-(7+$.getDay()-this.weekStart)%7*$3),j=this.month===12?1:this.month+1,W=new Date(U3(this.year+(this.month===12?1:0),j,1).valueOf()-$3),G=new Date(W.valueOf()+(this.weekStart*2+5+this.endDay-W.getDay())%7*$3),z=ZN.map((V)=>new Date(U.valueOf()+V*$3).toString().split(" ")[0]);this.days=[];let O=new Date().toISOString().split("T")[0];for(let V=U.valueOf();V<=G.valueOf();V+=$3){let D=new Date(V),P=D.toISOString().split("T")[0];this.days.push({date:D,selected:!1,inMonth:D.getMonth()+1===this.month,isToday:P===O,isWeekend:D.getDay()%6===0,inRange:!!(this.from&&P>=this.from&&P<=this.to)})}q.value=String(this.month),X.value=String(this.year);let _=(q.disabled=X.disabled=Y.disabled=Q.disabled=K.disabled=this.disabled||this.readonly)||!this.selectable&&!this.range&&!this.multiple;X.options=this.years,J.textContent="",J.append(...z.map((V)=>d7({class:"day"},V))),Z.textContent="";let N=null,{to:A,from:M}=this;if(Z.append(...this.days.map((V)=>{let D=["date"];if(V.inMonth)D.push("in-month");if(V.isToday)D.push("today");let P=V.date.toISOString().split("T")[0];if(this.checkDay(P))D.push("checked");if(D.push(V.isWeekend?"weekend":"weekday"),this.range){if(A===P)D.push("range-end");if(M===P)D.push("range-start")}let E=d7({class:D.join(" "),title:P,onClick:this.clickDate,onKeydown:this.keyDate,tabindex:"0"},V.date.getDate());if(P===this.#J)N=E;return E})),N)N.focus()}}var qN=G2.elementCreator({tag:"tosi-month",styleSpec:{":host":{display:"block"},":host [part=header]":{display:"flex",alignItems:"stretch",justifyContent:"stretch"},":host[disabled]":{pointerEvents:"none",opacity:B.disabledOpacity(0.6)},':host [part="month"], :host [part="year"]':{_fieldWidth:"4em",flex:"1"},":host [part=week], :host [part=days]":{display:"grid",gridTemplateColumns:"auto auto auto auto auto auto auto",justifyItems:"stretch"},":host .today":{background:B.monthTodayBackground("transparent"),boxShadow:B.monthTodayShadow("none"),backdropFilter:B.monthTodayBackdropFilter("brightness(0.9)"),fontWeight:B.monthTodayFontWeight("800")},":host .day, :host .date":{padding:5,display:"flex",justifyContent:"center",userSelect:"none"},":host .day":{color:B.monthDayColor("hotpink"),background:B.monthDayBackground("white"),fontWeight:B.monthDayFontWeight("800")},":host .date":{cursor:"default"},":host .weekend":{background:B.monthWeekendBackground("#eee")},":host .date:not(.in-month)":{opacity:0.5},":host .date.checked":{color:B.monthDateCheckedColor("white"),background:B.monthDateCheckedBackground("hotpink")},":host:not([range]) .date.checked":{borderRadius:B.monthDateCheckedBorderRadius("10px")},":host .range-start":{borderTopLeftRadius:B.monthDateCheckedBorderRadius("10px"),borderBottomLeftRadius:B.monthDateCheckedBorderRadius("10px")},":host .range-end":{borderTopRightRadius:B.monthDateCheckedBorderRadius("10px"),borderBottomRightRadius:B.monthDateCheckedBorderRadius("10px")}}}),{div:f8,button:XN}=y,QN={error:"red",warn:"orange",info:"royalblue",log:"gray",success:"green",progress:"royalblue"};class IJ extends k{static singleton;static styleSpec={":host":{_notificationSpacing:8,_notificationWidth:360,_notificationPadding:`${F.notificationSpacing} ${F.notificationSpacing50} ${F.notificationSpacing} ${F.notificationSpacing200}`,_notificationBg:"#fafafa",_notificationAccentColor:"#aaa",_notificationTextColor:"#444",_notificationIconSize:F.notificationSpacing300,_notificationButtonSize:48,_notificationBorderWidth:"3px 0 0",_notificationBorderRadius:F.notificationSpacing50,position:"fixed",left:0,right:0,bottom:0,paddingBottom:F.notificationSpacing,width:F.notificationWidth,display:"flex",flexDirection:"column-reverse",margin:"0 auto",gap:F.notificationSpacing,maxHeight:"50vh",overflow:"hidden auto",boxShadow:"none !important"},":host *":{color:F.notificationTextColor},":host .note":{display:"grid",background:F.notificationBg,padding:F.notificationPadding,gridTemplateColumns:`${F.notificationIconSize} 1fr ${F.notificationButtonSize}`,gap:F.notificationSpacing,alignItems:"center",borderRadius:F.notificationBorderRadius,boxShadow:`0 2px 8px #0006, inset 0 0 0 2px ${F.notificationAccentColor}`,borderColor:F.notificationAccentColor,borderWidth:F.notificationBorderWidth,borderStyle:"solid",transition:"0.5s ease-in",transitionProperty:"margin, opacity",zIndex:1},":host .note .icon":{stroke:F.notificationAccentColor},":host .note button":{display:"flex",lineHeight:F.notificationButtonSize,padding:0,margin:0,height:F.notificationButtonSize,width:F.notificationButtonSize,background:"transparent",alignItems:"center",justifyContent:"center",boxShadow:"none",border:"none",position:"relative"},":host .note button:hover svg":{stroke:F.notificationAccentColor},":host .note button:active svg":{borderRadius:99,stroke:F.notificationBg,background:F.notificationAccentColor,padding:F.spacing50},":host .note svg":{height:F.notificationIconSize,width:F.notificationIconSize,pointerEvents:"none"},":host .message":{display:"flex",flexDirection:"column",alignItems:"center",gap:F.notificationSpacing},":host .note.closing":{opacity:0,zIndex:0}};static removeNote(J){J.classList.add("closing"),J.style.marginBottom=-J.offsetHeight+"px";let Z=()=>{J.remove()};J.addEventListener("transitionend",Z),setTimeout(Z,1000)}static post(J){let{message:Z,duration:Y,type:q,close:X,progress:Q,icon:K,color:$}=Object.assign({type:"info",duration:-1},typeof J==="string"?{message:J}:J);if(!this.singleton)this.singleton=eX();let U=this.singleton;document.body.append(U),U.style.zIndex=String(r7()+1);let j=$||QN[q],W=Q||q==="progress"?y.progress():{},G=()=>{if(X)X();IJ.removeNote(O)},z=K instanceof SVGElement?K:K?h[K]({class:"icon"}):h.info({class:"icon"}),O=f8({class:`note ${q}`,style:{_notificationAccentColor:j}},z,f8({class:"message"},f8(Z),W),XN({class:"close",title:"close",apply(_){_.addEventListener("click",G)}},h.x()));if(U.shadowRoot.append(O),W instanceof HTMLProgressElement&&Q instanceof Function){W.setAttribute("max",String(100)),W.value=Q();let _=setInterval(()=>{if(!U.shadowRoot.contains(O)){clearInterval(_);return}let N=Q();if(W.value=N,N>=100)IJ.removeNote(O)},1000)}if(Y>0)setTimeout(()=>{IJ.removeNote(O)},Y*1000);return O.scrollIntoView(),G}content=null}var eX=IJ.elementCreator({tag:"xin-notification"});function KN(J){return IJ.post(J)}var JQ=async(J,Z="SHA-1")=>{let Y=new TextEncoder().encode(J),q=await crypto.subtle.digest(Z,Y);return Array.from(new Uint8Array(q)).map((X)=>X.toString(16).padStart(2,"0")).join("")},ZQ=async(J)=>{let Z=await JQ(J),Y=await fetch(`https://weakpass.com/api/v1/search/${Z}`);if(Y.ok){let q=await Y.json();console.log("password found in weakpass database",q)}return Y.status!==404},{span:l8,xinSlot:$N}=y;class z2 extends k{minLength=8;goodLength=12;indicatorColors="#f00,#f40,#f80,#ef0,#8f0,#0a2";descriptionColors="#000,#000,#000,#000,#000,#fff";issues={tooShort:!0,short:!0,noUpper:!0,noLower:!0,noNumber:!0,noSpecial:!0};issueDescriptions={tooShort:"too short",short:"short",noUpper:"no upper case",noLower:"no lower case",noNumber:"no digits",noSpecial:"no unusual characters"};value=0;strengthDescriptions=["unacceptable","very weak","weak","moderate","strong","very strong"];constructor(){super();this.initAttributes("minLength","goodLength","indicatorColors")}strength(J){return this.issues={tooShort:J.length<this.minLength,short:J.length<this.goodLength,noUpper:!J.match(/[A-Z]/),noLower:!J.match(/[a-z]/),noNumber:!J.match(/[0-9]/),noSpecial:!J.match(/[^a-zA-Z0-9]/)},this.issues.tooShort?0:Object.values(this.issues).filter((Z)=>!Z).length-1}async isBreached(){let J=this.querySelector("input")?.value;if(!J||typeof J!=="string")return!0;return await ZQ(J)}updateIndicator=(J)=>{let{level:Z,description:Y}=this.parts,q=this.indicatorColors.split(","),X=this.descriptionColors.split(","),Q=this.strength(J);if(this.value!==Q)this.value=Q,this.dispatchEvent(new Event("change"));Z.style.width=`${(Q+1)*16.67}%`,this.style.setProperty("--indicator-color",q[Q]),this.style.setProperty("--description-color",X[Q]),Y.textContent=this.strengthDescriptions[Q]};update=(J)=>{let Z=J.target.closest("input");this.updateIndicator(Z?.value||"")};content=()=>[$N({onInput:this.update}),l8({part:"meter"},l8({part:"level"}),l8({part:"description"}))];render(){super.render();let J=this.querySelector("input");this.updateIndicator(J?.value)}}var UN=z2.elementCreator({tag:"xin-password-strength",styleSpec:{":host":{display:"inline-flex",flexDirection:"column",gap:F.spacing50,position:"relative"},":host xin-slot":{display:"flex"},':host [part="meter"]':{display:"block",position:"relative",height:B.meterHeight("24px"),background:B.indicatorBg("white"),borderRadius:B.meterRadius("4px"),boxShadow:B.meterShadow(`inset 0 0 0 2px ${F.indicatorColor}`)},':host [part="level"]':{height:B.levelHeight("20px"),content:'" "',display:"inline-block",width:0,transition:"0.15s ease-out",background:F.indicatorColor,margin:B.levelMargin("2px"),borderRadius:B.levelRadius("2px")},':host [part="description"]':{position:"absolute",inset:"0",color:F.descriptionColor,height:B.meterHeight("24px"),lineHeight:B.meterHeight("24px"),textAlign:"center"}}}),{span:p8}=y;class O2 extends k{iconSize=24;min=1;max=5;step=1;value=null;icon="star";ratingFill="#f91";ratingStroke="#e81";emptyFill="#ccc";emptyStroke="none";readonly=!1;hollow=!1;static styleSpec={":host":{display:"inline-block",position:"relative",width:"fit-content"},":host::part(container)":{position:"relative",display:"inline-block"},":host::part(empty), :host::part(filled)":{height:"100%",whiteSpace:"nowrap",overflow:"hidden"},":host::part(empty)":{pointerEvents:"none",_xinIconFill:F.emptyFill,_xinIconStroke:F.emptyStroke},":host::part(filled)":{position:"absolute",left:0,_xinIconFill:F.ratingFill,_xinIconStroke:F.ratingStroke},":host svg":{transform:"scale(0.9)",pointerEvents:"all !important",transition:"0.25s ease-in-out"},":host svg:hover":{transform:"scale(1)"},":host svg:active":{transform:"scale(1.1)"}};constructor(){super();this.initAttributes("max","min","icon","step","ratingStroke","ratingColor","emptyStroke","emptyColor","readonly","iconSize","hollow")}content=()=>p8({part:"container"},p8({part:"empty"}),p8({part:"filled"}));displayValue(J){let{empty:Z,filled:Y}=this.parts,q=Math.round((J||0)/this.step)*this.step;Y.style.width=q/this.max*Z.offsetWidth+"px"}update=(J)=>{if(this.readonly)return;let{empty:Z}=this.parts,Y=J instanceof MouseEvent?J.pageX-Z.getBoundingClientRect().x:0,q=Math.min(Math.max(this.min,Math.round(Y/Z.offsetWidth*this.max/this.step+this.step*0.5)*this.step),this.max);if(J.type==="click")this.value=q;else if(J.type==="mousemove")this.displayValue(q);else this.displayValue(this.value||0)};handleKey=(J)=>{let Z=Number(this.value);if(Z==null)Z=Math.round((this.min+this.max)*0.5*this.step)*this.step;let Y=!1;switch(J.key){case"ArrowUp":case"ArrowRight":Z+=this.step,Y=!0;break;case"ArrowDown":case"ArrowLeft":Z-=this.step,Y=!0;break}if(this.value=Math.max(Math.min(Z,this.max),this.min),Y)J.stopPropagation(),J.preventDefault()};connectedCallback(){super.connectedCallback();let{container:J}=this.parts;J.tabIndex=0,J.addEventListener("mousemove",this.update,!0),J.addEventListener("mouseleave",this.update),J.addEventListener("blur",this.update),J.addEventListener("click",this.update),J.addEventListener("keydown",this.handleKey)}_renderedIcon="";render(){super.render();let J=this.iconSize+"px";if(this.style.setProperty("--rating-fill",this.ratingFill),this.style.setProperty("--rating-stroke",this.ratingStroke),this.style.setProperty("--empty-fill",this.emptyFill),this.style.setProperty("--empty-stroke",this.emptyStroke),this.style.setProperty("--xin-icon-size",J),this.readonly)this.role="image";else this.role="slider";this.ariaLabel=`rating ${this.value} out of ${this.max}`,this.ariaValueMax=String(this.max),this.ariaValueMin=String(this.min),this.ariaValueNow=this.value===null?String(-1):String(this.value);let{empty:Z,filled:Y}=this.parts;if(Z.classList.toggle("hollow",this.hollow),this._renderedIcon!==this.icon){this._renderedIcon=this.icon;for(let q=0;q<this.max;q++)Z.append(h[this.icon]()),Y.append(h[this.icon]())}this.displayValue(this.value)}}var WN=O2.elementCreator({tag:"xin-rating"}),{xinSlot:BX,div:jN,button:GN,span:YQ}=y,zN=[{caption:"Title",tagType:"H1"},{caption:"Heading",tagType:"H2"},{caption:"Subheading",tagType:"H3"},{caption:"Minor heading",tagType:"H4"},{caption:"Body",tagType:"P"},{caption:"Code Block",tagType:"PRE"}];function _2(J=zN){return DJ({title:"paragraph style",slot:"toolbar",class:"block-style",options:J.map(({caption:Z,tagType:Y})=>({caption:Z,value:`formatBlock,${Y}`}))})}function K4(J="10px"){return YQ({slot:"toolbar",style:{flex:`0 0 ${J}`,content:" "}})}function ON(J="10px"){return YQ({slot:"toolbar",style:{flex:`0 0 ${J}`,content:" "}})}function p1(J,Z,Y){return GN({slot:"toolbar",dataCommand:Z,title:J},Y)}var _N=()=>[p1("left-justify","justifyLeft",h.alignLeft()),p1("center","justifyCenter",h.alignCenter()),p1("right-justify","justifyRight",h.alignRight()),K4(),p1("bullet list","insertUnorderedList",h.listBullet()),p1("numbered list","insertOrderedList",h.listNumber()),K4(),p1("indent","indent",h.indent()),p1("indent","outdent",h.outdent())],qQ=()=>[p1("bold","bold",h.fontBold()),p1("italic","italic",h.fontItalic()),p1("underline","underline",h.fontUnderline())],HN=()=>[_2(),K4(),...qQ()],XQ=()=>[_2(),K4(),..._N(),K4(),...qQ()];class H2 extends k{widgets="default";isInitialized=!1;get value(){return this.isInitialized?this.parts.doc.innerHTML:this.savedValue||this.innerHTML}set value(J){if(this.isInitialized)this.parts.doc.innerHTML=J;else this.innerHTML=J}blockElement(J){let{doc:Z}=this.parts;while(J.parentElement!==null&&J.parentElement!==Z)J=J.parentElement;return J.parentElement===Z?J:void 0}get selectedBlocks(){let{doc:J}=this.parts,Z=window.getSelection();if(Z===null)return[];let Y=[];for(let q=0;q<Z.rangeCount;q++){let X=Z.getRangeAt(q);if(!J.contains(X.commonAncestorContainer))continue;let Q=this.blockElement(X.startContainer),K=this.blockElement(X.endContainer);Y.push(Q);while(Q!==K&&Q!==null)Q=Q.nextElementSibling,Y.push(Q)}return Y}get selectedText(){let J=window.getSelection();if(J===null)return"";return this.selectedBlocks.length?J.toString():""}selectionChange=()=>{};handleSelectChange=(J)=>{let Z=J.target.closest(G3.tagName);if(Z==null)return;this.doCommand(Z.value)};handleButtonClick=(J)=>{let Z=J.target.closest("button");if(Z==null)return;this.doCommand(Z.dataset.command)};content=[BX({name:"toolbar",part:"toolbar",onClick:this.handleButtonClick,onChange:this.handleSelectChange}),jN({part:"doc",contenteditable:!0,style:{flex:"1 1 auto",outline:"none"}}),BX({part:"content"})];constructor(){super();this.initAttributes("widgets")}doCommand(J){if(J===void 0)return;let Z=J.split(",");console.log("execCommand",Z[0],!1,...Z.slice(1)),document.execCommand(Z[0],!1,...Z.slice(1))}updateBlockStyle(){let J=this.parts.toolbar.querySelector(".block-style");if(J===null)return;let Z=this.selectedBlocks.map((Y)=>Y.tagName);Z=[...new Set(Z)],J.value=Z.length===1?`formatBlock,${Z[0]}`:""}connectedCallback(){super.connectedCallback();let{doc:J,content:Z}=this.parts;if(Z.innerHTML!==""&&J.innerHTML==="")J.innerHTML=Z.innerHTML,Z.innerHTML="";this.isInitialized=!0,Z.style.display="none",document.addEventListener("selectionchange",(Y)=>{this.updateBlockStyle(),this.selectionChange(Y,this)})}render(){let{toolbar:J}=this.parts;if(super.render(),J.children.length===0)switch(this.widgets){case"minimal":J.append(...HN());break;case"default":J.append(...XQ());break}}}var NN=H2.elementCreator({tag:"xin-word",styleSpec:{":host":{display:"flex",flexDirection:"column",height:"100%"},':host [part="toolbar"]':{padding:4,display:"flex",gap:"0px",flex:"0 0 auto",flexWrap:"wrap"},':host [part="toolbar"] > button':{_xinIconSize:18}}}),{div:RN,slot:AN,label:FN,span:MN,input:PX}=y;class N2 extends k{choices="";other="";multiple=!1;name="";placeholder="Please specify";localized=!1;value=null;get values(){return(this.value||"").split(",").map((J)=>J.trim()).filter((J)=>J!=="")}content=()=>[AN(),RN({part:"options"},PX({part:"custom",hidden:!0}))];static styleSpec={":host":{display:"inline-flex",gap:B.segmentedOptionGap("8px"),alignItems:B.segmentedAlignItems("center")},":host, :host::part(options)":{flexDirection:B.segmentedDirection("row")},":host label":{display:"inline-grid",alignItems:"center",gap:B.segmentedOptionGap("8px"),gridTemplateColumns:B.segmentedOptionGridColumns("0px 24px 1fr"),padding:B.segmentedOptionPadding("4px 12px"),font:B.segmentedOptionFont("16px")},":host label:focus":{outline:"none",boxShadow:B.segmentedFocusShadow(`inset 0 0 0 2px ${B.segmentedOptionCurrentBackground("#44a")}`),borderRadius:B.segmentedOptionsBorderRadius("8px")},":host label:has(:checked)":{color:B.segmentedOptionCurrentColor("#eee"),background:B.segmentedOptionCurrentBackground("#44a")},":host label:has(:checked):focus":{boxShadow:B.segmentedCurrentFocusShadow(`inset 0 0 0 2px ${B.segmentedOptionCurrentColor("#eee")}`)},":host svg":{height:B.segmentOptionIconSize("16px"),stroke:B.segmentedOptionIconColor("currentColor")},":host label.no-icon":{gap:0,gridTemplateColumns:B.segmentedOptionGridColumns("0px 1fr")},':host input[type="radio"], :host input[type="checkbox"]':{visibility:B.segmentedInputVisibility("hidden")},":host::part(options)":{display:"flex",borderRadius:B.segmentedOptionsBorderRadius("8px"),background:B.segmentedOptionsBackground("#fff"),color:B.segmentedOptionColor("#222"),overflow:"hidden",alignItems:B.segmentedOptionAlignItems("stretch")},":host::part(custom)":{padding:B.segmentedOptionPadding("4px 12px"),color:B.segmentedOptionCurrentColor("#eee"),background:B.segmentedOptionCurrentBackground("#44a"),font:B.segmentedOptionFont("16px"),border:"0",outline:"none"},":host::part(custom)::placeholder":{color:B.segmentedOptionCurrentColor("#eee"),opacity:B.segmentedPlaceholderOpacity(0.75)}};constructor(){super();this.initAttributes("direction","choices","other","multiple","name","placeholder","localized")}valueChanged=!1;handleChange=()=>{let{options:J,custom:Z}=this.parts;if(this.multiple){let Y=[...J.querySelectorAll("input:checked")];this.value=Y.map((q)=>q.value).join(",")}else{let Y=J.querySelector("input:checked");if(!Y)this.value=null;else if(Y.value)Z.setAttribute("hidden",""),this.value=Y.value;else Z.removeAttribute("hidden"),Z.focus(),Z.select(),this.value=Z.value}this.valueChanged=!0};handleKey=(J)=>{let Z=!1;switch(J.code){case"Space":if(J.target instanceof HTMLLabelElement)J.target.click(),Z=!0;break;case"Tab":if(!(J.target instanceof HTMLLabelElement))J.target.closest("label").focus();break;case"ArrowLeft":case"ArrowUp":{let Y=J.target.closest("label");if(Y.previousElementSibling instanceof HTMLLabelElement)Y.previousElementSibling.focus()}Z=!0;break;case"ArrowRight":case"ArrowDown":{let Y=J.target.closest("label");if(Y.nextElementSibling instanceof HTMLLabelElement)Y.nextElementSibling.focus()}Z=!0;break}if(Z)J.preventDefault(),J.stopPropagation()};connectedCallback(){super.connectedCallback();let{options:J}=this.parts;if(this.name==="")this.name=this.instanceId;if(J.addEventListener("change",this.handleChange),J.addEventListener("keydown",this.handleKey),this.other&&this.multiple)console.warn(this,"is set to [other] and [multiple]; [other] will be ignored"),this.other=""}get _choices(){let J=Array.isArray(this.choices)?this.choices:this.choices.split(",").filter((Z)=>Z.trim()!=="").map((Z)=>{let[Y,q]=Z.split("=").map(($)=>$.trim()),[X,Q]=(q||Y).split(":").map(($)=>$.trim()),K=Q?h[Q]():"";return{value:Y,icon:K,caption:X}});if(this.other&&!this.multiple){let[Z,Y]=this.other.split(":");J.push({value:"",caption:Z,icon:Y})}return J}get isOtherValue(){return Boolean(this.value===""||this.value&&!this._choices.find((J)=>J.value===this.value))}render(){if(super.render(),this.valueChanged){this.valueChanged=!1;return}let{options:J,custom:Z}=this.parts;J.textContent="";let Y=this.multiple?"checkbox":"radio",{values:q,isOtherValue:X}=this;if(J.append(...this._choices.map((Q)=>{return FN({tabindex:0},PX({type:Y,name:this.name,value:Q.value,checked:q.includes(Q.value)||Q.value===""&&X,tabIndex:-1}),Q.icon||{class:"no-icon"},this.localized?o7(Q.caption):MN(Q.caption))})),this.other&&!this.multiple)Z.hidden=!X,Z.value=X?this.value:"",Z.placeholder=this.placeholder,J.append(Z)}}var VN=N2.elementCreator({tag:"xin-segmented"}),{slot:EX}=y;class U4 extends k{minSize=800;navSize=200;compact=!1;contentVisible=!1;value="normal";content=[EX({name:"nav",part:"nav"}),EX({part:"content"})];static styleSpec={":host":{display:"grid",gridTemplateColumns:`${B.navWidth("50%")} ${B.contentWidth("50%")}`,gridTemplateRows:"100%",position:"relative",margin:B.margin("0 0 0 -100%"),transition:B.sideNavTransition("0.25s ease-out")},":host slot":{position:"relative"},":host slot:not([name])":{display:"block"},':host slot[name="nav"]':{display:"block"}};onResize=()=>{let{content:J}=this.parts,Z=this.offsetParent;if(Z===null)return;let Y=this.value;if(this.compact=Z.offsetWidth<this.minSize,[...this.childNodes].find((q)=>q instanceof Element?q.getAttribute("slot")!=="nav":!0)===void 0)Y="compact/nav",this.style.setProperty("--nav-width","100%"),this.style.setProperty("--content-width","0%");else if(!this.compact)Y="normal",J.classList.add("-xin-sidenav-visible"),this.style.setProperty("--nav-width",`${this.navSize}px`),this.style.setProperty("--content-width",`calc(100% - ${this.navSize}px)`),this.style.setProperty("--margin","0");else if(J.classList.remove("-xin-sidenav-visible"),this.style.setProperty("--nav-width","50%"),this.style.setProperty("--content-width","50%"),this.contentVisible)Y="compact/content",this.style.setProperty("--margin","0 0 0 -100%");else Y="compact/nav",this.style.setProperty("--margin","0 -100% 0 0");if(this.value!==Y)this.value=Y};observer;connectedCallback(){super.connectedCallback(),this.contentVisible=this.parts.content.childNodes.length===0,globalThis.addEventListener("resize",this.onResize),this.observer=new MutationObserver(this.onResize),this.observer.observe(this,{childList:!0}),this.style.setProperty("--side-nav-transition","0s"),setTimeout(()=>{this.style.removeProperty("--side-nav-transition")},250)}disconnectedCallback(){super.disconnectedCallback(),this.observer.disconnect()}constructor(){super();this.initAttributes("minSize","navSize","compact","contentVisible")}render(){super.render(),this.onResize()}}var R2=U4.elementCreator({tag:"xin-sidenav"}),{slot:CX}=y;class A2 extends k{minWidth=0;minHeight=0;value="normal";content=[CX({part:"normal"}),CX({part:"small",name:"small"})];static styleSpec={":host":{display:"inline-block",position:"relative"}};constructor(){super();this.initAttributes("minWidth","minHeight")}onResize=()=>{let{normal:J,small:Z}=this.parts,Y=this.offsetParent;if(!(Y instanceof HTMLElement))return;else if(Y.offsetWidth<this.minWidth||Y.offsetHeight<this.minHeight)J.hidden=!0,Z.hidden=!1,this.value="small";else J.hidden=!1,Z.hidden=!0,this.value="normal"};connectedCallback(){super.connectedCallback(),globalThis.addEventListener("resize",this.onResize)}disconnectedCallback(){super.disconnectedCallback(),globalThis.removeEventListener("resize",this.onResize)}}var F2=A2.elementCreator({tag:"xin-sizebreak"});class M2 extends k{target=null;static styleSpec={":host":{_resizeIconFill:"#222",display:"block",position:"absolute",bottom:-7,right:-7,padding:14,width:44,height:44,opacity:0.25,transition:"opacity 0.25s ease-out"},":host(:hover)":{opacity:0.5},":host svg":{width:16,height:16,stroke:F.resizeIconFill}};content=h.resize();get minSize(){let{minWidth:J,minHeight:Z}=getComputedStyle(this.target);return{width:parseFloat(J)||32,height:parseFloat(Z)||32}}resizeTarget=(J)=>{let{target:Z}=this;if(!Z)return;let{offsetWidth:Y,offsetHeight:q}=Z;Z.style.left=Z.offsetLeft+"px",Z.style.top=Z.offsetTop+"px",Z.style.bottom="",Z.style.right="";let{minSize:X}=this;l5(J,(Q,K,$)=>{if(Z.style.width=Math.max(X.width,Y+Q)+"px",Z.style.height=Math.max(X.height,q+K)+"px",$.type==="mouseup")return!0},"nwse-resize")};connectedCallback(){if(super.connectedCallback(),!this.target)this.target=this.parentElement;let J={passive:!0};this.addEventListener("mousedown",this.resizeTarget,J),this.addEventListener("touchstart",this.resizeTarget,J)}}var IN=M2.elementCreator({tag:"xin-sizer"}),{div:DN,input:LN,span:BN,button:s8}=y;class e7 extends k{caption="";removeable=!1;removeCallback=()=>{this.remove()};content=()=>[BN({part:"caption"},this.caption),s8(h.x(),{part:"remove",hidden:!this.removeable,onClick:this.removeCallback})];constructor(){super();this.initAttributes("caption","removeable")}}var QQ=e7.elementCreator({tag:"xin-tag",styleSpec:{":host":{"--tag-close-button-color":"#000c","--tag-close-button-bg":"#fffc","--tag-button-opacity":"0.5","--tag-button-hover-opacity":"0.75","--tag-bg":B.brandColor("blue"),"--tag-text-color":B.brandTextColor("white"),display:"inline-flex",borderRadius:B.tagRoundedRadius(F.spacing50),color:F.tagTextColor,background:F.tagBg,padding:`0 ${F.spacing75} 0 ${F.spacing75}`,height:`calc(${F.lineHeight} + ${F.spacing50})`,lineHeight:`calc(${F.lineHeight} + ${F.spacing50})`},':host > [part="caption"]':{position:"relative",whiteSpace:"nowrap",overflow:"hidden",flex:"1 1 auto",fontSize:B.fontSize("16px"),color:F.tagTextColor,textOverflow:"ellipsis"},':host [part="remove"]':{boxShadow:"none",margin:`0 ${F.spacing_50} 0 ${F.spacing25}`,padding:0,display:"inline-flex",alignItems:"center",alignSelf:"center",justifyContent:"center",height:F.spacing150,width:F.spacing150,color:F.tagCloseButtonColor,background:F.tagCloseButtonBg,borderRadius:B.tagCloseButtonRadius("99px"),opacity:F.tagButtonOpacity},':host [part="remove"]:hover':{background:F.tagCloseButtonBg,opacity:F.tagButtonHoverOpacity}}});class V2 extends k{disabled=!1;name="";availableTags=[];value=[];textEntry=!1;editable=!1;placeholder="enter tags";get tags(){return typeof this.value==="string"?this.value.split(",").map((J)=>J.trim()).filter((J)=>J!==""):this.value}constructor(){super();this.initAttributes("name","value","textEntry","availableTags","editable","placeholder","disabled")}addTag=(J)=>{if(J.trim()==="")return;let{tags:Z}=this;if(!Z.includes(J))Z.push(J);this.value=Z,this.queueRender(!0)};toggleTag=(J)=>{if(this.tags.includes(J))this.value=this.tags.filter((Z)=>Z!==J);else this.addTag(J);this.queueRender(!0)};enterTag=(J)=>{let{tagInput:Z}=this.parts;switch(J.key){case",":{let Y=Z.value.split(",")[0];this.addTag(Y)}break;case"Enter":{let Y=Z.value.split(",")[0];this.addTag(Y)}J.stopPropagation(),J.preventDefault();break;default:}};popSelectMenu=()=>{let{toggleTag:J}=this,{tagMenu:Z}=this.parts,Y=typeof this.availableTags==="string"?this.availableTags.split(","):this.availableTags,q=this.tags.filter((Q)=>!Y.includes(Q));if(q.length)Y.push(null,...q);let X=Y.map((Q)=>{if(Q===""||Q===null)return null;else if(typeof Q==="object")return{checked:()=>this.tags.includes(Q.value),caption:Q.caption,action(){J(Q.value)}};else return{checked:()=>this.tags.includes(Q),caption:Q,action(){J(Q)}}});U5({target:Z,width:"auto",menuItems:X})};content=()=>[s8({style:{visibility:"hidden"},tabindex:-1}),DN({part:"tagContainer",class:"row"}),LN({part:"tagInput",class:"elastic",onKeydown:this.enterTag}),s8({title:"add tag",part:"tagMenu",onClick:this.popSelectMenu},h.chevronDown())];removeTag=(J)=>{if(this.editable&&!this.disabled){let Z=J.target.closest(e7.tagName);this.value=this.tags.filter((Y)=>Y!==Z.caption),Z.remove(),this.queueRender(!0)}J.stopPropagation(),J.preventDefault()};render(){super.render();let{tagContainer:J,tagMenu:Z,tagInput:Y}=this.parts;if(Z.disabled=this.disabled,Y.value="",Y.setAttribute("placeholder",this.placeholder),this.editable&&!this.disabled)Z.toggleAttribute("hidden",!1),Y.toggleAttribute("hidden",!this.textEntry);else Z.toggleAttribute("hidden",!0),Y.toggleAttribute("hidden",!0);J.textContent="";let{tags:q}=this;for(let X of q)J.append(QQ({caption:X,removeable:this.editable&&!this.disabled,removeCallback:this.removeTag}))}}var PN=V2.elementCreator({tag:"xin-tag-list",styleSpec:{":host":{"--tag-list-bg":"#f8f8f8","--touch-size":"44px","--spacing":"16px",display:"grid",gridTemplateColumns:"auto",alignItems:"center",background:F.tagListBg,gap:F.spacing25,borderRadius:B.taglistRoundedRadius(F.spacing50),overflow:"hidden"},":host[editable]":{gridTemplateColumns:`0px auto ${F.touchSize}`},":host[editable][text-entry]":{gridTemplateColumns:`0px 2fr 1fr ${F.touchSize}`},':host [part="tagContainer"]':{display:"flex",content:'" "',alignItems:"center",background:F.inputBg,borderRadius:B.tagContainerRadius(F.spacing50),boxShadow:F.borderShadow,flexWrap:"nowrap",overflow:"auto hidden",gap:F.spacing25,minHeight:`calc(${F.lineHeight} + ${F.spacing})`,padding:F.spacing25},':host [part="tagMenu"]':{width:F.touchSize,height:F.touchSize,lineHeight:F.touchSize,textAlign:"center",padding:0,margin:0},":host [hidden]":{display:"none !important"},':host button[part="tagMenu"]':{background:F.brandColor,color:F.brandTextColor}}}),EN="1.0.9";var KQ="#3d4a6b",CN="#ffffff",$Q={":root":{_brandColor:KQ,_brandTextColor:CN,_headerHeight:"50px",_sidebarWidth:"220px",_spacing:"10px",_spacing50:"5px",_spacing200:"20px",_borderRadius:"6px",_fontMono:"'SF Mono', Monaco, 'Cascadia Code', Consolas, monospace",_fontSize:"15px",_lineHeight:"1.6",_linkColor:KQ,_codeBackground:"#f3f4f6",_codeBorder:"#e5e7eb"},".darkmode":{_background:"#111827",_textColor:"#f3f4f6",_codeBackground:"#1f2937",_codeBorder:"#374151",_linkColor:"#818cf8"},".high-contrast":{_textColor:"#000000",_background:"#ffffff"},".darkmode.high-contrast":{_textColor:"#ffffff",_background:"#000000"},"html, body":{margin:0,padding:0,height:"100%",fontFamily:"system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif",fontSize:F.fontSize,lineHeight:F.lineHeight,background:F.background,color:F.textColor},body:{display:"flex",flexDirection:"column"},main:{flex:"1",display:"flex",flexDirection:"column",overflow:"hidden"},header:{display:"flex",alignItems:"center",height:F.headerHeight,padding:`0 ${F.spacing}`,background:F.brandColor,color:F.brandTextColor,gap:F.spacing,flexShrink:0},"header h1":{margin:0,fontSize:"1.25em",fontWeight:600},"header a":{color:F.brandTextColor,textDecoration:"none",display:"flex",alignItems:"center",gap:F.spacing50},"header .elastic":{flex:"1 1 auto"},".iconic":{background:"none",border:"none",cursor:"pointer",padding:F.spacing50,borderRadius:F.borderRadius,color:"inherit",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.15s"},".iconic:hover":{background:"rgba(255, 255, 255, 0.15)"},a:{color:F.linkColor,textDecoration:"none"},"a:hover":{textDecoration:"underline"},".doc-link":{display:"block",padding:`${F.spacing50} ${F.spacing}`,color:F.textColor,borderRadius:F.borderRadius,textDecoration:"none",transition:"background 0.15s"},".doc-link:hover":{background:"rgba(99, 102, 241, 0.1)",textDecoration:"none"},".doc-link.current":{background:F.brandColor,color:F.brandTextColor},"pre:not(.cm-content), code:not(.cm-content code)":{fontFamily:F.fontMono,fontSize:"0.9em"},"pre:not(.cm-content)":{background:F.codeBackground,border:`1px solid ${F.codeBorder}`,borderRadius:F.borderRadius,padding:F.spacing,overflow:"auto"},".cm-editor":{height:"100%"},"code:not(pre code)":{background:F.codeBackground,padding:"2px 6px",borderRadius:"4px"},".badge":{display:"inline-flex",alignItems:"center",gap:"4px"},".badge img":{height:"20px"},'input[type="search"]':{width:"100%",padding:F.spacing50,border:`1px solid ${F.codeBorder}`,borderRadius:F.borderRadius,background:F.background,color:F.textColor,fontSize:"inherit"},'input[type="search"]:focus':{outline:"none",borderColor:F.brandColor,boxShadow:"0 0 0 2px rgba(99, 102, 241, 0.2)"},".markdown-content":{maxWidth:"48em",margin:"0 auto",padding:F.spacing200},".markdown-content h1":{fontSize:"2em",marginTop:0},".markdown-content h2":{fontSize:"1.5em",marginTop:"1.5em",paddingBottom:"0.3em",borderBottom:`1px solid ${F.codeBorder}`},".markdown-content h3":{fontSize:"1.25em",marginTop:"1.25em"},".markdown-content table":{width:"100%",borderCollapse:"collapse",marginBottom:"1em"},".markdown-content th, .markdown-content td":{padding:F.spacing50,border:`1px solid ${F.codeBorder}`,textAlign:"left"},".markdown-content th":{background:F.codeBackground,fontWeight:600},".loading":{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",fontSize:"1.2em",opacity:0.6}};var D2=[],GQ=[];(()=>{let J="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((Z)=>Z?parseInt(Z,36):1);for(let Z=0,Y=0;Z<J.length;Z++)(Z%2?GQ:D2).push(Y=Y+J[Z])})();function TN(J){if(J<768)return!1;for(let Z=0,Y=D2.length;;){let q=Z+Y>>1;if(J<D2[q])Y=q;else if(J>=GQ[q])Z=q+1;else return!0;if(Z==Y)return!1}}function UQ(J){return J>=127462&&J<=127487}var WQ=8205;function zQ(J,Z,Y=!0,q=!0){return(Y?OQ:yN)(J,Z,q)}function OQ(J,Z,Y){if(Z==J.length)return Z;if(Z&&_Q(J.charCodeAt(Z))&&HQ(J.charCodeAt(Z-1)))Z--;let q=I2(J,Z);Z+=jQ(q);while(Z<J.length){let X=I2(J,Z);if(q==WQ||X==WQ||Y&&TN(X))Z+=jQ(X),q=X;else if(UQ(X)){let Q=0,K=Z-2;while(K>=0&&UQ(I2(J,K)))Q++,K-=2;if(Q%2==0)break;else Z+=2}else break}return Z}function yN(J,Z,Y){while(Z>0){let q=OQ(J,Z-2,Y);if(q<Z)return q;Z--}return 0}function I2(J,Z){let Y=J.charCodeAt(Z);if(!HQ(Y)||Z+1==J.length)return Y;let q=J.charCodeAt(Z+1);if(!_Q(q))return Y;return(Y-55296<<10)+(q-56320)+65536}function _Q(J){return J>=56320&&J<57344}function HQ(J){return J>=55296&&J<56320}function jQ(J){return J<65536?1:2}class e{lineAt(J){if(J<0||J>this.length)throw RangeError(`Invalid position ${J} in document of length ${this.length}`);return this.lineInner(J,!1,1,0)}line(J){if(J<1||J>this.lines)throw RangeError(`Invalid line number ${J} in ${this.lines}-line document`);return this.lineInner(J,!0,1,0)}replace(J,Z,Y){[J,Z]=z4(this,J,Z);let q=[];if(this.decompose(0,J,q,2),Y.length)Y.decompose(0,Y.length,q,3);return this.decompose(Z,this.length,q,1),W5.from(q,this.length-(Z-J)+Y.length)}append(J){return this.replace(this.length,this.length,J)}slice(J,Z=this.length){[J,Z]=z4(this,J,Z);let Y=[];return this.decompose(J,Z,Y,0),W5.from(Y,Z-J)}eq(J){if(J==this)return!0;if(J.length!=this.length||J.lines!=this.lines)return!1;let Z=this.scanIdentical(J,1),Y=this.length-this.scanIdentical(J,-1),q=new j4(this),X=new j4(J);for(let Q=Z,K=Z;;){if(q.next(Q),X.next(Q),Q=0,q.lineBreak!=X.lineBreak||q.done!=X.done||q.value!=X.value)return!1;if(K+=q.value.length,q.done||K>=Y)return!0}}iter(J=1){return new j4(this,J)}iterRange(J,Z=this.length){return new w2(this,J,Z)}iterLines(J,Z){let Y;if(J==null)Y=this.iter();else{if(Z==null)Z=this.lines+1;let q=this.line(J).from;Y=this.iterRange(q,Math.max(q,Z==this.lines+1?this.length:Z<=1?0:this.line(Z-1).to))}return new x2(Y)}toString(){return this.sliceString(0)}toJSON(){let J=[];return this.flatten(J),J}constructor(){}static of(J){if(J.length==0)throw RangeError("A document must have at least one line");if(J.length==1&&!J[0])return e.empty;return J.length<=32?new y0(J):W5.from(y0.split(J,[]))}}class y0 extends e{constructor(J,Z=bN(J)){super();this.text=J,this.length=Z}get lines(){return this.text.length}get children(){return null}lineInner(J,Z,Y,q){for(let X=0;;X++){let Q=this.text[X],K=q+Q.length;if((Z?Y:K)>=J)return new VQ(q,K,Y,Q);q=K+1,Y++}}decompose(J,Z,Y,q){let X=J<=0&&Z>=this.length?this:new y0(NQ(this.text,J,Z),Math.min(Z,this.length)-Math.max(0,J));if(q&1){let Q=Y.pop(),K=X9(X.text,Q.text.slice(),0,X.length);if(K.length<=32)Y.push(new y0(K,Q.length+X.length));else{let $=K.length>>1;Y.push(new y0(K.slice(0,$)),new y0(K.slice($)))}}else Y.push(X)}replace(J,Z,Y){if(!(Y instanceof y0))return super.replace(J,Z,Y);[J,Z]=z4(this,J,Z);let q=X9(this.text,X9(Y.text,NQ(this.text,0,J)),Z),X=this.length+Y.length-(Z-J);if(q.length<=32)return new y0(q,X);return W5.from(y0.split(q,[]),X)}sliceString(J,Z=this.length,Y=`
`){[J,Z]=z4(this,J,Z);let q="";for(let X=0,Q=0;X<=Z&&Q<this.text.length;Q++){let K=this.text[Q],$=X+K.length;if(X>J&&Q)q+=Y;if(J<$&&Z>X)q+=K.slice(Math.max(0,J-X),Z-X);X=$+1}return q}flatten(J){for(let Z of this.text)J.push(Z)}scanIdentical(){return 0}static split(J,Z){let Y=[],q=-1;for(let X of J)if(Y.push(X),q+=X.length+1,Y.length==32)Z.push(new y0(Y,q)),Y=[],q=-1;if(q>-1)Z.push(new y0(Y,q));return Z}}class W5 extends e{constructor(J,Z){super();this.children=J,this.length=Z,this.lines=0;for(let Y of J)this.lines+=Y.lines}lineInner(J,Z,Y,q){for(let X=0;;X++){let Q=this.children[X],K=q+Q.length,$=Y+Q.lines-1;if((Z?$:K)>=J)return Q.lineInner(J,Z,Y,q);q=K+1,Y=$+1}}decompose(J,Z,Y,q){for(let X=0,Q=0;Q<=Z&&X<this.children.length;X++){let K=this.children[X],$=Q+K.length;if(J<=$&&Z>=Q){let U=q&((Q<=J?1:0)|($>=Z?2:0));if(Q>=J&&$<=Z&&!U)Y.push(K);else K.decompose(J-Q,Z-Q,Y,U)}Q=$+1}}replace(J,Z,Y){if([J,Z]=z4(this,J,Z),Y.lines<this.lines)for(let q=0,X=0;q<this.children.length;q++){let Q=this.children[q],K=X+Q.length;if(J>=X&&Z<=K){let $=Q.replace(J-X,Z-X,Y),U=this.lines-Q.lines+$.lines;if($.lines<U>>4&&$.lines>U>>6){let j=this.children.slice();return j[q]=$,new W5(j,this.length-(Z-J)+Y.length)}return super.replace(X,K,$)}X=K+1}return super.replace(J,Z,Y)}sliceString(J,Z=this.length,Y=`
`){[J,Z]=z4(this,J,Z);let q="";for(let X=0,Q=0;X<this.children.length&&Q<=Z;X++){let K=this.children[X],$=Q+K.length;if(Q>J&&X)q+=Y;if(J<$&&Z>Q)q+=K.sliceString(J-Q,Z-Q,Y);Q=$+1}return q}flatten(J){for(let Z of this.children)Z.flatten(J)}scanIdentical(J,Z){if(!(J instanceof W5))return 0;let Y=0,[q,X,Q,K]=Z>0?[0,0,this.children.length,J.children.length]:[this.children.length-1,J.children.length-1,-1,-1];for(;;q+=Z,X+=Z){if(q==Q||X==K)return Y;let $=this.children[q],U=J.children[X];if($!=U)return Y+$.scanIdentical(U,Z);Y+=$.length+1}}static from(J,Z=J.reduce((Y,q)=>Y+q.length+1,-1)){let Y=0;for(let z of J)Y+=z.lines;if(Y<32){let z=[];for(let O of J)O.flatten(z);return new y0(z,Z)}let q=Math.max(32,Y>>5),X=q<<1,Q=q>>1,K=[],$=0,U=-1,j=[];function W(z){let O;if(z.lines>X&&z instanceof W5)for(let _ of z.children)W(_);else if(z.lines>Q&&($>Q||!$))G(),K.push(z);else if(z instanceof y0&&$&&(O=j[j.length-1])instanceof y0&&z.lines+O.lines<=32)$+=z.lines,U+=z.length+1,j[j.length-1]=new y0(O.text.concat(z.text),O.length+1+z.length);else{if($+z.lines>q)G();$+=z.lines,U+=z.length+1,j.push(z)}}function G(){if($==0)return;K.push(j.length==1?j[0]:W5.from(j,U)),U=-1,$=j.length=0}for(let z of J)W(z);return G(),K.length==1?K[0]:new W5(K,Z)}}e.empty=new y0([""],0);function bN(J){let Z=-1;for(let Y of J)Z+=Y.length+1;return Z}function X9(J,Z,Y=0,q=1e9){for(let X=0,Q=0,K=!0;Q<J.length&&X<=q;Q++){let $=J[Q],U=X+$.length;if(U>=Y){if(U>q)$=$.slice(0,q-X);if(X<Y)$=$.slice(Y-X);if(K)Z[Z.length-1]+=$,K=!1;else Z.push($)}X=U+1}return Z}function NQ(J,Z,Y){return X9(J,[""],Z,Y)}class j4{constructor(J,Z=1){this.dir=Z,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[J],this.offsets=[Z>0?1:(J instanceof y0?J.text.length:J.children.length)<<1]}nextInner(J,Z){this.done=this.lineBreak=!1;for(;;){let Y=this.nodes.length-1,q=this.nodes[Y],X=this.offsets[Y],Q=X>>1,K=q instanceof y0?q.text.length:q.children.length;if(Q==(Z>0?K:0)){if(Y==0)return this.done=!0,this.value="",this;if(Z>0)this.offsets[Y-1]++;this.nodes.pop(),this.offsets.pop()}else if((X&1)==(Z>0?0:1)){if(this.offsets[Y]+=Z,J==0)return this.lineBreak=!0,this.value=`
`,this;J--}else if(q instanceof y0){let $=q.text[Q+(Z<0?-1:0)];if(this.offsets[Y]+=Z,$.length>Math.max(0,J))return this.value=J==0?$:Z>0?$.slice(J):$.slice(0,$.length-J),this;J-=$.length}else{let $=q.children[Q+(Z<0?-1:0)];if(J>$.length)J-=$.length,this.offsets[Y]+=Z;else{if(Z<0)this.offsets[Y]--;this.nodes.push($),this.offsets.push(Z>0?1:($ instanceof y0?$.text.length:$.children.length)<<1)}}}}next(J=0){if(J<0)this.nextInner(-J,-this.dir),J=this.value.length;return this.nextInner(J,this.dir)}}class w2{constructor(J,Z,Y){this.value="",this.done=!1,this.cursor=new j4(J,Z>Y?-1:1),this.pos=Z>Y?J.length:0,this.from=Math.min(Z,Y),this.to=Math.max(Z,Y)}nextInner(J,Z){if(Z<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;J+=Math.max(0,Z<0?this.pos-this.to:this.from-this.pos);let Y=Z<0?this.pos-this.from:this.to-this.pos;if(J>Y)J=Y;Y-=J;let{value:q}=this.cursor.next(J);return this.pos+=(q.length+J)*Z,this.value=q.length<=Y?q:Z<0?q.slice(q.length-Y):q.slice(0,Y),this.done=!this.value,this}next(J=0){if(J<0)J=Math.max(J,this.from-this.pos);else if(J>0)J=Math.min(J,this.to-this.pos);return this.nextInner(J,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class x2{constructor(J){this.inner=J,this.afterBreak=!0,this.value="",this.done=!1}next(J=0){let{done:Z,lineBreak:Y,value:q}=this.inner.next(J);if(Z&&this.afterBreak)this.value="",this.afterBreak=!1;else if(Z)this.done=!0,this.value="";else if(Y)if(this.afterBreak)this.value="";else this.afterBreak=!0,this.next();else this.value=q,this.afterBreak=!1;return this}get lineBreak(){return!1}}if(typeof Symbol<"u")e.prototype[Symbol.iterator]=function(){return this.iter()},j4.prototype[Symbol.iterator]=w2.prototype[Symbol.iterator]=x2.prototype[Symbol.iterator]=function(){return this};class VQ{constructor(J,Z,Y,q){this.from=J,this.to=Z,this.number=Y,this.text=q}get length(){return this.to-this.from}}function z4(J,Z,Y){return Z=Math.max(0,Math.min(J.length,Z)),[Z,Math.max(Z,Math.min(J.length,Y))]}function E0(J,Z,Y=!0,q=!0){return zQ(J,Z,Y,q)}function SN(J){return J>=56320&&J<57344}function kN(J){return J>=55296&&J<56320}function g0(J,Z){let Y=J.charCodeAt(Z);if(!kN(Y)||Z+1==J.length)return Y;let q=J.charCodeAt(Z+1);if(!SN(q))return Y;return(Y-55296<<10)+(q-56320)+65536}function R3(J){if(J<=65535)return String.fromCharCode(J);return J-=65536,String.fromCharCode((J>>10)+55296,(J&1023)+56320)}function N1(J){return J<65536?1:2}var B2=/\r\n?|\n/,h0=function(J){return J[J.Simple=0]="Simple",J[J.TrackDel=1]="TrackDel",J[J.TrackBefore=2]="TrackBefore",J[J.TrackAfter=3]="TrackAfter",J}(h0||(h0={}));class d1{constructor(J){this.sections=J}get length(){let J=0;for(let Z=0;Z<this.sections.length;Z+=2)J+=this.sections[Z];return J}get newLength(){let J=0;for(let Z=0;Z<this.sections.length;Z+=2){let Y=this.sections[Z+1];J+=Y<0?this.sections[Z]:Y}return J}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(J){for(let Z=0,Y=0,q=0;Z<this.sections.length;){let X=this.sections[Z++],Q=this.sections[Z++];if(Q<0)J(Y,q,X),q+=X;else q+=Q;Y+=X}}iterChangedRanges(J,Z=!1){P2(this,J,Z)}get invertedDesc(){let J=[];for(let Z=0;Z<this.sections.length;){let Y=this.sections[Z++],q=this.sections[Z++];if(q<0)J.push(Y,q);else J.push(q,Y)}return new d1(J)}composeDesc(J){return this.empty?J:J.empty?this:IQ(this,J)}mapDesc(J,Z=!1){return J.empty?this:E2(this,J,Z)}mapPos(J,Z=-1,Y=h0.Simple){let q=0,X=0;for(let Q=0;Q<this.sections.length;){let K=this.sections[Q++],$=this.sections[Q++],U=q+K;if($<0){if(U>J)return X+(J-q);X+=K}else{if(Y!=h0.Simple&&U>=J&&(Y==h0.TrackDel&&q<J&&U>J||Y==h0.TrackBefore&&q<J||Y==h0.TrackAfter&&U>J))return null;if(U>J||U==J&&Z<0&&!K)return J==q||Z<0?X:X+$;X+=$}q=U}if(J>q)throw RangeError(`Position ${J} is out of range for changeset of length ${q}`);return X}touchesRange(J,Z=J){for(let Y=0,q=0;Y<this.sections.length&&q<=Z;){let X=this.sections[Y++],Q=this.sections[Y++],K=q+X;if(Q>=0&&q<=Z&&K>=J)return q<J&&K>Z?"cover":!0;q=K}return!1}toString(){let J="";for(let Z=0;Z<this.sections.length;){let Y=this.sections[Z++],q=this.sections[Z++];J+=(J?" ":"")+Y+(q>=0?":"+q:"")}return J}toJSON(){return this.sections}static fromJSON(J){if(!Array.isArray(J)||J.length%2||J.some((Z)=>typeof Z!="number"))throw RangeError("Invalid JSON representation of ChangeDesc");return new d1(J)}static create(J){return new d1(J)}}class b0 extends d1{constructor(J,Z){super(J);this.inserted=Z}apply(J){if(this.length!=J.length)throw RangeError("Applying change set to a document with the wrong length");return P2(this,(Z,Y,q,X,Q)=>J=J.replace(q,q+(Y-Z),Q),!1),J}mapDesc(J,Z=!1){return E2(this,J,Z,!0)}invert(J){let Z=this.sections.slice(),Y=[];for(let q=0,X=0;q<Z.length;q+=2){let Q=Z[q],K=Z[q+1];if(K>=0){Z[q]=K,Z[q+1]=Q;let $=q>>1;while(Y.length<$)Y.push(e.empty);Y.push(Q?J.slice(X,X+Q):e.empty)}X+=Q}return new b0(Z,Y)}compose(J){return this.empty?J:J.empty?this:IQ(this,J,!0)}map(J,Z=!1){return J.empty?this:E2(this,J,Z,!0)}iterChanges(J,Z=!1){P2(this,J,Z)}get desc(){return d1.create(this.sections)}filter(J){let Z=[],Y=[],q=[],X=new O4(this);J:for(let Q=0,K=0;;){let $=Q==J.length?1e9:J[Q++];while(K<$||K==$&&X.len==0){if(X.done)break J;let j=Math.min(X.len,$-K);n0(q,j,-1);let W=X.ins==-1?-1:X.off==0?X.ins:0;if(n0(Z,j,W),W>0)d5(Y,Z,X.text);X.forward(j),K+=j}let U=J[Q++];while(K<U){if(X.done)break J;let j=Math.min(X.len,U-K);n0(Z,j,-1),n0(q,j,X.ins==-1?-1:X.off==0?X.ins:0),X.forward(j),K+=j}}return{changes:new b0(Z,Y),filtered:d1.create(q)}}toJSON(){let J=[];for(let Z=0;Z<this.sections.length;Z+=2){let Y=this.sections[Z],q=this.sections[Z+1];if(q<0)J.push(Y);else if(q==0)J.push([Y]);else J.push([Y].concat(this.inserted[Z>>1].toJSON()))}return J}static of(J,Z,Y){let q=[],X=[],Q=0,K=null;function $(j=!1){if(!j&&!q.length)return;if(Q<Z)n0(q,Z-Q,-1);let W=new b0(q,X);K=K?K.compose(W.map(K)):W,q=[],X=[],Q=0}function U(j){if(Array.isArray(j))for(let W of j)U(W);else if(j instanceof b0){if(j.length!=Z)throw RangeError(`Mismatched change set length (got ${j.length}, expected ${Z})`);$(),K=K?K.compose(j.map(K)):j}else{let{from:W,to:G=W,insert:z}=j;if(W>G||W<0||G>Z)throw RangeError(`Invalid change range ${W} to ${G} (in doc of length ${Z})`);let O=!z?e.empty:typeof z=="string"?e.of(z.split(Y||B2)):z,_=O.length;if(W==G&&_==0)return;if(W<Q)$();if(W>Q)n0(q,W-Q,-1);n0(q,G-W,_),d5(X,q,O),Q=G}}return U(J),$(!K),K}static empty(J){return new b0(J?[J,-1]:[],[])}static fromJSON(J){if(!Array.isArray(J))throw RangeError("Invalid JSON representation of ChangeSet");let Z=[],Y=[];for(let q=0;q<J.length;q++){let X=J[q];if(typeof X=="number")Z.push(X,-1);else if(!Array.isArray(X)||typeof X[0]!="number"||X.some((Q,K)=>K&&typeof Q!="string"))throw RangeError("Invalid JSON representation of ChangeSet");else if(X.length==1)Z.push(X[0],0);else{while(Y.length<q)Y.push(e.empty);Y[q]=e.of(X.slice(1)),Z.push(X[0],Y[q].length)}}return new b0(Z,Y)}static createSet(J,Z){return new b0(J,Z)}}function n0(J,Z,Y,q=!1){if(Z==0&&Y<=0)return;let X=J.length-2;if(X>=0&&Y<=0&&Y==J[X+1])J[X]+=Z;else if(X>=0&&Z==0&&J[X]==0)J[X+1]+=Y;else if(q)J[X]+=Z,J[X+1]+=Y;else J.push(Z,Y)}function d5(J,Z,Y){if(Y.length==0)return;let q=Z.length-2>>1;if(q<J.length)J[J.length-1]=J[J.length-1].append(Y);else{while(J.length<q)J.push(e.empty);J.push(Y)}}function P2(J,Z,Y){let q=J.inserted;for(let X=0,Q=0,K=0;K<J.sections.length;){let $=J.sections[K++],U=J.sections[K++];if(U<0)X+=$,Q+=$;else{let j=X,W=Q,G=e.empty;for(;;){if(j+=$,W+=U,U&&q)G=G.append(q[K-2>>1]);if(Y||K==J.sections.length||J.sections[K+1]<0)break;$=J.sections[K++],U=J.sections[K++]}Z(X,j,Q,W,G),X=j,Q=W}}}function E2(J,Z,Y,q=!1){let X=[],Q=q?[]:null,K=new O4(J),$=new O4(Z);for(let U=-1;;)if(K.done&&$.len||$.done&&K.len)throw Error("Mismatched change set lengths");else if(K.ins==-1&&$.ins==-1){let j=Math.min(K.len,$.len);n0(X,j,-1),K.forward(j),$.forward(j)}else if($.ins>=0&&(K.ins<0||U==K.i||K.off==0&&($.len<K.len||$.len==K.len&&!Y))){let j=$.len;n0(X,$.ins,-1);while(j){let W=Math.min(K.len,j);if(K.ins>=0&&U<K.i&&K.len<=W){if(n0(X,0,K.ins),Q)d5(Q,X,K.text);U=K.i}K.forward(W),j-=W}$.next()}else if(K.ins>=0){let j=0,W=K.len;while(W)if($.ins==-1){let G=Math.min(W,$.len);j+=G,W-=G,$.forward(G)}else if($.ins==0&&$.len<W)W-=$.len,$.next();else break;if(n0(X,j,U<K.i?K.ins:0),Q&&U<K.i)d5(Q,X,K.text);U=K.i,K.forward(K.len-W)}else if(K.done&&$.done)return Q?b0.createSet(X,Q):d1.create(X);else throw Error("Mismatched change set lengths")}function IQ(J,Z,Y=!1){let q=[],X=Y?[]:null,Q=new O4(J),K=new O4(Z);for(let $=!1;;)if(Q.done&&K.done)return X?b0.createSet(q,X):d1.create(q);else if(Q.ins==0)n0(q,Q.len,0,$),Q.next();else if(K.len==0&&!K.done){if(n0(q,0,K.ins,$),X)d5(X,q,K.text);K.next()}else if(Q.done||K.done)throw Error("Mismatched change set lengths");else{let U=Math.min(Q.len2,K.len),j=q.length;if(Q.ins==-1){let W=K.ins==-1?-1:K.off?0:K.ins;if(n0(q,U,W,$),X&&W)d5(X,q,K.text)}else if(K.ins==-1){if(n0(q,Q.off?0:Q.len,U,$),X)d5(X,q,Q.textBit(U))}else if(n0(q,Q.off?0:Q.len,K.off?0:K.ins,$),X&&!K.off)d5(X,q,K.text);$=(Q.ins>U||K.ins>=0&&K.len>U)&&($||q.length>j),Q.forward2(U),K.forward(U)}}class O4{constructor(J){this.set=J,this.i=0,this.next()}next(){let{sections:J}=this.set;if(this.i<J.length)this.len=J[this.i++],this.ins=J[this.i++];else this.len=0,this.ins=-2;this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:J}=this.set,Z=this.i-2>>1;return Z>=J.length?e.empty:J[Z]}textBit(J){let{inserted:Z}=this.set,Y=this.i-2>>1;return Y>=Z.length&&!J?e.empty:Z[Y].slice(this.off,J==null?void 0:this.off+J)}forward(J){if(J==this.len)this.next();else this.len-=J,this.off+=J}forward2(J){if(this.ins==-1)this.forward(J);else if(J==this.ins)this.next();else this.ins-=J,this.off+=J}}class PJ{constructor(J,Z,Y){this.from=J,this.to=Z,this.flags=Y}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let J=this.flags&7;return J==7?null:J}get goalColumn(){let J=this.flags>>6;return J==16777215?void 0:J}map(J,Z=-1){let Y,q;if(this.empty)Y=q=J.mapPos(this.from,Z);else Y=J.mapPos(this.from,1),q=J.mapPos(this.to,-1);return Y==this.from&&q==this.to?this:new PJ(Y,q,this.flags)}extend(J,Z=J){if(J<=this.anchor&&Z>=this.anchor)return L.range(J,Z);let Y=Math.abs(J-this.anchor)>Math.abs(Z-this.anchor)?J:Z;return L.range(this.anchor,Y)}eq(J,Z=!1){return this.anchor==J.anchor&&this.head==J.head&&(!Z||!this.empty||this.assoc==J.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(J){if(!J||typeof J.anchor!="number"||typeof J.head!="number")throw RangeError("Invalid JSON representation for SelectionRange");return L.range(J.anchor,J.head)}static create(J,Z,Y){return new PJ(J,Z,Y)}}class L{constructor(J,Z){this.ranges=J,this.mainIndex=Z}map(J,Z=-1){if(J.empty)return this;return L.create(this.ranges.map((Y)=>Y.map(J,Z)),this.mainIndex)}eq(J,Z=!1){if(this.ranges.length!=J.ranges.length||this.mainIndex!=J.mainIndex)return!1;for(let Y=0;Y<this.ranges.length;Y++)if(!this.ranges[Y].eq(J.ranges[Y],Z))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new L([this.main],0)}addRange(J,Z=!0){return L.create([J].concat(this.ranges),Z?0:this.mainIndex+1)}replaceRange(J,Z=this.mainIndex){let Y=this.ranges.slice();return Y[Z]=J,L.create(Y,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((J)=>J.toJSON()),main:this.mainIndex}}static fromJSON(J){if(!J||!Array.isArray(J.ranges)||typeof J.main!="number"||J.main>=J.ranges.length)throw RangeError("Invalid JSON representation for EditorSelection");return new L(J.ranges.map((Z)=>PJ.fromJSON(Z)),J.main)}static single(J,Z=J){return new L([L.range(J,Z)],0)}static create(J,Z=0){if(J.length==0)throw RangeError("A selection needs at least one range");for(let Y=0,q=0;q<J.length;q++){let X=J[q];if(X.empty?X.from<=Y:X.from<Y)return L.normalized(J.slice(),Z);Y=X.to}return new L(J,Z)}static cursor(J,Z=0,Y,q){return PJ.create(J,J,(Z==0?0:Z<0?8:16)|(Y==null?7:Math.min(6,Y))|(q!==null&&q!==void 0?q:16777215)<<6)}static range(J,Z,Y,q){let X=(Y!==null&&Y!==void 0?Y:16777215)<<6|(q==null?7:Math.min(6,q));return Z<J?PJ.create(Z,J,48|X):PJ.create(J,Z,(Z>J?8:0)|X)}static normalized(J,Z=0){let Y=J[Z];J.sort((q,X)=>q.from-X.from),Z=J.indexOf(Y);for(let q=1;q<J.length;q++){let X=J[q],Q=J[q-1];if(X.empty?X.from<=Q.to:X.from<Q.to){let K=Q.from,$=Math.max(X.to,Q.to);if(q<=Z)Z--;J.splice(--q,2,X.anchor>X.head?L.range($,K):L.range(K,$))}}return new L(J,Z)}}function DQ(J,Z){for(let Y of J.ranges)if(Y.to>Z)throw RangeError("Selection points outside of document")}var h2=0;class b{constructor(J,Z,Y,q,X){this.combine=J,this.compareInput=Z,this.compare=Y,this.isStatic=q,this.id=h2++,this.default=J([]),this.extensions=typeof X=="function"?X(this):X}get reader(){return this}static define(J={}){return new b(J.combine||((Z)=>Z),J.compareInput||((Z,Y)=>Z===Y),J.compare||(!J.combine?v2:(Z,Y)=>Z===Y),!!J.static,J.enables)}of(J){return new O3([],this,0,J)}compute(J,Z){if(this.isStatic)throw Error("Can't compute a static facet");return new O3(J,this,1,Z)}computeN(J,Z){if(this.isStatic)throw Error("Can't compute a static facet");return new O3(J,this,2,Z)}from(J,Z){if(!Z)Z=(Y)=>Y;return this.compute([J],(Y)=>Z(Y.field(J)))}}function v2(J,Z){return J==Z||J.length==Z.length&&J.every((Y,q)=>Y===Z[q])}class O3{constructor(J,Z,Y,q){this.dependencies=J,this.facet=Z,this.type=Y,this.value=q,this.id=h2++}dynamicSlot(J){var Z;let Y=this.value,q=this.facet.compareInput,X=this.id,Q=J[X]>>1,K=this.type==2,$=!1,U=!1,j=[];for(let W of this.dependencies)if(W=="doc")$=!0;else if(W=="selection")U=!0;else if((((Z=J[W.id])!==null&&Z!==void 0?Z:1)&1)==0)j.push(J[W.id]);return{create(W){return W.values[Q]=Y(W),1},update(W,G){if($&&G.docChanged||U&&(G.docChanged||G.selection)||C2(W,j)){let z=Y(W);if(K?!RQ(z,W.values[Q],q):!q(z,W.values[Q]))return W.values[Q]=z,1}return 0},reconfigure:(W,G)=>{let z,O=G.config.address[X];if(O!=null){let _=$9(G,O);if(this.dependencies.every((N)=>{return N instanceof b?G.facet(N)===W.facet(N):N instanceof M0?G.field(N,!1)==W.field(N,!1):!0})||(K?RQ(z=Y(W),_,q):q(z=Y(W),_)))return W.values[Q]=_,0}else z=Y(W);return W.values[Q]=z,1}}}}function RQ(J,Z,Y){if(J.length!=Z.length)return!1;for(let q=0;q<J.length;q++)if(!Y(J[q],Z[q]))return!1;return!0}function C2(J,Z){let Y=!1;for(let q of Z)if(_3(J,q)&1)Y=!0;return Y}function wN(J,Z,Y){let q=Y.map((U)=>J[U.id]),X=Y.map((U)=>U.type),Q=q.filter((U)=>!(U&1)),K=J[Z.id]>>1;function $(U){let j=[];for(let W=0;W<q.length;W++){let G=$9(U,q[W]);if(X[W]==2)for(let z of G)j.push(z);else j.push(G)}return Z.combine(j)}return{create(U){for(let j of q)_3(U,j);return U.values[K]=$(U),1},update(U,j){if(!C2(U,Q))return 0;let W=$(U);if(Z.compare(W,U.values[K]))return 0;return U.values[K]=W,1},reconfigure(U,j){let W=C2(U,q),G=j.config.facets[Z.id],z=j.facet(Z);if(G&&!W&&v2(Y,G))return U.values[K]=z,0;let O=$(U);if(Z.compare(O,z))return U.values[K]=z,0;return U.values[K]=O,1}}}var Z9=b.define({static:!0});class M0{constructor(J,Z,Y,q,X){this.id=J,this.createF=Z,this.updateF=Y,this.compareF=q,this.spec=X,this.provides=void 0}static define(J){let Z=new M0(h2++,J.create,J.update,J.compare||((Y,q)=>Y===q),J);if(J.provide)Z.provides=J.provide(Z);return Z}create(J){let Z=J.facet(Z9).find((Y)=>Y.field==this);return((Z===null||Z===void 0?void 0:Z.create)||this.createF)(J)}slot(J){let Z=J[this.id]>>1;return{create:(Y)=>{return Y.values[Z]=this.create(Y),1},update:(Y,q)=>{let X=Y.values[Z],Q=this.updateF(X,q);if(this.compareF(X,Q))return 0;return Y.values[Z]=Q,1},reconfigure:(Y,q)=>{let X=Y.facet(Z9),Q=q.facet(Z9),K;if((K=X.find(($)=>$.field==this))&&K!=Q.find(($)=>$.field==this))return Y.values[Z]=K.create(Y),1;if(q.config.address[this.id]!=null)return Y.values[Z]=q.field(this),0;return Y.values[Z]=this.create(Y),1}}}init(J){return[this,Z9.of({field:this,create:J})]}get extension(){return this}}var BJ={lowest:4,low:3,default:2,high:1,highest:0};function z3(J){return(Z)=>new u2(Z,J)}var B1={highest:z3(BJ.highest),high:z3(BJ.high),default:z3(BJ.default),low:z3(BJ.low),lowest:z3(BJ.lowest)};class u2{constructor(J,Z){this.inner=J,this.prec=Z}}class U9{of(J){return new Q9(this,J)}reconfigure(J){return U9.reconfigure.of({compartment:this,extension:J})}get(J){return J.config.compartments.get(this)}}class Q9{constructor(J,Z){this.compartment=J,this.inner=Z}}class K9{constructor(J,Z,Y,q,X,Q){this.base=J,this.compartments=Z,this.dynamicSlots=Y,this.address=q,this.staticValues=X,this.facets=Q,this.statusTemplate=[];while(this.statusTemplate.length<Y.length)this.statusTemplate.push(0)}staticFacet(J){let Z=this.address[J.id];return Z==null?J.default:this.staticValues[Z>>1]}static resolve(J,Z,Y){let q=[],X=Object.create(null),Q=new Map;for(let G of xN(J,Z,Q))if(G instanceof M0)q.push(G);else(X[G.facet.id]||(X[G.facet.id]=[])).push(G);let K=Object.create(null),$=[],U=[];for(let G of q)K[G.id]=U.length<<1,U.push((z)=>G.slot(z));let j=Y===null||Y===void 0?void 0:Y.config.facets;for(let G in X){let z=X[G],O=z[0].facet,_=j&&j[G]||[];if(z.every((N)=>N.type==0))if(K[O.id]=$.length<<1|1,v2(_,z))$.push(Y.facet(O));else{let N=O.combine(z.map((A)=>A.value));$.push(Y&&O.compare(N,Y.facet(O))?Y.facet(O):N)}else{for(let N of z)if(N.type==0)K[N.id]=$.length<<1|1,$.push(N.value);else K[N.id]=U.length<<1,U.push((A)=>N.dynamicSlot(A));K[O.id]=U.length<<1,U.push((N)=>wN(N,O,z))}}let W=U.map((G)=>G(K));return new K9(J,Q,W,K,$,X)}}function xN(J,Z,Y){let q=[[],[],[],[],[]],X=new Map;function Q(K,$){let U=X.get(K);if(U!=null){if(U<=$)return;let j=q[U].indexOf(K);if(j>-1)q[U].splice(j,1);if(K instanceof Q9)Y.delete(K.compartment)}if(X.set(K,$),Array.isArray(K))for(let j of K)Q(j,$);else if(K instanceof Q9){if(Y.has(K.compartment))throw RangeError("Duplicate use of compartment in extensions");let j=Z.get(K.compartment)||K.inner;Y.set(K.compartment,j),Q(j,$)}else if(K instanceof u2)Q(K.inner,K.prec);else if(K instanceof M0){if(q[$].push(K),K.provides)Q(K.provides,$)}else if(K instanceof O3){if(q[$].push(K),K.facet.extensions)Q(K.facet.extensions,BJ.default)}else{let j=K.extension;if(!j)throw Error(`Unrecognized extension value in extension set (${K}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);Q(j,$)}}return Q(J,BJ.default),q.reduce((K,$)=>K.concat($))}function _3(J,Z){if(Z&1)return 2;let Y=Z>>1,q=J.status[Y];if(q==4)throw Error("Cyclic dependency between fields and/or facets");if(q&2)return q;J.status[Y]=4;let X=J.computeSlot(J,J.config.dynamicSlots[Y]);return J.status[Y]=2|X}function $9(J,Z){return Z&1?J.config.staticValues[Z>>1]:J.values[Z>>1]}var LQ=b.define(),T2=b.define({combine:(J)=>J.some((Z)=>Z),static:!0}),BQ=b.define({combine:(J)=>J.length?J[0]:void 0,static:!0}),PQ=b.define(),EQ=b.define(),CQ=b.define(),TQ=b.define({combine:(J)=>J.length?J[0]:!1});class R1{constructor(J,Z){this.type=J,this.value=Z}static define(){return new yQ}}class yQ{of(J){return new R1(this,J)}}class bQ{constructor(J){this.map=J}of(J){return new p(this,J)}}class p{constructor(J,Z){this.type=J,this.value=Z}map(J){let Z=this.type.map(this.value,J);return Z===void 0?void 0:Z==this.value?this:new p(this.type,Z)}is(J){return this.type==J}static define(J={}){return new bQ(J.map||((Z)=>Z))}static mapEffects(J,Z){if(!J.length)return J;let Y=[];for(let q of J){let X=q.map(Z);if(X)Y.push(X)}return Y}}p.reconfigure=p.define();p.appendConfig=p.define();class L0{constructor(J,Z,Y,q,X,Q){if(this.startState=J,this.changes=Z,this.selection=Y,this.effects=q,this.annotations=X,this.scrollIntoView=Q,this._doc=null,this._state=null,Y)DQ(Y,Z.newLength);if(!X.some((K)=>K.type==L0.time))this.annotations=X.concat(L0.time.of(Date.now()))}static create(J,Z,Y,q,X,Q){return new L0(J,Z,Y,q,X,Q)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){if(!this._state)this.startState.applyTransaction(this);return this._state}annotation(J){for(let Z of this.annotations)if(Z.type==J)return Z.value;return}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(J){let Z=this.annotation(L0.userEvent);return!!(Z&&(Z==J||Z.length>J.length&&Z.slice(0,J.length)==J&&Z[J.length]=="."))}}L0.time=R1.define();L0.userEvent=R1.define();L0.addToHistory=R1.define();L0.remote=R1.define();function hN(J,Z){let Y=[];for(let q=0,X=0;;){let Q,K;if(q<J.length&&(X==Z.length||Z[X]>=J[q]))Q=J[q++],K=J[q++];else if(X<Z.length)Q=Z[X++],K=Z[X++];else return Y;if(!Y.length||Y[Y.length-1]<Q)Y.push(Q,K);else if(Y[Y.length-1]<K)Y[Y.length-1]=K}}function SQ(J,Z,Y){var q;let X,Q,K;if(Y)X=Z.changes,Q=b0.empty(Z.changes.length),K=J.changes.compose(Z.changes);else X=Z.changes.map(J.changes),Q=J.changes.mapDesc(Z.changes,!0),K=J.changes.compose(X);return{changes:K,selection:Z.selection?Z.selection.map(Q):(q=J.selection)===null||q===void 0?void 0:q.map(X),effects:p.mapEffects(J.effects,X).concat(p.mapEffects(Z.effects,Q)),annotations:J.annotations.length?J.annotations.concat(Z.annotations):Z.annotations,scrollIntoView:J.scrollIntoView||Z.scrollIntoView}}function y2(J,Z,Y){let q=Z.selection,X=G4(Z.annotations);if(Z.userEvent)X=X.concat(L0.userEvent.of(Z.userEvent));return{changes:Z.changes instanceof b0?Z.changes:b0.of(Z.changes||[],Y,J.facet(BQ)),selection:q&&(q instanceof L?q:L.single(q.anchor,q.head)),effects:G4(Z.effects),annotations:X,scrollIntoView:!!Z.scrollIntoView}}function kQ(J,Z,Y){let q=y2(J,Z.length?Z[0]:{},J.doc.length);if(Z.length&&Z[0].filter===!1)Y=!1;for(let Q=1;Q<Z.length;Q++){if(Z[Q].filter===!1)Y=!1;let K=!!Z[Q].sequential;q=SQ(q,y2(J,Z[Q],K?q.changes.newLength:J.doc.length),K)}let X=L0.create(J,q.changes,q.selection,q.effects,q.annotations,q.scrollIntoView);return uN(Y?vN(X):X)}function vN(J){let Z=J.startState,Y=!0;for(let X of Z.facet(PQ)){let Q=X(J);if(Q===!1){Y=!1;break}if(Array.isArray(Q))Y=Y===!0?Q:hN(Y,Q)}if(Y!==!0){let X,Q;if(Y===!1)Q=J.changes.invertedDesc,X=b0.empty(Z.doc.length);else{let K=J.changes.filter(Y);X=K.changes,Q=K.filtered.mapDesc(K.changes).invertedDesc}J=L0.create(Z,X,J.selection&&J.selection.map(Q),p.mapEffects(J.effects,Q),J.annotations,J.scrollIntoView)}let q=Z.facet(EQ);for(let X=q.length-1;X>=0;X--){let Q=q[X](J);if(Q instanceof L0)J=Q;else if(Array.isArray(Q)&&Q.length==1&&Q[0]instanceof L0)J=Q[0];else J=kQ(Z,G4(Q),!1)}return J}function uN(J){let Z=J.startState,Y=Z.facet(CQ),q=J;for(let X=Y.length-1;X>=0;X--){let Q=Y[X](J);if(Q&&Object.keys(Q).length)q=SQ(q,y2(Z,Q,J.changes.newLength),!0)}return q==J?J:L0.create(Z,J.changes,J.selection,q.effects,q.annotations,q.scrollIntoView)}var mN=[];function G4(J){return J==null?mN:Array.isArray(J)?J:[J]}var G0=function(J){return J[J.Word=0]="Word",J[J.Space=1]="Space",J[J.Other=2]="Other",J}(G0||(G0={})),gN=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,b2;try{b2=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(J){}function fN(J){if(b2)return b2.test(J);for(let Z=0;Z<J.length;Z++){let Y=J[Z];if(/\w/.test(Y)||Y>""&&(Y.toUpperCase()!=Y.toLowerCase()||gN.test(Y)))return!0}return!1}function lN(J){return(Z)=>{if(!/\S/.test(Z))return G0.Space;if(fN(Z))return G0.Word;for(let Y=0;Y<J.length;Y++)if(Z.indexOf(J[Y])>-1)return G0.Word;return G0.Other}}class o{constructor(J,Z,Y,q,X,Q){if(this.config=J,this.doc=Z,this.selection=Y,this.values=q,this.status=J.statusTemplate.slice(),this.computeSlot=X,Q)Q._state=this;for(let K=0;K<this.config.dynamicSlots.length;K++)_3(this,K<<1);this.computeSlot=null}field(J,Z=!0){let Y=this.config.address[J.id];if(Y==null){if(Z)throw RangeError("Field is not present in this state");return}return _3(this,Y),$9(this,Y)}update(...J){return kQ(this,J,!0)}applyTransaction(J){let Z=this.config,{base:Y,compartments:q}=Z;for(let K of J.effects)if(K.is(U9.reconfigure)){if(Z)q=new Map,Z.compartments.forEach(($,U)=>q.set(U,$)),Z=null;q.set(K.value.compartment,K.value.extension)}else if(K.is(p.reconfigure))Z=null,Y=K.value;else if(K.is(p.appendConfig))Z=null,Y=G4(Y).concat(K.value);let X;if(!Z)Z=K9.resolve(Y,q,this),X=new o(Z,this.doc,this.selection,Z.dynamicSlots.map(()=>null),($,U)=>U.reconfigure($,this),null).values;else X=J.startState.values.slice();let Q=J.startState.facet(T2)?J.newSelection:J.newSelection.asSingle();new o(Z,J.newDoc,Q,X,(K,$)=>$.update(K,J),J)}replaceSelection(J){if(typeof J=="string")J=this.toText(J);return this.changeByRange((Z)=>({changes:{from:Z.from,to:Z.to,insert:J},range:L.cursor(Z.from+J.length)}))}changeByRange(J){let Z=this.selection,Y=J(Z.ranges[0]),q=this.changes(Y.changes),X=[Y.range],Q=G4(Y.effects);for(let K=1;K<Z.ranges.length;K++){let $=J(Z.ranges[K]),U=this.changes($.changes),j=U.map(q);for(let G=0;G<K;G++)X[G]=X[G].map(j);let W=q.mapDesc(U,!0);X.push($.range.map(W)),q=q.compose(j),Q=p.mapEffects(Q,j).concat(p.mapEffects(G4($.effects),W))}return{changes:q,selection:L.create(X,Z.mainIndex),effects:Q}}changes(J=[]){if(J instanceof b0)return J;return b0.of(J,this.doc.length,this.facet(o.lineSeparator))}toText(J){return e.of(J.split(this.facet(o.lineSeparator)||B2))}sliceDoc(J=0,Z=this.doc.length){return this.doc.sliceString(J,Z,this.lineBreak)}facet(J){let Z=this.config.address[J.id];if(Z==null)return J.default;return _3(this,Z),$9(this,Z)}toJSON(J){let Z={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(J)for(let Y in J){let q=J[Y];if(q instanceof M0&&this.config.address[q.id]!=null)Z[Y]=q.spec.toJSON(this.field(J[Y]),this)}return Z}static fromJSON(J,Z={},Y){if(!J||typeof J.doc!="string")throw RangeError("Invalid JSON representation for EditorState");let q=[];if(Y){for(let X in Y)if(Object.prototype.hasOwnProperty.call(J,X)){let Q=Y[X],K=J[X];q.push(Q.init(($)=>Q.spec.fromJSON(K,$)))}}return o.create({doc:J.doc,selection:L.fromJSON(J.selection),extensions:Z.extensions?q.concat([Z.extensions]):q})}static create(J={}){let Z=K9.resolve(J.extensions||[],new Map),Y=J.doc instanceof e?J.doc:e.of((J.doc||"").split(Z.staticFacet(o.lineSeparator)||B2)),q=!J.selection?L.single(0):J.selection instanceof L?J.selection:L.single(J.selection.anchor,J.selection.head);if(DQ(q,Y.length),!Z.staticFacet(T2))q=q.asSingle();return new o(Z,Y,q,Z.dynamicSlots.map(()=>null),(X,Q)=>Q.create(X),null)}get tabSize(){return this.facet(o.tabSize)}get lineBreak(){return this.facet(o.lineSeparator)||`
`}get readOnly(){return this.facet(TQ)}phrase(J,...Z){for(let Y of this.facet(o.phrases))if(Object.prototype.hasOwnProperty.call(Y,J)){J=Y[J];break}if(Z.length)J=J.replace(/\$(\$|\d*)/g,(Y,q)=>{if(q=="$")return"$";let X=+(q||1);return!X||X>Z.length?Y:Z[X-1]});return J}languageDataAt(J,Z,Y=-1){let q=[];for(let X of this.facet(LQ))for(let Q of X(this,Z,Y))if(Object.prototype.hasOwnProperty.call(Q,J))q.push(Q[J]);return q}charCategorizer(J){let Z=this.languageDataAt("wordChars",J);return lN(Z.length?Z[0]:"")}wordAt(J){let{text:Z,from:Y,length:q}=this.doc.lineAt(J),X=this.charCategorizer(J),Q=J-Y,K=J-Y;while(Q>0){let $=E0(Z,Q,!1);if(X(Z.slice($,Q))!=G0.Word)break;Q=$}while(K<q){let $=E0(Z,K);if(X(Z.slice(K,$))!=G0.Word)break;K=$}return Q==K?null:L.range(Q+Y,K+Y)}}o.allowMultipleSelections=T2;o.tabSize=b.define({combine:(J)=>J.length?J[0]:4});o.lineSeparator=BQ;o.readOnly=TQ;o.phrases=b.define({compare(J,Z){let Y=Object.keys(J),q=Object.keys(Z);return Y.length==q.length&&Y.every((X)=>J[X]==Z[X])}});o.languageData=LQ;o.changeFilter=PQ;o.transactionFilter=EQ;o.transactionExtender=CQ;U9.reconfigure=p.define();function i0(J,Z,Y={}){let q={};for(let X of J)for(let Q of Object.keys(X)){let K=X[Q],$=q[Q];if($===void 0)q[Q]=K;else if($===K||K===void 0);else if(Object.hasOwnProperty.call(Y,Q))q[Q]=Y[Q]($,K);else throw Error("Config merge conflict for field "+Q)}for(let X in Z)if(q[X]===void 0)q[X]=Z[X];return q}class c1{eq(J){return this==J}range(J,Z=J){return H3.create(J,Z,this)}}c1.prototype.startSide=c1.prototype.endSide=0;c1.prototype.point=!1;c1.prototype.mapMode=h0.TrackDel;function m2(J,Z){return J==Z||J.constructor==Z.constructor&&J.eq(Z)}class H3{constructor(J,Z,Y){this.from=J,this.to=Z,this.value=Y}static create(J,Z,Y){return new H3(J,Z,Y)}}function S2(J,Z){return J.from-Z.from||J.value.startSide-Z.value.startSide}class g2{constructor(J,Z,Y,q){this.from=J,this.to=Z,this.value=Y,this.maxPoint=q}get length(){return this.to[this.to.length-1]}findIndex(J,Z,Y,q=0){let X=Y?this.to:this.from;for(let Q=q,K=X.length;;){if(Q==K)return Q;let $=Q+K>>1,U=X[$]-J||(Y?this.value[$].endSide:this.value[$].startSide)-Z;if($==Q)return U>=0?Q:K;if(U>=0)K=$;else Q=$+1}}between(J,Z,Y,q){for(let X=this.findIndex(Z,-1e9,!0),Q=this.findIndex(Y,1e9,!1,X);X<Q;X++)if(q(this.from[X]+J,this.to[X]+J,this.value[X])===!1)return!1}map(J,Z){let Y=[],q=[],X=[],Q=-1,K=-1;for(let $=0;$<this.value.length;$++){let U=this.value[$],j=this.from[$]+J,W=this.to[$]+J,G,z;if(j==W){let O=Z.mapPos(j,U.startSide,U.mapMode);if(O==null)continue;if(G=z=O,U.startSide!=U.endSide){if(z=Z.mapPos(j,U.endSide),z<G)continue}}else if(G=Z.mapPos(j,U.startSide),z=Z.mapPos(W,U.endSide),G>z||G==z&&U.startSide>0&&U.endSide<=0)continue;if((z-G||U.endSide-U.startSide)<0)continue;if(Q<0)Q=G;if(U.point)K=Math.max(K,z-G);Y.push(U),q.push(G-Q),X.push(z-Q)}return{mapped:Y.length?new g2(q,X,Y,K):null,pos:Q}}}class a{constructor(J,Z,Y,q){this.chunkPos=J,this.chunk=Z,this.nextLayer=Y,this.maxPoint=q}static create(J,Z,Y,q){return new a(J,Z,Y,q)}get length(){let J=this.chunk.length-1;return J<0?0:Math.max(this.chunkEnd(J),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let J=this.nextLayer.size;for(let Z of this.chunk)J+=Z.value.length;return J}chunkEnd(J){return this.chunkPos[J]+this.chunk[J].length}update(J){let{add:Z=[],sort:Y=!1,filterFrom:q=0,filterTo:X=this.length}=J,Q=J.filter;if(Z.length==0&&!Q)return this;if(Y)Z=Z.slice().sort(S2);if(this.isEmpty)return Z.length?a.of(Z):this;let K=new f2(this,null,-1).goto(0),$=0,U=[],j=new J1;while(K.value||$<Z.length)if($<Z.length&&(K.from-Z[$].from||K.startSide-Z[$].value.startSide)>=0){let W=Z[$++];if(!j.addInner(W.from,W.to,W.value))U.push(W)}else if(K.rangeIndex==1&&K.chunkIndex<this.chunk.length&&($==Z.length||this.chunkEnd(K.chunkIndex)<Z[$].from)&&(!Q||q>this.chunkEnd(K.chunkIndex)||X<this.chunkPos[K.chunkIndex])&&j.addChunk(this.chunkPos[K.chunkIndex],this.chunk[K.chunkIndex]))K.nextChunk();else{if(!Q||q>K.to||X<K.from||Q(K.from,K.to,K.value)){if(!j.addInner(K.from,K.to,K.value))U.push(H3.create(K.from,K.to,K.value))}K.next()}return j.finishInner(this.nextLayer.isEmpty&&!U.length?a.empty:this.nextLayer.update({add:U,filter:Q,filterFrom:q,filterTo:X}))}map(J){if(J.empty||this.isEmpty)return this;let Z=[],Y=[],q=-1;for(let Q=0;Q<this.chunk.length;Q++){let K=this.chunkPos[Q],$=this.chunk[Q],U=J.touchesRange(K,K+$.length);if(U===!1)q=Math.max(q,$.maxPoint),Z.push($),Y.push(J.mapPos(K));else if(U===!0){let{mapped:j,pos:W}=$.map(K,J);if(j)q=Math.max(q,j.maxPoint),Z.push(j),Y.push(W)}}let X=this.nextLayer.map(J);return Z.length==0?X:new a(Y,Z,X||a.empty,q)}between(J,Z,Y){if(this.isEmpty)return;for(let q=0;q<this.chunk.length;q++){let X=this.chunkPos[q],Q=this.chunk[q];if(Z>=X&&J<=X+Q.length&&Q.between(X,J-X,Z-X,Y)===!1)return}this.nextLayer.between(J,Z,Y)}iter(J=0){return N3.from([this]).goto(J)}get isEmpty(){return this.nextLayer==this}static iter(J,Z=0){return N3.from(J).goto(Z)}static compare(J,Z,Y,q,X=-1){let Q=J.filter((W)=>W.maxPoint>0||!W.isEmpty&&W.maxPoint>=X),K=Z.filter((W)=>W.maxPoint>0||!W.isEmpty&&W.maxPoint>=X),$=AQ(Q,K,Y),U=new W4(Q,$,X),j=new W4(K,$,X);if(Y.iterGaps((W,G,z)=>FQ(U,W,j,G,z,q)),Y.empty&&Y.length==0)FQ(U,0,j,0,0,q)}static eq(J,Z,Y=0,q){if(q==null)q=999999999;let X=J.filter((j)=>!j.isEmpty&&Z.indexOf(j)<0),Q=Z.filter((j)=>!j.isEmpty&&J.indexOf(j)<0);if(X.length!=Q.length)return!1;if(!X.length)return!0;let K=AQ(X,Q),$=new W4(X,K,0).goto(Y),U=new W4(Q,K,0).goto(Y);for(;;){if($.to!=U.to||!k2($.active,U.active)||$.point&&(!U.point||!m2($.point,U.point)))return!1;if($.to>q)return!0;$.next(),U.next()}}static spans(J,Z,Y,q,X=-1){let Q=new W4(J,null,X).goto(Z),K=Z,$=Q.openStart;for(;;){let U=Math.min(Q.to,Y);if(Q.point){let j=Q.activeForPoint(Q.to),W=Q.pointFrom<Z?j.length+1:Q.point.startSide<0?j.length:Math.min(j.length,$);q.point(K,U,Q.point,j,W,Q.pointRank),$=Math.min(Q.openEnd(U),j.length)}else if(U>K)q.span(K,U,Q.active,$),$=Q.openEnd(U);if(Q.to>Y)return $+(Q.point&&Q.to>Y?1:0);K=Q.to,Q.next()}}static of(J,Z=!1){let Y=new J1;for(let q of J instanceof H3?[J]:Z?pN(J):J)Y.add(q.from,q.to,q.value);return Y.finish()}static join(J){if(!J.length)return a.empty;let Z=J[J.length-1];for(let Y=J.length-2;Y>=0;Y--)for(let q=J[Y];q!=a.empty;q=q.nextLayer)Z=new a(q.chunkPos,q.chunk,Z,Math.max(q.maxPoint,Z.maxPoint));return Z}}a.empty=new a([],[],null,-1);function pN(J){if(J.length>1)for(let Z=J[0],Y=1;Y<J.length;Y++){let q=J[Y];if(S2(Z,q)>0)return J.slice().sort(S2);Z=q}return J}a.empty.nextLayer=a.empty;class J1{finishChunk(J){if(this.chunks.push(new g2(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,J)this.from=[],this.to=[],this.value=[]}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(J,Z,Y){if(!this.addInner(J,Z,Y))(this.nextLayer||(this.nextLayer=new J1)).add(J,Z,Y)}addInner(J,Z,Y){let q=J-this.lastTo||Y.startSide-this.last.endSide;if(q<=0&&(J-this.lastFrom||Y.startSide-this.last.startSide)<0)throw Error("Ranges must be added sorted by `from` position and `startSide`");if(q<0)return!1;if(this.from.length==250)this.finishChunk(!0);if(this.chunkStart<0)this.chunkStart=J;if(this.from.push(J-this.chunkStart),this.to.push(Z-this.chunkStart),this.last=Y,this.lastFrom=J,this.lastTo=Z,this.value.push(Y),Y.point)this.maxPoint=Math.max(this.maxPoint,Z-J);return!0}addChunk(J,Z){if((J-this.lastTo||Z.value[0].startSide-this.last.endSide)<0)return!1;if(this.from.length)this.finishChunk(!0);this.setMaxPoint=Math.max(this.setMaxPoint,Z.maxPoint),this.chunks.push(Z),this.chunkPos.push(J);let Y=Z.value.length-1;return this.last=Z.value[Y],this.lastFrom=Z.from[Y]+J,this.lastTo=Z.to[Y]+J,!0}finish(){return this.finishInner(a.empty)}finishInner(J){if(this.from.length)this.finishChunk(!1);if(this.chunks.length==0)return J;let Z=a.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(J):J,this.setMaxPoint);return this.from=null,Z}}function AQ(J,Z,Y){let q=new Map;for(let Q of J)for(let K=0;K<Q.chunk.length;K++)if(Q.chunk[K].maxPoint<=0)q.set(Q.chunk[K],Q.chunkPos[K]);let X=new Set;for(let Q of Z)for(let K=0;K<Q.chunk.length;K++){let $=q.get(Q.chunk[K]);if($!=null&&(Y?Y.mapPos($):$)==Q.chunkPos[K]&&!(Y===null||Y===void 0?void 0:Y.touchesRange($,$+Q.chunk[K].length)))X.add(Q.chunk[K])}return X}class f2{constructor(J,Z,Y,q=0){this.layer=J,this.skip=Z,this.minPoint=Y,this.rank=q}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(J,Z=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(J,Z,!1),this}gotoInner(J,Z,Y){while(this.chunkIndex<this.layer.chunk.length){let q=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(q)||this.layer.chunkEnd(this.chunkIndex)<J||q.maxPoint<this.minPoint))break;this.chunkIndex++,Y=!1}if(this.chunkIndex<this.layer.chunk.length){let q=this.layer.chunk[this.chunkIndex].findIndex(J-this.layer.chunkPos[this.chunkIndex],Z,!0);if(!Y||this.rangeIndex<q)this.setRangeIndex(q)}this.next()}forward(J,Z){if((this.to-J||this.endSide-Z)<0)this.gotoInner(J,Z,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let J=this.layer.chunkPos[this.chunkIndex],Z=this.layer.chunk[this.chunkIndex],Y=J+Z.from[this.rangeIndex];if(this.from=Y,this.to=J+Z.to[this.rangeIndex],this.value=Z.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(J){if(J==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)while(this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]))this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=J}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(J){return this.from-J.from||this.startSide-J.startSide||this.rank-J.rank||this.to-J.to||this.endSide-J.endSide}}class N3{constructor(J){this.heap=J}static from(J,Z=null,Y=-1){let q=[];for(let X=0;X<J.length;X++)for(let Q=J[X];!Q.isEmpty;Q=Q.nextLayer)if(Q.maxPoint>=Y)q.push(new f2(Q,Z,Y,X));return q.length==1?q[0]:new N3(q)}get startSide(){return this.value?this.value.startSide:0}goto(J,Z=-1e9){for(let Y of this.heap)Y.goto(J,Z);for(let Y=this.heap.length>>1;Y>=0;Y--)L2(this.heap,Y);return this.next(),this}forward(J,Z){for(let Y of this.heap)Y.forward(J,Z);for(let Y=this.heap.length>>1;Y>=0;Y--)L2(this.heap,Y);if((this.to-J||this.value.endSide-Z)<0)this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let J=this.heap[0];if(this.from=J.from,this.to=J.to,this.value=J.value,this.rank=J.rank,J.value)J.next();L2(this.heap,0)}}}function L2(J,Z){for(let Y=J[Z];;){let q=(Z<<1)+1;if(q>=J.length)break;let X=J[q];if(q+1<J.length&&X.compare(J[q+1])>=0)X=J[q+1],q++;if(Y.compare(X)<0)break;J[q]=Y,J[Z]=X,Z=q}}class W4{constructor(J,Z,Y){this.minPoint=Y,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=N3.from(J,Z,Y)}goto(J,Z=-1e9){return this.cursor.goto(J,Z),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=J,this.endSide=Z,this.openStart=-1,this.next(),this}forward(J,Z){while(this.minActive>-1&&(this.activeTo[this.minActive]-J||this.active[this.minActive].endSide-Z)<0)this.removeActive(this.minActive);this.cursor.forward(J,Z)}removeActive(J){Y9(this.active,J),Y9(this.activeTo,J),Y9(this.activeRank,J),this.minActive=MQ(this.active,this.activeTo)}addActive(J){let Z=0,{value:Y,to:q,rank:X}=this.cursor;while(Z<this.activeRank.length&&(X-this.activeRank[Z]||q-this.activeTo[Z])>0)Z++;if(q9(this.active,Z,Y),q9(this.activeTo,Z,q),q9(this.activeRank,Z,X),J)q9(J,Z,this.cursor.from);this.minActive=MQ(this.active,this.activeTo)}next(){let J=this.to,Z=this.point;this.point=null;let Y=this.openStart<0?[]:null;for(;;){let q=this.minActive;if(q>-1&&(this.activeTo[q]-this.cursor.from||this.active[q].endSide-this.cursor.startSide)<0){if(this.activeTo[q]>J){this.to=this.activeTo[q],this.endSide=this.active[q].endSide;break}if(this.removeActive(q),Y)Y9(Y,q)}else if(!this.cursor.value){this.to=this.endSide=1e9;break}else if(this.cursor.from>J){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let X=this.cursor.value;if(!X.point)this.addActive(Y),this.cursor.next();else if(Z&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=X,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=X.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}}if(Y){this.openStart=0;for(let q=Y.length-1;q>=0&&Y[q]<J;q--)this.openStart++}}activeForPoint(J){if(!this.active.length)return this.active;let Z=[];for(let Y=this.active.length-1;Y>=0;Y--){if(this.activeRank[Y]<this.pointRank)break;if(this.activeTo[Y]>J||this.activeTo[Y]==J&&this.active[Y].endSide>=this.point.endSide)Z.push(this.active[Y])}return Z.reverse()}openEnd(J){let Z=0;for(let Y=this.activeTo.length-1;Y>=0&&this.activeTo[Y]>J;Y--)Z++;return Z}}function FQ(J,Z,Y,q,X,Q){J.goto(Z),Y.goto(q);let K=q+X,$=q,U=q-Z,j=!!Q.boundChange;for(let W=!1;;){let G=J.to+U-Y.to,z=G||J.endSide-Y.endSide,O=z<0?J.to+U:Y.to,_=Math.min(O,K);if(J.point||Y.point){if(!(J.point&&Y.point&&m2(J.point,Y.point)&&k2(J.activeForPoint(J.to),Y.activeForPoint(Y.to))))Q.comparePoint($,_,J.point,Y.point);W=!1}else{if(W)Q.boundChange($);if(_>$&&!k2(J.active,Y.active))Q.compareRange($,_,J.active,Y.active);if(j&&_<K&&(G||J.openEnd(O)!=Y.openEnd(O)))W=!0}if(O>K)break;if($=O,z<=0)J.next();if(z>=0)Y.next()}}function k2(J,Z){if(J.length!=Z.length)return!1;for(let Y=0;Y<J.length;Y++)if(J[Y]!=Z[Y]&&!m2(J[Y],Z[Y]))return!1;return!0}function Y9(J,Z){for(let Y=Z,q=J.length-1;Y<q;Y++)J[Y]=J[Y+1];J.pop()}function q9(J,Z,Y){for(let q=J.length-1;q>=Z;q--)J[q+1]=J[q];J[Z]=Y}function MQ(J,Z){let Y=-1,q=1e9;for(let X=0;X<Z.length;X++)if((Z[X]-q||J[X].endSide-J[Y].endSide)<0)Y=X,q=Z[X];return Y}function C5(J,Z,Y=J.length){let q=0;for(let X=0;X<Y&&X<J.length;)if(J.charCodeAt(X)==9)q+=Z-q%Z,X++;else q++,X=E0(J,X);return q}function W9(J,Z,Y,q){for(let X=0,Q=0;;){if(Q>=Z)return X;if(X==J.length)break;Q+=J.charCodeAt(X)==9?Y-Q%Y:1,X=E0(J,X)}return q===!0?-1:J.length}var wQ=typeof Symbol>"u"?"__"+"":Symbol.for(""),l2=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),xQ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class n1{constructor(J,Z){this.rules=[];let{finish:Y}=Z||{};function q(Q){return/^@/.test(Q)?[Q]:Q.split(/,\s*/)}function X(Q,K,$,U){let j=[],W=/^@(\w+)\b/.exec(Q[0]),G=W&&W[1]=="keyframes";if(W&&K==null)return $.push(Q[0]+";");for(let z in K){let O=K[z];if(/&/.test(z))X(z.split(/,\s*/).map((_)=>Q.map((N)=>_.replace(/&/,N))).reduce((_,N)=>_.concat(N)),O,$);else if(O&&typeof O=="object"){if(!W)throw RangeError("The value of a property ("+z+") should be a primitive value.");X(q(z),O,j,G)}else if(O!=null)j.push(z.replace(/_.*/,"").replace(/[A-Z]/g,(_)=>"-"+_.toLowerCase())+": "+O+";")}if(j.length||G)$.push((Y&&!W&&!U?Q.map(Y):Q).join(", ")+" {"+j.join(" ")+"}")}for(let Q in J)X(q(Q),J[Q],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let J=xQ[wQ]||1;return xQ[wQ]=J+1,""+J.toString(36)}static mount(J,Z,Y){let q=J[l2],X=Y&&Y.nonce;if(!q)q=new vQ(J,X);else if(X)q.setNonce(X);q.mount(Array.isArray(Z)?Z:[Z],J)}}var hQ=new Map;class vQ{constructor(J,Z){let Y=J.ownerDocument||J,q=Y.defaultView;if(!J.head&&J.adoptedStyleSheets&&q.CSSStyleSheet){let X=hQ.get(Y);if(X)return J[l2]=X;this.sheet=new q.CSSStyleSheet,hQ.set(Y,this)}else if(this.styleTag=Y.createElement("style"),Z)this.styleTag.setAttribute("nonce",Z);this.modules=[],J[l2]=this}mount(J,Z){let Y=this.sheet,q=0,X=0;for(let Q=0;Q<J.length;Q++){let K=J[Q],$=this.modules.indexOf(K);if($<X&&$>-1)this.modules.splice($,1),X--,$=-1;if($==-1){if(this.modules.splice(X++,0,K),Y)for(let U=0;U<K.rules.length;U++)Y.insertRule(K.rules[U],q++)}else{while(X<$)q+=this.modules[X++].rules.length;q+=K.rules.length,X++}}if(Y){if(Z.adoptedStyleSheets.indexOf(this.sheet)<0)Z.adoptedStyleSheets=[this.sheet,...Z.adoptedStyleSheets]}else{let Q="";for(let $=0;$<this.modules.length;$++)Q+=this.modules[$].getRules()+`
`;this.styleTag.textContent=Q;let K=Z.head||Z;if(this.styleTag.parentNode!=K)K.insertBefore(this.styleTag,K.firstChild)}}setNonce(J){if(this.styleTag&&this.styleTag.getAttribute("nonce")!=J)this.styleTag.setAttribute("nonce",J)}}var T5={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},_4={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},dN=typeof navigator<"u"&&/Mac/.test(navigator.platform),cN=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(B0=0;B0<10;B0++)T5[48+B0]=T5[96+B0]=String(B0);var B0;for(B0=1;B0<=24;B0++)T5[B0+111]="F"+B0;var B0;for(B0=65;B0<=90;B0++)T5[B0]=String.fromCharCode(B0+32),_4[B0]=String.fromCharCode(B0);var B0;for(A3 in T5)if(!_4.hasOwnProperty(A3))_4[A3]=T5[A3];var A3;function uQ(J){var Z=dN&&J.metaKey&&J.shiftKey&&!J.ctrlKey&&!J.altKey||cN&&J.shiftKey&&J.key&&J.key.length==1||J.key=="Unidentified",Y=!Z&&J.key||(J.shiftKey?_4:T5)[J.keyCode]||J.key||"Unidentified";if(Y=="Esc")Y="Escape";if(Y=="Del")Y="Delete";if(Y=="Left")Y="ArrowLeft";if(Y=="Up")Y="ArrowUp";if(Y=="Right")Y="ArrowRight";if(Y=="Down")Y="ArrowDown";return Y}function $0(){var J=arguments[0];if(typeof J=="string")J=document.createElement(J);var Z=1,Y=arguments[1];if(Y&&typeof Y=="object"&&Y.nodeType==null&&!Array.isArray(Y)){for(var q in Y)if(Object.prototype.hasOwnProperty.call(Y,q)){var X=Y[q];if(typeof X=="string")J.setAttribute(q,X);else if(X!=null)J[q]=X}Z++}for(;Z<arguments.length;Z++)mQ(J,arguments[Z]);return J}function mQ(J,Z){if(typeof Z=="string")J.appendChild(document.createTextNode(Z));else if(Z==null);else if(Z.nodeType!=null)J.appendChild(Z);else if(Array.isArray(Z))for(var Y=0;Y<Z.length;Y++)mQ(J,Z[Y]);else throw RangeError("Unsupported child node: "+Z)}var Z1=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},o2=typeof document<"u"?document:{documentElement:{style:{}}},t2=/Edge\/(\d+)/.exec(Z1.userAgent),BK=/MSIE \d/.test(Z1.userAgent),e2=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Z1.userAgent),v9=!!(BK||e2||t2),gQ=!v9&&/gecko\/(\d+)/i.test(Z1.userAgent),p2=!v9&&/Chrome\/(\d+)/.exec(Z1.userAgent),fQ="webkitFontSmoothing"in o2.documentElement.style,JZ=!v9&&/Apple Computer/.test(Z1.vendor),lQ=JZ&&(/Mobile\/\w+/.test(Z1.userAgent)||Z1.maxTouchPoints>2),v={mac:lQ||/Mac/.test(Z1.platform),windows:/Win/.test(Z1.platform),linux:/Linux|X11/.test(Z1.platform),ie:v9,ie_version:BK?o2.documentMode||6:e2?+e2[1]:t2?+t2[1]:0,gecko:gQ,gecko_version:gQ?+(/Firefox\/(\d+)/.exec(Z1.userAgent)||[0,0])[1]:0,chrome:!!p2,chrome_version:p2?+p2[1]:0,ios:lQ,android:/Android\b/.test(Z1.userAgent),webkit:fQ,webkit_version:fQ?+(/\bAppleWebKit\/(\d+)/.exec(Z1.userAgent)||[0,0])[1]:0,safari:JZ,safari_version:JZ?+(/\bVersion\/(\d+(\.\d+)?)/.exec(Z1.userAgent)||[0,0])[1]:0,tabSize:o2.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function IZ(J,Z){for(let Y in J)if(Y=="class"&&Z.class)Z.class+=" "+J.class;else if(Y=="style"&&Z.style)Z.style+=";"+J.style;else Z[Y]=J[Y];return Z}var T9=Object.create(null);function DZ(J,Z,Y){if(J==Z)return!0;if(!J)J=T9;if(!Z)Z=T9;let q=Object.keys(J),X=Object.keys(Z);if(q.length-(Y&&q.indexOf(Y)>-1?1:0)!=X.length-(Y&&X.indexOf(Y)>-1?1:0))return!1;for(let Q of q)if(Q!=Y&&(X.indexOf(Q)==-1||J[Q]!==Z[Q]))return!1;return!0}function nN(J,Z){for(let Y=J.attributes.length-1;Y>=0;Y--){let q=J.attributes[Y].name;if(Z[q]==null)J.removeAttribute(q)}for(let Y in Z){let q=Z[Y];if(Y=="style")J.style.cssText=q;else if(J.getAttribute(Y)!=q)J.setAttribute(Y,q)}}function pQ(J,Z,Y){let q=!1;if(Z){for(let X in Z)if(!(Y&&(X in Y)))if(q=!0,X=="style")J.style.cssText="";else J.removeAttribute(X)}if(Y){for(let X in Y)if(!(Z&&Z[X]==Y[X]))if(q=!0,X=="style")J.style.cssText=Y[X];else J.setAttribute(X,Y[X])}return q}function iN(J){let Z=Object.create(null);for(let Y=0;Y<J.attributes.length;Y++){let q=J.attributes[Y];Z[q.name]=q.value}return Z}class $1{eq(J){return!1}updateDOM(J,Z){return!1}compare(J){return this==J||this.constructor==J.constructor&&this.eq(J)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(J){return!0}coordsAt(J,Z,Y){return null}get isHidden(){return!1}get editable(){return!1}destroy(J){}}var p0=function(J){return J[J.Text=0]="Text",J[J.WidgetBefore=1]="WidgetBefore",J[J.WidgetAfter=2]="WidgetAfter",J[J.WidgetRange=3]="WidgetRange",J}(p0||(p0={}));class f extends c1{constructor(J,Z,Y,q){super();this.startSide=J,this.endSide=Z,this.widget=Y,this.spec=q}get heightRelevant(){return!1}static mark(J){return new k3(J)}static widget(J){let Z=Math.max(-1e4,Math.min(1e4,J.side||0)),Y=!!J.block;return Z+=Y&&!J.inlineOrder?Z>0?300000000:-400000000:Z>0?1e8:-1e8,new TJ(J,Z,Z,Y,J.widget||null,!1)}static replace(J){let Z=!!J.block,Y,q;if(J.isBlockGap)Y=-500000000,q=400000000;else{let{start:X,end:Q}=PK(J,Z);Y=(X?Z?-300000000:-1:500000000)-1,q=(Q?Z?200000000:1:-600000000)+1}return new TJ(J,Y,q,Z,J.widget||null,!0)}static line(J){return new w3(J)}static set(J,Z=!1){return a.of(J,Z)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}f.none=a.empty;class k3 extends f{constructor(J){let{start:Z,end:Y}=PK(J);super(Z?-1:500000000,Y?1:-600000000,null,J);this.tagName=J.tagName||"span",this.attrs=J.class&&J.attributes?IZ(J.attributes,{class:J.class}):J.class?{class:J.class}:J.attributes||T9}eq(J){return this==J||J instanceof k3&&this.tagName==J.tagName&&DZ(this.attrs,J.attrs)}range(J,Z=J){if(J>=Z)throw RangeError("Mark decorations may not be empty");return super.range(J,Z)}}k3.prototype.point=!1;class w3 extends f{constructor(J){super(-200000000,-200000000,null,J)}eq(J){return J instanceof w3&&this.spec.class==J.spec.class&&DZ(this.spec.attributes,J.spec.attributes)}range(J,Z=J){if(Z!=J)throw RangeError("Line decoration ranges must be zero-length");return super.range(J,Z)}}w3.prototype.mapMode=h0.TrackBefore;w3.prototype.point=!0;class TJ extends f{constructor(J,Z,Y,q,X,Q){super(Z,Y,X,J);this.block=q,this.isReplace=Q,this.mapMode=!q?h0.TrackDel:Z<=0?h0.TrackBefore:h0.TrackAfter}get type(){return this.startSide!=this.endSide?p0.WidgetRange:this.startSide<=0?p0.WidgetBefore:p0.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(J){return J instanceof TJ&&sN(this.widget,J.widget)&&this.block==J.block&&this.startSide==J.startSide&&this.endSide==J.endSide}range(J,Z=J){if(this.isReplace&&(J>Z||J==Z&&this.startSide>0&&this.endSide<=0))throw RangeError("Invalid range for replacement decoration");if(!this.isReplace&&Z!=J)throw RangeError("Widget decorations can only have zero-length ranges");return super.range(J,Z)}}TJ.prototype.point=!0;function PK(J,Z=!1){let{inclusiveStart:Y,inclusiveEnd:q}=J;if(Y==null)Y=J.inclusive;if(q==null)q=J.inclusive;return{start:Y!==null&&Y!==void 0?Y:Z,end:q!==null&&q!==void 0?q:Z}}function sN(J,Z){return J==Z||!!(J&&Z&&J.compare(Z))}function R4(J,Z,Y,q=0){let X=Y.length-1;if(X>=0&&Y[X]+q>=J)Y[X]=Math.max(Y[X],Z);else Y.push(J,Z)}class C3 extends c1{constructor(J,Z){super();this.tagName=J,this.attributes=Z}eq(J){return J==this||J instanceof C3&&this.tagName==J.tagName&&DZ(this.attributes,J.attributes)}static create(J){return new C3(J.tagName,J.attributes||T9)}static set(J,Z=!1){return a.of(J,Z)}}C3.prototype.startSide=C3.prototype.endSide=-1;function T3(J){let Z;if(J.nodeType==11)Z=J.getSelection?J:J.ownerDocument;else Z=J;return Z.getSelection()}function ZZ(J,Z){return Z?J==Z||J.contains(Z.nodeType!=1?Z.parentNode:Z):!1}function F9(J,Z){if(!Z.anchorNode)return!1;try{return ZZ(J,Z.anchorNode)}catch(Y){return!1}}function M9(J){if(J.nodeType==3)return y3(J,0,J.nodeValue.length).getClientRects();else if(J.nodeType==1)return J.getClientRects();else return[]}function B3(J,Z,Y,q){return Y?dQ(J,Z,Y,q,-1)||dQ(J,Z,Y,q,1):!1}function i5(J){for(var Z=0;;Z++)if(J=J.previousSibling,!J)return Z}function y9(J){return J.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(J.nodeName)}function dQ(J,Z,Y,q,X){for(;;){if(J==Y&&Z==q)return!0;if(Z==(X<0?0:b5(J))){if(J.nodeName=="DIV")return!1;let Q=J.parentNode;if(!Q||Q.nodeType!=1)return!1;Z=i5(J)+(X<0?0:1),J=Q}else if(J.nodeType==1){if(J=J.childNodes[Z+(X<0?-1:0)],J.nodeType==1&&J.contentEditable=="false")return!1;Z=X<0?b5(J):0}else return!1}}function b5(J){return J.nodeType==3?J.nodeValue.length:J.childNodes.length}function b9(J,Z){let Y=Z?J.left:J.right;return{left:Y,right:Y,top:J.top,bottom:J.bottom}}function aN(J){let Z=J.visualViewport;if(Z)return{left:0,right:Z.width,top:0,bottom:Z.height};return{left:0,right:J.innerWidth,top:0,bottom:J.innerHeight}}function EK(J,Z){let Y=Z.width/J.offsetWidth,q=Z.height/J.offsetHeight;if(Y>0.995&&Y<1.005||!isFinite(Y)||Math.abs(Z.width-J.offsetWidth)<1)Y=1;if(q>0.995&&q<1.005||!isFinite(q)||Math.abs(Z.height-J.offsetHeight)<1)q=1;return{scaleX:Y,scaleY:q}}function rN(J,Z,Y,q,X,Q,K,$){let U=J.ownerDocument,j=U.defaultView||window;for(let W=J,G=!1;W&&!G;)if(W.nodeType==1){let z,O=W==U.body,_=1,N=1;if(O)z=aN(j);else{if(/^(fixed|sticky)$/.test(getComputedStyle(W).position))G=!0;if(W.scrollHeight<=W.clientHeight&&W.scrollWidth<=W.clientWidth){W=W.assignedSlot||W.parentNode;continue}let V=W.getBoundingClientRect();({scaleX:_,scaleY:N}=EK(W,V)),z={left:V.left,right:V.left+W.clientWidth*_,top:V.top,bottom:V.top+W.clientHeight*N}}let A=0,M=0;if(X=="nearest"){if(Z.top<z.top){if(M=Z.top-(z.top+K),Y>0&&Z.bottom>z.bottom+M)M=Z.bottom-z.bottom+K}else if(Z.bottom>z.bottom){if(M=Z.bottom-z.bottom+K,Y<0&&Z.top-M<z.top)M=Z.top-(z.top+K)}}else{let V=Z.bottom-Z.top,D=z.bottom-z.top;M=(X=="center"&&V<=D?Z.top+V/2-D/2:X=="start"||X=="center"&&Y<0?Z.top-K:Z.bottom-D+K)-z.top}if(q=="nearest"){if(Z.left<z.left){if(A=Z.left-(z.left+Q),Y>0&&Z.right>z.right+A)A=Z.right-z.right+Q}else if(Z.right>z.right){if(A=Z.right-z.right+Q,Y<0&&Z.left<z.left+A)A=Z.left-(z.left+Q)}}else A=(q=="center"?Z.left+(Z.right-Z.left)/2-(z.right-z.left)/2:q=="start"==$?Z.left-Q:Z.right-(z.right-z.left)+Q)-z.left;if(A||M)if(O)j.scrollBy(A,M);else{let V=0,D=0;if(M){let P=W.scrollTop;W.scrollTop+=M/N,D=(W.scrollTop-P)*N}if(A){let P=W.scrollLeft;W.scrollLeft+=A/_,V=(W.scrollLeft-P)*_}if(Z={left:Z.left-V,top:Z.top-D,right:Z.right-V,bottom:Z.bottom-D},V&&Math.abs(V-A)<1)q="nearest";if(D&&Math.abs(D-M)<1)X="nearest"}if(O)break;if(Z.top<z.top||Z.bottom>z.bottom||Z.left<z.left||Z.right>z.right)Z={left:Math.max(Z.left,z.left),right:Math.min(Z.right,z.right),top:Math.max(Z.top,z.top),bottom:Math.min(Z.bottom,z.bottom)};W=W.assignedSlot||W.parentNode}else if(W.nodeType==11)W=W.host;else break}function oN(J){let Z=J.ownerDocument,Y,q;for(let X=J.parentNode;X;)if(X==Z.body||Y&&q)break;else if(X.nodeType==1){if(!q&&X.scrollHeight>X.clientHeight)q=X;if(!Y&&X.scrollWidth>X.clientWidth)Y=X;X=X.assignedSlot||X.parentNode}else if(X.nodeType==11)X=X.host;else break;return{x:Y,y:q}}class CK{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(J){return this.anchorNode==J.anchorNode&&this.anchorOffset==J.anchorOffset&&this.focusNode==J.focusNode&&this.focusOffset==J.focusOffset}setRange(J){let{anchorNode:Z,focusNode:Y}=J;this.set(Z,Math.min(J.anchorOffset,Z?b5(Z):0),Y,Math.min(J.focusOffset,Y?b5(Y):0))}set(J,Z,Y,q){this.anchorNode=J,this.anchorOffset=Z,this.focusNode=Y,this.focusOffset=q}}var EJ=null;if(v.safari&&v.safari_version>=26)EJ=!1;function TK(J){if(J.setActive)return J.setActive();if(EJ)return J.focus(EJ);let Z=[];for(let Y=J;Y;Y=Y.parentNode)if(Z.push(Y,Y.scrollTop,Y.scrollLeft),Y==Y.ownerDocument)break;if(J.focus(EJ==null?{get preventScroll(){return EJ={preventScroll:!0},!0}}:void 0),!EJ){EJ=!1;for(let Y=0;Y<Z.length;){let q=Z[Y++],X=Z[Y++],Q=Z[Y++];if(q.scrollTop!=X)q.scrollTop=X;if(q.scrollLeft!=Q)q.scrollLeft=Q}}}var cQ;function y3(J,Z,Y=Z){let q=cQ||(cQ=document.createRange());return q.setEnd(J,Y),q.setStart(J,Z),q}function A4(J,Z,Y,q){let X={key:Z,code:Z,keyCode:Y,which:Y,cancelable:!0};if(q)({altKey:X.altKey,ctrlKey:X.ctrlKey,shiftKey:X.shiftKey,metaKey:X.metaKey}=q);let Q=new KeyboardEvent("keydown",X);Q.synthetic=!0,J.dispatchEvent(Q);let K=new KeyboardEvent("keyup",X);return K.synthetic=!0,J.dispatchEvent(K),Q.defaultPrevented||K.defaultPrevented}function tN(J){while(J){if(J&&(J.nodeType==9||J.nodeType==11&&J.host))return J;J=J.assignedSlot||J.parentNode}return null}function eN(J,Z){let{focusNode:Y,focusOffset:q}=Z;if(!Y||Z.anchorNode!=Y||Z.anchorOffset!=q)return!1;q=Math.min(q,b5(Y));for(;;)if(q){if(Y.nodeType!=1)return!1;let X=Y.childNodes[q-1];if(X.contentEditable=="false")q--;else Y=X,q=b5(Y)}else if(Y==J)return!0;else q=i5(Y),Y=Y.parentNode}function yK(J){return J.scrollTop>Math.max(1,J.scrollHeight-J.clientHeight-4)}function bK(J,Z){for(let Y=J,q=Z;;)if(Y.nodeType==3&&q>0)return{node:Y,offset:q};else if(Y.nodeType==1&&q>0){if(Y.contentEditable=="false")return null;Y=Y.childNodes[q-1],q=b5(Y)}else if(Y.parentNode&&!y9(Y))q=i5(Y),Y=Y.parentNode;else return null}function SK(J,Z){for(let Y=J,q=Z;;)if(Y.nodeType==3&&q<Y.nodeValue.length)return{node:Y,offset:q};else if(Y.nodeType==1&&q<Y.childNodes.length){if(Y.contentEditable=="false")return null;Y=Y.childNodes[q],q=0}else if(Y.parentNode&&!y9(Y))q=i5(Y)+1,Y=Y.parentNode;else return null}class a1{constructor(J,Z,Y=!0){this.node=J,this.offset=Z,this.precise=Y}static before(J,Z){return new a1(J.parentNode,i5(J),Z)}static after(J,Z){return new a1(J.parentNode,i5(J)+1,Z)}}var W0=function(J){return J[J.LTR=0]="LTR",J[J.RTL=1]="RTL",J}(W0||(W0={})),yJ=W0.LTR,LZ=W0.RTL;function kK(J){let Z=[];for(let Y=0;Y<J.length;Y++)Z.push(1<<+J[Y]);return Z}var JR=kK("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),ZR=kK("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),YZ=Object.create(null),j5=[];for(let J of["()","[]","{}"]){let Z=J.charCodeAt(0),Y=J.charCodeAt(1);YZ[Z]=Y,YZ[Y]=-Z}function wK(J){return J<=247?JR[J]:1424<=J&&J<=1524?2:1536<=J&&J<=1785?ZR[J-1536]:1774<=J&&J<=2220?4:8192<=J&&J<=8204?256:64336<=J&&J<=65023?4:1}var YR=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class G5{get dir(){return this.level%2?LZ:yJ}constructor(J,Z,Y){this.from=J,this.to=Z,this.level=Y}side(J,Z){return this.dir==Z==J?this.to:this.from}forward(J,Z){return J==(this.dir==Z)}static find(J,Z,Y,q){let X=-1;for(let Q=0;Q<J.length;Q++){let K=J[Q];if(K.from<=Z&&K.to>=Z){if(K.level==Y)return Q;if(X<0||(q!=0?q<0?K.from<Z:K.to>Z:J[X].level>K.level))X=Q}}if(X<0)throw RangeError("Index out of range");return X}}function xK(J,Z){if(J.length!=Z.length)return!1;for(let Y=0;Y<J.length;Y++){let q=J[Y],X=Z[Y];if(q.from!=X.from||q.to!=X.to||q.direction!=X.direction||!xK(q.inner,X.inner))return!1}return!0}var O0=[];function qR(J,Z,Y,q,X){for(let Q=0;Q<=q.length;Q++){let K=Q?q[Q-1].to:Z,$=Q<q.length?q[Q].from:Y,U=Q?256:X;for(let j=K,W=U,G=U;j<$;j++){let z=wK(J.charCodeAt(j));if(z==512)z=W;else if(z==8&&G==4)z=16;if(O0[j]=z==4?2:z,z&7)G=z;W=z}for(let j=K,W=U,G=U;j<$;j++){let z=O0[j];if(z==128)if(j<$-1&&W==O0[j+1]&&W&24)z=O0[j]=W;else O0[j]=256;else if(z==64){let O=j+1;while(O<$&&O0[O]==64)O++;let _=j&&W==8||O<Y&&O0[O]==8?G==1?1:8:256;for(let N=j;N<O;N++)O0[N]=_;j=O-1}else if(z==8&&G==1)O0[j]=1;if(W=z,z&7)G=z}}}function XR(J,Z,Y,q,X){let Q=X==1?2:1;for(let K=0,$=0,U=0;K<=q.length;K++){let j=K?q[K-1].to:Z,W=K<q.length?q[K].from:Y;for(let G=j,z,O,_;G<W;G++)if(O=YZ[z=J.charCodeAt(G)])if(O<0){for(let N=$-3;N>=0;N-=3)if(j5[N+1]==-O){let A=j5[N+2],M=A&2?X:!(A&4)?0:A&1?Q:X;if(M)O0[G]=O0[j5[N]]=M;$=N;break}}else if(j5.length==189)break;else j5[$++]=G,j5[$++]=z,j5[$++]=U;else if((_=O0[G])==2||_==1){let N=_==X;U=N?0:1;for(let A=$-3;A>=0;A-=3){let M=j5[A+2];if(M&2)break;if(N)j5[A+2]|=2;else{if(M&4)break;j5[A+2]|=4}}}}}function QR(J,Z,Y,q){for(let X=0,Q=q;X<=Y.length;X++){let K=X?Y[X-1].to:J,$=X<Y.length?Y[X].from:Z;for(let U=K;U<$;){let j=O0[U];if(j==256){let W=U+1;for(;;)if(W==$){if(X==Y.length)break;W=Y[X++].to,$=X<Y.length?Y[X].from:Z}else if(O0[W]==256)W++;else break;let G=Q==1,z=(W<Z?O0[W]:q)==1,O=G==z?G?1:2:q;for(let _=W,N=X,A=N?Y[N-1].to:J;_>U;){if(_==A)_=Y[--N].from,A=N?Y[N-1].to:J;O0[--_]=O}U=W}else Q=j,U++}}}function qZ(J,Z,Y,q,X,Q,K){let $=q%2?2:1;if(q%2==X%2)for(let U=Z,j=0;U<Y;){let W=!0,G=!1;if(j==Q.length||U<Q[j].from){let N=O0[U];if(N!=$)W=!1,G=N==16}let z=!W&&$==1?[]:null,O=W?q:q+1,_=U;J:for(;;)if(j<Q.length&&_==Q[j].from){if(G)break J;let N=Q[j];if(!W)for(let A=N.to,M=j+1;;){if(A==Y)break J;if(M<Q.length&&Q[M].from==A)A=Q[M++].to;else if(O0[A]==$)break J;else break}if(j++,z)z.push(N);else{if(N.from>U)K.push(new G5(U,N.from,O));let A=N.direction==yJ!=!(O%2);XZ(J,A?q+1:q,X,N.inner,N.from,N.to,K),U=N.to}_=N.to}else if(_==Y||(W?O0[_]!=$:O0[_]==$))break;else _++;if(z)qZ(J,U,_,q+1,X,z,K);else if(U<_)K.push(new G5(U,_,O));U=_}else for(let U=Y,j=Q.length;U>Z;){let W=!0,G=!1;if(!j||U>Q[j-1].to){let N=O0[U-1];if(N!=$)W=!1,G=N==16}let z=!W&&$==1?[]:null,O=W?q:q+1,_=U;J:for(;;)if(j&&_==Q[j-1].to){if(G)break J;let N=Q[--j];if(!W)for(let A=N.from,M=j;;){if(A==Z)break J;if(M&&Q[M-1].to==A)A=Q[--M].from;else if(O0[A-1]==$)break J;else break}if(z)z.push(N);else{if(N.to<U)K.push(new G5(N.to,U,O));let A=N.direction==yJ!=!(O%2);XZ(J,A?q+1:q,X,N.inner,N.from,N.to,K),U=N.from}_=N.from}else if(_==Z||(W?O0[_-1]!=$:O0[_-1]==$))break;else _--;if(z)qZ(J,_,U,q+1,X,z,K);else if(_<U)K.push(new G5(_,U,O));U=_}}function XZ(J,Z,Y,q,X,Q,K){let $=Z%2?2:1;qR(J,X,Q,q,$),XR(J,X,Q,q,$),QR(X,Q,q,$),qZ(J,X,Q,Z,Y,q,K)}function KR(J,Z,Y){if(!J)return[new G5(0,0,Z==LZ?1:0)];if(Z==yJ&&!Y.length&&!YR.test(J))return hK(J.length);if(Y.length)while(J.length>O0.length)O0[O0.length]=256;let q=[],X=Z==yJ?0:1;return XZ(J,X,X,Y,0,J.length,q),q}function hK(J){return[new G5(0,J,0)]}var vK="";function $R(J,Z,Y,q,X){var Q;let K=q.head-J.from,$=G5.find(Z,K,(Q=q.bidiLevel)!==null&&Q!==void 0?Q:-1,q.assoc),U=Z[$],j=U.side(X,Y);if(K==j){let z=$+=X?1:-1;if(z<0||z>=Z.length)return null;U=Z[$=z],K=U.side(!X,Y),j=U.side(X,Y)}let W=E0(J.text,K,U.forward(X,Y));if(W<U.from||W>U.to)W=j;vK=J.text.slice(Math.min(K,W),Math.max(K,W));let G=$==(X?Z.length-1:0)?null:Z[$+(X?1:-1)];if(G&&W==j&&G.level+(X?0:1)<U.level)return L.cursor(G.side(!X,Y)+J.from,G.forward(X,Y)?1:-1,G.level);return L.cursor(W+J.from,U.forward(X,Y)?-1:1,U.level)}function UR(J,Z,Y){for(let q=Z;q<Y;q++){let X=wK(J.charCodeAt(q));if(X==1)return yJ;if(X==2||X==4)return LZ}return yJ}var uK=b.define(),mK=b.define(),gK=b.define(),fK=b.define(),QZ=b.define(),lK=b.define(),pK=b.define(),BZ=b.define(),PZ=b.define(),dK=b.define({combine:(J)=>J.some((Z)=>Z)}),cK=b.define({combine:(J)=>J.some((Z)=>Z)}),nK=b.define();class F4{constructor(J,Z="nearest",Y="nearest",q=5,X=5,Q=!1){this.range=J,this.y=Z,this.x=Y,this.yMargin=q,this.xMargin=X,this.isSnapshot=Q}map(J){return J.empty?this:new F4(this.range.map(J),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(J){return this.range.to<=J.doc.length?this:new F4(L.cursor(J.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}var j9=p.define({map:(J,Z)=>J.map(Z)}),iK=p.define();function l0(J,Z,Y){let q=J.facet(fK);if(q.length)q[0](Z);else if(window.onerror&&window.onerror(String(Z),Y,void 0,void 0,Z));else if(Y)console.error(Y+":",Z);else console.error(Z)}var y5=b.define({combine:(J)=>J.length?J[0]:!0}),WR=0,H4=b.define({combine(J){return J.filter((Z,Y)=>{for(let q=0;q<Y;q++)if(J[q].plugin==Z.plugin)return!1;return!0})}});class N0{constructor(J,Z,Y,q,X){this.id=J,this.create=Z,this.domEventHandlers=Y,this.domEventObservers=q,this.baseExtensions=X(this),this.extension=this.baseExtensions.concat(H4.of({plugin:this,arg:void 0}))}of(J){return this.baseExtensions.concat(H4.of({plugin:this,arg:J}))}static define(J,Z){let{eventHandlers:Y,eventObservers:q,provide:X,decorations:Q}=Z||{};return new N0(WR++,J,Y,q,(K)=>{let $=[];if(Q)$.push(u9.of((U)=>{let j=U.plugin(K);return j?Q(j):f.none}));if(X)$.push(X(K));return $})}static fromClass(J,Z){return N0.define((Y,q)=>new J(Y,q),Z)}}class V9{constructor(J){this.spec=J,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(J){if(!this.value){if(this.spec)try{this.value=this.spec.plugin.create(J,this.spec.arg)}catch(Z){l0(J.state,Z,"CodeMirror plugin crashed"),this.deactivate()}}else if(this.mustUpdate){let Z=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(Z)}catch(Y){if(l0(Z.state,Y,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(q){}this.deactivate()}}return this}destroy(J){var Z;if((Z=this.value)===null||Z===void 0?void 0:Z.destroy)try{this.value.destroy()}catch(Y){l0(J.state,Y,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}var sK=b.define(),EZ=b.define(),u9=b.define(),aK=b.define(),CZ=b.define(),x3=b.define(),rK=b.define();function nQ(J,Z){let Y=J.state.facet(rK);if(!Y.length)return Y;let q=Y.map((Q)=>Q instanceof Function?Q(J):Q),X=[];return a.spans(q,Z.from,Z.to,{point(){},span(Q,K,$,U){let j=Q-Z.from,W=K-Z.from,G=X;for(let z=$.length-1;z>=0;z--,U--){let O=$[z].spec.bidiIsolate,_;if(O==null)O=UR(Z.text,j,W);if(U>0&&G.length&&(_=G[G.length-1]).to==j&&_.direction==O)_.to=W,G=_.inner;else{let N={from:j,to:W,direction:O,inner:[]};G.push(N),G=N.inner}}}}),X}var oK=b.define();function TZ(J){let Z=0,Y=0,q=0,X=0;for(let Q of J.state.facet(oK)){let K=Q(J);if(K){if(K.left!=null)Z=Math.max(Z,K.left);if(K.right!=null)Y=Math.max(Y,K.right);if(K.top!=null)q=Math.max(q,K.top);if(K.bottom!=null)X=Math.max(X,K.bottom)}}return{left:Z,right:Y,top:q,bottom:X}}var F3=b.define();class P1{constructor(J,Z,Y,q){this.fromA=J,this.toA=Z,this.fromB=Y,this.toB=q}join(J){return new P1(Math.min(this.fromA,J.fromA),Math.max(this.toA,J.toA),Math.min(this.fromB,J.fromB),Math.max(this.toB,J.toB))}addToSet(J){let Z=J.length,Y=this;for(;Z>0;Z--){let q=J[Z-1];if(q.fromA>Y.toA)continue;if(q.toA<Y.fromA)break;Y=Y.join(q),J.splice(Z-1,1)}return J.splice(Z,0,Y),J}static extendWithRanges(J,Z){if(Z.length==0)return J;let Y=[];for(let q=0,X=0,Q=0;;){let K=q<J.length?J[q].fromB:1e9,$=X<Z.length?Z[X]:1e9,U=Math.min(K,$);if(U==1e9)break;let j=U+Q,W=U,G=j;for(;;)if(X<Z.length&&Z[X]<=W){let z=Z[X+1];X+=2,W=Math.max(W,z);for(let O=q;O<J.length&&J[O].fromB<=W;O++)Q=J[O].toA-J[O].toB;G=Math.max(G,z+Q)}else if(q<J.length&&J[q].fromB<=W){let z=J[q++];W=Math.max(W,z.toB),G=Math.max(G,z.toA),Q=z.toA-z.toB}else break;Y.push(new P1(j,G,U,W))}return Y}}class S9{constructor(J,Z,Y){this.view=J,this.state=Z,this.transactions=Y,this.flags=0,this.startState=J.state,this.changes=b0.empty(this.startState.doc.length);for(let X of Y)this.changes=this.changes.compose(X.changes);let q=[];this.changes.iterChangedRanges((X,Q,K,$)=>q.push(new P1(X,Q,K,$))),this.changedRanges=q}static create(J,Z,Y){return new S9(J,Z,Y)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some((J)=>J.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var jR=[];class S0{constructor(J,Z,Y=0){this.dom=J,this.length=Z,this.flags=Y,this.parent=null,J.cmTile=this}get breakAfter(){return this.flags&1}get children(){return jR}isWidget(){return!1}get isHidden(){return!1}isComposite(){return!1}isLine(){return!1}isText(){return!1}isBlock(){return!1}get domAttrs(){return null}sync(J){if(this.flags|=2,this.flags&4){this.flags&=-5;let Z=this.domAttrs;if(Z)nN(this.dom,Z)}}toString(){return this.constructor.name+(this.children.length?`(${this.children})`:"")+(this.breakAfter?"#":"")}destroy(){this.parent=null}setDOM(J){this.dom=J,J.cmTile=this}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(J,Z=this.posAtStart){let Y=Z;for(let q of this.children){if(q==J)return Y;Y+=q.length+q.breakAfter}throw RangeError("Invalid child in posBefore")}posAfter(J){return this.posBefore(J)+J.length}covers(J){return!0}coordsIn(J,Z){return null}domPosFor(J,Z){let Y=i5(this.dom),q=this.length?J>0:Z>0;return new a1(this.parent.dom,Y+(q?1:0),J==0||J==this.length)}markDirty(J){if(this.flags&=-3,J)this.flags|=4;if(this.parent&&this.parent.flags&2)this.parent.markDirty(!1)}get overrideDOMText(){return null}get root(){for(let J=this;J;J=J.parent)if(J instanceof v3)return J;return null}static get(J){return J.cmTile}}class h3 extends S0{constructor(J){super(J,0);this._children=[]}isComposite(){return!0}get children(){return this._children}get lastChild(){return this.children.length?this.children[this.children.length-1]:null}append(J){this.children.push(J),J.parent=this}sync(J){if(this.flags&2)return;super.sync(J);let Z=this.dom,Y=null,q,X=(J===null||J===void 0?void 0:J.node)==Z?J:null,Q=0;for(let K of this.children){if(K.sync(J),Q+=K.length+K.breakAfter,q=Y?Y.nextSibling:Z.firstChild,X&&q!=K.dom)X.written=!0;if(K.dom.parentNode==Z)while(q&&q!=K.dom)q=iQ(q);else Z.insertBefore(K.dom,q);Y=K.dom}if(q=Y?Y.nextSibling:Z.firstChild,X&&q)X.written=!0;while(q)q=iQ(q);this.length=Q}}function iQ(J){let Z=J.nextSibling;return J.parentNode.removeChild(J),Z}class v3 extends h3{constructor(J,Z){super(Z);this.view=J}owns(J){for(;J;J=J.parent)if(J==this)return!0;return!1}isBlock(){return!0}nearest(J){for(;;){if(!J)return null;let Z=S0.get(J);if(Z&&this.owns(Z))return Z;J=J.parentNode}}blockTiles(J){for(let Z=[],Y=this,q=0,X=0;;)if(q==Y.children.length){if(!Z.length)return;if(Y=Y.parent,Y.breakAfter)X++;q=Z.pop()}else{let Q=Y.children[q++];if(Q instanceof n5)Z.push(q),Y=Q,q=0;else{let K=X+Q.length,$=J(Q,X);if($!==void 0)return $;X=K+Q.breakAfter}}}resolveBlock(J,Z){let Y,q=-1,X,Q=-1;if(this.blockTiles((K,$)=>{let U=$+K.length;if(J>=$&&J<=U){if(K.isWidget()&&Z>=-1&&Z<=1){if(K.flags&32)return!0;if(K.flags&16)Y=void 0}if(($<J||J==U&&(Z<-1?K.length:K.covers(1)))&&(!Y||!K.isWidget()&&Y.isWidget()))Y=K,q=J-$;if((U>J||J==$&&(Z>1?K.length:K.covers(-1)))&&(!X||!K.isWidget()&&X.isWidget()))X=K,Q=J-$}}),!Y&&!X)throw Error("No tile at position "+J);return Y&&Z<0||!X?{tile:Y,offset:q}:{tile:X,offset:Q}}}class n5 extends h3{constructor(J,Z){super(J);this.wrapper=Z}isBlock(){return!0}covers(J){if(!this.children.length)return!1;return J<0?this.children[0].covers(-1):this.lastChild.covers(1)}get domAttrs(){return this.wrapper.attributes}static of(J,Z){let Y=new n5(Z||document.createElement(J.tagName),J);if(!Z)Y.flags|=4;return Y}}class M4 extends h3{constructor(J,Z){super(J);this.attrs=Z}isLine(){return!0}static start(J,Z,Y){let q=new M4(Z||document.createElement("div"),J);if(!Z||!Y)q.flags|=4;return q}get domAttrs(){return this.attrs}resolveInline(J,Z,Y){let q=null,X=-1,Q=null,K=-1;function $(j,W){for(let G=0,z=0;G<j.children.length&&z<=W;G++){let O=j.children[G],_=z+O.length;if(_>=W){if(O.isComposite())$(O,W-z);else if((!Q||Q.isHidden&&(Z>0||Y&&zR(Q,O)))&&(_>W||O.flags&32))Q=O,K=W-z;else if(z<W||O.flags&16&&!O.isHidden)q=O,X=W-z}z=_}}$(this,J);let U=(Z<0?q:Q)||q||Q;return U?{tile:U,offset:U==q?X:K}:null}coordsIn(J,Z){let Y=this.resolveInline(J,Z,!0);if(!Y)return GR(this);return Y.tile.coordsIn(Math.max(0,Y.offset),Z)}domIn(J,Z){let Y=this.resolveInline(J,Z);if(Y){let{tile:q,offset:X}=Y;if(this.dom.contains(q.dom)){if(q.isText())return new a1(q.dom,Math.min(q.dom.nodeValue.length,X));return q.domPosFor(X,q.flags&16?1:q.flags&32?-1:Z)}let Q=Y.tile.parent,K=!1;for(let $ of Q.children){if(K)return new a1($.dom,0);if($==Y.tile)K=!0}}return new a1(this.dom,0)}}function GR(J){let Z=J.dom.lastChild;if(!Z)return J.dom.getBoundingClientRect();let Y=M9(Z);return Y[Y.length-1]||null}function zR(J,Z){let Y=J.coordsIn(0,1),q=Z.coordsIn(0,1);return Y&&q&&q.top<Y.bottom}class K1 extends h3{constructor(J,Z){super(J);this.mark=Z}get domAttrs(){return this.mark.attrs}static of(J,Z){let Y=new K1(Z||document.createElement(J.tagName),J);if(!Z)Y.flags|=4;return Y}}class CJ extends S0{constructor(J,Z){super(J,Z.length);this.text=Z}sync(J){if(this.flags&2)return;if(super.sync(J),this.dom.nodeValue!=this.text){if(J&&J.node==this.dom)J.written=!0;this.dom.nodeValue=this.text}}isText(){return!0}toString(){return JSON.stringify(this.text)}coordsIn(J,Z){let Y=this.dom.nodeValue.length;if(J>Y)J=Y;let q=J,X=J,Q=0;if(J==0&&Z<0||J==Y&&Z>=0){if(!(v.chrome||v.gecko)){if(J)q--,Q=1;else if(X<Y)X++,Q=-1}}else if(Z<0)q--;else if(X<Y)X++;let K=y3(this.dom,q,X).getClientRects();if(!K.length)return null;let $=K[(Q?Q<0:Z>=0)?0:K.length-1];if(v.safari&&!Q&&$.width==0)$=Array.prototype.find.call(K,(U)=>U.width)||$;return Q?b9($,Q<0):$||null}static of(J,Z){let Y=new CJ(Z||document.createTextNode(J),J);if(!Z)Y.flags|=2;return Y}}class bJ extends S0{constructor(J,Z,Y,q){super(J,Z,q);this.widget=Y}isWidget(){return!0}get isHidden(){return this.widget.isHidden}covers(J){if(this.flags&48)return!1;return(this.flags&(J<0?64:128))>0}coordsIn(J,Z){return this.coordsInWidget(J,Z,!1)}coordsInWidget(J,Z,Y){let q=this.widget.coordsAt(this.dom,J,Z);if(q)return q;if(Y)return b9(this.dom.getBoundingClientRect(),this.length?J==0:Z<=0);else{let X=this.dom.getClientRects(),Q=null;if(!X.length)return null;let K=this.flags&16?!0:this.flags&32?!1:J>0;for(let $=K?X.length-1:0;;$+=K?-1:1)if(Q=X[$],J>0?$==0:$==X.length-1||Q.top<Q.bottom)break;return b9(Q,!K)}}get overrideDOMText(){if(!this.length)return e.empty;let{root:J}=this;if(!J)return e.empty;let Z=this.posAtStart;return J.view.state.doc.slice(Z,Z+this.length)}destroy(){super.destroy(),this.widget.destroy(this.dom)}static of(J,Z,Y,q,X){if(!X){if(X=J.toDOM(Z),!J.editable)X.contentEditable="false"}return new bJ(X,Y,J,q)}}class b3 extends S0{constructor(J){let Z=document.createElement("img");Z.className="cm-widgetBuffer",Z.setAttribute("aria-hidden","true");super(Z,0,J)}get isHidden(){return!0}get overrideDOMText(){return e.empty}coordsIn(J){return this.dom.getBoundingClientRect()}}class tK{constructor(J){this.index=0,this.beforeBreak=!1,this.parents=[],this.tile=J}advance(J,Z,Y){let{tile:q,index:X,beforeBreak:Q,parents:K}=this;while(J||Z>0)if(!q.isComposite())if(X==q.length)Q=!!q.breakAfter,{tile:q,index:X}=K.pop(),X++;else if(!J)break;else{let $=Math.min(J,q.length-X);if(Y)Y.skip(q,X,X+$);J-=$,X+=$}else if(Q){if(!J)break;if(Y)Y.break();J--,Q=!1}else if(X==q.children.length){if(!J&&!K.length)break;if(Y)Y.leave(q);Q=!!q.breakAfter,{tile:q,index:X}=K.pop(),X++}else{let $=q.children[X],U=$.breakAfter;if((Z>0?$.length<=J:$.length<J)&&(!Y||Y.skip($,0,$.length)!==!1||!$.isComposite))Q=!!U,X++,J-=$.length;else if(K.push({tile:q,index:X}),q=$,X=0,Y&&$.isComposite())Y.enter($)}return this.tile=q,this.index=X,this.beforeBreak=Q,this}get root(){return this.parents.length?this.parents[0].tile:this.tile}}class eK{constructor(J,Z,Y,q){this.from=J,this.to=Z,this.wrapper=Y,this.rank=q}}class J${constructor(J,Z,Y){this.cache=J,this.root=Z,this.blockWrappers=Y,this.curLine=null,this.lastBlock=null,this.afterWidget=null,this.pos=0,this.wrappers=[],this.wrapperPos=0}addText(J,Z,Y,q){var X;this.flushBuffer();let Q=this.ensureMarks(Z,Y),K=Q.lastChild;if(K&&K.isText()&&!(K.flags&8)){this.cache.reused.set(K,2);let $=Q.children[Q.children.length-1]=new CJ(K.dom,K.text+J);$.parent=Q}else Q.append(q||CJ.of(J,(X=this.cache.find(CJ))===null||X===void 0?void 0:X.dom));this.pos+=J.length,this.afterWidget=null}addComposition(J,Z){let Y=this.curLine;if(Y.dom!=Z.line.dom)Y.setDOM(this.cache.reused.has(Z.line)?d2(Z.line.dom):Z.line.dom),this.cache.reused.set(Z.line,2);let q=Y;for(let K=Z.marks.length-1;K>=0;K--){let $=Z.marks[K],U=q.lastChild;if(U instanceof K1&&U.mark.eq($.mark)){if(U.dom!=$.dom)U.setDOM(d2($.dom));q=U}else{if(this.cache.reused.get($)){let W=S0.get($.dom);if(W)W.setDOM(d2($.dom))}let j=K1.of($.mark,$.dom);q.append(j),q=j}this.cache.reused.set($,2)}let X=S0.get(J.text);if(X)this.cache.reused.set(X,2);let Q=new CJ(J.text,J.text.nodeValue);Q.flags|=8,q.append(Q)}addInlineWidget(J,Z,Y){let q=this.afterWidget&&J.flags&48&&(this.afterWidget.flags&48)==(J.flags&48);if(!q)this.flushBuffer();let X=this.ensureMarks(Z,Y);if(!q&&!(J.flags&16))X.append(this.getBuffer(1));X.append(J),this.pos+=J.length,this.afterWidget=J}addMark(J,Z,Y){this.flushBuffer(),this.ensureMarks(Z,Y).append(J),this.pos+=J.length,this.afterWidget=null}addBlockWidget(J){this.getBlockPos().append(J),this.pos+=J.length,this.lastBlock=J,this.endLine()}continueWidget(J){let Z=this.afterWidget||this.lastBlock;Z.length+=J,this.pos+=J}addLineStart(J,Z){var Y;if(!J)J=X$;let q=M4.start(J,Z||((Y=this.cache.find(M4))===null||Y===void 0?void 0:Y.dom),!!Z);this.getBlockPos().append(this.lastBlock=this.curLine=q)}addLine(J){this.getBlockPos().append(J),this.pos+=J.length,this.lastBlock=J,this.endLine()}addBreak(){this.lastBlock.flags|=1,this.endLine(),this.pos++}addLineStartIfNotCovered(J){if(!this.blockPosCovered())this.addLineStart(J)}ensureLine(J){if(!this.curLine)this.addLineStart(J)}ensureMarks(J,Z){var Y;let q=this.curLine;for(let X=J.length-1;X>=0;X--){let Q=J[X],K;if(Z>0&&(K=q.lastChild)&&K instanceof K1&&K.mark.eq(Q))q=K,Z--;else{let $=K1.of(Q,(Y=this.cache.find(K1,(U)=>U.mark.eq(Q)))===null||Y===void 0?void 0:Y.dom);q.append($),q=$,Z=0}}return q}endLine(){if(this.curLine){this.flushBuffer();let J=this.curLine.lastChild;if(!J||!sQ(this.curLine,!1)||J.dom.nodeName!="BR"&&J.isWidget()&&!(v.ios&&sQ(this.curLine,!0)))this.curLine.append(this.cache.findWidget(c2,0,32)||new bJ(c2.toDOM(),0,c2,32));this.curLine=this.afterWidget=null}}updateBlockWrappers(){if(this.wrapperPos>this.pos+1e4)this.blockWrappers.goto(this.pos),this.wrappers.length=0;for(let J=this.wrappers.length-1;J>=0;J--)if(this.wrappers[J].to<this.pos)this.wrappers.splice(J,1);for(let J=this.blockWrappers;J.value&&J.from<=this.pos;J.next())if(J.to>=this.pos){let Z=new eK(J.from,J.to,J.value,J.rank),Y=this.wrappers.length;while(Y>0&&(this.wrappers[Y-1].rank-Z.rank||this.wrappers[Y-1].to-Z.to)<0)Y--;this.wrappers.splice(Y,0,Z)}this.wrapperPos=this.pos}getBlockPos(){var J;this.updateBlockWrappers();let Z=this.root;for(let Y of this.wrappers){let q=Z.lastChild;if(Y.from<this.pos&&q instanceof n5&&q.wrapper.eq(Y.wrapper))Z=q;else{let X=n5.of(Y.wrapper,(J=this.cache.find(n5,(Q)=>Q.wrapper.eq(Y.wrapper)))===null||J===void 0?void 0:J.dom);Z.append(X),Z=X}}return Z}blockPosCovered(){let J=this.lastBlock;return J!=null&&!J.breakAfter&&(!J.isWidget()||(J.flags&160)>0)}getBuffer(J){let Z=2|(J<0?16:32),Y=this.cache.find(b3,void 0,1);if(Y)Y.flags=Z;return Y||new b3(Z)}flushBuffer(){if(this.afterWidget&&!(this.afterWidget.flags&32))this.afterWidget.parent.append(this.getBuffer(-1)),this.afterWidget=null}}class Z${constructor(J){this.skipCount=0,this.text="",this.textOff=0,this.cursor=J.iter()}skip(J){if(this.textOff+J<=this.text.length)this.textOff+=J;else this.skipCount+=J-(this.text.length-this.textOff),this.text="",this.textOff=0}next(J){if(this.textOff==this.text.length){let{value:q,lineBreak:X,done:Q}=this.cursor.next(this.skipCount);if(this.skipCount=0,Q)throw Error("Ran out of text content when drawing inline views");this.text=q;let K=this.textOff=Math.min(J,q.length);return X?null:q.slice(0,K)}let Z=Math.min(this.text.length,this.textOff+J),Y=this.text.slice(this.textOff,Z);return this.textOff=Z,Y}}var k9=[bJ,M4,CJ,K1,b3,n5,v3];for(let J=0;J<k9.length;J++)k9[J].bucket=J;class Y${constructor(J){this.view=J,this.buckets=k9.map(()=>[]),this.index=k9.map(()=>0),this.reused=new Map}add(J){if(J.demo)console.log("Add widget to cache");let Z=J.constructor.bucket,Y=this.buckets[Z];if(Y.length<6)Y.push(J);else Y[this.index[Z]=(this.index[Z]+1)%6]=J}find(J,Z,Y=2){let q=J.bucket,X=this.buckets[q],Q=this.index[q];for(let K=X.length-1;K>=0;K--){let $=(K+Q)%X.length,U=X[$];if((!Z||Z(U))&&!this.reused.has(U)){if(X.splice($,1),$<Q)this.index[q]--;return this.reused.set(U,Y),U}}return null}findWidget(J,Z,Y){let q=this.buckets[0];if(J.demo)console.log("looking for widget",J,"in cache",q.slice());if(q.length)for(let X=0,Q=0;;X++){if(X==q.length){if(Q)return null;Q=1,X=0}let K=q[X];if(!this.reused.has(K)&&(Q==0?K.widget.compare(J):K.widget.constructor==J.constructor&&J.updateDOM(K.dom,this.view))){if(q.splice(X,1),X<this.index[0])this.index[0]--;if(K.length==Z&&(K.flags&497)==Y)return this.reused.set(K,1),K;else return this.reused.set(K,2),new bJ(K.dom,Z,J,K.flags&-498|Y)}}}reuse(J){return this.reused.set(J,1),J}maybeReuse(J,Z=2){if(this.reused.has(J))return;return this.reused.set(J,Z),J.dom}clear(){for(let J=0;J<this.buckets.length;J++)this.buckets[J].length=this.index[J]=0}}class q${constructor(J,Z,Y,q,X){this.view=J,this.decorations=q,this.disallowBlockEffectsFor=X,this.openWidget=!1,this.openMarks=0,this.cache=new Y$(J),this.text=new Z$(J.state.doc),this.builder=new J$(this.cache,new v3(J,J.contentDOM),a.iter(Y)),this.cache.reused.set(Z,2),this.old=new tK(Z),this.reuseWalker={skip:(Q,K,$)=>{if(this.cache.add(Q),Q.isComposite())return!1},enter:(Q)=>this.cache.add(Q),leave:()=>{},break:()=>{}}}run(J,Z){let Y=Z&&this.getCompositionContext(Z.text);for(let q=0,X=0,Q=0;;){let K=Q<J.length?J[Q++]:null,$=K?K.fromA:this.old.root.length;if($>q){let U=$-q;this.preserve(U,!Q,!K),q=$,X+=U}if(!K)break;if(Z&&K.fromA<=Z.range.fromA&&K.toA>=Z.range.toA)this.forward(K.fromA,Z.range.fromA),this.emit(X,Z.range.fromB),this.cache.clear(),this.builder.addComposition(Z,Y),this.text.skip(Z.range.toB-Z.range.fromB),this.forward(Z.range.fromA,K.toA),this.emit(Z.range.toB,K.toB);else this.forward(K.fromA,K.toA),this.emit(X,K.toB);X=K.toB,q=K.toA}if(this.builder.curLine)this.builder.endLine();return this.builder.root}preserve(J,Z,Y){let q=HR(this.old),X=this.openMarks;this.old.advance(J,Y?1:-1,{skip:(Q,K,$)=>{if(Q.isWidget())if(this.openWidget)this.builder.continueWidget($-K);else{let U=$>0||K<Q.length?bJ.of(Q.widget,this.view,$-K,Q.flags&496,this.cache.maybeReuse(Q)):this.cache.reuse(Q);if(U.flags&256)U.flags&=-2,this.builder.addBlockWidget(U);else this.builder.ensureLine(null),this.builder.addInlineWidget(U,q,X),X=q.length}else if(Q.isText()){if(this.builder.ensureLine(null),!K&&$==Q.length)this.builder.addText(Q.text,q,X,this.cache.reuse(Q));else this.cache.add(Q),this.builder.addText(Q.text.slice(K,$),q,X);X=q.length}else if(Q.isLine())Q.flags&=-2,this.cache.reused.set(Q,1),this.builder.addLine(Q);else if(Q instanceof b3)this.cache.add(Q);else if(Q instanceof K1)this.builder.ensureLine(null),this.builder.addMark(Q,q,X),this.cache.reused.set(Q,1),X=q.length;else return!1;this.openWidget=!1},enter:(Q)=>{if(Q.isLine())this.builder.addLineStart(Q.attrs,this.cache.maybeReuse(Q));else if(this.cache.add(Q),Q instanceof K1)q.unshift(Q.mark);this.openWidget=!1},leave:(Q)=>{if(Q.isLine()){if(q.length)q.length=X=0}else if(Q instanceof K1)q.shift(),X=Math.min(X,q.length)},break:()=>{this.builder.addBreak(),this.openWidget=!1}}),this.text.skip(J)}emit(J,Z){let Y=null,q=this.builder,X=0,Q=a.spans(this.decorations,J,Z,{point:(K,$,U,j,W,G)=>{if(U instanceof TJ){if(this.disallowBlockEffectsFor[G]){if(U.block)throw RangeError("Block decorations may not be specified via plugins");if($>this.view.state.doc.lineAt(K).to)throw RangeError("Decorations that replace line breaks may not be specified via plugins")}if(X=j.length,W>j.length)q.continueWidget($-K);else{let z=U.widget||(U.block?SJ.block:SJ.inline),O=OR(U),_=this.cache.findWidget(z,$-K,O)||bJ.of(z,this.view,$-K,O);if(U.block){if(U.startSide>0)q.addLineStartIfNotCovered(Y);q.addBlockWidget(_)}else q.ensureLine(Y),q.addInlineWidget(_,j,W)}Y=null}else Y=_R(Y,U);if($>K)this.text.skip($-K)},span:(K,$,U,j)=>{for(let W=K;W<$;){let G=this.text.next(Math.min(512,$-W));if(G==null)q.addLineStartIfNotCovered(Y),q.addBreak(),W++;else q.ensureLine(Y),q.addText(G,U,j),W+=G.length;Y=null}}});q.addLineStartIfNotCovered(Y),this.openWidget=Q>X,this.openMarks=Q}forward(J,Z){if(Z-J<=10)this.old.advance(Z-J,1,this.reuseWalker);else this.old.advance(5,-1,this.reuseWalker),this.old.advance(Z-J-10,-1),this.old.advance(5,1,this.reuseWalker)}getCompositionContext(J){let Z=[],Y=null;for(let q=J.parentNode;;q=q.parentNode){let X=S0.get(q);if(q==this.view.contentDOM)break;if(X instanceof K1)Z.push(X);else if(X===null||X===void 0?void 0:X.isLine())Y=X;else if(q.nodeName=="DIV"&&!Y&&q!=this.view.contentDOM)Y=new M4(q,X$);else Z.push(K1.of(new k3({tagName:q.nodeName.toLowerCase(),attributes:iN(q)}),q))}return{line:Y,marks:Z}}}function sQ(J,Z){let Y=(q)=>{for(let X of q.children)if((Z?X.isText():X.length)||Y(X))return!0;return!1};return Y(J)}function OR(J){let Z=J.isReplace?(J.startSide<0?64:0)|(J.endSide>0?128:0):J.startSide>0?32:16;if(J.block)Z|=256;return Z}var X$={class:"cm-line"};function _R(J,Z){let Y=Z.spec.attributes,q=Z.spec.class;if(!Y&&!q)return J;if(!J)J={class:"cm-line"};if(Y)IZ(Y,J);if(q)J.class+=" "+q;return J}function HR(J){let Z=[];for(let Y=J.parents.length;Y>1;Y--){let q=Y==J.parents.length?J.tile:J.parents[Y].tile;if(q instanceof K1)Z.push(q.mark)}return Z}function d2(J){let Z=S0.get(J);if(Z)Z.setDOM(J.cloneNode());return J}class SJ extends $1{constructor(J){super();this.tag=J}eq(J){return J.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(J){return J.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}SJ.inline=new SJ("span");SJ.block=new SJ("div");var c2=new class extends $1{toDOM(){return document.createElement("br")}get isHidden(){return!0}get editable(){return!0}};class KZ{constructor(J){this.view=J,this.decorations=[],this.blockWrappers=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.editContextFormatting=f.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.updateDeco(),this.tile=new v3(J,J.contentDOM),this.updateInner([new P1(0,0,0,J.state.doc.length)],null)}update(J){var Z;let Y=J.changedRanges;if(this.minWidth>0&&Y.length)if(!Y.every(({fromA:j,toA:W})=>W<this.minWidthFrom||j>this.minWidthTo))this.minWidth=this.minWidthFrom=this.minWidthTo=0;else this.minWidthFrom=J.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=J.changes.mapPos(this.minWidthTo,1);this.updateEditContextFormatting(J);let q=-1;if(this.view.inputState.composing>=0&&!this.view.observer.editContext){if((Z=this.domChanged)===null||Z===void 0?void 0:Z.newSel)q=this.domChanged.newSel.head;else if(!DR(J.changes,this.hasComposition)&&!J.selectionSet)q=J.state.selection.main.head}let X=q>-1?RR(this.view,J.changes,q):null;if(this.domChanged=null,this.hasComposition){let{from:j,to:W}=this.hasComposition;Y=new P1(j,W,J.changes.mapPos(j,-1),J.changes.mapPos(W,1)).addToSet(Y.slice())}if(this.hasComposition=X?{from:X.range.fromB,to:X.range.toB}:null,(v.ie||v.chrome)&&!X&&J&&J.state.doc.lines!=J.startState.doc.lines)this.forceSelection=!0;let Q=this.decorations,K=this.blockWrappers;this.updateDeco();let $=MR(Q,this.decorations,J.changes);if($.length)Y=P1.extendWithRanges(Y,$);let U=VR(K,this.blockWrappers,J.changes);if(U.length)Y=P1.extendWithRanges(Y,U);if(X&&!Y.some((j)=>j.fromA<=X.range.fromA&&j.toA>=X.range.toA))Y=X.range.addToSet(Y.slice());if(this.tile.flags&2&&Y.length==0)return!1;else{if(this.updateInner(Y,X),J.transactions.length)this.lastUpdate=Date.now();return!0}}updateInner(J,Z){this.view.viewState.mustMeasureContent=!0;let{observer:Y}=this.view;Y.ignore(()=>{if(Z||J.length){let Q=this.tile,K=new q$(this.view,Q,this.blockWrappers,this.decorations,this.dynamicDecorationMap);this.tile=K.run(J,Z),$Z(Q,K.cache.reused)}this.tile.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.tile.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let X=v.chrome||v.ios?{node:Y.selectionRange.focusNode,written:!1}:void 0;if(this.tile.sync(X),X&&(X.written||Y.selectionRange.focusNode!=X.node||!this.tile.dom.contains(X.node)))this.forceSelection=!0;this.tile.dom.style.height=""});let q=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length){for(let X of this.tile.children)if(X.isWidget()&&X.widget instanceof I9)q.push(X.dom)}Y.updateGaps(q)}updateEditContextFormatting(J){this.editContextFormatting=this.editContextFormatting.map(J.changes);for(let Z of J.transactions)for(let Y of Z.effects)if(Y.is(iK))this.editContextFormatting=Y.value}updateSelection(J=!1,Z=!1){if(J||!this.view.observer.selectionRange.focusNode)this.view.observer.readSelectionRange();let{dom:Y}=this.tile,q=this.view.root.activeElement,X=q==Y,Q=!X&&!(this.view.state.facet(y5)||Y.tabIndex>-1)&&F9(Y,this.view.observer.selectionRange)&&!(q&&Y.contains(q));if(!(X||Z||Q))return;let K=this.forceSelection;this.forceSelection=!1;let $=this.view.state.selection.main,U,j;if($.empty)j=U=this.inlineDOMNearPos($.anchor,$.assoc||1);else j=this.inlineDOMNearPos($.head,$.head==$.from?1:-1),U=this.inlineDOMNearPos($.anchor,$.anchor==$.from?1:-1);if(v.gecko&&$.empty&&!this.hasComposition&&NR(U)){let G=document.createTextNode("");this.view.observer.ignore(()=>U.node.insertBefore(G,U.node.childNodes[U.offset]||null)),U=j=new a1(G,0),K=!0}let W=this.view.observer.selectionRange;if(K||!W.focusNode||(!B3(U.node,U.offset,W.anchorNode,W.anchorOffset)||!B3(j.node,j.offset,W.focusNode,W.focusOffset))&&!this.suppressWidgetCursorChange(W,$))this.view.observer.ignore(()=>{if(v.android&&v.chrome&&Y.contains(W.focusNode)&&IR(W.focusNode,Y))Y.blur(),Y.focus({preventScroll:!0});let G=T3(this.view.root);if(!G);else if($.empty){if(v.gecko){let z=AR(U.node,U.offset);if(z&&z!=3){let O=(z==1?bK:SK)(U.node,U.offset);if(O)U=new a1(O.node,O.offset)}}if(G.collapse(U.node,U.offset),$.bidiLevel!=null&&G.caretBidiLevel!==void 0)G.caretBidiLevel=$.bidiLevel}else if(G.extend){G.collapse(U.node,U.offset);try{G.extend(j.node,j.offset)}catch(z){}}else{let z=document.createRange();if($.anchor>$.head)[U,j]=[j,U];z.setEnd(j.node,j.offset),z.setStart(U.node,U.offset),G.removeAllRanges(),G.addRange(z)}if(Q&&this.view.root.activeElement==Y){if(Y.blur(),q)q.focus()}}),this.view.observer.setSelectionRange(U,j);this.impreciseAnchor=U.precise?null:new a1(W.anchorNode,W.anchorOffset),this.impreciseHead=j.precise?null:new a1(W.focusNode,W.focusOffset)}suppressWidgetCursorChange(J,Z){return this.hasComposition&&Z.empty&&B3(J.focusNode,J.focusOffset,J.anchorNode,J.anchorOffset)&&this.posFromDOM(J.focusNode,J.focusOffset)==Z.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:J}=this,Z=J.state.selection.main,Y=T3(J.root),{anchorNode:q,anchorOffset:X}=J.observer.selectionRange;if(!Y||!Z.empty||!Z.assoc||!Y.modify)return;let Q=this.lineAt(Z.head,Z.assoc);if(!Q)return;let K=Q.posAtStart;if(Z.head==K||Z.head==K+Q.length)return;let $=this.coordsAt(Z.head,-1),U=this.coordsAt(Z.head,1);if(!$||!U||$.bottom>U.top)return;let j=this.domAtPos(Z.head+Z.assoc,Z.assoc);Y.collapse(j.node,j.offset),Y.modify("move",Z.assoc<0?"forward":"backward","lineboundary"),J.observer.readSelectionRange();let W=J.observer.selectionRange;if(J.docView.posFromDOM(W.anchorNode,W.anchorOffset)!=Z.from)Y.collapse(q,X)}posFromDOM(J,Z){let Y=this.tile.nearest(J);if(!Y)return this.tile.dom.compareDocumentPosition(J)&2?0:this.view.state.doc.length;let q=Y.posAtStart;if(Y.isComposite()){let X;if(J==Y.dom)X=Y.dom.childNodes[Z];else{let Q=b5(J)==0?0:Z==0?-1:1;for(;;){let K=J.parentNode;if(K==Y.dom)break;if(Q==0&&K.firstChild!=K.lastChild)if(J==K.firstChild)Q=-1;else Q=1;J=K}if(Q<0)X=J;else X=J.nextSibling}if(X==Y.dom.firstChild)return q;while(X&&!S0.get(X))X=X.nextSibling;if(!X)return q+Y.length;for(let Q=0,K=q;;Q++){let $=Y.children[Q];if($.dom==X)return K;K+=$.length+$.breakAfter}}else if(Y.isText())return J==Y.dom?q+Z:q+(Z?Y.length:0);else return q}domAtPos(J,Z){let{tile:Y,offset:q}=this.tile.resolveBlock(J,Z);if(Y.isWidget())return Y.domPosFor(J,Z);return Y.domIn(q,Z)}inlineDOMNearPos(J,Z){let Y,q=-1,X=!1,Q,K=-1,$=!1;if(this.tile.blockTiles((U,j)=>{if(U.isWidget()){if(U.flags&32&&j>=J)return!0;if(U.flags&16)X=!0}else{let W=j+U.length;if(j<=J)Y=U,q=J-j,X=W<J;if(W>=J&&!Q)Q=U,K=J-j,$=j>J;if(j>J&&Q)return!0}}),!Y&&!Q)return this.domAtPos(J,Z);if(X&&Q)Y=null;else if($&&Y)Q=null;return Y&&Z<0||!Q?Y.domIn(q,Z):Q.domIn(K,Z)}coordsAt(J,Z){let{tile:Y,offset:q}=this.tile.resolveBlock(J,Z);if(Y.isWidget()){if(Y.widget instanceof I9)return null;return Y.coordsInWidget(q,Z,!0)}return Y.coordsIn(q,Z)}lineAt(J,Z){let{tile:Y}=this.tile.resolveBlock(J,Z);return Y.isLine()?Y:null}coordsForChar(J){let{tile:Z,offset:Y}=this.tile.resolveBlock(J,1);if(!Z.isLine())return null;function q(X,Q){if(X.isComposite())for(let K of X.children){if(K.length>=Q){let $=q(K,Q);if($)return $}if(Q-=K.length,Q<0)break}else if(X.isText()&&Q<X.length){let K=E0(X.text,Q);if(K==Q)return null;let $=y3(X.dom,Q,K).getClientRects();for(let U=0;U<$.length;U++){let j=$[U];if(U==$.length-1||j.top<j.bottom&&j.left<j.right)return j}}return null}return q(Z,Y)}measureVisibleLineHeights(J){let Z=[],{from:Y,to:q}=J,X=this.view.contentDOM.clientWidth,Q=X>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,K=-1,$=this.view.textDirection==W0.LTR,U=0,j=(W,G,z)=>{for(let O=0;O<W.children.length;O++){if(G>q)break;let _=W.children[O],N=G+_.length,A=_.dom.getBoundingClientRect(),{height:M}=A;if(z&&!O)U+=A.top-z.top;if(_ instanceof n5){if(N>Y)j(_,G,A)}else if(G>=Y){if(U>0)Z.push(-U);if(Z.push(M+U),U=0,Q){let V=_.dom.lastChild,D=V?M9(V):[];if(D.length){let P=D[D.length-1],E=$?P.right-A.left:A.right-P.left;if(E>K)K=E,this.minWidth=X,this.minWidthFrom=G,this.minWidthTo=N}}}if(z&&O==W.children.length-1)U+=z.bottom-A.bottom;G=N+_.breakAfter}};return j(this.tile,0,null),Z}textDirectionAt(J){let{tile:Z}=this.tile.resolveBlock(J,1);return getComputedStyle(Z.dom).direction=="rtl"?W0.RTL:W0.LTR}measureTextSize(){let J=this.tile.blockTiles((Q)=>{if(Q.isLine()&&Q.children.length&&Q.length<=20){let K=0,$;for(let U of Q.children){if(!U.isText()||/[^ -~]/.test(U.text))return;let j=M9(U.dom);if(j.length!=1)return;K+=j[0].width,$=j[0].height}if(K)return{lineHeight:Q.dom.getBoundingClientRect().height,charWidth:K/Q.length,textHeight:$}}});if(J)return J;let Z=document.createElement("div"),Y,q,X;return Z.className="cm-line",Z.style.width="99999px",Z.style.position="absolute",Z.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.tile.dom.appendChild(Z);let Q=M9(Z.firstChild)[0];Y=Z.getBoundingClientRect().height,q=Q&&Q.width?Q.width/27:7,X=Q&&Q.height?Q.height:Y,Z.remove()}),{lineHeight:Y,charWidth:q,textHeight:X}}computeBlockGapDeco(){let J=[],Z=this.view.viewState;for(let Y=0,q=0;;q++){let X=q==Z.viewports.length?null:Z.viewports[q],Q=X?X.from-1:this.view.state.doc.length;if(Q>Y){let K=(Z.lineBlockAt(Q).bottom-Z.lineBlockAt(Y).top)/this.view.scaleY;J.push(f.replace({widget:new I9(K),block:!0,inclusive:!0,isBlockGap:!0}).range(Y,Q))}if(!X)break;Y=X.to+1}return f.set(J)}updateDeco(){let J=1,Z=this.view.state.facet(u9).map((X)=>{return(this.dynamicDecorationMap[J++]=typeof X=="function")?X(this.view):X}),Y=!1,q=this.view.state.facet(CZ).map((X,Q)=>{let K=typeof X=="function";if(K)Y=!0;return K?X(this.view):X});if(q.length)this.dynamicDecorationMap[J++]=Y,Z.push(a.join(q));this.decorations=[this.editContextFormatting,...Z,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];while(J<this.decorations.length)this.dynamicDecorationMap[J++]=!1;this.blockWrappers=this.view.state.facet(aK).map((X)=>typeof X=="function"?X(this.view):X)}scrollIntoView(J){if(J.isSnapshot){let U=this.view.viewState.lineBlockAt(J.range.head);this.view.scrollDOM.scrollTop=U.top-J.yMargin,this.view.scrollDOM.scrollLeft=J.xMargin;return}for(let U of this.view.state.facet(nK))try{if(U(this.view,J.range,J))return!0}catch(j){l0(this.view.state,j,"scroll handler")}let{range:Z}=J,Y=this.coordsAt(Z.head,Z.empty?Z.assoc:Z.head>Z.anchor?-1:1),q;if(!Y)return;if(!Z.empty&&(q=this.coordsAt(Z.anchor,Z.anchor>Z.head?-1:1)))Y={left:Math.min(Y.left,q.left),top:Math.min(Y.top,q.top),right:Math.max(Y.right,q.right),bottom:Math.max(Y.bottom,q.bottom)};let X=TZ(this.view),Q={left:Y.left-X.left,top:Y.top-X.top,right:Y.right+X.right,bottom:Y.bottom+X.bottom},{offsetWidth:K,offsetHeight:$}=this.view.scrollDOM;rN(this.view.scrollDOM,Q,Z.head<Z.anchor?-1:1,J.x,J.y,Math.max(Math.min(J.xMargin,K),-K),Math.max(Math.min(J.yMargin,$),-$),this.view.textDirection==W0.LTR)}lineHasWidget(J){let Z=(Y)=>Y.isWidget()||Y.children.some(Z);return Z(this.tile.resolveBlock(J,1).tile)}destroy(){$Z(this.tile)}}function $Z(J,Z){let Y=Z===null||Z===void 0?void 0:Z.get(J);if(Y!=1){if(Y==null)J.destroy();for(let q of J.children)$Z(q,Z)}}function NR(J){return J.node.nodeType==1&&J.node.firstChild&&(J.offset==0||J.node.childNodes[J.offset-1].contentEditable=="false")&&(J.offset==J.node.childNodes.length||J.node.childNodes[J.offset].contentEditable=="false")}function Q$(J,Z){let Y=J.observer.selectionRange;if(!Y.focusNode)return null;let q=bK(Y.focusNode,Y.focusOffset),X=SK(Y.focusNode,Y.focusOffset),Q=q||X;if(X&&q&&X.node!=q.node){let $=S0.get(X.node);if(!$||$.isText()&&$.text!=X.node.nodeValue)Q=X;else if(J.docView.lastCompositionAfterCursor){let U=S0.get(q.node);if(!(!U||U.isText()&&U.text!=q.node.nodeValue))Q=X}}if(J.docView.lastCompositionAfterCursor=Q!=q,!Q)return null;let K=Z-Q.offset;return{from:K,to:K+Q.node.nodeValue.length,node:Q.node}}function RR(J,Z,Y){let q=Q$(J,Y);if(!q)return null;let{node:X,from:Q,to:K}=q,$=X.nodeValue;if(/[\n\r]/.test($))return null;if(J.state.doc.sliceString(q.from,q.to)!=$)return null;let U=Z.invertedDesc;return{range:new P1(U.mapPos(Q),U.mapPos(K),Q,K),text:X}}function AR(J,Z){if(J.nodeType!=1)return 0;return(Z&&J.childNodes[Z-1].contentEditable=="false"?1:0)|(Z<J.childNodes.length&&J.childNodes[Z].contentEditable=="false"?2:0)}var FR=class{constructor(){this.changes=[]}compareRange(Z,Y){R4(Z,Y,this.changes)}comparePoint(Z,Y){R4(Z,Y,this.changes)}boundChange(Z){R4(Z,Z,this.changes)}};function MR(J,Z,Y){let q=new FR;return a.compare(J,Z,Y,q),q.changes}class K${constructor(){this.changes=[]}compareRange(J,Z){R4(J,Z,this.changes)}comparePoint(){}boundChange(J){R4(J,J,this.changes)}}function VR(J,Z,Y){let q=new K$;return a.compare(J,Z,Y,q),q.changes}function IR(J,Z){for(let Y=J;Y&&Y!=Z;Y=Y.assignedSlot||Y.parentNode)if(Y.nodeType==1&&Y.contentEditable=="false")return!0;return!1}function DR(J,Z){let Y=!1;if(Z)J.iterChangedRanges((q,X)=>{if(q<Z.to&&X>Z.from)Y=!0});return Y}class I9 extends $1{constructor(J){super();this.height=J}toDOM(){let J=document.createElement("div");return J.className="cm-gap",this.updateDOM(J),J}eq(J){return J.height==this.height}updateDOM(J){return J.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function LR(J,Z,Y=1){let q=J.charCategorizer(Z),X=J.doc.lineAt(Z),Q=Z-X.from;if(X.length==0)return L.cursor(Z);if(Q==0)Y=1;else if(Q==X.length)Y=-1;let K=Q,$=Q;if(Y<0)K=E0(X.text,Q,!1);else $=E0(X.text,Q);let U=q(X.text.slice(K,$));while(K>0){let j=E0(X.text,K,!1);if(q(X.text.slice(j,K))!=U)break;K=j}while($<X.length){let j=E0(X.text,$);if(q(X.text.slice($,j))!=U)break;$=j}return L.range(K+X.from,$+X.from)}function BR(J,Z,Y,q,X){let Q=Math.round((q-Z.left)*J.defaultCharacterWidth);if(J.lineWrapping&&Y.height>J.defaultLineHeight*1.5){let $=J.viewState.heightOracle.textHeight,U=Math.floor((X-Y.top-(J.defaultLineHeight-$)*0.5)/$);Q+=U*J.viewState.heightOracle.lineLength}let K=J.state.sliceDoc(Y.from,Y.to);return Y.from+W9(K,Q,J.state.tabSize)}function UZ(J,Z,Y){let q=J.lineBlockAt(Z);if(Array.isArray(q.type)){let X;for(let Q of q.type){if(Q.from>Z)break;if(Q.to<Z)continue;if(Q.from<Z&&Q.to>Z)return Q;if(!X||Q.type==p0.Text&&(X.type!=Q.type||(Y<0?Q.from<Z:Q.to>Z)))X=Q}return X||q}return q}function PR(J,Z,Y,q){let X=UZ(J,Z.head,Z.assoc||-1),Q=!q||X.type!=p0.Text||!(J.lineWrapping||X.widgetLineBreaks)?null:J.coordsAtPos(Z.assoc<0&&Z.head>X.from?Z.head-1:Z.head);if(Q){let K=J.dom.getBoundingClientRect(),$=J.textDirectionAt(X.from),U=J.posAtCoords({x:Y==($==W0.LTR)?K.right-1:K.left+1,y:(Q.top+Q.bottom)/2});if(U!=null)return L.cursor(U,Y?-1:1)}return L.cursor(Y?X.to:X.from,Y?-1:1)}function aQ(J,Z,Y,q){let X=J.state.doc.lineAt(Z.head),Q=J.bidiSpans(X),K=J.textDirectionAt(X.from);for(let $=Z,U=null;;){let j=$R(X,Q,K,$,Y),W=vK;if(!j){if(X.number==(Y?J.state.doc.lines:1))return $;W=`
`,X=J.state.doc.line(X.number+(Y?1:-1)),Q=J.bidiSpans(X),j=J.visualLineSide(X,!Y)}if(!U){if(!q)return j;U=q(W)}else if(!U(W))return $;$=j}}function ER(J,Z,Y){let q=J.state.charCategorizer(Z),X=q(Y);return(Q)=>{let K=q(Q);if(X==G0.Space)X=K;return X==K}}function CR(J,Z,Y,q){let X=Z.head,Q=Y?1:-1;if(X==(Y?J.state.doc.length:0))return L.cursor(X,Z.assoc);let K=Z.goalColumn,$,U=J.contentDOM.getBoundingClientRect(),j=J.coordsAtPos(X,Z.assoc||-1),W=J.documentTop;if(j){if(K==null)K=j.left-U.left;$=Q<0?j.top:j.bottom}else{let O=J.viewState.lineBlockAt(X);if(K==null)K=Math.min(U.right-U.left,J.defaultCharacterWidth*(X-O.from));$=(Q<0?O.top:O.bottom)+W}let G=U.left+K,z=q!==null&&q!==void 0?q:J.viewState.heightOracle.textHeight>>1;for(let O=0;;O+=10){let _=$+(z+O)*Q,N=WZ(J,{x:G,y:_},!1,Q);return L.cursor(N.pos,N.assoc,void 0,K)}}function P3(J,Z,Y){for(;;){let q=0;for(let X of J)X.between(Z-1,Z+1,(Q,K,$)=>{if(Z>Q&&Z<K){let U=q||Y||(Z-Q<K-Z?-1:1);Z=U<0?Q:K,q=U}});if(!q)return Z}}function $$(J,Z){let Y=null;for(let q=0;q<Z.ranges.length;q++){let X=Z.ranges[q],Q=null;if(X.empty){let K=P3(J,X.from,0);if(K!=X.from)Q=L.cursor(K,-1)}else{let K=P3(J,X.from,-1),$=P3(J,X.to,1);if(K!=X.from||$!=X.to)Q=L.range(X.from==X.anchor?K:$,X.from==X.head?K:$)}if(Q){if(!Y)Y=Z.ranges.slice();Y[q]=Q}}return Y?L.create(Y,Z.mainIndex):Z}function n2(J,Z,Y){let q=P3(J.state.facet(x3).map((X)=>X(J)),Y.from,Z.head>Y.from?-1:1);return q==Y.from?Y:L.cursor(q,q<Y.from?1:-1)}class i1{constructor(J,Z){this.pos=J,this.assoc=Z}}function WZ(J,Z,Y,q){let X=J.contentDOM.getBoundingClientRect(),Q=X.top+J.viewState.paddingTop,{x:K,y:$}=Z,U=$-Q,j;for(;;){if(U<0)return new i1(0,1);if(U>J.viewState.docHeight)return new i1(J.state.doc.length,-1);if(j=J.elementAtHeight(U),q==null)break;if(j.type==p0.Text){let z=J.docView.coordsAt(q<0?j.from:j.to,q);if(z&&(q<0?z.top<=U+Q:z.bottom>=U+Q))break}let G=J.viewState.heightOracle.textHeight/2;U=q>0?j.bottom+G:j.top-G}if(J.viewport.from>=j.to||J.viewport.to<=j.from){if(Y)return null;if(j.type==p0.Text){let G=BR(J,X,j,K,$);return new i1(G,G==j.from?1:-1)}}if(j.type!=p0.Text)return U<(j.top+j.bottom)/2?new i1(j.from,1):new i1(j.to,-1);let W=J.docView.lineAt(j.from,2);if(!W||W.length!=j.length)W=J.docView.lineAt(j.from,-2);return U$(J,W,j.from,K,$)}function U$(J,Z,Y,q,X){let Q=-1,K=null,$=1e9,U=1e9,j=X,W=X,G=(z,O)=>{for(let _=0;_<z.length;_++){let N=z[_];if(N.top==N.bottom)continue;let A=N.left>q?N.left-q:N.right<q?q-N.right:0,M=N.top>X?N.top-X:N.bottom<X?X-N.bottom:0;if(N.top<=W&&N.bottom>=j)j=Math.min(N.top,j),W=Math.max(N.bottom,W),M=0;if(Q<0||(M-U||A-$)<0)if(Q>=0&&U&&$<A&&K.top<=W-2&&K.bottom>=j+2)U=0;else Q=O,$=A,U=M,K=N}};if(Z.isText()){for(let O=0;O<Z.length;){let _=E0(Z.text,O);if(G(y3(Z.dom,O,_).getClientRects(),O),!$&&!U)break;O=_}return q>(K.left+K.right)/2==(rQ(J,Q+Y)==W0.LTR)?new i1(Y+E0(Z.text,Q),-1):new i1(Y+Q,1)}else{if(!Z.length)return new i1(Y,1);for(let N=0;N<Z.children.length;N++){let A=Z.children[N];if(A.flags&48)continue;let M=(A.dom.nodeType==1?A.dom:y3(A.dom,0,A.length)).getClientRects();if(G(M,N),!$&&!U)break}let z=Z.children[Q],O=Z.posBefore(z,Y);if(z.isComposite()||z.isText())return U$(J,z,O,Math.max(K.left,Math.min(K.right,q)),X);return q>(K.left+K.right)/2==(rQ(J,Q+Y)==W0.LTR)?new i1(O+z.length,-1):new i1(O,1)}}function rQ(J,Z){let Y=J.state.doc.lineAt(Z);return J.bidiSpans(Y)[G5.find(J.bidiSpans(Y),Z-Y.from,-1,1)].dir}var M3="";class W${constructor(J,Z){this.points=J,this.view=Z,this.text="",this.lineSeparator=Z.state.facet(o.lineSeparator)}append(J){this.text+=J}lineBreak(){this.text+=M3}readRange(J,Z){if(!J)return this;let Y=J.parentNode;for(let q=J;;){this.findPointBefore(Y,q);let X=this.text.length;this.readNode(q);let Q=S0.get(q),K=q.nextSibling;if(K==Z){if((Q===null||Q===void 0?void 0:Q.breakAfter)&&!K&&Y!=this.view.contentDOM)this.lineBreak();break}let $=S0.get(K);if((Q&&$?Q.breakAfter:(Q?Q.breakAfter:y9(q))||y9(K)&&(q.nodeName!="BR"||(Q===null||Q===void 0?void 0:Q.isWidget()))&&this.text.length>X)&&!yR(K,Z))this.lineBreak();q=K}return this.findPointBefore(Y,Z),this}readTextNode(J){let Z=J.nodeValue;for(let Y of this.points)if(Y.node==J)Y.pos=this.text.length+Math.min(Y.offset,Z.length);for(let Y=0,q=this.lineSeparator?null:/\r\n?|\n/g;;){let X=-1,Q=1,K;if(this.lineSeparator)X=Z.indexOf(this.lineSeparator,Y),Q=this.lineSeparator.length;else if(K=q.exec(Z))X=K.index,Q=K[0].length;if(this.append(Z.slice(Y,X<0?Z.length:X)),X<0)break;if(this.lineBreak(),Q>1){for(let $ of this.points)if($.node==J&&$.pos>this.text.length)$.pos-=Q-1}Y=X+Q}}readNode(J){let Z=S0.get(J),Y=Z&&Z.overrideDOMText;if(Y!=null){this.findPointInside(J,Y.length);for(let q=Y.iter();!q.next().done;)if(q.lineBreak)this.lineBreak();else this.append(q.value)}else if(J.nodeType==3)this.readTextNode(J);else if(J.nodeName=="BR"){if(J.nextSibling)this.lineBreak()}else if(J.nodeType==1)this.readRange(J.firstChild,null)}findPointBefore(J,Z){for(let Y of this.points)if(Y.node==J&&J.childNodes[Y.offset]==Z)Y.pos=this.text.length}findPointInside(J,Z){for(let Y of this.points)if(J.nodeType==3?Y.node==J:J.contains(Y.node))Y.pos=this.text.length+(TR(J,Y.node,Y.offset)?Z:0)}}function TR(J,Z,Y){for(;;){if(!Z||Y<b5(Z))return!1;if(Z==J)return!0;Y=i5(Z)+1,Z=Z.parentNode}}function yR(J,Z){let Y;for(;;J=J.nextSibling){if(J==Z||!J)break;let q=S0.get(J);if(!(q===null||q===void 0?void 0:q.isWidget()))return!1;if(q)(Y||(Y=[])).push(q)}if(Y)for(let q of Y){let X=q.overrideDOMText;if(X===null||X===void 0?void 0:X.length)return!1}return!0}class jZ{constructor(J,Z){this.node=J,this.offset=Z,this.pos=-1}}class j${constructor(J,Z,Y,q){this.typeOver=q,this.bounds=null,this.text="",this.domChanged=Z>-1;let{impreciseHead:X,impreciseAnchor:Q}=J.docView;if(J.state.readOnly&&Z>-1)this.newSel=null;else if(Z>-1&&(this.bounds=G$(J.docView.tile,Z,Y,0))){let K=X||Q?[]:SR(J),$=new W$(K,J);$.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=$.text,this.newSel=kR(K,this.bounds.from)}else{let K=J.observer.selectionRange,$=X&&X.node==K.focusNode&&X.offset==K.focusOffset||!ZZ(J.contentDOM,K.focusNode)?J.state.selection.main.head:J.docView.posFromDOM(K.focusNode,K.focusOffset),U=Q&&Q.node==K.anchorNode&&Q.offset==K.anchorOffset||!ZZ(J.contentDOM,K.anchorNode)?J.state.selection.main.anchor:J.docView.posFromDOM(K.anchorNode,K.anchorOffset),j=J.viewport;if((v.ios||v.chrome)&&J.state.selection.main.empty&&$!=U&&(j.from>0||j.to<J.state.doc.length)){let W=Math.min($,U),G=Math.max($,U),z=j.from-W,O=j.to-G;if((z==0||z==1||W==0)&&(O==0||O==-1||G==J.state.doc.length))$=0,U=J.state.doc.length}if(J.inputState.composing>-1&&J.state.selection.ranges.length>1)this.newSel=J.state.selection.replaceRange(L.range(U,$));else this.newSel=L.single(U,$)}}}function G$(J,Z,Y,q){if(J.isComposite()){let X=-1,Q=-1,K=-1,$=-1;for(let U=0,j=q,W=q;U<J.children.length;U++){let G=J.children[U],z=j+G.length;if(j<Z&&z>Y)return G$(G,Z,Y,j);if(z>=Z&&X==-1)X=U,Q=j;if(j>Y&&G.dom.parentNode==J.dom){K=U,$=W;break}W=z,j=z+G.breakAfter}return{from:Q,to:$<0?q+J.length:$,startDOM:(X?J.children[X-1].dom.nextSibling:null)||J.dom.firstChild,endDOM:K<J.children.length&&K>=0?J.children[K].dom:null}}else if(J.isText())return{from:q,to:q+J.length,startDOM:J.dom,endDOM:J.dom.nextSibling};else return null}function z$(J,Z){let Y,{newSel:q}=Z,X=J.state.selection.main,Q=J.inputState.lastKeyTime>Date.now()-100?J.inputState.lastKeyCode:-1;if(Z.bounds){let{from:K,to:$}=Z.bounds,U=X.from,j=null;if(Q===8||v.android&&Z.text.length<$-K)U=X.to,j="end";let W=O$(J.state.doc.sliceString(K,$,M3),Z.text,U-K,j);if(W){if(v.chrome&&Q==13&&W.toB==W.from+2&&Z.text.slice(W.from,W.toB)==M3+M3)W.toB--;Y={from:K+W.from,to:K+W.toA,insert:e.of(Z.text.slice(W.from,W.toB).split(M3))}}}else if(q&&(!J.hasFocus&&J.state.facet(y5)||q.main.eq(X)))q=null;if(!Y&&!q)return!1;if(!Y&&Z.typeOver&&!X.empty&&q&&q.main.empty)Y={from:X.from,to:X.to,insert:J.state.doc.slice(X.from,X.to)};else if((v.mac||v.android)&&Y&&Y.from==Y.to&&Y.from==X.head-1&&/^\. ?$/.test(Y.insert.toString())&&J.contentDOM.getAttribute("autocorrect")=="off"){if(q&&Y.insert.length==2)q=L.single(q.main.anchor-1,q.main.head-1);Y={from:Y.from,to:Y.to,insert:e.of([Y.insert.toString().replace("."," ")])}}else if(Y&&Y.from>=X.from&&Y.to<=X.to&&(Y.from!=X.from||Y.to!=X.to)&&X.to-X.from-(Y.to-Y.from)<=4)Y={from:X.from,to:X.to,insert:J.state.doc.slice(X.from,Y.from).append(Y.insert).append(J.state.doc.slice(Y.to,X.to))};else if(J.state.doc.lineAt(X.from).to<X.to&&J.docView.lineHasWidget(X.to)&&J.inputState.insertingTextAt>Date.now()-50)Y={from:X.from,to:X.to,insert:J.state.toText(J.inputState.insertingText)};else if(v.chrome&&Y&&Y.from==Y.to&&Y.from==X.head&&Y.insert.toString()==`
 `&&J.lineWrapping){if(q)q=L.single(q.main.anchor-1,q.main.head-1);Y={from:X.from,to:X.to,insert:e.of([" "])}}if(Y)return yZ(J,Y,q,Q);else if(q&&!q.main.eq(X)){let K=!1,$="select";if(J.inputState.lastSelectionTime>Date.now()-50){if(J.inputState.lastSelectionOrigin=="select")K=!0;if($=J.inputState.lastSelectionOrigin,$=="select.pointer")q=$$(J.state.facet(x3).map((U)=>U(J)),q)}return J.dispatch({selection:q,scrollIntoView:K,userEvent:$}),!0}else return!1}function yZ(J,Z,Y,q=-1){if(v.ios&&J.inputState.flushIOSKey(Z))return!0;let X=J.state.selection.main;if(v.android&&(Z.to==X.to&&(Z.from==X.from||Z.from==X.from-1&&J.state.sliceDoc(Z.from,X.from)==" ")&&Z.insert.length==1&&Z.insert.lines==2&&A4(J.contentDOM,"Enter",13)||(Z.from==X.from-1&&Z.to==X.to&&Z.insert.length==0||q==8&&Z.insert.length<Z.to-Z.from&&Z.to>X.head)&&A4(J.contentDOM,"Backspace",8)||Z.from==X.from&&Z.to==X.to+1&&Z.insert.length==0&&A4(J.contentDOM,"Delete",46)))return!0;let Q=Z.insert.toString();if(J.inputState.composing>=0)J.inputState.composing++;let K,$=()=>K||(K=bR(J,Z,Y));if(!J.state.facet(lK).some((U)=>U(J,Z.from,Z.to,Q,$)))J.dispatch($());return!0}function bR(J,Z,Y){let q,X=J.state,Q=X.selection.main,K=-1;if(Z.from==Z.to&&Z.from<Q.from||Z.from>Q.to){let U=Z.from<Q.from?-1:1,j=U<0?Q.from:Q.to,W=P3(X.facet(x3).map((G)=>G(J)),j,U);if(Z.from==W)K=W}if(K>-1)q={changes:Z,selection:L.cursor(Z.from+Z.insert.length,-1)};else if(Z.from>=Q.from&&Z.to<=Q.to&&Z.to-Z.from>=(Q.to-Q.from)/3&&(!Y||Y.main.empty&&Y.main.from==Z.from+Z.insert.length)&&J.inputState.composing<0){let U=Q.from<Z.from?X.sliceDoc(Q.from,Z.from):"",j=Q.to>Z.to?X.sliceDoc(Z.to,Q.to):"";q=X.replaceSelection(J.state.toText(U+Z.insert.sliceString(0,void 0,J.state.lineBreak)+j))}else{let U=X.changes(Z),j=Y&&Y.main.to<=U.newLength?Y.main:void 0;if(X.selection.ranges.length>1&&(J.inputState.composing>=0||J.inputState.compositionPendingChange)&&Z.to<=Q.to+10&&Z.to>=Q.to-10){let W=J.state.sliceDoc(Z.from,Z.to),G,z=Y&&Q$(J,Y.main.head);if(z){let _=Z.insert.length-(Z.to-Z.from);G={from:z.from,to:z.to-_}}else G=J.state.doc.lineAt(Q.head);let O=Q.to-Z.to;q=X.changeByRange((_)=>{if(_.from==Q.from&&_.to==Q.to)return{changes:U,range:j||_.map(U)};let N=_.to-O,A=N-W.length;if(J.state.sliceDoc(A,N)!=W||N>=G.from&&A<=G.to)return{range:_};let M=X.changes({from:A,to:N,insert:Z.insert}),V=_.to-Q.to;return{changes:M,range:!j?_.map(M):L.range(Math.max(0,j.anchor+V),Math.max(0,j.head+V))}})}else q={changes:U,selection:j&&X.selection.replaceRange(j)}}let $="input.type";if(J.composing||J.inputState.compositionPendingChange&&J.inputState.compositionEndedAt>Date.now()-50){if(J.inputState.compositionPendingChange=!1,$+=".compose",J.inputState.compositionFirstChange)$+=".start",J.inputState.compositionFirstChange=!1}return X.update(q,{userEvent:$,scrollIntoView:!0})}function O$(J,Z,Y,q){let X=Math.min(J.length,Z.length),Q=0;while(Q<X&&J.charCodeAt(Q)==Z.charCodeAt(Q))Q++;if(Q==X&&J.length==Z.length)return null;let K=J.length,$=Z.length;while(K>0&&$>0&&J.charCodeAt(K-1)==Z.charCodeAt($-1))K--,$--;if(q=="end"){let U=Math.max(0,Q-Math.min(K,$));Y-=K+U-Q}if(K<Q&&J.length<Z.length){let U=Y<=Q&&Y>=K?Q-Y:0;Q-=U,$=Q+($-K),K=Q}else if($<Q){let U=Y<=Q&&Y>=$?Q-Y:0;Q-=U,K=Q+(K-$),$=Q}return{from:Q,toA:K,toB:$}}function SR(J){let Z=[];if(J.root.activeElement!=J.contentDOM)return Z;let{anchorNode:Y,anchorOffset:q,focusNode:X,focusOffset:Q}=J.observer.selectionRange;if(Y){if(Z.push(new jZ(Y,q)),X!=Y||Q!=q)Z.push(new jZ(X,Q))}return Z}function kR(J,Z){if(J.length==0)return null;let Y=J[0].pos,q=J.length==2?J[1].pos:Y;return Y>-1&&q>-1?L.single(Y+Z,q+Z):null}class _${setSelectionOrigin(J){this.lastSelectionOrigin=J,this.lastSelectionTime=Date.now()}constructor(J){if(this.view=J,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=J.hasFocus,v.safari)J.contentDOM.addEventListener("input",()=>null);if(v.gecko)iR(J.contentDOM.ownerDocument)}handleEvent(J){if(!gR(this.view,J)||this.ignoreDuringComposition(J))return;if(J.type=="keydown"&&this.keydown(J))return;if(this.view.updateState!=0)Promise.resolve().then(()=>this.runHandlers(J.type,J));else this.runHandlers(J.type,J)}runHandlers(J,Z){let Y=this.handlers[J];if(Y){for(let q of Y.observers)q(this.view,Z);for(let q of Y.handlers){if(Z.defaultPrevented)break;if(q(this.view,Z)){Z.preventDefault();break}}}}ensureHandlers(J){let Z=wR(J),Y=this.handlers,q=this.view.contentDOM;for(let X in Z)if(X!="scroll"){let Q=!Z[X].handlers.length,K=Y[X];if(K&&Q!=!K.handlers.length)q.removeEventListener(X,this.handleEvent),K=null;if(!K)q.addEventListener(X,this.handleEvent,{passive:Q})}for(let X in Y)if(X!="scroll"&&!Z[X])q.removeEventListener(X,this.handleEvent);this.handlers=Z}keydown(J){if(this.lastKeyCode=J.keyCode,this.lastKeyTime=Date.now(),J.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&J.keyCode!=27&&N$.indexOf(J.keyCode)<0)this.tabFocusMode=-1;if(v.android&&v.chrome&&!J.synthetic&&(J.keyCode==13||J.keyCode==8))return this.view.observer.delayAndroidKey(J.key,J.keyCode),!0;let Z;if(v.ios&&!J.synthetic&&!J.altKey&&!J.metaKey&&((Z=H$.find((Y)=>Y.keyCode==J.keyCode))&&!J.ctrlKey||xR.indexOf(J.key)>-1&&J.ctrlKey&&!J.shiftKey))return this.pendingIOSKey=Z||J,setTimeout(()=>this.flushIOSKey(),250),!0;if(J.keyCode!=229)this.view.observer.forceFlush();return!1}flushIOSKey(J){let Z=this.pendingIOSKey;if(!Z)return!1;if(Z.key=="Enter"&&J&&J.from<J.to&&/^\S+$/.test(J.insert.toString()))return!1;return this.pendingIOSKey=void 0,A4(this.view.contentDOM,Z.key,Z.keyCode,Z instanceof KeyboardEvent?Z:void 0)}ignoreDuringComposition(J){if(!/^key/.test(J.type)||J.synthetic)return!1;if(this.composing>0)return!0;if(v.safari&&!v.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)return this.compositionPendingKey=!1,!0;return!1}startMouseSelection(J){if(this.mouseSelection)this.mouseSelection.destroy();this.mouseSelection=J}update(J){if(this.view.observer.update(J),this.mouseSelection)this.mouseSelection.update(J);if(this.draggedContent&&J.docChanged)this.draggedContent=this.draggedContent.map(J.changes);if(J.transactions.length)this.lastKeyCode=this.lastSelectionTime=0}destroy(){if(this.mouseSelection)this.mouseSelection.destroy()}}function oQ(J,Z){return(Y,q)=>{try{return Z.call(J,q,Y)}catch(X){l0(Y.state,X)}}}function wR(J){let Z=Object.create(null);function Y(q){return Z[q]||(Z[q]={observers:[],handlers:[]})}for(let q of J){let X=q.spec,Q=X&&X.plugin.domEventHandlers,K=X&&X.plugin.domEventObservers;if(Q)for(let $ in Q){let U=Q[$];if(U)Y($).handlers.push(oQ(q.value,U))}if(K)for(let $ in K){let U=K[$];if(U)Y($).observers.push(oQ(q.value,U))}}for(let q in r1)Y(q).handlers.push(r1[q]);for(let q in E1)Y(q).observers.push(E1[q]);return Z}var H$=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],xR="dthko",N$=[16,17,18,20,91,92,224,225],G9=6;function z9(J){return Math.max(0,J)*0.7+8}function hR(J,Z){return Math.max(Math.abs(J.clientX-Z.clientX),Math.abs(J.clientY-Z.clientY))}class R${constructor(J,Z,Y,q){this.view=J,this.startEvent=Z,this.style=Y,this.mustSelect=q,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=Z,this.scrollParents=oN(J.contentDOM),this.atoms=J.state.facet(x3).map((Q)=>Q(J));let X=J.contentDOM.ownerDocument;X.addEventListener("mousemove",this.move=this.move.bind(this)),X.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=Z.shiftKey,this.multiple=J.state.facet(o.allowMultipleSelections)&&vR(J,Z),this.dragging=mR(J,Z)&&M$(Z)==1?null:!1}start(J){if(this.dragging===!1)this.select(J)}move(J){if(J.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&hR(this.startEvent,J)<10)return;this.select(this.lastEvent=J);let Z=0,Y=0,q=0,X=0,Q=this.view.win.innerWidth,K=this.view.win.innerHeight;if(this.scrollParents.x)({left:q,right:Q}=this.scrollParents.x.getBoundingClientRect());if(this.scrollParents.y)({top:X,bottom:K}=this.scrollParents.y.getBoundingClientRect());let $=TZ(this.view);if(J.clientX-$.left<=q+G9)Z=-z9(q-J.clientX);else if(J.clientX+$.right>=Q-G9)Z=z9(J.clientX-Q);if(J.clientY-$.top<=X+G9)Y=-z9(X-J.clientY);else if(J.clientY+$.bottom>=K-G9)Y=z9(J.clientY-K);this.setScrollSpeed(Z,Y)}up(J){if(this.dragging==null)this.select(this.lastEvent);if(!this.dragging)J.preventDefault();this.destroy()}destroy(){this.setScrollSpeed(0,0);let J=this.view.contentDOM.ownerDocument;J.removeEventListener("mousemove",this.move),J.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(J,Z){if(this.scrollSpeed={x:J,y:Z},J||Z){if(this.scrolling<0)this.scrolling=setInterval(()=>this.scroll(),50)}else if(this.scrolling>-1)clearInterval(this.scrolling),this.scrolling=-1}scroll(){let{x:J,y:Z}=this.scrollSpeed;if(J&&this.scrollParents.x)this.scrollParents.x.scrollLeft+=J,J=0;if(Z&&this.scrollParents.y)this.scrollParents.y.scrollTop+=Z,Z=0;if(J||Z)this.view.win.scrollBy(J,Z);if(this.dragging===!1)this.select(this.lastEvent)}select(J){let{view:Z}=this,Y=$$(this.atoms,this.style.get(J,this.extend,this.multiple));if(this.mustSelect||!Y.eq(Z.state.selection,this.dragging===!1))this.view.dispatch({selection:Y,userEvent:"select.pointer"});this.mustSelect=!1}update(J){if(J.transactions.some((Z)=>Z.isUserEvent("input.type")))this.destroy();else if(this.style.update(J))setTimeout(()=>this.select(this.lastEvent),20)}}function vR(J,Z){let Y=J.state.facet(uK);return Y.length?Y[0](Z):v.mac?Z.metaKey:Z.ctrlKey}function uR(J,Z){let Y=J.state.facet(mK);return Y.length?Y[0](Z):v.mac?!Z.altKey:!Z.ctrlKey}function mR(J,Z){let{main:Y}=J.state.selection;if(Y.empty)return!1;let q=T3(J.root);if(!q||q.rangeCount==0)return!0;let X=q.getRangeAt(0).getClientRects();for(let Q=0;Q<X.length;Q++){let K=X[Q];if(K.left<=Z.clientX&&K.right>=Z.clientX&&K.top<=Z.clientY&&K.bottom>=Z.clientY)return!0}return!1}function gR(J,Z){if(!Z.bubbles)return!0;if(Z.defaultPrevented)return!1;for(let Y=Z.target,q;Y!=J.contentDOM;Y=Y.parentNode)if(!Y||Y.nodeType==11||(q=S0.get(Y))&&q.isWidget()&&!q.isHidden&&q.widget.ignoreEvent(Z))return!1;return!0}var r1=Object.create(null),E1=Object.create(null),A$=v.ie&&v.ie_version<15||v.ios&&v.webkit_version<604;function fR(J){let Z=J.dom.parentNode;if(!Z)return;let Y=Z.appendChild(document.createElement("textarea"));Y.style.cssText="position: fixed; left: -10000px; top: 10px",Y.focus(),setTimeout(()=>{J.focus(),Y.remove(),F$(J,Y.value)},50)}function m9(J,Z,Y){for(let q of J.facet(Z))Y=q(Y,J);return Y}function F$(J,Z){Z=m9(J.state,BZ,Z);let{state:Y}=J,q,X=1,Q=Y.toText(Z),K=Q.lines==Y.selection.ranges.length;if(GZ!=null&&Y.selection.ranges.every((U)=>U.empty)&&GZ==Q.toString()){let U=-1;q=Y.changeByRange((j)=>{let W=Y.doc.lineAt(j.from);if(W.from==U)return{range:j};U=W.from;let G=Y.toText((K?Q.line(X++).text:Z)+Y.lineBreak);return{changes:{from:W.from,insert:G},range:L.cursor(j.from+G.length)}})}else if(K)q=Y.changeByRange((U)=>{let j=Q.line(X++);return{changes:{from:U.from,to:U.to,insert:j.text},range:L.cursor(U.from+j.length)}});else q=Y.replaceSelection(Q);J.dispatch(q,{userEvent:"input.paste",scrollIntoView:!0})}E1.scroll=(J)=>{J.inputState.lastScrollTop=J.scrollDOM.scrollTop,J.inputState.lastScrollLeft=J.scrollDOM.scrollLeft};r1.keydown=(J,Z)=>{if(J.inputState.setSelectionOrigin("select"),Z.keyCode==27&&J.inputState.tabFocusMode!=0)J.inputState.tabFocusMode=Date.now()+2000;return!1};E1.touchstart=(J,Z)=>{J.inputState.lastTouchTime=Date.now(),J.inputState.setSelectionOrigin("select.pointer")};E1.touchmove=(J)=>{J.inputState.setSelectionOrigin("select.pointer")};r1.mousedown=(J,Z)=>{if(J.observer.flush(),J.inputState.lastTouchTime>Date.now()-2000)return!1;let Y=null;for(let q of J.state.facet(gK))if(Y=q(J,Z),Y)break;if(!Y&&Z.button==0)Y=pR(J,Z);if(Y){let q=!J.hasFocus;if(J.inputState.startMouseSelection(new R$(J,Z,Y,q)),q)J.observer.ignore(()=>{TK(J.contentDOM);let Q=J.root.activeElement;if(Q&&!Q.contains(J.contentDOM))Q.blur()});let X=J.inputState.mouseSelection;if(X)return X.start(Z),X.dragging===!1}else J.inputState.setSelectionOrigin("select.pointer");return!1};function tQ(J,Z,Y,q){if(q==1)return L.cursor(Z,Y);else if(q==2)return LR(J.state,Z,Y);else{let X=J.docView.lineAt(Z,Y),Q=J.state.doc.lineAt(X?X.posAtEnd:Z),K=X?X.posAtStart:Q.from,$=X?X.posAtEnd:Q.to;if($<J.state.doc.length&&$==Q.to)$++;return L.range(K,$)}}var lR=v.ie&&v.ie_version<=11,eQ=null,JK=0,ZK=0;function M$(J){if(!lR)return J.detail;let Z=eQ,Y=ZK;return eQ=J,ZK=Date.now(),JK=!Z||Y>Date.now()-400&&Math.abs(Z.clientX-J.clientX)<2&&Math.abs(Z.clientY-J.clientY)<2?(JK+1)%3:1}function pR(J,Z){let Y=J.posAndSideAtCoords({x:Z.clientX,y:Z.clientY},!1),q=M$(Z),X=J.state.selection;return{update(Q){if(Q.docChanged)Y.pos=Q.changes.mapPos(Y.pos),X=X.map(Q.changes)},get(Q,K,$){let U=J.posAndSideAtCoords({x:Q.clientX,y:Q.clientY},!1),j,W=tQ(J,U.pos,U.assoc,q);if(Y.pos!=U.pos&&!K){let G=tQ(J,Y.pos,Y.assoc,q),z=Math.min(G.from,W.from),O=Math.max(G.to,W.to);W=z<W.from?L.range(z,O):L.range(O,z)}if(K)return X.replaceRange(X.main.extend(W.from,W.to));else if($&&q==1&&X.ranges.length>1&&(j=dR(X,U.pos)))return j;else if($)return X.addRange(W);else return L.create([W])}}}function dR(J,Z){for(let Y=0;Y<J.ranges.length;Y++){let{from:q,to:X}=J.ranges[Y];if(q<=Z&&X>=Z)return L.create(J.ranges.slice(0,Y).concat(J.ranges.slice(Y+1)),J.mainIndex==Y?0:J.mainIndex-(J.mainIndex>Y?1:0))}return null}r1.dragstart=(J,Z)=>{let{selection:{main:Y}}=J.state;if(Z.target.draggable){let X=J.docView.tile.nearest(Z.target);if(X&&X.isWidget()){let Q=X.posAtStart,K=Q+X.length;if(Q>=Y.to||K<=Y.from)Y=L.range(Q,K)}}let{inputState:q}=J;if(q.mouseSelection)q.mouseSelection.dragging=!0;if(q.draggedContent=Y,Z.dataTransfer)Z.dataTransfer.setData("Text",m9(J.state,PZ,J.state.sliceDoc(Y.from,Y.to))),Z.dataTransfer.effectAllowed="copyMove";return!1};r1.dragend=(J)=>{return J.inputState.draggedContent=null,!1};function YK(J,Z,Y,q){if(Y=m9(J.state,BZ,Y),!Y)return;let X=J.posAtCoords({x:Z.clientX,y:Z.clientY},!1),{draggedContent:Q}=J.inputState,K=q&&Q&&uR(J,Z)?{from:Q.from,to:Q.to}:null,$={from:X,insert:Y},U=J.state.changes(K?[K,$]:$);J.focus(),J.dispatch({changes:U,selection:{anchor:U.mapPos(X,-1),head:U.mapPos(X,1)},userEvent:K?"move.drop":"input.drop"}),J.inputState.draggedContent=null}r1.drop=(J,Z)=>{if(!Z.dataTransfer)return!1;if(J.state.readOnly)return!0;let Y=Z.dataTransfer.files;if(Y&&Y.length){let q=Array(Y.length),X=0,Q=()=>{if(++X==Y.length)YK(J,Z,q.filter((K)=>K!=null).join(J.state.lineBreak),!1)};for(let K=0;K<Y.length;K++){let $=new FileReader;$.onerror=Q,$.onload=()=>{if(!/[\x00-\x08\x0e-\x1f]{2}/.test($.result))q[K]=$.result;Q()},$.readAsText(Y[K])}return!0}else{let q=Z.dataTransfer.getData("Text");if(q)return YK(J,Z,q,!0),!0}return!1};r1.paste=(J,Z)=>{if(J.state.readOnly)return!0;J.observer.flush();let Y=A$?null:Z.clipboardData;if(Y)return F$(J,Y.getData("text/plain")||Y.getData("text/uri-list")),!0;else return fR(J),!1};function cR(J,Z){let Y=J.dom.parentNode;if(!Y)return;let q=Y.appendChild(document.createElement("textarea"));q.style.cssText="position: fixed; left: -10000px; top: 10px",q.value=Z,q.focus(),q.selectionEnd=Z.length,q.selectionStart=0,setTimeout(()=>{q.remove(),J.focus()},50)}function nR(J){let Z=[],Y=[],q=!1;for(let X of J.selection.ranges)if(!X.empty)Z.push(J.sliceDoc(X.from,X.to)),Y.push(X);if(!Z.length){let X=-1;for(let{from:Q}of J.selection.ranges){let K=J.doc.lineAt(Q);if(K.number>X)Z.push(K.text),Y.push({from:K.from,to:Math.min(J.doc.length,K.to+1)});X=K.number}q=!0}return{text:m9(J,PZ,Z.join(J.lineBreak)),ranges:Y,linewise:q}}var GZ=null;r1.copy=r1.cut=(J,Z)=>{let{text:Y,ranges:q,linewise:X}=nR(J.state);if(!Y&&!X)return!1;if(GZ=X?Y:null,Z.type=="cut"&&!J.state.readOnly)J.dispatch({changes:q,scrollIntoView:!0,userEvent:"delete.cut"});let Q=A$?null:Z.clipboardData;if(Q)return Q.clearData(),Q.setData("text/plain",Y),!0;else return cR(J,Y),!1};var V$=R1.define();function I$(J,Z){let Y=[];for(let q of J.facet(pK)){let X=q(J,Z);if(X)Y.push(X)}return Y.length?J.update({effects:Y,annotations:V$.of(!0)}):null}function D$(J){setTimeout(()=>{let Z=J.hasFocus;if(Z!=J.inputState.notifiedFocused){let Y=I$(J.state,Z);if(Y)J.dispatch(Y);else J.update([])}},10)}E1.focus=(J)=>{if(J.inputState.lastFocusTime=Date.now(),!J.scrollDOM.scrollTop&&(J.inputState.lastScrollTop||J.inputState.lastScrollLeft))J.scrollDOM.scrollTop=J.inputState.lastScrollTop,J.scrollDOM.scrollLeft=J.inputState.lastScrollLeft;D$(J)};E1.blur=(J)=>{J.observer.clearSelectionRange(),D$(J)};E1.compositionstart=E1.compositionupdate=(J)=>{if(J.observer.editContext)return;if(J.inputState.compositionFirstChange==null)J.inputState.compositionFirstChange=!0;if(J.inputState.composing<0)J.inputState.composing=0};E1.compositionend=(J)=>{if(J.observer.editContext)return;if(J.inputState.composing=-1,J.inputState.compositionEndedAt=Date.now(),J.inputState.compositionPendingKey=!0,J.inputState.compositionPendingChange=J.observer.pendingRecords().length>0,J.inputState.compositionFirstChange=null,v.chrome&&v.android)J.observer.flushSoon();else if(J.inputState.compositionPendingChange)Promise.resolve().then(()=>J.observer.flush());else setTimeout(()=>{if(J.inputState.composing<0&&J.docView.hasComposition)J.update([])},50)};E1.contextmenu=(J)=>{J.inputState.lastContextMenu=Date.now()};r1.beforeinput=(J,Z)=>{var Y,q;if(Z.inputType=="insertText"||Z.inputType=="insertCompositionText")J.inputState.insertingText=Z.data,J.inputState.insertingTextAt=Date.now();if(Z.inputType=="insertReplacementText"&&J.observer.editContext){let Q=(Y=Z.dataTransfer)===null||Y===void 0?void 0:Y.getData("text/plain"),K=Z.getTargetRanges();if(Q&&K.length){let $=K[0],U=J.posAtDOM($.startContainer,$.startOffset),j=J.posAtDOM($.endContainer,$.endOffset);return yZ(J,{from:U,to:j,insert:J.state.toText(Q)},null),!0}}let X;if(v.chrome&&v.android&&(X=H$.find((Q)=>Q.inputType==Z.inputType))){if(J.observer.delayAndroidKey(X.key,X.keyCode),X.key=="Backspace"||X.key=="Delete"){let Q=((q=window.visualViewport)===null||q===void 0?void 0:q.height)||0;setTimeout(()=>{var K;if((((K=window.visualViewport)===null||K===void 0?void 0:K.height)||0)>Q+10&&J.hasFocus)J.contentDOM.blur(),J.focus()},100)}}if(v.ios&&Z.inputType=="deleteContentForward")J.observer.flushSoon();if(v.safari&&Z.inputType=="insertText"&&J.inputState.composing>=0)setTimeout(()=>E1.compositionend(J,Z),20);return!1};var qK=new Set;function iR(J){if(!qK.has(J))qK.add(J),J.addEventListener("copy",()=>{}),J.addEventListener("cut",()=>{})}var XK=["pre-wrap","normal","pre-line","break-spaces"],V4=!1;function QK(){V4=!1}class L${constructor(J){this.lineWrapping=J,this.doc=e.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(J,Z){let Y=this.doc.lineAt(Z).number-this.doc.lineAt(J).number+1;if(this.lineWrapping)Y+=Math.max(0,Math.ceil((Z-J-Y*this.lineLength*0.5)/this.lineLength));return this.lineHeight*Y}heightForLine(J){if(!this.lineWrapping)return this.lineHeight;return(1+Math.max(0,Math.ceil((J-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight}setDoc(J){return this.doc=J,this}mustRefreshForWrapping(J){return XK.indexOf(J)>-1!=this.lineWrapping}mustRefreshForHeights(J){let Z=!1;for(let Y=0;Y<J.length;Y++){let q=J[Y];if(q<0)Y++;else if(!this.heightSamples[Math.floor(q*10)])Z=!0,this.heightSamples[Math.floor(q*10)]=!0}return Z}refresh(J,Z,Y,q,X,Q){let K=XK.indexOf(J)>-1,$=Math.round(Z)!=Math.round(this.lineHeight)||this.lineWrapping!=K;if(this.lineWrapping=K,this.lineHeight=Z,this.charWidth=Y,this.textHeight=q,this.lineLength=X,$){this.heightSamples={};for(let U=0;U<Q.length;U++){let j=Q[U];if(j<0)U++;else this.heightSamples[Math.floor(j*10)]=!0}}return $}}class B${constructor(J,Z){this.from=J,this.heights=Z,this.index=0}get more(){return this.index<this.heights.length}}class s1{constructor(J,Z,Y,q,X){this.from=J,this.length=Z,this.top=Y,this.height=q,this._content=X}get type(){return typeof this._content=="number"?p0.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof TJ?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(J){let Z=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(J._content)?J._content:[J]);return new s1(this.from,this.length+J.length,this.top,this.height+J.height,Z)}}var H0=function(J){return J[J.ByPos=0]="ByPos",J[J.ByHeight=1]="ByHeight",J[J.ByPosNoHeight=2]="ByPosNoHeight",J}(H0||(H0={})),D9=0.001;class Y1{constructor(J,Z,Y=2){this.length=J,this.height=Z,this.flags=Y}get outdated(){return(this.flags&2)>0}set outdated(J){this.flags=(J?2:0)|this.flags&-3}setHeight(J){if(this.height!=J){if(Math.abs(this.height-J)>D9)V4=!0;this.height=J}}replace(J,Z,Y){return Y1.of(Y)}decomposeLeft(J,Z){Z.push(this)}decomposeRight(J,Z){Z.push(this)}applyChanges(J,Z,Y,q){let X=this,Q=Y.doc;for(let K=q.length-1;K>=0;K--){let{fromA:$,toA:U,fromB:j,toB:W}=q[K],G=X.lineAt($,H0.ByPosNoHeight,Y.setDoc(Z),0,0),z=G.to>=U?G:X.lineAt(U,H0.ByPosNoHeight,Y,0,0);W+=z.to-U,U=z.to;while(K>0&&G.from<=q[K-1].toA)if($=q[K-1].fromA,j=q[K-1].fromB,K--,$<G.from)G=X.lineAt($,H0.ByPosNoHeight,Y,0,0);j+=G.from-$,$=G.from;let O=SZ.build(Y.setDoc(Q),J,j,W);X=w9(X,X.replace($,U,O))}return X.updateHeight(Y,0)}static empty(){return new A1(0,0,0)}static of(J){if(J.length==1)return J[0];let Z=0,Y=J.length,q=0,X=0;for(;;)if(Z==Y)if(q>X*2){let K=J[Z-1];if(K.break)J.splice(--Z,1,K.left,null,K.right);else J.splice(--Z,1,K.left,K.right);Y+=1+K.break,q-=K.size}else if(X>q*2){let K=J[Y];if(K.break)J.splice(Y,1,K.left,null,K.right);else J.splice(Y,1,K.left,K.right);Y+=2+K.break,X-=K.size}else break;else if(q<X){let K=J[Z++];if(K)q+=K.size}else{let K=J[--Y];if(K)X+=K.size}let Q=0;if(J[Z-1]==null)Q=1,Z--;else if(J[Z]==null)Q=1,Y++;return new P$(Y1.of(J.slice(0,Z)),Q,Y1.of(J.slice(Y)))}}function w9(J,Z){if(J==Z)return J;if(J.constructor!=Z.constructor)V4=!0;return Z}Y1.prototype.size=1;var sR=f.replace({});class bZ extends Y1{constructor(J,Z,Y){super(J,Z);this.deco=Y,this.spaceAbove=0}mainBlock(J,Z){return new s1(Z,this.length,J+this.spaceAbove,this.height-this.spaceAbove,this.deco||0)}blockAt(J,Z,Y,q){return this.spaceAbove&&J<Y+this.spaceAbove?new s1(q,0,Y,this.spaceAbove,sR):this.mainBlock(Y,q)}lineAt(J,Z,Y,q,X){let Q=this.mainBlock(q,X);return this.spaceAbove?this.blockAt(0,Y,q,X).join(Q):Q}forEachLine(J,Z,Y,q,X,Q){if(J<=X+this.length&&Z>=X)Q(this.lineAt(0,H0.ByPos,Y,q,X))}setMeasuredHeight(J){let Z=J.heights[J.index++];if(Z<0)this.spaceAbove=-Z,Z=J.heights[J.index++];else this.spaceAbove=0;this.setHeight(Z)}updateHeight(J,Z=0,Y=!1,q){if(q&&q.from<=Z&&q.more)this.setMeasuredHeight(q);return this.outdated=!1,this}toString(){return`block(${this.length})`}}class A1 extends bZ{constructor(J,Z,Y){super(J,Z,null);this.collapsed=0,this.widgetHeight=0,this.breaks=0,this.spaceAbove=Y}mainBlock(J,Z){return new s1(Z,this.length,J+this.spaceAbove,this.height-this.spaceAbove,this.breaks)}replace(J,Z,Y){let q=Y[0];if(Y.length==1&&(q instanceof A1||q instanceof f0&&q.flags&4)&&Math.abs(this.length-q.length)<10){if(q instanceof f0)q=new A1(q.length,this.height,this.spaceAbove);else q.height=this.height;if(!this.outdated)q.outdated=!1;return q}else return Y1.of(Y)}updateHeight(J,Z=0,Y=!1,q){if(q&&q.from<=Z&&q.more)this.setMeasuredHeight(q);else if(Y||this.outdated)this.spaceAbove=0,this.setHeight(Math.max(this.widgetHeight,J.heightForLine(this.length-this.collapsed))+this.breaks*J.lineHeight);return this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class f0 extends Y1{constructor(J){super(J,0)}heightMetrics(J,Z){let Y=J.doc.lineAt(Z).number,q=J.doc.lineAt(Z+this.length).number,X=q-Y+1,Q,K=0;if(J.lineWrapping){let $=Math.min(this.height,J.lineHeight*X);if(Q=$/X,this.length>X+1)K=(this.height-$)/(this.length-X-1)}else Q=this.height/X;return{firstLine:Y,lastLine:q,perLine:Q,perChar:K}}blockAt(J,Z,Y,q){let{firstLine:X,lastLine:Q,perLine:K,perChar:$}=this.heightMetrics(Z,q);if(Z.lineWrapping){let U=q+(J<Z.lineHeight?0:Math.round(Math.max(0,Math.min(1,(J-Y)/this.height))*this.length)),j=Z.doc.lineAt(U),W=K+j.length*$,G=Math.max(Y,J-W/2);return new s1(j.from,j.length,G,W,0)}else{let U=Math.max(0,Math.min(Q-X,Math.floor((J-Y)/K))),{from:j,length:W}=Z.doc.line(X+U);return new s1(j,W,Y+K*U,K,0)}}lineAt(J,Z,Y,q,X){if(Z==H0.ByHeight)return this.blockAt(J,Y,q,X);if(Z==H0.ByPosNoHeight){let{from:z,to:O}=Y.doc.lineAt(J);return new s1(z,O-z,0,0,0)}let{firstLine:Q,perLine:K,perChar:$}=this.heightMetrics(Y,X),U=Y.doc.lineAt(J),j=K+U.length*$,W=U.number-Q,G=q+K*W+$*(U.from-X-W);return new s1(U.from,U.length,Math.max(q,Math.min(G,q+this.height-j)),j,0)}forEachLine(J,Z,Y,q,X,Q){J=Math.max(J,X),Z=Math.min(Z,X+this.length);let{firstLine:K,perLine:$,perChar:U}=this.heightMetrics(Y,X);for(let j=J,W=q;j<=Z;){let G=Y.doc.lineAt(j);if(j==J){let O=G.number-K;W+=$*O+U*(J-X-O)}let z=$+U*G.length;Q(new s1(G.from,G.length,W,z,0)),W+=z,j=G.to+1}}replace(J,Z,Y){let q=this.length-Z;if(q>0){let X=Y[Y.length-1];if(X instanceof f0)Y[Y.length-1]=new f0(X.length+q);else Y.push(null,new f0(q-1))}if(J>0){let X=Y[0];if(X instanceof f0)Y[0]=new f0(J+X.length);else Y.unshift(new f0(J-1),null)}return Y1.of(Y)}decomposeLeft(J,Z){Z.push(new f0(J-1),null)}decomposeRight(J,Z){Z.push(null,new f0(this.length-J-1))}updateHeight(J,Z=0,Y=!1,q){let X=Z+this.length;if(q&&q.from<=Z+this.length&&q.more){let Q=[],K=Math.max(Z,q.from),$=-1;if(q.from>Z)Q.push(new f0(q.from-Z-1).updateHeight(J,Z));while(K<=X&&q.more){let j=J.doc.lineAt(K).length;if(Q.length)Q.push(null);let W=q.heights[q.index++],G=0;if(W<0)G=-W,W=q.heights[q.index++];if($==-1)$=W;else if(Math.abs(W-$)>=D9)$=-2;let z=new A1(j,W,G);z.outdated=!1,Q.push(z),K+=j+1}if(K<=X)Q.push(null,new f0(X-K).updateHeight(J,K));let U=Y1.of(Q);if($<0||Math.abs(U.height-this.height)>=D9||Math.abs($-this.heightMetrics(J,Z).perLine)>=D9)V4=!0;return w9(this,U)}else if(Y||this.outdated)this.setHeight(J.heightForGap(Z,Z+this.length)),this.outdated=!1;return this}toString(){return`gap(${this.length})`}}class P$ extends Y1{constructor(J,Z,Y){super(J.length+Z+Y.length,J.height+Y.height,Z|(J.outdated||Y.outdated?2:0));this.left=J,this.right=Y,this.size=J.size+Y.size}get break(){return this.flags&1}blockAt(J,Z,Y,q){let X=Y+this.left.height;return J<X?this.left.blockAt(J,Z,Y,q):this.right.blockAt(J,Z,X,q+this.left.length+this.break)}lineAt(J,Z,Y,q,X){let Q=q+this.left.height,K=X+this.left.length+this.break,$=Z==H0.ByHeight?J<Q:J<K,U=$?this.left.lineAt(J,Z,Y,q,X):this.right.lineAt(J,Z,Y,Q,K);if(this.break||($?U.to<K:U.from>K))return U;let j=Z==H0.ByPosNoHeight?H0.ByPosNoHeight:H0.ByPos;if($)return U.join(this.right.lineAt(K,j,Y,Q,K));else return this.left.lineAt(K,j,Y,q,X).join(U)}forEachLine(J,Z,Y,q,X,Q){let K=q+this.left.height,$=X+this.left.length+this.break;if(this.break){if(J<$)this.left.forEachLine(J,Z,Y,q,X,Q);if(Z>=$)this.right.forEachLine(J,Z,Y,K,$,Q)}else{let U=this.lineAt($,H0.ByPos,Y,q,X);if(J<U.from)this.left.forEachLine(J,U.from-1,Y,q,X,Q);if(U.to>=J&&U.from<=Z)Q(U);if(Z>U.to)this.right.forEachLine(U.to+1,Z,Y,K,$,Q)}}replace(J,Z,Y){let q=this.left.length+this.break;if(Z<q)return this.balanced(this.left.replace(J,Z,Y),this.right);if(J>this.left.length)return this.balanced(this.left,this.right.replace(J-q,Z-q,Y));let X=[];if(J>0)this.decomposeLeft(J,X);let Q=X.length;for(let K of Y)X.push(K);if(J>0)KK(X,Q-1);if(Z<this.length){let K=X.length;this.decomposeRight(Z,X),KK(X,K)}return Y1.of(X)}decomposeLeft(J,Z){let Y=this.left.length;if(J<=Y)return this.left.decomposeLeft(J,Z);if(Z.push(this.left),this.break){if(Y++,J>=Y)Z.push(null)}if(J>Y)this.right.decomposeLeft(J-Y,Z)}decomposeRight(J,Z){let Y=this.left.length,q=Y+this.break;if(J>=q)return this.right.decomposeRight(J-q,Z);if(J<Y)this.left.decomposeRight(J,Z);if(this.break&&J<q)Z.push(null);Z.push(this.right)}balanced(J,Z){if(J.size>2*Z.size||Z.size>2*J.size)return Y1.of(this.break?[J,null,Z]:[J,Z]);return this.left=w9(this.left,J),this.right=w9(this.right,Z),this.setHeight(J.height+Z.height),this.outdated=J.outdated||Z.outdated,this.size=J.size+Z.size,this.length=J.length+this.break+Z.length,this}updateHeight(J,Z=0,Y=!1,q){let{left:X,right:Q}=this,K=Z+X.length+this.break,$=null;if(q&&q.from<=Z+X.length&&q.more)$=X=X.updateHeight(J,Z,Y,q);else X.updateHeight(J,Z,Y);if(q&&q.from<=K+Q.length&&q.more)$=Q=Q.updateHeight(J,K,Y,q);else Q.updateHeight(J,K,Y);if($)return this.balanced(X,Q);return this.height=this.left.height+this.right.height,this.outdated=!1,this}toString(){return this.left+(this.break?" ":"-")+this.right}}function KK(J,Z){let Y,q;if(J[Z]==null&&(Y=J[Z-1])instanceof f0&&(q=J[Z+1])instanceof f0)J.splice(Z-1,3,new f0(Y.length+1+q.length))}var aR=5;class SZ{constructor(J,Z){this.pos=J,this.oracle=Z,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=J}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(J,Z){if(this.lineStart>-1){let Y=Math.min(Z,this.lineEnd),q=this.nodes[this.nodes.length-1];if(q instanceof A1)q.length+=Y-this.pos;else if(Y>this.pos||!this.isCovered)this.nodes.push(new A1(Y-this.pos,-1,0));if(this.writtenTo=Y,Z>Y)this.nodes.push(null),this.writtenTo++,this.lineStart=-1}this.pos=Z}point(J,Z,Y){if(J<Z||Y.heightRelevant){let q=Y.widget?Y.widget.estimatedHeight:0,X=Y.widget?Y.widget.lineBreaks:0;if(q<0)q=this.oracle.lineHeight;let Q=Z-J;if(Y.block)this.addBlock(new bZ(Q,q,Y));else if(Q||X||q>=aR)this.addLineDeco(q,X,Q)}else if(Z>J)this.span(J,Z);if(this.lineEnd>-1&&this.lineEnd<this.pos)this.lineEnd=this.oracle.doc.lineAt(this.pos).to}enterLine(){if(this.lineStart>-1)return;let{from:J,to:Z}=this.oracle.doc.lineAt(this.pos);if(this.lineStart=J,this.lineEnd=Z,this.writtenTo<J){if(this.writtenTo<J-1||this.nodes[this.nodes.length-1]==null)this.nodes.push(this.blankContent(this.writtenTo,J-1));this.nodes.push(null)}if(this.pos>J)this.nodes.push(new A1(this.pos-J,-1,0));this.writtenTo=this.pos}blankContent(J,Z){let Y=new f0(Z-J);if(this.oracle.doc.lineAt(J).to==Z)Y.flags|=4;return Y}ensureLine(){this.enterLine();let J=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(J instanceof A1)return J;let Z=new A1(0,-1,0);return this.nodes.push(Z),Z}addBlock(J){this.enterLine();let Z=J.deco;if(Z&&Z.startSide>0&&!this.isCovered)this.ensureLine();if(this.nodes.push(J),this.writtenTo=this.pos=this.pos+J.length,Z&&Z.endSide>0)this.covering=J}addLineDeco(J,Z,Y){let q=this.ensureLine();q.length+=Y,q.collapsed+=Y,q.widgetHeight=Math.max(q.widgetHeight,J),q.breaks+=Z,this.writtenTo=this.pos=this.pos+Y}finish(J){let Z=this.nodes.length==0?null:this.nodes[this.nodes.length-1];if(this.lineStart>-1&&!(Z instanceof A1)&&!this.isCovered)this.nodes.push(new A1(0,-1,0));else if(this.writtenTo<this.pos||Z==null)this.nodes.push(this.blankContent(this.writtenTo,this.pos));let Y=J;for(let q of this.nodes){if(q instanceof A1)q.updateHeight(this.oracle,Y);Y+=q?q.length:1}return this.nodes}static build(J,Z,Y,q){let X=new SZ(Y,J);return a.spans(Z,Y,q,X,0),X.finish(Y)}}function rR(J,Z,Y){let q=new E$;return a.compare(J,Z,Y,q,0),q.changes}class E${constructor(){this.changes=[]}compareRange(){}comparePoint(J,Z,Y,q){if(J<Z||Y&&Y.heightRelevant||q&&q.heightRelevant)R4(J,Z,this.changes,5)}}function oR(J,Z){let Y=J.getBoundingClientRect(),q=J.ownerDocument,X=q.defaultView||window,Q=Math.max(0,Y.left),K=Math.min(X.innerWidth,Y.right),$=Math.max(0,Y.top),U=Math.min(X.innerHeight,Y.bottom);for(let j=J.parentNode;j&&j!=q.body;)if(j.nodeType==1){let W=j,G=window.getComputedStyle(W);if((W.scrollHeight>W.clientHeight||W.scrollWidth>W.clientWidth)&&G.overflow!="visible"){let z=W.getBoundingClientRect();Q=Math.max(Q,z.left),K=Math.min(K,z.right),$=Math.max($,z.top),U=Math.min(j==J.parentNode?X.innerHeight:U,z.bottom)}j=G.position=="absolute"||G.position=="fixed"?W.offsetParent:W.parentNode}else if(j.nodeType==11)j=j.host;else break;return{left:Q-Y.left,right:Math.max(Q,K)-Y.left,top:$-(Y.top+Z),bottom:Math.max($,U)-(Y.top+Z)}}function tR(J){let Z=J.getBoundingClientRect(),Y=J.ownerDocument.defaultView||window;return Z.left<Y.innerWidth&&Z.right>0&&Z.top<Y.innerHeight&&Z.bottom>0}function eR(J,Z){let Y=J.getBoundingClientRect();return{left:0,right:Y.right-Y.left,top:Z,bottom:Y.bottom-(Y.top+Z)}}class L9{constructor(J,Z,Y,q){this.from=J,this.to=Z,this.size=Y,this.displaySize=q}static same(J,Z){if(J.length!=Z.length)return!1;for(let Y=0;Y<J.length;Y++){let q=J[Y],X=Z[Y];if(q.from!=X.from||q.to!=X.to||q.size!=X.size)return!1}return!0}draw(J,Z){return f.replace({widget:new C$(this.displaySize*(Z?J.scaleY:J.scaleX),Z)}).range(this.from,this.to)}}class C$ extends $1{constructor(J,Z){super();this.size=J,this.vertical=Z}eq(J){return J.size==this.size&&J.vertical==this.vertical}toDOM(){let J=document.createElement("div");if(this.vertical)J.style.height=this.size+"px";else J.style.width=this.size+"px",J.style.height="2px",J.style.display="inline-block";return J}get estimatedHeight(){return this.vertical?this.size:-1}}class zZ{constructor(J){this.state=J,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=$K,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=W0.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let Z=J.facet(EZ).some((Y)=>typeof Y!="function"&&Y.class=="cm-lineWrapping");this.heightOracle=new L$(Z),this.stateDeco=UK(J),this.heightMap=Y1.empty().applyChanges(this.stateDeco,e.empty,this.heightOracle.setDoc(J.doc),[new P1(0,0,0,J.doc.length)]);for(let Y=0;Y<2;Y++)if(this.viewport=this.getViewport(0,null),!this.updateForViewport())break;this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=f.set(this.lineGaps.map((Y)=>Y.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let J=[this.viewport],{main:Z}=this.state.selection;for(let Y=0;Y<=1;Y++){let q=Y?Z.head:Z.anchor;if(!J.some(({from:X,to:Q})=>q>=X&&q<=Q)){let{from:X,to:Q}=this.lineBlockAt(q);J.push(new V3(X,Q))}}return this.viewports=J.sort((Y,q)=>Y.from-q.from),this.updateScaler()}updateScaler(){let J=this.scaler;return this.scaler=this.heightMap.height<=7000000?$K:new kZ(this.heightOracle,this.heightMap,this.viewports),J.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,(J)=>{this.viewportLines.push(I3(J,this.scaler))})}update(J,Z=null){this.state=J.state;let Y=this.stateDeco;this.stateDeco=UK(this.state);let q=J.changedRanges,X=P1.extendWithRanges(q,rR(Y,this.stateDeco,J?J.changes:b0.empty(this.state.doc.length))),Q=this.heightMap.height,K=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);if(QK(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,J.startState.doc,this.heightOracle.setDoc(this.state.doc),X),this.heightMap.height!=Q||V4)J.flags|=2;if(K)this.scrollAnchorPos=J.changes.mapPos(K.from,-1),this.scrollAnchorHeight=K.top;else this.scrollAnchorPos=-1,this.scrollAnchorHeight=Q;let $=X.length?this.mapViewport(this.viewport,J.changes):this.viewport;if(Z&&(Z.range.head<$.from||Z.range.head>$.to)||!this.viewportIsAppropriate($))$=this.getViewport(0,Z);let U=$.from!=this.viewport.from||$.to!=this.viewport.to;if(this.viewport=$,J.flags|=this.updateForViewport(),U||!J.changes.empty||J.flags&2)this.updateViewportLines();if(this.lineGaps.length||this.viewport.to-this.viewport.from>4000)this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,J.changes)));if(J.flags|=this.computeVisibleRanges(J.changes),Z)this.scrollTarget=Z;if(!this.mustEnforceCursorAssoc&&(J.selectionSet||J.focusChanged)&&J.view.lineWrapping&&J.state.selection.main.empty&&J.state.selection.main.assoc&&!J.state.facet(cK))this.mustEnforceCursorAssoc=!0}measure(J){let Z=J.contentDOM,Y=window.getComputedStyle(Z),q=this.heightOracle,X=Y.whiteSpace;this.defaultTextDirection=Y.direction=="rtl"?W0.RTL:W0.LTR;let Q=this.heightOracle.mustRefreshForWrapping(X),K=Z.getBoundingClientRect(),$=Q||this.mustMeasureContent||this.contentDOMHeight!=K.height;this.contentDOMHeight=K.height,this.mustMeasureContent=!1;let U=0,j=0;if(K.width&&K.height){let{scaleX:D,scaleY:P}=EK(Z,K);if(D>0.005&&Math.abs(this.scaleX-D)>0.005||P>0.005&&Math.abs(this.scaleY-P)>0.005)this.scaleX=D,this.scaleY=P,U|=16,Q=$=!0}let W=(parseInt(Y.paddingTop)||0)*this.scaleY,G=(parseInt(Y.paddingBottom)||0)*this.scaleY;if(this.paddingTop!=W||this.paddingBottom!=G)this.paddingTop=W,this.paddingBottom=G,U|=18;if(this.editorWidth!=J.scrollDOM.clientWidth){if(q.lineWrapping)$=!0;this.editorWidth=J.scrollDOM.clientWidth,U|=16}let z=J.scrollDOM.scrollTop*this.scaleY;if(this.scrollTop!=z)this.scrollAnchorHeight=-1,this.scrollTop=z;this.scrolledToBottom=yK(J.scrollDOM);let O=(this.printing?eR:oR)(Z,this.paddingTop),_=O.top-this.pixelViewport.top,N=O.bottom-this.pixelViewport.bottom;this.pixelViewport=O;let A=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(A!=this.inView){if(this.inView=A,A)$=!0}if(!this.inView&&!this.scrollTarget&&!tR(J.dom))return 0;let M=K.width;if(this.contentDOMWidth!=M||this.editorHeight!=J.scrollDOM.clientHeight)this.contentDOMWidth=K.width,this.editorHeight=J.scrollDOM.clientHeight,U|=16;if($){let D=J.docView.measureVisibleLineHeights(this.viewport);if(q.mustRefreshForHeights(D))Q=!0;if(Q||q.lineWrapping&&Math.abs(M-this.contentDOMWidth)>q.charWidth){let{lineHeight:P,charWidth:E,textHeight:u}=J.docView.measureTextSize();if(Q=P>0&&q.refresh(X,P,E,u,Math.max(5,M/E),D),Q)J.docView.minWidth=0,U|=16}if(_>0&&N>0)j=Math.max(_,N);else if(_<0&&N<0)j=Math.min(_,N);QK();for(let P of this.viewports){let E=P.from==this.viewport.from?D:J.docView.measureVisibleLineHeights(P);this.heightMap=(Q?Y1.empty().applyChanges(this.stateDeco,e.empty,this.heightOracle,[new P1(0,0,0,J.state.doc.length)]):this.heightMap).updateHeight(q,0,Q,new B$(P.from,E))}if(V4)U|=2}let V=!this.viewportIsAppropriate(this.viewport,j)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);if(V){if(U&2)U|=this.updateScaler();this.viewport=this.getViewport(j,this.scrollTarget),U|=this.updateForViewport()}if(U&2||V)this.updateViewportLines();if(this.lineGaps.length||this.viewport.to-this.viewport.from>4000)this.updateLineGaps(this.ensureLineGaps(Q?[]:this.lineGaps,J));if(U|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc)this.mustEnforceCursorAssoc=!1,J.docView.enforceCursorAssoc();return U}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(J,Z){let Y=0.5-Math.max(-0.5,Math.min(0.5,J/1000/2)),q=this.heightMap,X=this.heightOracle,{visibleTop:Q,visibleBottom:K}=this,$=new V3(q.lineAt(Q-Y*1000,H0.ByHeight,X,0,0).from,q.lineAt(K+(1-Y)*1000,H0.ByHeight,X,0,0).to);if(Z){let{head:U}=Z.range;if(U<$.from||U>$.to){let j=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),W=q.lineAt(U,H0.ByPos,X,0,0),G;if(Z.y=="center")G=(W.top+W.bottom)/2-j/2;else if(Z.y=="start"||Z.y=="nearest"&&U<$.from)G=W.top;else G=W.bottom-j;$=new V3(q.lineAt(G-500,H0.ByHeight,X,0,0).from,q.lineAt(G+j+500,H0.ByHeight,X,0,0).to)}}return $}mapViewport(J,Z){let Y=Z.mapPos(J.from,-1),q=Z.mapPos(J.to,1);return new V3(this.heightMap.lineAt(Y,H0.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(q,H0.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:J,to:Z},Y=0){if(!this.inView)return!0;let{top:q}=this.heightMap.lineAt(J,H0.ByPos,this.heightOracle,0,0),{bottom:X}=this.heightMap.lineAt(Z,H0.ByPos,this.heightOracle,0,0),{visibleTop:Q,visibleBottom:K}=this;return(J==0||q<=Q-Math.max(10,Math.min(-Y,250)))&&(Z==this.state.doc.length||X>=K+Math.max(10,Math.min(Y,250)))&&(q>Q-2000&&X<K+2000)}mapLineGaps(J,Z){if(!J.length||Z.empty)return J;let Y=[];for(let q of J)if(!Z.touchesRange(q.from,q.to))Y.push(new L9(Z.mapPos(q.from),Z.mapPos(q.to),q.size,q.displaySize));return Y}ensureLineGaps(J,Z){let Y=this.heightOracle.lineWrapping,q=Y?1e4:2000,X=q>>1,Q=q<<1;if(this.defaultTextDirection!=W0.LTR&&!Y)return[];let K=[],$=(j,W,G,z)=>{if(W-j<X)return;let O=this.state.selection.main,_=[O.from];if(!O.empty)_.push(O.to);for(let A of _)if(A>j&&A<W){$(j,A-10,G,z),$(A+10,W,G,z);return}let N=ZA(J,(A)=>A.from>=G.from&&A.to<=G.to&&Math.abs(A.from-j)<X&&Math.abs(A.to-W)<X&&!_.some((M)=>A.from<M&&A.to>M));if(!N){if(W<G.to&&Z&&Y&&Z.visibleRanges.some((V)=>V.from<=W&&V.to>=W)){let V=Z.moveToLineBoundary(L.cursor(W),!1,!0).head;if(V>j)W=V}let A=this.gapSize(G,j,W,z),M=Y||A<2000000?A:2000000;N=new L9(j,W,A,M)}K.push(N)},U=(j)=>{if(j.length<Q||j.type!=p0.Text)return;let W=JA(j.from,j.to,this.stateDeco);if(W.total<Q)return;let G=this.scrollTarget?this.scrollTarget.range.head:null,z,O;if(Y){let _=q/this.heightOracle.lineLength*this.heightOracle.lineHeight,N,A;if(G!=null){let M=_9(W,G),V=((this.visibleBottom-this.visibleTop)/2+_)/j.height;N=M-V,A=M+V}else N=(this.visibleTop-j.top-_)/j.height,A=(this.visibleBottom-j.top+_)/j.height;z=O9(W,N),O=O9(W,A)}else{let _=W.total*this.heightOracle.charWidth,N=q*this.heightOracle.charWidth,A=0;if(_>2000000){for(let E of J)if(E.from>=j.from&&E.from<j.to&&E.size!=E.displaySize&&E.from*this.heightOracle.charWidth+A<this.pixelViewport.left)A=E.size-E.displaySize}let M=this.pixelViewport.left+A,V=this.pixelViewport.right+A,D,P;if(G!=null){let E=_9(W,G),u=((V-M)/2+N)/_;D=E-u,P=E+u}else D=(M-N)/_,P=(V+N)/_;z=O9(W,D),O=O9(W,P)}if(z>j.from)$(j.from,z,j,W);if(O<j.to)$(O,j.to,j,W)};for(let j of this.viewportLines)if(Array.isArray(j.type))j.type.forEach(U);else U(j);return K}gapSize(J,Z,Y,q){let X=_9(q,Y)-_9(q,Z);if(this.heightOracle.lineWrapping)return J.height*X;else return q.total*this.heightOracle.charWidth*X}updateLineGaps(J){if(!L9.same(J,this.lineGaps))this.lineGaps=J,this.lineGapDeco=f.set(J.map((Z)=>Z.draw(this,this.heightOracle.lineWrapping)))}computeVisibleRanges(J){let Z=this.stateDeco;if(this.lineGaps.length)Z=Z.concat(this.lineGapDeco);let Y=[];a.spans(Z,this.viewport.from,this.viewport.to,{span(X,Q){Y.push({from:X,to:Q})},point(){}},20);let q=0;if(Y.length!=this.visibleRanges.length)q=12;else for(let X=0;X<Y.length&&!(q&8);X++){let Q=this.visibleRanges[X],K=Y[X];if(Q.from!=K.from||Q.to!=K.to){if(q|=4,!(J&&J.mapPos(Q.from,-1)==K.from&&J.mapPos(Q.to,1)==K.to))q|=8}}return this.visibleRanges=Y,q}lineBlockAt(J){return J>=this.viewport.from&&J<=this.viewport.to&&this.viewportLines.find((Z)=>Z.from<=J&&Z.to>=J)||I3(this.heightMap.lineAt(J,H0.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(J){return J>=this.viewportLines[0].top&&J<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find((Z)=>Z.top<=J&&Z.bottom>=J)||I3(this.heightMap.lineAt(this.scaler.fromDOM(J),H0.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(J){let Z=this.lineBlockAtHeight(J+8);return Z.from>=this.viewport.from||this.viewportLines[0].top-J>200?Z:this.viewportLines[0]}elementAtHeight(J){return I3(this.heightMap.blockAt(this.scaler.fromDOM(J),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class V3{constructor(J,Z){this.from=J,this.to=Z}}function JA(J,Z,Y){let q=[],X=J,Q=0;if(a.spans(Y,J,Z,{span(){},point(K,$){if(K>X)q.push({from:X,to:K}),Q+=K-X;X=$}},20),X<Z)q.push({from:X,to:Z}),Q+=Z-X;return{total:Q,ranges:q}}function O9({total:J,ranges:Z},Y){if(Y<=0)return Z[0].from;if(Y>=1)return Z[Z.length-1].to;let q=Math.floor(J*Y);for(let X=0;;X++){let{from:Q,to:K}=Z[X],$=K-Q;if(q<=$)return Q+q;q-=$}}function _9(J,Z){let Y=0;for(let{from:q,to:X}of J.ranges){if(Z<=X){Y+=Z-q;break}Y+=X-q}return Y/J.total}function ZA(J,Z){for(let Y of J)if(Z(Y))return Y;return}var $K={toDOM(J){return J},fromDOM(J){return J},scale:1,eq(J){return J==this}};function UK(J){let Z=J.facet(u9).filter((q)=>typeof q!="function"),Y=J.facet(CZ).filter((q)=>typeof q!="function");if(Y.length)Z.push(a.join(Y));return Z}class kZ{constructor(J,Z,Y){let q=0,X=0,Q=0;this.viewports=Y.map(({from:K,to:$})=>{let U=Z.lineAt(K,H0.ByPos,J,0,0).top,j=Z.lineAt($,H0.ByPos,J,0,0).bottom;return q+=j-U,{from:K,to:$,top:U,bottom:j,domTop:0,domBottom:0}}),this.scale=(7000000-q)/(Z.height-q);for(let K of this.viewports)K.domTop=Q+(K.top-X)*this.scale,Q=K.domBottom=K.domTop+(K.bottom-K.top),X=K.bottom}toDOM(J){for(let Z=0,Y=0,q=0;;Z++){let X=Z<this.viewports.length?this.viewports[Z]:null;if(!X||J<X.top)return q+(J-Y)*this.scale;if(J<=X.bottom)return X.domTop+(J-X.top);Y=X.bottom,q=X.domBottom}}fromDOM(J){for(let Z=0,Y=0,q=0;;Z++){let X=Z<this.viewports.length?this.viewports[Z]:null;if(!X||J<X.domTop)return Y+(J-q)/this.scale;if(J<=X.domBottom)return X.top+(J-X.domTop);Y=X.bottom,q=X.domBottom}}eq(J){if(!(J instanceof kZ))return!1;return this.scale==J.scale&&this.viewports.length==J.viewports.length&&this.viewports.every((Z,Y)=>Z.from==J.viewports[Y].from&&Z.to==J.viewports[Y].to)}}function I3(J,Z){if(Z.scale==1)return J;let Y=Z.toDOM(J.top),q=Z.toDOM(J.bottom);return new s1(J.from,J.length,Y,q-Y,Array.isArray(J._content)?J._content.map((X)=>I3(X,Z)):J._content)}var H9=b.define({combine:(J)=>J.join(" ")}),OZ=b.define({combine:(J)=>J.indexOf(!0)>-1}),_Z=n1.newName(),T$=n1.newName(),y$=n1.newName(),b$={"&light":"."+T$,"&dark":"."+y$};function HZ(J,Z,Y){return new n1(Z,{finish(q){return/&/.test(q)?q.replace(/&\w*/,(X)=>{if(X=="&")return J;if(!Y||!Y[X])throw RangeError(`Unsupported selector: ${X}`);return Y[X]}):J+" "+q}})}var YA=HZ("."+_Z,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},b$),qA={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},i2=v.ie&&v.ie_version<=11;class S${constructor(J){if(this.view=J,this.active=!1,this.editContext=null,this.selectionRange=new CK,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=J.contentDOM,this.observer=new MutationObserver((Z)=>{for(let Y of Z)this.queue.push(Y);if((v.ie&&v.ie_version<=11||v.ios&&J.composing)&&Z.some((Y)=>Y.type=="childList"&&Y.removedNodes.length||Y.type=="characterData"&&Y.oldValue.length>Y.target.nodeValue.length))this.flushSoon();else this.flush()}),window.EditContext&&v.android&&J.constructor.EDIT_CONTEXT!==!1&&!(v.chrome&&v.chrome_version<126)){if(this.editContext=new k$(J),J.state.facet(y5))J.contentDOM.editContext=this.editContext.editContext}if(i2)this.onCharData=(Z)=>{this.queue.push({target:Z.target,type:"characterData",oldValue:Z.prevValue}),this.flushSoon()};if(this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia)this.printQuery=window.matchMedia("print");if(typeof ResizeObserver=="function")this.resizeScroll=new ResizeObserver(()=>{var Z;if(((Z=this.view.docView)===null||Z===void 0?void 0:Z.lastUpdate)<Date.now()-75)this.onResize()}),this.resizeScroll.observe(J.scrollDOM);if(this.addWindowListeners(this.win=J.win),this.start(),typeof IntersectionObserver=="function")this.intersection=new IntersectionObserver((Z)=>{if(this.parentCheck<0)this.parentCheck=setTimeout(this.listenForScroll.bind(this),1000);if(Z.length>0&&Z[Z.length-1].intersectionRatio>0!=this.intersecting){if(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView)this.onScrollChanged(document.createEvent("Event"))}},{threshold:[0,0.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver((Z)=>{if(Z.length>0&&Z[Z.length-1].intersectionRatio>0)this.onScrollChanged(document.createEvent("Event"))},{});this.listenForScroll(),this.readSelectionRange()}onScrollChanged(J){if(this.view.inputState.runHandlers("scroll",J),this.intersecting)this.view.measure()}onScroll(J){if(this.intersecting)this.flush(!1);if(this.editContext)this.view.requestMeasure(this.editContext.measureReq);this.onScrollChanged(J)}onResize(){if(this.resizeTimeout<0)this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50)}onPrint(J){if((J.type=="change"||!J.type)&&!J.matches)return;this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(J){if(this.gapIntersection&&(J.length!=this.gaps.length||this.gaps.some((Z,Y)=>Z!=J[Y]))){this.gapIntersection.disconnect();for(let Z of J)this.gapIntersection.observe(Z);this.gaps=J}}onSelectionChange(J){let Z=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:Y}=this,q=this.selectionRange;if(Y.state.facet(y5)?Y.root.activeElement!=this.dom:!F9(this.dom,q))return;let X=q.anchorNode&&Y.docView.tile.nearest(q.anchorNode);if(X&&X.isWidget()&&X.widget.ignoreEvent(J)){if(!Z)this.selectionChanged=!1;return}if((v.ie&&v.ie_version<=11||v.android&&v.chrome)&&!Y.state.selection.main.empty&&q.focusNode&&B3(q.focusNode,q.focusOffset,q.anchorNode,q.anchorOffset))this.flushSoon();else this.flush(!1)}readSelectionRange(){let{view:J}=this,Z=T3(J.root);if(!Z)return!1;let Y=v.safari&&J.root.nodeType==11&&J.root.activeElement==this.dom&&XA(this.view,Z)||Z;if(!Y||this.selectionRange.eq(Y))return!1;let q=F9(this.dom,Y);if(q&&!this.selectionChanged&&J.inputState.lastFocusTime>Date.now()-200&&J.inputState.lastTouchTime<Date.now()-300&&eN(this.dom,Y))return this.view.inputState.lastFocusTime=0,J.docView.updateSelection(),!1;if(this.selectionRange.setRange(Y),q)this.selectionChanged=!0;return!0}setSelectionRange(J,Z){this.selectionRange.set(J.node,J.offset,Z.node,Z.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let J=0,Z=null;for(let Y=this.dom;Y;)if(Y.nodeType==1){if(!Z&&J<this.scrollTargets.length&&this.scrollTargets[J]==Y)J++;else if(!Z)Z=this.scrollTargets.slice(0,J);if(Z)Z.push(Y);Y=Y.assignedSlot||Y.parentNode}else if(Y.nodeType==11)Y=Y.host;else break;if(J<this.scrollTargets.length&&!Z)Z=this.scrollTargets.slice(0,J);if(Z){for(let Y of this.scrollTargets)Y.removeEventListener("scroll",this.onScroll);for(let Y of this.scrollTargets=Z)Y.addEventListener("scroll",this.onScroll)}}ignore(J){if(!this.active)return J();try{return this.stop(),J()}finally{this.start(),this.clear()}}start(){if(this.active)return;if(this.observer.observe(this.dom,qA),i2)this.dom.addEventListener("DOMCharacterDataModified",this.onCharData);this.active=!0}stop(){if(!this.active)return;if(this.active=!1,this.observer.disconnect(),i2)this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData)}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(J,Z){var Y;if(!this.delayedAndroidKey){let q=()=>{let X=this.delayedAndroidKey;if(X){if(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=X.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&X.force)A4(this.dom,X.key,X.keyCode)}};this.flushingAndroidKey=this.view.win.requestAnimationFrame(q)}if(!this.delayedAndroidKey||J=="Enter")this.delayedAndroidKey={key:J,keyCode:Z,force:this.lastChange<Date.now()-50||!!((Y=this.delayedAndroidKey)===null||Y===void 0?void 0:Y.force)}}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){if(this.delayedFlush<0)this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()})}forceFlush(){if(this.delayedFlush>=0)this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1;this.flush()}pendingRecords(){for(let J of this.observer.takeRecords())this.queue.push(J);return this.queue}processRecords(){let J=this.pendingRecords();if(J.length)this.queue=[];let Z=-1,Y=-1,q=!1;for(let X of J){let Q=this.readMutation(X);if(!Q)continue;if(Q.typeOver)q=!0;if(Z==-1)({from:Z,to:Y}=Q);else Z=Math.min(Q.from,Z),Y=Math.max(Q.to,Y)}return{from:Z,to:Y,typeOver:q}}readChange(){let{from:J,to:Z,typeOver:Y}=this.processRecords(),q=this.selectionChanged&&F9(this.dom,this.selectionRange);if(J<0&&!q)return null;if(J>-1)this.lastChange=Date.now();this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let X=new j$(this.view,J,Z,Y);return this.view.docView.domChanged={newSel:X.newSel?X.newSel.main:null},X}flush(J=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;if(J)this.readSelectionRange();let Z=this.readChange();if(!Z)return this.view.requestMeasure(),!1;let Y=this.view.state,q=z$(this.view,Z);if(this.view.state==Y&&(Z.domChanged||Z.newSel&&!Z.newSel.main.eq(this.view.state.selection.main)))this.view.update([]);return q}readMutation(J){let Z=this.view.docView.tile.nearest(J.target);if(!Z||Z.isWidget())return null;if(Z.markDirty(J.type=="attributes"),J.type=="childList"){let Y=WK(Z,J.previousSibling||J.target.previousSibling,-1),q=WK(Z,J.nextSibling||J.target.nextSibling,1);return{from:Y?Z.posAfter(Y):Z.posAtStart,to:q?Z.posBefore(q):Z.posAtEnd,typeOver:!1}}else if(J.type=="characterData")return{from:Z.posAtStart,to:Z.posAtEnd,typeOver:J.target.nodeValue==J.oldValue};else return null}setWindow(J){if(J!=this.win)this.removeWindowListeners(this.win),this.win=J,this.addWindowListeners(this.win)}addWindowListeners(J){if(J.addEventListener("resize",this.onResize),this.printQuery)if(this.printQuery.addEventListener)this.printQuery.addEventListener("change",this.onPrint);else this.printQuery.addListener(this.onPrint);else J.addEventListener("beforeprint",this.onPrint);J.addEventListener("scroll",this.onScroll),J.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(J){if(J.removeEventListener("scroll",this.onScroll),J.removeEventListener("resize",this.onResize),this.printQuery)if(this.printQuery.removeEventListener)this.printQuery.removeEventListener("change",this.onPrint);else this.printQuery.removeListener(this.onPrint);else J.removeEventListener("beforeprint",this.onPrint);J.document.removeEventListener("selectionchange",this.onSelectionChange)}update(J){if(this.editContext){if(this.editContext.update(J),J.startState.facet(y5)!=J.state.facet(y5))J.view.contentDOM.editContext=J.state.facet(y5)?this.editContext.editContext:null}}destroy(){var J,Z,Y;this.stop(),(J=this.intersection)===null||J===void 0||J.disconnect(),(Z=this.gapIntersection)===null||Z===void 0||Z.disconnect(),(Y=this.resizeScroll)===null||Y===void 0||Y.disconnect();for(let q of this.scrollTargets)q.removeEventListener("scroll",this.onScroll);if(this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext)this.view.contentDOM.editContext=null,this.editContext.destroy()}}function WK(J,Z,Y){while(Z){let q=S0.get(Z);if(q&&q.parent==J)return q;let X=Z.parentNode;Z=X!=J.dom?X:Y>0?Z.nextSibling:Z.previousSibling}return null}function jK(J,Z){let{startContainer:Y,startOffset:q,endContainer:X,endOffset:Q}=Z,K=J.docView.domAtPos(J.state.selection.main.anchor,1);if(B3(K.node,K.offset,X,Q))[Y,q,X,Q]=[X,Q,Y,q];return{anchorNode:Y,anchorOffset:q,focusNode:X,focusOffset:Q}}function XA(J,Z){if(Z.getComposedRanges){let X=Z.getComposedRanges(J.root)[0];if(X)return jK(J,X)}let Y=null;function q(X){X.preventDefault(),X.stopImmediatePropagation(),Y=X.getTargetRanges()[0]}return J.contentDOM.addEventListener("beforeinput",q,!0),J.dom.ownerDocument.execCommand("indent"),J.contentDOM.removeEventListener("beforeinput",q,!0),Y?jK(J,Y):null}class k${constructor(J){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(J.state);let Z=this.editContext=new window.EditContext({text:J.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,J.state.selection.main.anchor))),selectionEnd:this.toContextPos(J.state.selection.main.head)});this.handlers.textupdate=(Y)=>{let q=J.state.selection.main,{anchor:X,head:Q}=q,K=this.toEditorPos(Y.updateRangeStart),$=this.toEditorPos(Y.updateRangeEnd);if(J.inputState.composing>=0&&!this.composing)this.composing={contextBase:Y.updateRangeStart,editorBase:K,drifted:!1};let U=$-K>Y.text.length;if(K==this.from&&X<this.from)K=X;else if($==this.to&&X>this.to)$=X;let j=O$(J.state.sliceDoc(K,$),Y.text,(U?q.from:q.to)-K,U?"end":null);if(!j){let G=L.single(this.toEditorPos(Y.selectionStart),this.toEditorPos(Y.selectionEnd));if(!G.main.eq(q))J.dispatch({selection:G,userEvent:"select"});return}let W={from:j.from+K,to:j.toA+K,insert:e.of(Y.text.slice(j.from,j.toB).split(`
`))};if((v.mac||v.android)&&W.from==Q-1&&/^\. ?$/.test(Y.text)&&J.contentDOM.getAttribute("autocorrect")=="off")W={from:K,to:$,insert:e.of([Y.text.replace("."," ")])};if(this.pendingContextChange=W,!J.state.readOnly){let G=this.to-this.from+(W.to-W.from+W.insert.length);yZ(J,W,L.single(this.toEditorPos(Y.selectionStart,G),this.toEditorPos(Y.selectionEnd,G)))}if(this.pendingContextChange)this.revertPending(J.state),this.setSelection(J.state);if(W.from<W.to&&!W.insert.length&&J.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(Z.text.slice(Math.max(0,Y.updateRangeStart-1),Math.min(Z.text.length,Y.updateRangeStart+1))))this.handlers.compositionend(Y)},this.handlers.characterboundsupdate=(Y)=>{let q=[],X=null;for(let Q=this.toEditorPos(Y.rangeStart),K=this.toEditorPos(Y.rangeEnd);Q<K;Q++){let $=J.coordsForChar(Q);X=$&&new DOMRect($.left,$.top,$.right-$.left,$.bottom-$.top)||X||new DOMRect,q.push(X)}Z.updateCharacterBounds(Y.rangeStart,q)},this.handlers.textformatupdate=(Y)=>{let q=[];for(let X of Y.getTextFormats()){let{underlineStyle:Q,underlineThickness:K}=X;if(!/none/i.test(Q)&&!/none/i.test(K)){let $=this.toEditorPos(X.rangeStart),U=this.toEditorPos(X.rangeEnd);if($<U){let j=`text-decoration: underline ${/^[a-z]/.test(Q)?Q+" ":Q=="Dashed"?"dashed ":Q=="Squiggle"?"wavy ":""}${/thin/i.test(K)?1:2}px`;q.push(f.mark({attributes:{style:j}}).range($,U))}}}J.dispatch({effects:iK.of(f.set(q))})},this.handlers.compositionstart=()=>{if(J.inputState.composing<0)J.inputState.composing=0,J.inputState.compositionFirstChange=!0},this.handlers.compositionend=()=>{if(J.inputState.composing=-1,J.inputState.compositionFirstChange=null,this.composing){let{drifted:Y}=this.composing;if(this.composing=null,Y)this.reset(J.state)}};for(let Y in this.handlers)Z.addEventListener(Y,this.handlers[Y]);this.measureReq={read:(Y)=>{this.editContext.updateControlBounds(Y.contentDOM.getBoundingClientRect());let q=T3(Y.root);if(q&&q.rangeCount)this.editContext.updateSelectionBounds(q.getRangeAt(0).getBoundingClientRect())}}}applyEdits(J){let Z=0,Y=!1,q=this.pendingContextChange;if(J.changes.iterChanges((X,Q,K,$,U)=>{if(Y)return;let j=U.length-(Q-X);if(q&&Q>=q.to)if(q.from==X&&q.to==Q&&q.insert.eq(U)){q=this.pendingContextChange=null,Z+=j,this.to+=j;return}else q=null,this.revertPending(J.state);if(X+=Z,Q+=Z,Q<=this.from)this.from+=j,this.to+=j;else if(X<this.to){if(X<this.from||Q>this.to||this.to-this.from+U.length>30000){Y=!0;return}this.editContext.updateText(this.toContextPos(X),this.toContextPos(Q),U.toString()),this.to+=j}Z+=j}),q&&!Y)this.revertPending(J.state);return!Y}update(J){let Z=this.pendingContextChange,Y=J.startState.selection.main;if(this.composing&&(this.composing.drifted||!J.changes.touchesRange(Y.from,Y.to)&&J.transactions.some((q)=>!q.isUserEvent("input.type")&&q.changes.touchesRange(this.from,this.to))))this.composing.drifted=!0,this.composing.editorBase=J.changes.mapPos(this.composing.editorBase);else if(!this.applyEdits(J)||!this.rangeIsValid(J.state))this.pendingContextChange=null,this.reset(J.state);else if(J.docChanged||J.selectionSet||Z)this.setSelection(J.state);if(J.geometryChanged||J.docChanged||J.selectionSet)J.view.requestMeasure(this.measureReq)}resetRange(J){let{head:Z}=J.selection.main;this.from=Math.max(0,Z-1e4),this.to=Math.min(J.doc.length,Z+1e4)}reset(J){this.resetRange(J),this.editContext.updateText(0,this.editContext.text.length,J.doc.sliceString(this.from,this.to)),this.setSelection(J)}revertPending(J){let Z=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(Z.from),this.toContextPos(Z.from+Z.insert.length),J.doc.sliceString(Z.from,Z.to))}setSelection(J){let{main:Z}=J.selection,Y=this.toContextPos(Math.max(this.from,Math.min(this.to,Z.anchor))),q=this.toContextPos(Z.head);if(this.editContext.selectionStart!=Y||this.editContext.selectionEnd!=q)this.editContext.updateSelection(Y,q)}rangeIsValid(J){let{head:Z}=J.selection.main;return!(this.from>0&&Z-this.from<500||this.to<J.doc.length&&this.to-Z<500||this.to-this.from>30000)}toEditorPos(J,Z=this.to-this.from){J=Math.min(J,Z);let Y=this.composing;return Y&&Y.drifted?Y.editorBase+(J-Y.contextBase):J+this.from}toContextPos(J){let Z=this.composing;return Z&&Z.drifted?Z.contextBase+(J-Z.editorBase):J-this.from}destroy(){for(let J in this.handlers)this.editContext.removeEventListener(J,this.handlers[J])}}class C{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(J={}){var Z;if(this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),J.parent)J.parent.appendChild(this.dom);let{dispatch:Y}=J;if(this.dispatchTransactions=J.dispatchTransactions||Y&&((q)=>q.forEach((X)=>Y(X,this)))||((q)=>this.update(q)),this.dispatch=this.dispatch.bind(this),this._root=J.root||tN(J.parent)||document,this.viewState=new zZ(J.state||o.create(J)),J.scrollTo&&J.scrollTo.is(j9))this.viewState.scrollTarget=J.scrollTo.value.clip(this.viewState.state);this.plugins=this.state.facet(H4).map((q)=>new V9(q));for(let q of this.plugins)q.update(this);if(this.observer=new S$(this),this.inputState=new _$(this),this.inputState.ensureHandlers(this.plugins),this.docView=new KZ(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),(Z=document.fonts)===null||Z===void 0?void 0:Z.ready)document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...J){let Z=J.length==1&&J[0]instanceof L0?J:J.length==1&&Array.isArray(J[0])?J[0]:[this.state.update(...J)];this.dispatchTransactions(Z,this)}update(J){if(this.updateState!=0)throw Error("Calls to EditorView.update are not allowed while an update is in progress");let Z=!1,Y=!1,q,X=this.state;for(let G of J){if(G.startState!=X)throw RangeError("Trying to update state with a transaction that doesn't start from the previous state.");X=G.state}if(this.destroyed){this.viewState.state=X;return}let Q=this.hasFocus,K=0,$=null;if(J.some((G)=>G.annotation(V$)))this.inputState.notifiedFocused=Q,K=1;else if(Q!=this.inputState.notifiedFocused){if(this.inputState.notifiedFocused=Q,$=I$(X,Q),!$)K=1}let U=this.observer.delayedAndroidKey,j=null;if(U){if(this.observer.clearDelayedAndroidKey(),j=this.observer.readChange(),j&&!this.state.doc.eq(X.doc)||!this.state.selection.eq(X.selection))j=null}else this.observer.clear();if(X.facet(o.phrases)!=this.state.facet(o.phrases))return this.setState(X);q=S9.create(this,X,J),q.flags|=K;let W=this.viewState.scrollTarget;try{this.updateState=2;for(let G of J){if(W)W=W.map(G.changes);if(G.scrollIntoView){let{main:z}=G.state.selection;W=new F4(z.empty?z:L.cursor(z.head,z.head>z.anchor?-1:1))}for(let z of G.effects)if(z.is(j9))W=z.value.clip(this.state)}if(this.viewState.update(q,W),this.bidiCache=x9.update(this.bidiCache,q.changes),!q.empty)this.updatePlugins(q),this.inputState.update(q);if(Z=this.docView.update(q),this.state.facet(F3)!=this.styleModules)this.mountStyles();Y=this.updateAttrs(),this.showAnnouncements(J),this.docView.updateSelection(Z,J.some((G)=>G.isUserEvent("select.pointer")))}finally{this.updateState=0}if(q.startState.facet(H9)!=q.state.facet(H9))this.viewState.mustMeasureContent=!0;if(Z||Y||W||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)this.requestMeasure();if(Z)this.docViewUpdate();if(!q.empty)for(let G of this.state.facet(QZ))try{G(q)}catch(z){l0(this.state,z,"update listener")}if($||j)Promise.resolve().then(()=>{if($&&this.state==$.startState)this.dispatch($);if(j){if(!z$(this,j)&&U.force)A4(this.contentDOM,U.key,U.keyCode)}})}setState(J){if(this.updateState!=0)throw Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=J;return}this.updateState=2;let Z=this.hasFocus;try{for(let Y of this.plugins)Y.destroy(this);this.viewState=new zZ(J),this.plugins=J.facet(H4).map((Y)=>new V9(Y)),this.pluginMap.clear();for(let Y of this.plugins)Y.update(this);this.docView.destroy(),this.docView=new KZ(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}if(Z)this.focus();this.requestMeasure()}updatePlugins(J){let Z=J.startState.facet(H4),Y=J.state.facet(H4);if(Z!=Y){let q=[];for(let X of Y){let Q=Z.indexOf(X);if(Q<0)q.push(new V9(X));else{let K=this.plugins[Q];K.mustUpdate=J,q.push(K)}}for(let X of this.plugins)if(X.mustUpdate!=J)X.destroy(this);this.plugins=q,this.pluginMap.clear()}else for(let q of this.plugins)q.mustUpdate=J;for(let q=0;q<this.plugins.length;q++)this.plugins[q].update(this);if(Z!=Y)this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let J of this.plugins){let Z=J.value;if(Z&&Z.docViewUpdate)try{Z.docViewUpdate(this)}catch(Y){l0(this.state,Y,"doc view update listener")}}}measure(J=!0){if(this.destroyed)return;if(this.measureScheduled>-1)this.win.cancelAnimationFrame(this.measureScheduled);if(this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}if(this.measureScheduled=0,J)this.observer.forceFlush();let Z=null,Y=this.scrollDOM,q=Y.scrollTop*this.scaleY,{scrollAnchorPos:X,scrollAnchorHeight:Q}=this.viewState;if(Math.abs(q-this.viewState.scrollTop)>1)Q=-1;this.viewState.scrollAnchorHeight=-1;try{for(let K=0;;K++){if(Q<0)if(yK(Y))X=-1,Q=this.viewState.heightMap.height;else{let z=this.viewState.scrollAnchorAt(q);X=z.from,Q=z.top}this.updateState=1;let $=this.viewState.measure(this);if(!$&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(K>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let U=[];if(!($&4))[this.measureRequests,U]=[U,this.measureRequests];let j=U.map((z)=>{try{return z.read(this)}catch(O){return l0(this.state,O),GK}}),W=S9.create(this,this.state,[]),G=!1;if(W.flags|=$,!Z)Z=W;else Z.flags|=$;if(this.updateState=2,!W.empty){if(this.updatePlugins(W),this.inputState.update(W),this.updateAttrs(),G=this.docView.update(W),G)this.docViewUpdate()}for(let z=0;z<U.length;z++)if(j[z]!=GK)try{let O=U[z];if(O.write)O.write(j[z],this)}catch(O){l0(this.state,O)}if(G)this.docView.updateSelection(!0);if(!W.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,Q=-1;continue}else{let O=(X<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(X).top)-Q;if(O>1||O<-1){q=q+O,Y.scrollTop=q/this.scaleY,Q=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(Z&&!Z.empty)for(let K of this.state.facet(QZ))K(Z)}get themeClasses(){return _Z+" "+(this.state.facet(OZ)?y$:T$)+" "+this.state.facet(H9)}updateAttrs(){let J=zK(this,sK,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),Z={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:!this.state.facet(y5)?"false":"true",class:"cm-content",style:`${v.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};if(this.state.readOnly)Z["aria-readonly"]="true";zK(this,EZ,Z);let Y=this.observer.ignore(()=>{let q=pQ(this.contentDOM,this.contentAttrs,Z),X=pQ(this.dom,this.editorAttrs,J);return q||X});return this.editorAttrs=J,this.contentAttrs=Z,Y}showAnnouncements(J){let Z=!0;for(let Y of J)for(let q of Y.effects)if(q.is(C.announce)){if(Z)this.announceDOM.textContent="";Z=!1;let X=this.announceDOM.appendChild(document.createElement("div"));X.textContent=q.value}}mountStyles(){this.styleModules=this.state.facet(F3);let J=this.state.facet(C.cspNonce);n1.mount(this.root,this.styleModules.concat(YA).reverse(),J?{nonce:J}:void 0)}readMeasured(){if(this.updateState==2)throw Error("Reading the editor layout isn't allowed during an update");if(this.updateState==0&&this.measureScheduled>-1)this.measure(!1)}requestMeasure(J){if(this.measureScheduled<0)this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure());if(J){if(this.measureRequests.indexOf(J)>-1)return;if(J.key!=null){for(let Z=0;Z<this.measureRequests.length;Z++)if(this.measureRequests[Z].key===J.key){this.measureRequests[Z]=J;return}}this.measureRequests.push(J)}}plugin(J){let Z=this.pluginMap.get(J);if(Z===void 0||Z&&Z.plugin!=J)this.pluginMap.set(J,Z=this.plugins.find((Y)=>Y.plugin==J)||null);return Z&&Z.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(J){return this.readMeasured(),this.viewState.elementAtHeight(J)}lineBlockAtHeight(J){return this.readMeasured(),this.viewState.lineBlockAtHeight(J)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(J){return this.viewState.lineBlockAt(J)}get contentHeight(){return this.viewState.contentHeight}moveByChar(J,Z,Y){return n2(this,J,aQ(this,J,Z,Y))}moveByGroup(J,Z){return n2(this,J,aQ(this,J,Z,(Y)=>ER(this,J.head,Y)))}visualLineSide(J,Z){let Y=this.bidiSpans(J),q=this.textDirectionAt(J.from),X=Y[Z?Y.length-1:0];return L.cursor(X.side(Z,q)+J.from,X.forward(!Z,q)?1:-1)}moveToLineBoundary(J,Z,Y=!0){return PR(this,J,Z,Y)}moveVertically(J,Z,Y){return n2(this,J,CR(this,J,Z,Y))}domAtPos(J,Z=1){return this.docView.domAtPos(J,Z)}posAtDOM(J,Z=0){return this.docView.posFromDOM(J,Z)}posAtCoords(J,Z=!0){this.readMeasured();let Y=WZ(this,J,Z);return Y&&Y.pos}posAndSideAtCoords(J,Z=!0){return this.readMeasured(),WZ(this,J,Z)}coordsAtPos(J,Z=1){this.readMeasured();let Y=this.docView.coordsAt(J,Z);if(!Y||Y.left==Y.right)return Y;let q=this.state.doc.lineAt(J),X=this.bidiSpans(q),Q=X[G5.find(X,J-q.from,-1,Z)];return b9(Y,Q.dir==W0.LTR==Z>0)}coordsForChar(J){return this.readMeasured(),this.docView.coordsForChar(J)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(J){if(!this.state.facet(dK)||J<this.viewport.from||J>this.viewport.to)return this.textDirection;return this.readMeasured(),this.docView.textDirectionAt(J)}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(J){if(J.length>QA)return hK(J.length);let Z=this.textDirectionAt(J.from),Y;for(let X of this.bidiCache)if(X.from==J.from&&X.dir==Z&&(X.fresh||xK(X.isolates,Y=nQ(this,J))))return X.order;if(!Y)Y=nQ(this,J);let q=KR(J.text,Z,Y);return this.bidiCache.push(new x9(J.from,J.to,Z,Y,!0,q)),q}get hasFocus(){var J;return(this.dom.ownerDocument.hasFocus()||v.safari&&((J=this.inputState)===null||J===void 0?void 0:J.lastContextMenu)>Date.now()-30000)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{TK(this.contentDOM),this.docView.updateSelection()})}setRoot(J){if(this._root!=J)this._root=J,this.observer.setWindow((J.nodeType==9?J:J.ownerDocument).defaultView||window),this.mountStyles()}destroy(){if(this.root.activeElement==this.contentDOM)this.contentDOM.blur();for(let J of this.plugins)J.destroy(this);if(this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1)this.win.cancelAnimationFrame(this.measureScheduled);this.destroyed=!0}static scrollIntoView(J,Z={}){return j9.of(new F4(typeof J=="number"?L.cursor(J):J,Z.y,Z.x,Z.yMargin,Z.xMargin))}scrollSnapshot(){let{scrollTop:J,scrollLeft:Z}=this.scrollDOM,Y=this.viewState.scrollAnchorAt(J);return j9.of(new F4(L.cursor(Y.from),"start","start",Y.top-J,Z,!0))}setTabFocusMode(J){if(J==null)this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1;else if(typeof J=="boolean")this.inputState.tabFocusMode=J?0:-1;else if(this.inputState.tabFocusMode!=0)this.inputState.tabFocusMode=Date.now()+J}static domEventHandlers(J){return N0.define(()=>({}),{eventHandlers:J})}static domEventObservers(J){return N0.define(()=>({}),{eventObservers:J})}static theme(J,Z){let Y=n1.newName(),q=[H9.of(Y),F3.of(HZ(`.${Y}`,J))];if(Z&&Z.dark)q.push(OZ.of(!0));return q}static baseTheme(J){return B1.lowest(F3.of(HZ("."+_Z,J,b$)))}static findFromDOM(J){var Z;let Y=J.querySelector(".cm-content"),q=Y&&S0.get(Y)||S0.get(J);return((Z=q===null||q===void 0?void 0:q.root)===null||Z===void 0?void 0:Z.view)||null}}C.styleModule=F3;C.inputHandler=lK;C.clipboardInputFilter=BZ;C.clipboardOutputFilter=PZ;C.scrollHandler=nK;C.focusChangeEffect=pK;C.perLineTextDirection=dK;C.exceptionSink=fK;C.updateListener=QZ;C.editable=y5;C.mouseSelectionStyle=gK;C.dragMovesSelection=mK;C.clickAddsSelectionRange=uK;C.decorations=u9;C.blockWrappers=aK;C.outerDecorations=CZ;C.atomicRanges=x3;C.bidiIsolatedRanges=rK;C.scrollMargins=oK;C.darkTheme=OZ;C.cspNonce=b.define({combine:(J)=>J.length?J[0]:""});C.contentAttributes=EZ;C.editorAttributes=sK;C.lineWrapping=C.contentAttributes.of({class:"cm-lineWrapping"});C.announce=p.define();var QA=4096,GK={};class x9{constructor(J,Z,Y,q,X,Q){this.from=J,this.to=Z,this.dir=Y,this.isolates=q,this.fresh=X,this.order=Q}static update(J,Z){if(Z.empty&&!J.some((X)=>X.fresh))return J;let Y=[],q=J.length?J[J.length-1].dir:W0.LTR;for(let X=Math.max(0,J.length-10);X<J.length;X++){let Q=J[X];if(Q.dir==q&&!Z.touchesRange(Q.from,Q.to))Y.push(new x9(Z.mapPos(Q.from,1),Z.mapPos(Q.to,-1),Q.dir,Q.isolates,!1,Q.order))}return Y}}function zK(J,Z,Y){for(let q=J.state.facet(Z),X=q.length-1;X>=0;X--){let Q=q[X],K=typeof Q=="function"?Q(J):Q;if(K)IZ(K,Y)}return Y}var KA=v.mac?"mac":v.windows?"win":v.linux?"linux":"key";function $A(J,Z){let Y=J.split(/-(?!$)/),q=Y[Y.length-1];if(q=="Space")q=" ";let X,Q,K,$;for(let U=0;U<Y.length-1;++U){let j=Y[U];if(/^(cmd|meta|m)$/i.test(j))$=!0;else if(/^a(lt)?$/i.test(j))X=!0;else if(/^(c|ctrl|control)$/i.test(j))Q=!0;else if(/^s(hift)?$/i.test(j))K=!0;else if(/^mod$/i.test(j))if(Z=="mac")$=!0;else Q=!0;else throw Error("Unrecognized modifier name: "+j)}if(X)q="Alt-"+q;if(Q)q="Ctrl-"+q;if($)q="Meta-"+q;if(K)q="Shift-"+q;return q}function N9(J,Z,Y){if(Z.altKey)J="Alt-"+J;if(Z.ctrlKey)J="Ctrl-"+J;if(Z.metaKey)J="Meta-"+J;if(Y!==!1&&Z.shiftKey)J="Shift-"+J;return J}var UA=B1.default(C.domEventHandlers({keydown(J,Z){return h$(w$(Z.state),J,Z,"editor")}})),I4=b.define({enables:UA}),OK=new WeakMap;function w$(J){let Z=J.facet(I4),Y=OK.get(Z);if(!Y)OK.set(Z,Y=jA(Z.reduce((q,X)=>q.concat(X),[])));return Y}function x$(J,Z,Y){return h$(w$(J.state),Z,J,Y)}var c5=null,WA=4000;function jA(J,Z=KA){let Y=Object.create(null),q=Object.create(null),X=(K,$)=>{let U=q[K];if(U==null)q[K]=$;else if(U!=$)throw Error("Key binding "+K+" is used both as a regular binding and as a multi-stroke prefix")},Q=(K,$,U,j,W)=>{var G,z;let O=Y[K]||(Y[K]=Object.create(null)),_=$.split(/ (?!$)/).map((M)=>$A(M,Z));for(let M=1;M<_.length;M++){let V=_.slice(0,M).join(" ");if(X(V,!0),!O[V])O[V]={preventDefault:!0,stopPropagation:!1,run:[(D)=>{let P=c5={view:D,prefix:V,scope:K};return setTimeout(()=>{if(c5==P)c5=null},WA),!0}]}}let N=_.join(" ");X(N,!1);let A=O[N]||(O[N]={preventDefault:!1,stopPropagation:!1,run:((z=(G=O._any)===null||G===void 0?void 0:G.run)===null||z===void 0?void 0:z.slice())||[]});if(U)A.run.push(U);if(j)A.preventDefault=!0;if(W)A.stopPropagation=!0};for(let K of J){let $=K.scope?K.scope.split(" "):["editor"];if(K.any)for(let j of $){let W=Y[j]||(Y[j]=Object.create(null));if(!W._any)W._any={preventDefault:!1,stopPropagation:!1,run:[]};let{any:G}=K;for(let z in W)W[z].run.push((O)=>G(O,NZ))}let U=K[Z]||K.key;if(!U)continue;for(let j of $)if(Q(j,U,K.run,K.preventDefault,K.stopPropagation),K.shift)Q(j,"Shift-"+U,K.shift,K.preventDefault,K.stopPropagation)}return Y}var NZ=null;function h$(J,Z,Y,q){NZ=Z;let X=uQ(Z),Q=g0(X,0),K=N1(Q)==X.length&&X!=" ",$="",U=!1,j=!1,W=!1;if(c5&&c5.view==Y&&c5.scope==q){if($=c5.prefix+" ",N$.indexOf(Z.keyCode)<0)j=!0,c5=null}let G=new Set,z=(A)=>{if(A){for(let M of A.run)if(!G.has(M)){if(G.add(M),M(Y)){if(A.stopPropagation)W=!0;return!0}}if(A.preventDefault){if(A.stopPropagation)W=!0;j=!0}}return!1},O=J[q],_,N;if(O){if(z(O[$+N9(X,Z,!K)]))U=!0;else if(K&&(Z.altKey||Z.metaKey||Z.ctrlKey)&&!(v.windows&&Z.ctrlKey&&Z.altKey)&&!(v.mac&&Z.altKey&&!(Z.ctrlKey||Z.metaKey))&&(_=T5[Z.keyCode])&&_!=X){if(z(O[$+N9(_,Z,!0)]))U=!0;else if(Z.shiftKey&&(N=_4[Z.keyCode])!=X&&N!=_&&z(O[$+N9(N,Z,!1)]))U=!0}else if(K&&Z.shiftKey&&z(O[$+N9(X,Z,!0)]))U=!0;if(!U&&z(O._any))U=!0}if(j)U=!0;if(U&&W)Z.stopPropagation();return NZ=null,U}class u3{constructor(J,Z,Y,q,X){this.className=J,this.left=Z,this.top=Y,this.width=q,this.height=X}draw(){let J=document.createElement("div");return J.className=this.className,this.adjust(J),J}update(J,Z){if(Z.className!=this.className)return!1;return this.adjust(J),!0}adjust(J){if(J.style.left=this.left+"px",J.style.top=this.top+"px",this.width!=null)J.style.width=this.width+"px";J.style.height=this.height+"px"}eq(J){return this.left==J.left&&this.top==J.top&&this.width==J.width&&this.height==J.height&&this.className==J.className}static forRange(J,Z,Y){if(Y.empty){let q=J.coordsAtPos(Y.head,Y.assoc||1);if(!q)return[];let X=v$(J);return[new u3(Z,q.left-X.left,q.top-X.top,null,q.bottom-q.top)]}else return GA(J,Z,Y)}}function v$(J){let Z=J.scrollDOM.getBoundingClientRect();return{left:(J.textDirection==W0.LTR?Z.left:Z.right-J.scrollDOM.clientWidth*J.scaleX)-J.scrollDOM.scrollLeft*J.scaleX,top:Z.top-J.scrollDOM.scrollTop*J.scaleY}}function _K(J,Z,Y,q){let X=J.coordsAtPos(Z,Y*2);if(!X)return q;let Q=J.dom.getBoundingClientRect(),K=(X.top+X.bottom)/2,$=J.posAtCoords({x:Q.left+1,y:K}),U=J.posAtCoords({x:Q.right-1,y:K});if($==null||U==null)return q;return{from:Math.max(q.from,Math.min($,U)),to:Math.min(q.to,Math.max($,U))}}function GA(J,Z,Y){if(Y.to<=J.viewport.from||Y.from>=J.viewport.to)return[];let q=Math.max(Y.from,J.viewport.from),X=Math.min(Y.to,J.viewport.to),Q=J.textDirection==W0.LTR,K=J.contentDOM,$=K.getBoundingClientRect(),U=v$(J),j=K.querySelector(".cm-line"),W=j&&window.getComputedStyle(j),G=$.left+(W?parseInt(W.paddingLeft)+Math.min(0,parseInt(W.textIndent)):0),z=$.right-(W?parseInt(W.paddingRight):0),O=UZ(J,q,1),_=UZ(J,X,-1),N=O.type==p0.Text?O:null,A=_.type==p0.Text?_:null;if(N&&(J.lineWrapping||O.widgetLineBreaks))N=_K(J,q,1,N);if(A&&(J.lineWrapping||_.widgetLineBreaks))A=_K(J,X,-1,A);if(N&&A&&N.from==A.from&&N.to==A.to)return V(D(Y.from,Y.to,N));else{let E=N?D(Y.from,null,N):P(O,!1),u=A?D(null,Y.to,A):P(_,!0),x=[];if((N||O).to<(A||_).from-(N&&A?1:0)||O.widgetLineBreaks>1&&E.bottom+J.defaultLineHeight/2<u.top)x.push(M(G,E.bottom,z,u.top));else if(E.bottom<u.top&&J.elementAtHeight((E.bottom+u.top)/2).type==p0.Text)E.bottom=u.top=(E.bottom+u.top)/2;return V(E).concat(x).concat(V(u))}function M(E,u,x,s){return new u3(Z,E-U.left,u-U.top,x-E,s-u)}function V({top:E,bottom:u,horizontal:x}){let s=[];for(let Z0=0;Z0<x.length;Z0+=2)s.push(M(x[Z0],E,x[Z0+1],u));return s}function D(E,u,x){let s=1e9,Z0=-1e9,z0=[];function t(Q0,_0,e0,_1,Y5){let m0=J.coordsAtPos(Q0,Q0==x.to?-2:2),D1=J.coordsAtPos(e0,e0==x.from?2:-2);if(!m0||!D1)return;if(s=Math.min(m0.top,D1.top,s),Z0=Math.max(m0.bottom,D1.bottom,Z0),Y5==W0.LTR)z0.push(Q&&_0?G:m0.left,Q&&_1?z:D1.right);else z0.push(!Q&&_1?G:D1.left,!Q&&_0?z:m0.right)}let c=E!==null&&E!==void 0?E:x.from,j0=u!==null&&u!==void 0?u:x.to;for(let Q0 of J.visibleRanges)if(Q0.to>c&&Q0.from<j0)for(let _0=Math.max(Q0.from,c),e0=Math.min(Q0.to,j0);;){let _1=J.state.doc.lineAt(_0);for(let Y5 of J.bidiSpans(_1)){let m0=Y5.from+_1.from,D1=Y5.to+_1.from;if(m0>=e0)break;if(D1>_0)t(Math.max(m0,_0),E==null&&m0<=c,Math.min(D1,e0),u==null&&D1>=j0,Y5.dir)}if(_0=_1.to+1,_0>=e0)break}if(z0.length==0)t(c,E==null,j0,u==null,J.textDirection);return{top:s,bottom:Z0,horizontal:z0}}function P(E,u){let x=$.top+(u?E.top:E.bottom);return{top:x,bottom:x,horizontal:[]}}}function zA(J,Z){return J.constructor==Z.constructor&&J.eq(Z)}class u${constructor(J,Z){if(this.view=J,this.layer=Z,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=J.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),Z.above)this.dom.classList.add("cm-layer-above");if(Z.class)this.dom.classList.add(Z.class);if(this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(J.state),J.requestMeasure(this.measureReq),Z.mount)Z.mount(this.dom,J)}update(J){if(J.startState.facet(B9)!=J.state.facet(B9))this.setOrder(J.state);if(this.layer.update(J,this.dom)||J.geometryChanged)this.scale(),J.view.requestMeasure(this.measureReq)}docViewUpdate(J){if(this.layer.updateOnDocViewUpdate!==!1)J.requestMeasure(this.measureReq)}setOrder(J){let Z=0,Y=J.facet(B9);while(Z<Y.length&&Y[Z]!=this.layer)Z++;this.dom.style.zIndex=String((this.layer.above?150:-1)-Z)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:J,scaleY:Z}=this.view;if(J!=this.scaleX||Z!=this.scaleY)this.scaleX=J,this.scaleY=Z,this.dom.style.transform=`scale(${1/J}, ${1/Z})`}draw(J){if(J.length!=this.drawn.length||J.some((Z,Y)=>!zA(Z,this.drawn[Y]))){let Z=this.dom.firstChild,Y=0;for(let q of J)if(q.update&&Z&&q.constructor&&this.drawn[Y].constructor&&q.update(Z,this.drawn[Y]))Z=Z.nextSibling,Y++;else this.dom.insertBefore(q.draw(),Z);while(Z){let q=Z.nextSibling;Z.remove(),Z=q}if(this.drawn=J,v.safari&&v.safari_version>=26)this.dom.style.display=this.dom.firstChild?"":"none"}}destroy(){if(this.layer.destroy)this.layer.destroy(this.dom,this.view);this.dom.remove()}}var B9=b.define();function m$(J){return[N0.define((Z)=>new u$(Z,J)),B9.of(J)]}var S3=b.define({combine(J){return i0(J,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(Z,Y)=>Math.min(Z,Y),drawRangeCursor:(Z,Y)=>Z||Y})}});function g$(J={}){return[S3.of(J),OA,_A,HA,cK.of(!0)]}function f$(J){return J.startState.facet(S3)!=J.state.facet(S3)}var OA=m$({above:!0,markers(J){let{state:Z}=J,Y=Z.facet(S3),q=[];for(let X of Z.selection.ranges){let Q=X==Z.selection.main;if(X.empty||Y.drawRangeCursor){let K=Q?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",$=X.empty?X:L.cursor(X.head,X.head>X.anchor?-1:1);for(let U of u3.forRange(J,K,$))q.push(U)}}return q},update(J,Z){if(J.transactions.some((q)=>q.selection))Z.style.animationName=Z.style.animationName=="cm-blink"?"cm-blink2":"cm-blink";let Y=f$(J);if(Y)HK(J.state,Z);return J.docChanged||J.selectionSet||Y},mount(J,Z){HK(Z.state,J)},class:"cm-cursorLayer"});function HK(J,Z){Z.style.animationDuration=J.facet(S3).cursorBlinkRate+"ms"}var _A=m$({above:!1,markers(J){return J.state.selection.ranges.map((Z)=>Z.empty?[]:u3.forRange(J,"cm-selectionBackground",Z)).reduce((Z,Y)=>Z.concat(Y))},update(J,Z){return J.docChanged||J.selectionSet||J.viewportChanged||f$(J)},class:"cm-selectionLayer"}),HA=B1.highest(C.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),l$=p.define({map(J,Z){return J==null?null:Z.mapPos(J)}}),D3=M0.define({create(){return null},update(J,Z){if(J!=null)J=Z.changes.mapPos(J);return Z.effects.reduce((Y,q)=>q.is(l$)?q.value:Y,J)}}),NA=N0.fromClass(class{constructor(J){this.view=J,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(J){var Z;let Y=J.state.field(D3);if(Y==null){if(this.cursor!=null)(Z=this.cursor)===null||Z===void 0||Z.remove(),this.cursor=null}else{if(!this.cursor)this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor";if(J.startState.field(D3)!=Y||J.docChanged||J.geometryChanged)this.view.requestMeasure(this.measureReq)}}readPos(){let{view:J}=this,Z=J.state.field(D3),Y=Z!=null&&J.coordsAtPos(Z);if(!Y)return null;let q=J.scrollDOM.getBoundingClientRect();return{left:Y.left-q.left+J.scrollDOM.scrollLeft*J.scaleX,top:Y.top-q.top+J.scrollDOM.scrollTop*J.scaleY,height:Y.bottom-Y.top}}drawCursor(J){if(this.cursor){let{scaleX:Z,scaleY:Y}=this.view;if(J)this.cursor.style.left=J.left/Z+"px",this.cursor.style.top=J.top/Y+"px",this.cursor.style.height=J.height/Y+"px";else this.cursor.style.left="-100000px"}}destroy(){if(this.cursor)this.cursor.remove()}setDropPos(J){if(this.view.state.field(D3)!=J)this.view.dispatch({effects:l$.of(J)})}},{eventObservers:{dragover(J){this.setDropPos(this.view.posAtCoords({x:J.clientX,y:J.clientY}))},dragleave(J){if(J.target==this.view.contentDOM||!this.view.contentDOM.contains(J.relatedTarget))this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function p$(){return[D3,NA]}function NK(J,Z,Y,q,X){Z.lastIndex=0;for(let Q=J.iterRange(Y,q),K=Y,$;!Q.next().done;K+=Q.value.length)if(!Q.lineBreak)while($=Z.exec(Q.value))X(K+$.index,$)}function RA(J,Z){let Y=J.visibleRanges;if(Y.length==1&&Y[0].from==J.viewport.from&&Y[0].to==J.viewport.to)return Y;let q=[];for(let{from:X,to:Q}of Y)if(X=Math.max(J.state.doc.lineAt(X).from,X-Z),Q=Math.min(J.state.doc.lineAt(Q).to,Q+Z),q.length&&q[q.length-1].to>=X)q[q.length-1].to=Q;else q.push({from:X,to:Q});return q}class d${constructor(J){let{regexp:Z,decoration:Y,decorate:q,boundary:X,maxLength:Q=1000}=J;if(!Z.global)throw RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=Z,q)this.addMatch=(K,$,U,j)=>q(j,U,U+K[0].length,K,$);else if(typeof Y=="function")this.addMatch=(K,$,U,j)=>{let W=Y(K,$,U);if(W)j(U,U+K[0].length,W)};else if(Y)this.addMatch=(K,$,U,j)=>j(U,U+K[0].length,Y);else throw RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=X,this.maxLength=Q}createDeco(J){let Z=new J1,Y=Z.add.bind(Z);for(let{from:q,to:X}of RA(J,this.maxLength))NK(J.state.doc,this.regexp,q,X,(Q,K)=>this.addMatch(K,J,Q,Y));return Z.finish()}updateDeco(J,Z){let Y=1e9,q=-1;if(J.docChanged)J.changes.iterChanges((X,Q,K,$)=>{if($>=J.view.viewport.from&&K<=J.view.viewport.to)Y=Math.min(K,Y),q=Math.max($,q)});if(J.viewportMoved||q-Y>1000)return this.createDeco(J.view);if(q>-1)return this.updateRange(J.view,Z.map(J.changes),Y,q);return Z}updateRange(J,Z,Y,q){for(let X of J.visibleRanges){let Q=Math.max(X.from,Y),K=Math.min(X.to,q);if(K>=Q){let $=J.state.doc.lineAt(Q),U=$.to<K?J.state.doc.lineAt(K):$,j=Math.max(X.from,$.from),W=Math.min(X.to,U.to);if(this.boundary){for(;Q>$.from;Q--)if(this.boundary.test($.text[Q-1-$.from])){j=Q;break}for(;K<U.to;K++)if(this.boundary.test(U.text[K-U.from])){W=K;break}}let G=[],z,O=(_,N,A)=>G.push(A.range(_,N));if($==U){this.regexp.lastIndex=j-$.from;while((z=this.regexp.exec($.text))&&z.index<W-$.from)this.addMatch(z,J,z.index+$.from,O)}else NK(J.state.doc,this.regexp,j,W,(_,N)=>this.addMatch(N,J,_,O));Z=Z.update({filterFrom:j,filterTo:W,filter:(_,N)=>_<j||N>W,add:G})}}return Z}}var RZ=/x/.unicode!=null?"gu":"g",AA=new RegExp(`[\x00-\b
-\x1F-\u2028\u2029\uFEFF-]`,RZ),FA={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"},s2=null;function MA(){var J;if(s2==null&&typeof document<"u"&&document.body){let Z=document.body.style;s2=((J=Z.tabSize)!==null&&J!==void 0?J:Z.MozTabSize)!=null}return s2||!1}var P9=b.define({combine(J){let Z=i0(J,{render:null,specialChars:AA,addSpecialChars:null});if(Z.replaceTabs=!MA())Z.specialChars=new RegExp("\t|"+Z.specialChars.source,RZ);if(Z.addSpecialChars)Z.specialChars=new RegExp(Z.specialChars.source+"|"+Z.addSpecialChars.source,RZ);return Z}});function c$(J={}){return[P9.of(J),VA()]}var RK=null;function VA(){return RK||(RK=N0.fromClass(class{constructor(J){this.view=J,this.decorations=f.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(J.state.facet(P9)),this.decorations=this.decorator.createDeco(J)}makeDecorator(J){return new d$({regexp:J.specialChars,decoration:(Z,Y,q)=>{let{doc:X}=Y.state,Q=g0(Z[0],0);if(Q==9){let K=X.lineAt(q),$=Y.state.tabSize,U=C5(K.text,$,q-K.from);return f.replace({widget:new i$(($-U%$)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[Q]||(this.decorationCache[Q]=f.replace({widget:new n$(J,Q)}))},boundary:J.replaceTabs?void 0:/[^]/})}update(J){let Z=J.state.facet(P9);if(J.startState.facet(P9)!=Z)this.decorator=this.makeDecorator(Z),this.decorations=this.decorator.createDeco(J.view);else this.decorations=this.decorator.updateDeco(J,this.decorations)}},{decorations:(J)=>J.decorations}))}var IA="";function DA(J){if(J>=32)return IA;if(J==10)return"";return String.fromCharCode(9216+J)}class n$ extends $1{constructor(J,Z){super();this.options=J,this.code=Z}eq(J){return J.code==this.code}toDOM(J){let Z=DA(this.code),Y=J.state.phrase("Control character")+" "+(FA[this.code]||"0x"+this.code.toString(16)),q=this.options.render&&this.options.render(this.code,Y,Z);if(q)return q;let X=document.createElement("span");return X.textContent=Z,X.title=Y,X.setAttribute("aria-label",Y),X.className="cm-specialChar",X}ignoreEvent(){return!1}}class i$ extends $1{constructor(J){super();this.width=J}eq(J){return J.width==this.width}toDOM(){let J=document.createElement("span");return J.textContent="\t",J.className="cm-tab",J.style.width=this.width+"px",J}ignoreEvent(){return!1}}function s$(){return BA}var LA=f.line({class:"cm-activeLine"}),BA=N0.fromClass(class{constructor(J){this.decorations=this.getDeco(J)}update(J){if(J.docChanged||J.selectionSet)this.decorations=this.getDeco(J.view)}getDeco(J){let Z=-1,Y=[];for(let q of J.state.selection.ranges){let X=J.lineBlockAt(q.head);if(X.from>Z)Y.push(LA.range(X.from)),Z=X.from}return f.set(Y)}},{decorations:(J)=>J.decorations});var AZ=2000;function PA(J,Z,Y){let q=Math.min(Z.line,Y.line),X=Math.max(Z.line,Y.line),Q=[];if(Z.off>AZ||Y.off>AZ||Z.col<0||Y.col<0){let K=Math.min(Z.off,Y.off),$=Math.max(Z.off,Y.off);for(let U=q;U<=X;U++){let j=J.doc.line(U);if(j.length<=$)Q.push(L.range(j.from+K,j.to+$))}}else{let K=Math.min(Z.col,Y.col),$=Math.max(Z.col,Y.col);for(let U=q;U<=X;U++){let j=J.doc.line(U),W=W9(j.text,K,J.tabSize,!0);if(W<0)Q.push(L.cursor(j.to));else{let G=W9(j.text,$,J.tabSize);Q.push(L.range(j.from+W,j.from+G))}}}return Q}function EA(J,Z){let Y=J.coordsAtPos(J.viewport.from);return Y?Math.round(Math.abs((Y.left-Z)/J.defaultCharacterWidth)):-1}function AK(J,Z){let Y=J.posAtCoords({x:Z.clientX,y:Z.clientY},!1),q=J.state.doc.lineAt(Y),X=Y-q.from,Q=X>AZ?-1:X==q.length?EA(J,Z.clientX):C5(q.text,J.state.tabSize,Y-q.from);return{line:q.number,col:Q,off:X}}function CA(J,Z){let Y=AK(J,Z),q=J.state.selection;if(!Y)return null;return{update(X){if(X.docChanged){let Q=X.changes.mapPos(X.startState.doc.line(Y.line).from),K=X.state.doc.lineAt(Q);Y={line:K.number,col:Y.col,off:Math.min(Y.off,K.length)},q=q.map(X.changes)}},get(X,Q,K){let $=AK(J,X);if(!$)return q;let U=PA(J.state,Y,$);if(!U.length)return q;if(K)return L.create(U.concat(q.ranges));else return L.create(U)}}}function a$(J){let Z=(J===null||J===void 0?void 0:J.eventFilter)||((Y)=>Y.altKey&&Y.button==0);return C.mouseSelectionStyle.of((Y,q)=>Z(q)?CA(Y,q):null)}var TA={Alt:[18,(J)=>!!J.altKey],Control:[17,(J)=>!!J.ctrlKey],Shift:[16,(J)=>!!J.shiftKey],Meta:[91,(J)=>!!J.metaKey]},yA={style:"cursor: crosshair"};function r$(J={}){let[Z,Y]=TA[J.key||"Alt"],q=N0.fromClass(class{constructor(X){this.view=X,this.isDown=!1}set(X){if(this.isDown!=X)this.isDown=X,this.view.update([])}},{eventObservers:{keydown(X){this.set(X.keyCode==Z||Y(X))},keyup(X){if(X.keyCode==Z||!Y(X))this.set(!1)},mousemove(X){this.set(Y(X))}}});return[q,C.contentAttributes.of((X)=>{var Q;return((Q=X.plugin(q))===null||Q===void 0?void 0:Q.isDown)?yA:null})]}var R9="-10000px";class wZ{constructor(J,Z,Y,q){this.facet=Z,this.createTooltipView=Y,this.removeTooltipView=q,this.input=J.state.facet(Z),this.tooltips=this.input.filter((Q)=>Q);let X=null;this.tooltipViews=this.tooltips.map((Q)=>X=Y(Q,X))}update(J,Z){var Y;let q=J.state.facet(this.facet),X=q.filter(($)=>$);if(q===this.input){for(let $ of this.tooltipViews)if($.update)$.update(J);return!1}let Q=[],K=Z?[]:null;for(let $=0;$<X.length;$++){let U=X[$],j=-1;if(!U)continue;for(let W=0;W<this.tooltips.length;W++){let G=this.tooltips[W];if(G&&G.create==U.create)j=W}if(j<0){if(Q[$]=this.createTooltipView(U,$?Q[$-1]:null),K)K[$]=!!U.above}else{let W=Q[$]=this.tooltipViews[j];if(K)K[$]=Z[j];if(W.update)W.update(J)}}for(let $ of this.tooltipViews)if(Q.indexOf($)<0)this.removeTooltipView($),(Y=$.destroy)===null||Y===void 0||Y.call($);if(Z)K.forEach(($,U)=>Z[U]=$),Z.length=K.length;return this.input=q,this.tooltips=X,this.tooltipViews=Q,!0}}function bA(J){let Z=J.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:Z.clientHeight,right:Z.clientWidth}}var a2=b.define({combine:(J)=>{var Z,Y,q;return{position:v.ios?"absolute":((Z=J.find((X)=>X.position))===null||Z===void 0?void 0:Z.position)||"fixed",parent:((Y=J.find((X)=>X.parent))===null||Y===void 0?void 0:Y.parent)||null,tooltipSpace:((q=J.find((X)=>X.tooltipSpace))===null||q===void 0?void 0:q.tooltipSpace)||bA}}}),FK=new WeakMap,xZ=N0.fromClass(class{constructor(J){this.view=J,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let Z=J.state.facet(a2);this.position=Z.position,this.parent=Z.parent,this.classes=J.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new wZ(J,m3,(Y,q)=>this.createTooltip(Y,q),(Y)=>{if(this.resizeObserver)this.resizeObserver.unobserve(Y.dom);Y.dom.remove()}),this.above=this.manager.tooltips.map((Y)=>!!Y.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver((Y)=>{if(Date.now()>this.lastTransaction-50&&Y.length>0&&Y[Y.length-1].intersectionRatio<1)this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),J.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){if(this.parent)this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container);else this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let J of this.manager.tooltipViews)this.intersectionObserver.observe(J.dom)}}measureSoon(){if(this.measureTimeout<0)this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50)}update(J){if(J.transactions.length)this.lastTransaction=Date.now();let Z=this.manager.update(J,this.above);if(Z)this.observeIntersection();let Y=Z||J.geometryChanged,q=J.state.facet(a2);if(q.position!=this.position&&!this.madeAbsolute){this.position=q.position;for(let X of this.manager.tooltipViews)X.dom.style.position=this.position;Y=!0}if(q.parent!=this.parent){if(this.parent)this.container.remove();this.parent=q.parent,this.createContainer();for(let X of this.manager.tooltipViews)this.container.appendChild(X.dom);Y=!0}else if(this.parent&&this.view.themeClasses!=this.classes)this.classes=this.container.className=this.view.themeClasses;if(Y)this.maybeMeasure()}createTooltip(J,Z){let Y=J.create(this.view),q=Z?Z.dom:null;if(Y.dom.classList.add("cm-tooltip"),J.arrow&&!Y.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let X=document.createElement("div");X.className="cm-tooltip-arrow",Y.dom.appendChild(X)}if(Y.dom.style.position=this.position,Y.dom.style.top=R9,Y.dom.style.left="0px",this.container.insertBefore(Y.dom,q),Y.mount)Y.mount(this.view);if(this.resizeObserver)this.resizeObserver.observe(Y.dom);return Y}destroy(){var J,Z,Y;this.view.win.removeEventListener("resize",this.measureSoon);for(let q of this.manager.tooltipViews)q.dom.remove(),(J=q.destroy)===null||J===void 0||J.call(q);if(this.parent)this.container.remove();(Z=this.resizeObserver)===null||Z===void 0||Z.disconnect(),(Y=this.intersectionObserver)===null||Y===void 0||Y.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let J=1,Z=1,Y=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:Q}=this.manager.tooltipViews[0];if(v.safari){let K=Q.getBoundingClientRect();Y=Math.abs(K.top+1e4)>1||Math.abs(K.left)>1}else Y=!!Q.offsetParent&&Q.offsetParent!=this.container.ownerDocument.body}if(Y||this.position=="absolute")if(this.parent){let Q=this.parent.getBoundingClientRect();if(Q.width&&Q.height)J=Q.width/this.parent.offsetWidth,Z=Q.height/this.parent.offsetHeight}else({scaleX:J,scaleY:Z}=this.view.viewState);let q=this.view.scrollDOM.getBoundingClientRect(),X=TZ(this.view);return{visible:{left:q.left+X.left,top:q.top+X.top,right:q.right-X.right,bottom:q.bottom-X.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((Q,K)=>{let $=this.manager.tooltipViews[K];return $.getCoords?$.getCoords(Q.pos):this.view.coordsAtPos(Q.pos)}),size:this.manager.tooltipViews.map(({dom:Q})=>Q.getBoundingClientRect()),space:this.view.state.facet(a2).tooltipSpace(this.view),scaleX:J,scaleY:Z,makeAbsolute:Y}}writeMeasure(J){var Z;if(J.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let $ of this.manager.tooltipViews)$.dom.style.position="absolute"}let{visible:Y,space:q,scaleX:X,scaleY:Q}=J,K=[];for(let $=0;$<this.manager.tooltips.length;$++){let U=this.manager.tooltips[$],j=this.manager.tooltipViews[$],{dom:W}=j,G=J.pos[$],z=J.size[$];if(!G||U.clip!==!1&&(G.bottom<=Math.max(Y.top,q.top)||G.top>=Math.min(Y.bottom,q.bottom)||G.right<Math.max(Y.left,q.left)-0.1||G.left>Math.min(Y.right,q.right)+0.1)){W.style.top=R9;continue}let O=U.arrow?j.dom.querySelector(".cm-tooltip-arrow"):null,_=O?7:0,N=z.right-z.left,A=(Z=FK.get(j))!==null&&Z!==void 0?Z:z.bottom-z.top,M=j.offset||kA,V=this.view.textDirection==W0.LTR,D=z.width>q.right-q.left?V?q.left:q.right-z.width:V?Math.max(q.left,Math.min(G.left-(O?14:0)+M.x,q.right-N)):Math.min(Math.max(q.left,G.left-N+(O?14:0)-M.x),q.right-N),P=this.above[$];if(!U.strictSide&&(P?G.top-A-_-M.y<q.top:G.bottom+A+_+M.y>q.bottom)&&P==q.bottom-G.bottom>G.top-q.top)P=this.above[$]=!P;let E=(P?G.top-q.top:q.bottom-G.bottom)-_;if(E<A&&j.resize!==!1){if(E<this.view.defaultLineHeight){W.style.top=R9;continue}FK.set(j,A),W.style.height=(A=E)/Q+"px"}else if(W.style.height)W.style.height="";let u=P?G.top-A-_-M.y:G.bottom+_+M.y,x=D+N;if(j.overlap!==!0){for(let s of K)if(s.left<x&&s.right>D&&s.top<u+A&&s.bottom>u)u=P?s.top-A-2-_:s.bottom+_+2}if(this.position=="absolute")W.style.top=(u-J.parent.top)/Q+"px",MK(W,(D-J.parent.left)/X);else W.style.top=u/Q+"px",MK(W,D/X);if(O){let s=G.left+(V?M.x:-M.x)-(D+14-7);O.style.left=s/X+"px"}if(j.overlap!==!0)K.push({left:D,top:u,right:x,bottom:u+A});if(W.classList.toggle("cm-tooltip-above",P),W.classList.toggle("cm-tooltip-below",!P),j.positioned)j.positioned(J.space)}}maybeMeasure(){if(this.manager.tooltips.length){if(this.view.inView)this.view.requestMeasure(this.measureReq);if(this.inView!=this.view.inView){if(this.inView=this.view.inView,!this.inView)for(let J of this.manager.tooltipViews)J.dom.style.top=R9}}}},{eventObservers:{scroll(){this.maybeMeasure()}}});function MK(J,Z){let Y=parseInt(J.style.left,10);if(isNaN(Y)||Math.abs(Z-Y)>1)J.style.left=Z+"px"}var SA=C.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),kA={x:0,y:0},m3=b.define({enables:[xZ,SA]}),h9=b.define({combine:(J)=>J.reduce((Z,Y)=>Z.concat(Y),[])});class g9{static create(J){return new g9(J)}constructor(J){this.view=J,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new wZ(J,h9,(Z,Y)=>this.createHostedView(Z,Y),(Z)=>Z.dom.remove())}createHostedView(J,Z){let Y=J.create(this.view);if(Y.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(Y.dom,Z?Z.dom.nextSibling:this.dom.firstChild),this.mounted&&Y.mount)Y.mount(this.view);return Y}mount(J){for(let Z of this.manager.tooltipViews)if(Z.mount)Z.mount(J);this.mounted=!0}positioned(J){for(let Z of this.manager.tooltipViews)if(Z.positioned)Z.positioned(J)}update(J){this.manager.update(J)}destroy(){var J;for(let Z of this.manager.tooltipViews)(J=Z.destroy)===null||J===void 0||J.call(Z)}passProp(J){let Z=void 0;for(let Y of this.manager.tooltipViews){let q=Y[J];if(q!==void 0){if(Z===void 0)Z=q;else if(Z!==q)return}}return Z}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}var wA=m3.compute([h9],(J)=>{let Z=J.facet(h9);if(Z.length===0)return null;return{pos:Math.min(...Z.map((Y)=>Y.pos)),end:Math.max(...Z.map((Y)=>{var q;return(q=Y.end)!==null&&q!==void 0?q:Y.pos})),create:g9.create,above:Z[0].above,arrow:Z.some((Y)=>Y.arrow)}});class o${constructor(J,Z,Y,q,X){this.view=J,this.source=Z,this.field=Y,this.setHover=q,this.hoverTime=X,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:J.dom,time:0},this.checkHover=this.checkHover.bind(this),J.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),J.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){if(this.pending)this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20)}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let J=Date.now()-this.lastMove.time;if(J<this.hoverTime)this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-J);else this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:J,lastMove:Z}=this,Y=J.docView.tile.nearest(Z.target);if(!Y)return;let q,X=1;if(Y.isWidget())q=Y.posAtStart;else{if(q=J.posAtCoords(Z),q==null)return;let K=J.coordsAtPos(q);if(!K||Z.y<K.top||Z.y>K.bottom||Z.x<K.left-J.defaultCharacterWidth||Z.x>K.right+J.defaultCharacterWidth)return;let $=J.bidiSpans(J.state.doc.lineAt(q)).find((j)=>j.from<=q&&j.to>=q),U=$&&$.dir==W0.RTL?-1:1;X=Z.x<K.left?-U:U}let Q=this.source(J,q,X);if(Q===null||Q===void 0?void 0:Q.then){let K=this.pending={pos:q};Q.then(($)=>{if(this.pending==K){if(this.pending=null,$&&!(Array.isArray($)&&!$.length))J.dispatch({effects:this.setHover.of(Array.isArray($)?$:[$])})}},($)=>l0(J.state,$,"hover tooltip"))}else if(Q&&!(Array.isArray(Q)&&!Q.length))J.dispatch({effects:this.setHover.of(Array.isArray(Q)?Q:[Q])})}get tooltip(){let J=this.view.plugin(xZ),Z=J?J.manager.tooltips.findIndex((Y)=>Y.create==g9.create):-1;return Z>-1?J.manager.tooltipViews[Z]:null}mousemove(J){var Z,Y;if(this.lastMove={x:J.clientX,y:J.clientY,target:J.target,time:Date.now()},this.hoverTimeout<0)this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime);let{active:q,tooltip:X}=this;if(q.length&&X&&!xA(X.dom,J)||this.pending){let{pos:Q}=q[0]||this.pending,K=(Y=(Z=q[0])===null||Z===void 0?void 0:Z.end)!==null&&Y!==void 0?Y:Q;if(Q==K?this.view.posAtCoords(this.lastMove)!=Q:!hA(this.view,Q,K,J.clientX,J.clientY))this.view.dispatch({effects:this.setHover.of([])}),this.pending=null}}mouseleave(J){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:Z}=this;if(Z.length){let{tooltip:Y}=this;if(!(Y&&Y.dom.contains(J.relatedTarget)))this.view.dispatch({effects:this.setHover.of([])});else this.watchTooltipLeave(Y.dom)}}watchTooltipLeave(J){let Z=(Y)=>{if(J.removeEventListener("mouseleave",Z),this.active.length&&!this.view.dom.contains(Y.relatedTarget))this.view.dispatch({effects:this.setHover.of([])})};J.addEventListener("mouseleave",Z)}destroy(){clearTimeout(this.hoverTimeout),clearTimeout(this.restartTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}var A9=4;function xA(J,Z){let{left:Y,right:q,top:X,bottom:Q}=J.getBoundingClientRect(),K;if(K=J.querySelector(".cm-tooltip-arrow")){let $=K.getBoundingClientRect();X=Math.min($.top,X),Q=Math.max($.bottom,Q)}return Z.clientX>=Y-A9&&Z.clientX<=q+A9&&Z.clientY>=X-A9&&Z.clientY<=Q+A9}function hA(J,Z,Y,q,X,Q){let K=J.scrollDOM.getBoundingClientRect(),$=J.documentTop+J.documentPadding.top+J.contentHeight;if(K.left>q||K.right<q||K.top>X||Math.min(K.bottom,$)<X)return!1;let U=J.posAtCoords({x:q,y:X},!1);return U>=Z&&U<=Y}function t$(J,Z={}){let Y=p.define(),q=M0.define({create(){return[]},update(X,Q){if(X.length){if(Z.hideOnChange&&(Q.docChanged||Q.selection))X=[];else if(Z.hideOn)X=X.filter((K)=>!Z.hideOn(Q,K));if(Q.docChanged){let K=[];for(let $ of X){let U=Q.changes.mapPos($.pos,-1,h0.TrackDel);if(U!=null){let j=Object.assign(Object.create(null),$);if(j.pos=U,j.end!=null)j.end=Q.changes.mapPos(j.end);K.push(j)}}X=K}}for(let K of Q.effects){if(K.is(Y))X=K.value;if(K.is(vA))X=[]}return X},provide:(X)=>h9.from(X)});return{active:q,extension:[q,N0.define((X)=>new o$(X,J,q,Y,Z.hoverTime||300)),wA]}}function hZ(J,Z){let Y=J.plugin(xZ);if(!Y)return null;let q=Y.manager.tooltips.indexOf(Z);return q<0?null:Y.manager.tooltipViews[q]}var vA=p.define();var VK=b.define({combine(J){let Z,Y;for(let q of J)Z=Z||q.topContainer,Y=Y||q.bottomContainer;return{topContainer:Z,bottomContainer:Y}}});function wJ(J,Z){let Y=J.plugin(e$),q=Y?Y.specs.indexOf(Z):-1;return q>-1?Y.panels[q]:null}var e$=N0.fromClass(class{constructor(J){this.input=J.state.facet(kJ),this.specs=this.input.filter((Y)=>Y),this.panels=this.specs.map((Y)=>Y(J));let Z=J.state.facet(VK);this.top=new L3(J,!0,Z.topContainer),this.bottom=new L3(J,!1,Z.bottomContainer),this.top.sync(this.panels.filter((Y)=>Y.top)),this.bottom.sync(this.panels.filter((Y)=>!Y.top));for(let Y of this.panels)if(Y.dom.classList.add("cm-panel"),Y.mount)Y.mount()}update(J){let Z=J.state.facet(VK);if(this.top.container!=Z.topContainer)this.top.sync([]),this.top=new L3(J.view,!0,Z.topContainer);if(this.bottom.container!=Z.bottomContainer)this.bottom.sync([]),this.bottom=new L3(J.view,!1,Z.bottomContainer);this.top.syncClasses(),this.bottom.syncClasses();let Y=J.state.facet(kJ);if(Y!=this.input){let q=Y.filter((U)=>U),X=[],Q=[],K=[],$=[];for(let U of q){let j=this.specs.indexOf(U),W;if(j<0)W=U(J.view),$.push(W);else if(W=this.panels[j],W.update)W.update(J);X.push(W),(W.top?Q:K).push(W)}this.specs=q,this.panels=X,this.top.sync(Q),this.bottom.sync(K);for(let U of $)if(U.dom.classList.add("cm-panel"),U.mount)U.mount()}else for(let q of this.panels)if(q.update)q.update(J)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:(J)=>C.scrollMargins.of((Z)=>{let Y=Z.plugin(J);return Y&&{top:Y.top.scrollMargin(),bottom:Y.bottom.scrollMargin()}})});class L3{constructor(J,Z,Y){this.view=J,this.top=Z,this.container=Y,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(J){for(let Z of this.panels)if(Z.destroy&&J.indexOf(Z)<0)Z.destroy();this.panels=J,this.syncDOM()}syncDOM(){if(this.panels.length==0){if(this.dom)this.dom.remove(),this.dom=void 0;return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let Z=this.container||this.view.dom;Z.insertBefore(this.dom,this.top?Z.firstChild:null)}let J=this.dom.firstChild;for(let Z of this.panels)if(Z.dom.parentNode==this.dom){while(J!=Z.dom)J=IK(J);J=J.nextSibling}else this.dom.insertBefore(Z.dom,J);while(J)J=IK(J)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!this.container||this.classes==this.view.themeClasses)return;for(let J of this.classes.split(" "))if(J)this.container.classList.remove(J);for(let J of(this.classes=this.view.themeClasses).split(" "))if(J)this.container.classList.add(J)}}function IK(J){let Z=J.nextSibling;return J.remove(),Z}var kJ=b.define({enables:e$});class C1 extends c1{compare(J){return this==J||this.constructor==J.constructor&&this.eq(J)}eq(J){return!1}destroy(J){}}C1.prototype.elementClass="";C1.prototype.toDOM=void 0;C1.prototype.mapMode=h0.TrackBefore;C1.prototype.startSide=C1.prototype.endSide=-1;C1.prototype.point=!0;var E9=b.define(),uA=b.define(),mA={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>a.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},E3=b.define();function vZ(J){return[JU(),E3.of({...mA,...J})]}var FZ=b.define({combine:(J)=>J.some((Z)=>Z)});function JU(J){let Z=[gA];if(J&&J.fixed===!1)Z.push(FZ.of(!0));return Z}var gA=N0.fromClass(class{constructor(J){this.view=J,this.domAfter=null,this.prevViewport=J.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=J.state.facet(E3).map((Z)=>new VZ(J,Z)),this.fixed=!J.state.facet(FZ);for(let Z of this.gutters)if(Z.config.side=="after")this.getDOMAfter().appendChild(Z.dom);else this.dom.appendChild(Z.dom);if(this.fixed)this.dom.style.position="sticky";this.syncGutters(!1),J.scrollDOM.insertBefore(this.dom,J.contentDOM)}getDOMAfter(){if(!this.domAfter)this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter);return this.domAfter}update(J){if(this.updateGutters(J)){let Z=this.prevViewport,Y=J.view.viewport,q=Math.min(Z.to,Y.to)-Math.max(Z.from,Y.from);this.syncGutters(q<(Y.to-Y.from)*0.8)}if(J.geometryChanged){let Z=this.view.contentHeight/this.view.scaleY+"px";if(this.dom.style.minHeight=Z,this.domAfter)this.domAfter.style.minHeight=Z}if(this.view.state.facet(FZ)!=!this.fixed){if(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter)this.domAfter.style.position=this.fixed?"sticky":""}this.prevViewport=J.view.viewport}syncGutters(J){let Z=this.dom.nextSibling;if(J){if(this.dom.remove(),this.domAfter)this.domAfter.remove()}let Y=a.iter(this.view.state.facet(E9),this.view.viewport.from),q=[],X=this.gutters.map((Q)=>new ZU(Q,this.view.viewport,-this.view.documentPadding.top));for(let Q of this.view.viewportLineBlocks){if(q.length)q=[];if(Array.isArray(Q.type)){let K=!0;for(let $ of Q.type)if($.type==p0.Text&&K){MZ(Y,q,$.from);for(let U of X)U.line(this.view,$,q);K=!1}else if($.widget)for(let U of X)U.widget(this.view,$)}else if(Q.type==p0.Text){MZ(Y,q,Q.from);for(let K of X)K.line(this.view,Q,q)}else if(Q.widget)for(let K of X)K.widget(this.view,Q)}for(let Q of X)Q.finish();if(J){if(this.view.scrollDOM.insertBefore(this.dom,Z),this.domAfter)this.view.scrollDOM.appendChild(this.domAfter)}}updateGutters(J){let Z=J.startState.facet(E3),Y=J.state.facet(E3),q=J.docChanged||J.heightChanged||J.viewportChanged||!a.eq(J.startState.facet(E9),J.state.facet(E9),J.view.viewport.from,J.view.viewport.to);if(Z==Y){for(let X of this.gutters)if(X.update(J))q=!0}else{q=!0;let X=[];for(let Q of Y){let K=Z.indexOf(Q);if(K<0)X.push(new VZ(this.view,Q));else this.gutters[K].update(J),X.push(this.gutters[K])}for(let Q of this.gutters)if(Q.dom.remove(),X.indexOf(Q)<0)Q.destroy();for(let Q of X)if(Q.config.side=="after")this.getDOMAfter().appendChild(Q.dom);else this.dom.appendChild(Q.dom);this.gutters=X}return q}destroy(){for(let J of this.gutters)J.destroy();if(this.dom.remove(),this.domAfter)this.domAfter.remove()}},{provide:(J)=>C.scrollMargins.of((Z)=>{let Y=Z.plugin(J);if(!Y||Y.gutters.length==0||!Y.fixed)return null;let q=Y.dom.offsetWidth*Z.scaleX,X=Y.domAfter?Y.domAfter.offsetWidth*Z.scaleX:0;return Z.textDirection==W0.LTR?{left:q,right:X}:{right:q,left:X}})});function DK(J){return Array.isArray(J)?J:[J]}function MZ(J,Z,Y){while(J.value&&J.from<=Y){if(J.from==Y)Z.push(J.value);J.next()}}class ZU{constructor(J,Z,Y){this.gutter=J,this.height=Y,this.i=0,this.cursor=a.iter(J.markers,Z.from)}addElement(J,Z,Y){let{gutter:q}=this,X=(Z.top-this.height)/J.scaleY,Q=Z.height/J.scaleY;if(this.i==q.elements.length){let K=new uZ(J,Q,X,Y);q.elements.push(K),q.dom.appendChild(K.dom)}else q.elements[this.i].update(J,Q,X,Y);this.height=Z.bottom,this.i++}line(J,Z,Y){let q=[];if(MZ(this.cursor,q,Z.from),Y.length)q=q.concat(Y);let X=this.gutter.config.lineMarker(J,Z,q);if(X)q.unshift(X);let Q=this.gutter;if(q.length==0&&!Q.config.renderEmptyElements)return;this.addElement(J,Z,q)}widget(J,Z){let Y=this.gutter.config.widgetMarker(J,Z.widget,Z),q=Y?[Y]:null;for(let X of J.state.facet(uA)){let Q=X(J,Z.widget,Z);if(Q)(q||(q=[])).push(Q)}if(q)this.addElement(J,Z,q)}finish(){let J=this.gutter;while(J.elements.length>this.i){let Z=J.elements.pop();J.dom.removeChild(Z.dom),Z.destroy()}}}class VZ{constructor(J,Z){this.view=J,this.config=Z,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let Y in Z.domEventHandlers)this.dom.addEventListener(Y,(q)=>{let X=q.target,Q;if(X!=this.dom&&this.dom.contains(X)){while(X.parentNode!=this.dom)X=X.parentNode;let $=X.getBoundingClientRect();Q=($.top+$.bottom)/2}else Q=q.clientY;let K=J.lineBlockAtHeight(Q-J.documentTop);if(Z.domEventHandlers[Y](J,K,q))q.preventDefault()});if(this.markers=DK(Z.markers(J)),Z.initialSpacer)this.spacer=new uZ(J,0,0,[Z.initialSpacer(J)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none"}update(J){let Z=this.markers;if(this.markers=DK(this.config.markers(J.view)),this.spacer&&this.config.updateSpacer){let q=this.config.updateSpacer(this.spacer.markers[0],J);if(q!=this.spacer.markers[0])this.spacer.update(J.view,0,0,[q])}let Y=J.view.viewport;return!a.eq(this.markers,Z,Y.from,Y.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(J):!1)}destroy(){for(let J of this.elements)J.destroy()}}class uZ{constructor(J,Z,Y,q){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(J,Z,Y,q)}update(J,Z,Y,q){if(this.height!=Z)this.height=Z,this.dom.style.height=Z+"px";if(this.above!=Y)this.dom.style.marginTop=(this.above=Y)?Y+"px":"";if(!fA(this.markers,q))this.setMarkers(J,q)}setMarkers(J,Z){let Y="cm-gutterElement",q=this.dom.firstChild;for(let X=0,Q=0;;){let K=Q,$=X<Z.length?Z[X++]:null,U=!1;if($){let j=$.elementClass;if(j)Y+=" "+j;for(let W=Q;W<this.markers.length;W++)if(this.markers[W].compare($)){K=W,U=!0;break}}else K=this.markers.length;while(Q<K){let j=this.markers[Q++];if(j.toDOM){j.destroy(q);let W=q.nextSibling;q.remove(),q=W}}if(!$)break;if($.toDOM)if(U)q=q.nextSibling;else this.dom.insertBefore($.toDOM(J),q);if(U)Q++}this.dom.className=Y,this.markers=Z}destroy(){this.setMarkers(null,[])}}function fA(J,Z){if(J.length!=Z.length)return!1;for(let Y=0;Y<J.length;Y++)if(!J[Y].compare(Z[Y]))return!1;return!0}var lA=b.define(),pA=b.define(),N4=b.define({combine(J){return i0(J,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(Z,Y){let q=Object.assign({},Z);for(let X in Y){let Q=q[X],K=Y[X];q[X]=Q?($,U,j)=>Q($,U,j)||K($,U,j):K}return q}})}});class C9 extends C1{constructor(J){super();this.number=J}eq(J){return this.number==J.number}toDOM(){return document.createTextNode(this.number)}}function r2(J,Z){return J.state.facet(N4).formatNumber(Z,J.state)}var dA=E3.compute([N4],(J)=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(Z){return Z.state.facet(lA)},lineMarker(Z,Y,q){if(q.some((X)=>X.toDOM))return null;return new C9(r2(Z,Z.state.doc.lineAt(Y.from).number))},widgetMarker:(Z,Y,q)=>{for(let X of Z.state.facet(pA)){let Q=X(Z,Y,q);if(Q)return Q}return null},lineMarkerChange:(Z)=>Z.startState.facet(N4)!=Z.state.facet(N4),initialSpacer(Z){return new C9(r2(Z,LK(Z.state.doc.lines)))},updateSpacer(Z,Y){let q=r2(Y.view,LK(Y.view.state.doc.lines));return q==Z.number?Z:new C9(q)},domEventHandlers:J.facet(N4).domEventHandlers,side:"before"}));function YU(J={}){return[N4.of(J),JU(),dA]}function LK(J){let Z=9;while(Z<J)Z=Z*10+9;return Z}var cA=new class extends C1{constructor(){super(...arguments);this.elementClass="cm-activeLineGutter"}},nA=E9.compute(["selection"],(J)=>{let Z=[],Y=-1;for(let q of J.selection.ranges){let X=J.doc.lineAt(q.head).from;if(X>Y)Y=X,Z.push(cA.range(X))}return a.of(Z)});function qU(){return nA}var $U=1024,iA=0;class l9{constructor(J,Z){this.from=J,this.to=Z}}class i{constructor(J={}){this.id=iA++,this.perNode=!!J.perNode,this.deserialize=J.deserialize||(()=>{throw Error("This node type doesn't define a deserialize function")}),this.combine=J.combine||null}add(J){if(this.perNode)throw RangeError("Can't add per-node props to node types");if(typeof J!="function")J=s0.match(J);return(Z)=>{let Y=J(Z);return Y===void 0?null:[this,Y]}}}i.closedBy=new i({deserialize:(J)=>J.split(" ")});i.openedBy=new i({deserialize:(J)=>J.split(" ")});i.group=new i({deserialize:(J)=>J.split(" ")});i.isolate=new i({deserialize:(J)=>{if(J&&J!="rtl"&&J!="ltr"&&J!="auto")throw RangeError("Invalid value for isolate: "+J);return J||"auto"}});i.contextHash=new i({perNode:!0});i.lookAhead=new i({perNode:!0});i.mounted=new i({perNode:!0});class D4{constructor(J,Z,Y,q=!1){this.tree=J,this.overlay=Z,this.parser=Y,this.bracketed=q}static get(J){return J&&J.props&&J.props[i.mounted.id]}}var sA=Object.create(null);class s0{constructor(J,Z,Y,q=0){this.name=J,this.props=Z,this.id=Y,this.flags=q}static define(J){let Z=J.props&&J.props.length?Object.create(null):sA,Y=(J.top?1:0)|(J.skipped?2:0)|(J.error?4:0)|(J.name==null?8:0),q=new s0(J.name||"",Z,J.id,Y);if(J.props)for(let X of J.props){if(!Array.isArray(X))X=X(q);if(X){if(X[0].perNode)throw RangeError("Can't store a per-node prop on a node type");Z[X[0].id]=X[1]}}return q}prop(J){return this.props[J.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(J){if(typeof J=="string"){if(this.name==J)return!0;let Z=this.prop(i.group);return Z?Z.indexOf(J)>-1:!1}return this.id==J}static match(J){let Z=Object.create(null);for(let Y in J)for(let q of Y.split(" "))Z[q]=J[Y];return(Y)=>{for(let q=Y.prop(i.group),X=-1;X<(q?q.length:0);X++){let Q=Z[X<0?Y.name:q[X]];if(Q)return Q}}}}s0.none=new s0("",Object.create(null),0,8);class f3{constructor(J){this.types=J;for(let Z=0;Z<J.length;Z++)if(J[Z].id!=Z)throw RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...J){let Z=[];for(let Y of this.types){let q=null;for(let X of J){let Q=X(Y);if(Q){if(!q)q=Object.assign({},Y.props);let K=Q[1],$=Q[0];if($.combine&&$.id in q)K=$.combine(q[$.id],K);q[$.id]=K}}Z.push(q?new s0(Y.name,q,Y.id,Y.flags):Y)}return new f3(Z)}}var f9=new WeakMap,XU=new WeakMap,R0;(function(J){J[J.ExcludeBuffers=1]="ExcludeBuffers",J[J.IncludeAnonymous=2]="IncludeAnonymous",J[J.IgnoreMounts=4]="IgnoreMounts",J[J.IgnoreOverlays=8]="IgnoreOverlays",J[J.EnterBracketed=16]="EnterBracketed"})(R0||(R0={}));class P0{constructor(J,Z,Y,q,X){if(this.type=J,this.children=Z,this.positions=Y,this.length=q,this.props=null,X&&X.length){this.props=Object.create(null);for(let[Q,K]of X)this.props[typeof Q=="number"?Q:Q.id]=K}}toString(){let J=D4.get(this);if(J&&!J.overlay)return J.tree.toString();let Z="";for(let Y of this.children){let q=Y.toString();if(q){if(Z)Z+=",";Z+=q}}return!this.type.name?Z:(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(Z.length?"("+Z+")":"")}cursor(J=0){return new d9(this.topNode,J)}cursorAt(J,Z=0,Y=0){let q=f9.get(this)||this.topNode,X=new d9(q);return X.moveTo(J,Z),f9.set(this,X._tree),X}get topNode(){return new U1(this,0,0,null)}resolve(J,Z=0){let Y=g3(f9.get(this)||this.topNode,J,Z,!1);return f9.set(this,Y),Y}resolveInner(J,Z=0){let Y=g3(XU.get(this)||this.topNode,J,Z,!0);return XU.set(this,Y),Y}resolveStack(J,Z=0){return aA(this,J,Z)}iterate(J){let{enter:Z,leave:Y,from:q=0,to:X=this.length}=J,Q=J.mode||0,K=(Q&R0.IncludeAnonymous)>0;for(let $=this.cursor(Q|R0.IncludeAnonymous);;){let U=!1;if($.from<=X&&$.to>=q&&(!K&&$.type.isAnonymous||Z($)!==!1)){if($.firstChild())continue;U=!0}for(;;){if(U&&Y&&(K||!$.type.isAnonymous))Y($);if($.nextSibling())break;if(!$.parent())return;U=!0}}}prop(J){return!J.perNode?this.type.prop(J):this.props?this.props[J.id]:void 0}get propValues(){let J=[];if(this.props)for(let Z in this.props)J.push([+Z,this.props[Z]]);return J}balance(J={}){return this.children.length<=8?this:pZ(s0.none,this.children,this.positions,0,this.children.length,0,this.length,(Z,Y,q)=>new P0(this.type,Z,Y,q,this.propValues),J.makeTree||((Z,Y,q)=>new P0(s0.none,Z,Y,q)))}static build(J){return rA(J)}}P0.empty=new P0(s0.none,[],[],0);class gZ{constructor(J,Z){this.buffer=J,this.index=Z}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new gZ(this.buffer,this.index)}}class s5{constructor(J,Z,Y){this.buffer=J,this.length=Z,this.set=Y}get type(){return s0.none}toString(){let J=[];for(let Z=0;Z<this.buffer.length;)J.push(this.childString(Z)),Z=this.buffer[Z+3];return J.join(",")}childString(J){let Z=this.buffer[J],Y=this.buffer[J+3],q=this.set.types[Z],X=q.name;if(/\W/.test(X)&&!q.isError)X=JSON.stringify(X);if(J+=4,Y==J)return X;let Q=[];while(J<Y)Q.push(this.childString(J)),J=this.buffer[J+3];return X+"("+Q.join(",")+")"}findChild(J,Z,Y,q,X){let{buffer:Q}=this,K=-1;for(let $=J;$!=Z;$=Q[$+3])if(UU(X,q,Q[$+1],Q[$+2])){if(K=$,Y>0)break}return K}slice(J,Z,Y){let q=this.buffer,X=new Uint16Array(Z-J),Q=0;for(let K=J,$=0;K<Z;){X[$++]=q[K++],X[$++]=q[K++]-Y;let U=X[$++]=q[K++]-Y;X[$++]=q[K++]-J,Q=Math.max(Q,U)}return new s5(X,Q,this.set)}}function UU(J,Z,Y,q){switch(J){case-2:return Y<Z;case-1:return q>=Z&&Y<Z;case 0:return Y<Z&&q>Z;case 1:return Y<=Z&&q>Z;case 2:return q>Z;case 4:return!0}}function g3(J,Z,Y,q){var X;while(J.from==J.to||(Y<1?J.from>=Z:J.from>Z)||(Y>-1?J.to<=Z:J.to<Z)){let K=!q&&J instanceof U1&&J.index<0?null:J.parent;if(!K)return J;J=K}let Q=q?0:R0.IgnoreOverlays;if(q){for(let K=J,$=K.parent;$;K=$,$=K.parent)if(K instanceof U1&&K.index<0&&((X=$.enter(Z,Y,Q))===null||X===void 0?void 0:X.from)!=K.from)J=$}for(;;){let K=J.enter(Z,Y,Q);if(!K)return J;J=K}}class fZ{cursor(J=0){return new d9(this,J)}getChild(J,Z=null,Y=null){let q=QU(this,J,Z,Y);return q.length?q[0]:null}getChildren(J,Z=null,Y=null){return QU(this,J,Z,Y)}resolve(J,Z=0){return g3(this,J,Z,!1)}resolveInner(J,Z=0){return g3(this,J,Z,!0)}matchContext(J){return mZ(this.parent,J)}enterUnfinishedNodesBefore(J){let Z=this.childBefore(J),Y=this;while(Z){let q=Z.lastChild;if(!q||q.to!=Z.to)break;if(q.type.isError&&q.from==q.to)Y=Z,Z=q.prevSibling;else Z=q}return Y}get node(){return this}get next(){return this.parent}}class U1 extends fZ{constructor(J,Z,Y,q){super();this._tree=J,this.from=Z,this.index=Y,this._parent=q}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(J,Z,Y,q,X=0){var Q;for(let K=this;;){for(let{children:$,positions:U}=K._tree,j=Z>0?$.length:-1;J!=j;J+=Z){let W=$[J],G=U[J]+K.from;if(!(X&R0.EnterBracketed&&W instanceof P0&&((Q=D4.get(W))===null||Q===void 0?void 0:Q.overlay)===null&&(G>=Y||G+W.length<=Y))&&!UU(q,Y,G,G+W.length))continue;if(W instanceof s5){if(X&R0.ExcludeBuffers)continue;let z=W.findChild(0,W.buffer.length,Z,Y-G,q);if(z>-1)return new z5(new WU(K,W,J,G),null,z)}else if(X&R0.IncludeAnonymous||(!W.type.isAnonymous||lZ(W))){let z;if(!(X&R0.IgnoreMounts)&&(z=D4.get(W))&&!z.overlay)return new U1(z.tree,G,J,K);let O=new U1(W,G,J,K);return X&R0.IncludeAnonymous||!O.type.isAnonymous?O:O.nextChild(Z<0?W.children.length-1:0,Z,Y,q,X)}}if(X&R0.IncludeAnonymous||!K.type.isAnonymous)return null;if(K.index>=0)J=K.index+Z;else J=Z<0?-1:K._parent._tree.children.length;if(K=K._parent,!K)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(J){return this.nextChild(0,1,J,2)}childBefore(J){return this.nextChild(this._tree.children.length-1,-1,J,-2)}prop(J){return this._tree.prop(J)}enter(J,Z,Y=0){let q;if(!(Y&R0.IgnoreOverlays)&&(q=D4.get(this._tree))&&q.overlay){let X=J-this.from,Q=Y&R0.EnterBracketed&&q.bracketed;for(let{from:K,to:$}of q.overlay)if((Z>0||Q?K<=X:K<X)&&(Z<0||Q?$>=X:$>X))return new U1(q.tree,q.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,J,Z,Y)}nextSignificantParent(){let J=this;while(J.type.isAnonymous&&J._parent)J=J._parent;return J}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function QU(J,Z,Y,q){let X=J.cursor(),Q=[];if(!X.firstChild())return Q;if(Y!=null){for(let K=!1;!K;)if(K=X.type.is(Y),!X.nextSibling())return Q}for(;;){if(q!=null&&X.type.is(q))return Q;if(X.type.is(Z))Q.push(X.node);if(!X.nextSibling())return q==null?Q:[]}}function mZ(J,Z,Y=Z.length-1){for(let q=J;Y>=0;q=q.parent){if(!q)return!1;if(!q.type.isAnonymous){if(Z[Y]&&Z[Y]!=q.name)return!1;Y--}}return!0}class WU{constructor(J,Z,Y,q){this.parent=J,this.buffer=Z,this.index=Y,this.start=q}}class z5 extends fZ{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(J,Z,Y){super();this.context=J,this._parent=Z,this.index=Y,this.type=J.buffer.set.types[J.buffer.buffer[Y]]}child(J,Z,Y){let{buffer:q}=this.context,X=q.findChild(this.index+4,q.buffer[this.index+3],J,Z-this.context.start,Y);return X<0?null:new z5(this.context,this,X)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(J){return this.child(1,J,2)}childBefore(J){return this.child(-1,J,-2)}prop(J){return this.type.prop(J)}enter(J,Z,Y=0){if(Y&R0.ExcludeBuffers)return null;let{buffer:q}=this.context,X=q.findChild(this.index+4,q.buffer[this.index+3],Z>0?1:-1,J-this.context.start,Z);return X<0?null:new z5(this.context,this,X)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(J){return this._parent?null:this.context.parent.nextChild(this.context.index+J,J,0,4)}get nextSibling(){let{buffer:J}=this.context,Z=J.buffer[this.index+3];if(Z<(this._parent?J.buffer[this._parent.index+3]:J.buffer.length))return new z5(this.context,this._parent,Z);return this.externalSibling(1)}get prevSibling(){let{buffer:J}=this.context,Z=this._parent?this._parent.index+4:0;if(this.index==Z)return this.externalSibling(-1);return new z5(this.context,this._parent,J.findChild(Z,this.index,-1,0,4))}get tree(){return null}toTree(){let J=[],Z=[],{buffer:Y}=this.context,q=this.index+4,X=Y.buffer[this.index+3];if(X>q){let Q=Y.buffer[this.index+1];J.push(Y.slice(q,X,Q)),Z.push(0)}return new P0(this.type,J,Z,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function jU(J){if(!J.length)return null;let Z=0,Y=J[0];for(let Q=1;Q<J.length;Q++){let K=J[Q];if(K.from>Y.from||K.to<Y.to)Y=K,Z=Q}let q=Y instanceof U1&&Y.index<0?null:Y.parent,X=J.slice();if(q)X[Z]=q;else X.splice(Z,1);return new GU(X,Y)}class GU{constructor(J,Z){this.heads=J,this.node=Z}get next(){return jU(this.heads)}}function aA(J,Z,Y){let q=J.resolveInner(Z,Y),X=null;for(let Q=q instanceof U1?q:q.context.parent;Q;Q=Q.parent)if(Q.index<0){let K=Q.parent;(X||(X=[q])).push(K.resolve(Z,Y)),Q=K}else{let K=D4.get(Q.tree);if(K&&K.overlay&&K.overlay[0].from<=Z&&K.overlay[K.overlay.length-1].to>=Z){let $=new U1(K.tree,K.overlay[0].from+Q.from,-1,Q);(X||(X=[q])).push(g3($,Z,Y,!1))}}return X?jU(X):q}class d9{get name(){return this.type.name}constructor(J,Z=0){if(this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,this.mode=Z&~R0.EnterBracketed,J instanceof U1)this.yieldNode(J);else{this._tree=J.context.parent,this.buffer=J.context;for(let Y=J._parent;Y;Y=Y._parent)this.stack.unshift(Y.index);this.bufferNode=J,this.yieldBuf(J.index)}}yieldNode(J){if(!J)return!1;return this._tree=J,this.type=J.type,this.from=J.from,this.to=J.to,!0}yieldBuf(J,Z){this.index=J;let{start:Y,buffer:q}=this.buffer;return this.type=Z||q.set.types[q.buffer[J]],this.from=Y+q.buffer[J+1],this.to=Y+q.buffer[J+2],!0}yield(J){if(!J)return!1;if(J instanceof U1)return this.buffer=null,this.yieldNode(J);return this.buffer=J.context,this.yieldBuf(J.index,J.type)}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(J,Z,Y){if(!this.buffer)return this.yield(this._tree.nextChild(J<0?this._tree._tree.children.length-1:0,J,Z,Y,this.mode));let{buffer:q}=this.buffer,X=q.findChild(this.index+4,q.buffer[this.index+3],J,Z-this.buffer.start,Y);if(X<0)return!1;return this.stack.push(this.index),this.yieldBuf(X)}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(J){return this.enterChild(1,J,2)}childBefore(J){return this.enterChild(-1,J,-2)}enter(J,Z,Y=this.mode){if(!this.buffer)return this.yield(this._tree.enter(J,Z,Y));return Y&R0.ExcludeBuffers?!1:this.enterChild(1,J,Z)}parent(){if(!this.buffer)return this.yieldNode(this.mode&R0.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let J=this.mode&R0.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(J)}sibling(J){if(!this.buffer)return!this._tree._parent?!1:this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+J,J,0,4,this.mode));let{buffer:Z}=this.buffer,Y=this.stack.length-1;if(J<0){let q=Y<0?0:this.stack[Y]+4;if(this.index!=q)return this.yieldBuf(Z.findChild(q,this.index,-1,0,4))}else{let q=Z.buffer[this.index+3];if(q<(Y<0?Z.buffer.length:Z.buffer[this.stack[Y]+3]))return this.yieldBuf(q)}return Y<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+J,J,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(J){let Z,Y,{buffer:q}=this;if(q){if(J>0){if(this.index<q.buffer.buffer.length)return!1}else for(let X=0;X<this.index;X++)if(q.buffer.buffer[X+3]<this.index)return!1;({index:Z,parent:Y}=q)}else({index:Z,_parent:Y}=this._tree);for(;Y;{index:Z,_parent:Y}=Y)if(Z>-1)for(let X=Z+J,Q=J<0?-1:Y._tree.children.length;X!=Q;X+=J){let K=Y._tree.children[X];if(this.mode&R0.IncludeAnonymous||K instanceof s5||!K.type.isAnonymous||lZ(K))return!1}return!0}move(J,Z){if(Z&&this.enterChild(J,0,4))return!0;for(;;){if(this.sibling(J))return!0;if(this.atLastNode(J)||!this.parent())return!1}}next(J=!0){return this.move(1,J)}prev(J=!0){return this.move(-1,J)}moveTo(J,Z=0){while(this.from==this.to||(Z<1?this.from>=J:this.from>J)||(Z>-1?this.to<=J:this.to<J))if(!this.parent())break;while(this.enterChild(1,J,Z));return this}get node(){if(!this.buffer)return this._tree;let J=this.bufferNode,Z=null,Y=0;if(J&&J.context==this.buffer)J:for(let q=this.index,X=this.stack.length;X>=0;){for(let Q=J;Q;Q=Q._parent)if(Q.index==q){if(q==this.index)return Q;Z=Q,Y=X+1;break J}q=this.stack[--X]}for(let q=Y;q<this.stack.length;q++)Z=new z5(this.buffer,Z,this.stack[q]);return this.bufferNode=new z5(this.buffer,Z,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(J,Z){for(let Y=0;;){let q=!1;if(this.type.isAnonymous||J(this)!==!1){if(this.firstChild()){Y++;continue}if(!this.type.isAnonymous)q=!0}for(;;){if(q&&Z)Z(this);if(q=this.type.isAnonymous,!Y)return;if(this.nextSibling())break;this.parent(),Y--,q=!0}}}matchContext(J){if(!this.buffer)return mZ(this.node.parent,J);let{buffer:Z}=this.buffer,{types:Y}=Z.set;for(let q=J.length-1,X=this.stack.length-1;q>=0;X--){if(X<0)return mZ(this._tree,J,q);let Q=Y[Z.buffer[this.stack[X]]];if(!Q.isAnonymous){if(J[q]&&J[q]!=Q.name)return!1;q--}}return!0}}function lZ(J){return J.children.some((Z)=>Z instanceof s5||!Z.type.isAnonymous||lZ(Z))}function rA(J){var Z;let{buffer:Y,nodeSet:q,maxBufferLength:X=1024,reused:Q=[],minRepeatType:K=q.types.length}=J,$=Array.isArray(Y)?new gZ(Y,Y.length):Y,U=q.types,j=0,W=0;function G(E,u,x,s,Z0,z0){let{id:t,start:c,end:j0,size:Q0}=$,_0=W,e0=j;if(Q0<0)if($.next(),Q0==-1){let L5=Q[t];x.push(L5),s.push(c-E);return}else if(Q0==-3){j=t;return}else if(Q0==-4){W=t;return}else throw RangeError(`Unrecognized record size: ${Q0}`);let _1=U[t],Y5,m0,D1=c-E;if(j0-c<=X&&(m0=A($.pos-u,Z0))){let L5=new Uint16Array(m0.size-m0.skip),L1=$.pos-m0.size,q5=L5.length;while($.pos>L1)q5=M(m0.start,L5,q5);Y5=new s5(L5,j0-m0.start,q),D1=m0.start-E}else{let L5=$.pos-Q0;$.next();let L1=[],q5=[],UJ=t>=K?t:-1,sJ=0,P7=j0;while($.pos>L5)if(UJ>=0&&$.id==UJ&&$.size>=0){if($.end<=P7-X)_(L1,q5,c,sJ,$.end,P7,UJ,_0,e0),sJ=L1.length,P7=$.end;$.next()}else if(z0>2500)z(c,L5,L1,q5);else G(c,L5,L1,q5,UJ,z0+1);if(UJ>=0&&sJ>0&&sJ<L1.length)_(L1,q5,c,sJ,c,P7,UJ,_0,e0);if(L1.reverse(),q5.reverse(),UJ>-1&&sJ>0){let Lq=O(_1,e0);Y5=pZ(_1,L1,q5,0,L1.length,0,j0-c,Lq,Lq)}else Y5=N(_1,L1,q5,j0-c,_0-j0,e0)}x.push(Y5),s.push(D1)}function z(E,u,x,s){let Z0=[],z0=0,t=-1;while($.pos>u){let{id:c,start:j0,end:Q0,size:_0}=$;if(_0>4)$.next();else if(t>-1&&j0<t)break;else{if(t<0)t=Q0-X;Z0.push(c,j0,Q0),z0++,$.next()}}if(z0){let c=new Uint16Array(z0*4),j0=Z0[Z0.length-2];for(let Q0=Z0.length-3,_0=0;Q0>=0;Q0-=3)c[_0++]=Z0[Q0],c[_0++]=Z0[Q0+1]-j0,c[_0++]=Z0[Q0+2]-j0,c[_0++]=_0;x.push(new s5(c,Z0[2]-j0,q)),s.push(j0-E)}}function O(E,u){return(x,s,Z0)=>{let z0=0,t=x.length-1,c,j0;if(t>=0&&(c=x[t])instanceof P0){if(!t&&c.type==E&&c.length==Z0)return c;if(j0=c.prop(i.lookAhead))z0=s[t]+c.length+j0}return N(E,x,s,Z0,z0,u)}}function _(E,u,x,s,Z0,z0,t,c,j0){let Q0=[],_0=[];while(E.length>s)Q0.push(E.pop()),_0.push(u.pop()+x-Z0);E.push(N(q.types[t],Q0,_0,z0-Z0,c-z0,j0)),u.push(Z0-x)}function N(E,u,x,s,Z0,z0,t){if(z0){let c=[i.contextHash,z0];t=t?[c].concat(t):[c]}if(Z0>25){let c=[i.lookAhead,Z0];t=t?[c].concat(t):[c]}return new P0(E,u,x,s,t)}function A(E,u){let x=$.fork(),s=0,Z0=0,z0=0,t=x.end-X,c={size:0,start:0,skip:0};J:for(let j0=x.pos-E;x.pos>j0;){let Q0=x.size;if(x.id==u&&Q0>=0){c.size=s,c.start=Z0,c.skip=z0,z0+=4,s+=4,x.next();continue}let _0=x.pos-Q0;if(Q0<0||_0<j0||x.start<t)break;let e0=x.id>=K?4:0,_1=x.start;x.next();while(x.pos>_0){if(x.size<0)if(x.size==-3||x.size==-4)e0+=4;else break J;else if(x.id>=K)e0+=4;x.next()}Z0=_1,s+=Q0,z0+=e0}if(u<0||s==E)c.size=s,c.start=Z0,c.skip=z0;return c.size>4?c:void 0}function M(E,u,x){let{id:s,start:Z0,end:z0,size:t}=$;if($.next(),t>=0&&s<K){let c=x;if(t>4){let j0=$.pos-(t-4);while($.pos>j0)x=M(E,u,x)}u[--x]=c,u[--x]=z0-E,u[--x]=Z0-E,u[--x]=s}else if(t==-3)j=s;else if(t==-4)W=s;return x}let V=[],D=[];while($.pos>0)G(J.start||0,J.bufferStart||0,V,D,-1,0);let P=(Z=J.length)!==null&&Z!==void 0?Z:V.length?D[0]+V[0].length:0;return new P0(U[J.topID],V.reverse(),D.reverse(),P)}var KU=new WeakMap;function p9(J,Z){if(!J.isAnonymous||Z instanceof s5||Z.type!=J)return 1;let Y=KU.get(Z);if(Y==null){Y=1;for(let q of Z.children){if(q.type!=J||!(q instanceof P0)){Y=1;break}Y+=p9(J,q)}KU.set(Z,Y)}return Y}function pZ(J,Z,Y,q,X,Q,K,$,U){let j=0;for(let _=q;_<X;_++)j+=p9(J,Z[_]);let W=Math.ceil(j*1.5/8),G=[],z=[];function O(_,N,A,M,V){for(let D=A;D<M;){let P=D,E=N[D],u=p9(J,_[D]);D++;for(;D<M;D++){let x=p9(J,_[D]);if(u+x>=W)break;u+=x}if(D==P+1){if(u>W){let x=_[P];O(x.children,x.positions,0,x.children.length,N[P]+V);continue}G.push(_[P])}else{let x=N[D-1]+_[D-1].length-E;G.push(pZ(J,_,N,P,D,E,x,null,U))}z.push(E+V-Q)}}return O(Z,Y,q,X,0),($||U)(G,z,K)}class dZ{constructor(){this.map=new WeakMap}setBuffer(J,Z,Y){let q=this.map.get(J);if(!q)this.map.set(J,q=new Map);q.set(Z,Y)}getBuffer(J,Z){let Y=this.map.get(J);return Y&&Y.get(Z)}set(J,Z){if(J instanceof z5)this.setBuffer(J.context.buffer,J.index,Z);else if(J instanceof U1)this.map.set(J.tree,Z)}get(J){return J instanceof z5?this.getBuffer(J.context.buffer,J.index):J instanceof U1?this.map.get(J.tree):void 0}cursorSet(J,Z){if(J.buffer)this.setBuffer(J.buffer.buffer,J.index,Z);else this.map.set(J.tree,Z)}cursorGet(J){return J.buffer?this.getBuffer(J.buffer.buffer,J.index):this.map.get(J.tree)}}class a5{constructor(J,Z,Y,q,X=!1,Q=!1){this.from=J,this.to=Z,this.tree=Y,this.offset=q,this.open=(X?1:0)|(Q?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(J,Z=[],Y=!1){let q=[new a5(0,J.length,J,0,!1,Y)];for(let X of Z)if(X.to>J.length)q.push(X);return q}static applyChanges(J,Z,Y=128){if(!Z.length)return J;let q=[],X=1,Q=J.length?J[0]:null;for(let K=0,$=0,U=0;;K++){let j=K<Z.length?Z[K]:null,W=j?j.fromA:1e9;if(W-$>=Y)while(Q&&Q.from<W){let G=Q;if($>=G.from||W<=G.to||U){let z=Math.max(G.from,$)-U,O=Math.min(G.to,W)-U;G=z>=O?null:new a5(z,O,G.tree,G.offset+U,K>0,!!j)}if(G)q.push(G);if(Q.to>W)break;Q=X<J.length?J[X++]:null}if(!j)break;$=j.toA,U=j.toA-j.toB}return q}}class l3{startParse(J,Z,Y){if(typeof J=="string")J=new zU(J);return Y=!Y?[new l9(0,J.length)]:Y.length?Y.map((q)=>new l9(q.from,q.to)):[new l9(0,0)],this.createParse(J,Z||[],Y)}parse(J,Z,Y){let q=this.startParse(J,Z,Y);for(;;){let X=q.advance();if(X)return X}}}class zU{constructor(J){this.string=J}get length(){return this.string.length}chunk(J){return this.string.slice(J)}get lineChunks(){return!1}read(J,Z){return this.string.slice(J,Z)}}var FP=new i({perNode:!0});var oA=0;class T1{constructor(J,Z,Y,q){this.name=J,this.set=Z,this.base=Y,this.modified=q,this.id=oA++}toString(){let{name:J}=this;for(let Z of this.modified)if(Z.name)J=`${Z.name}(${J})`;return J}static define(J,Z){let Y=typeof J=="string"?J:"?";if(J instanceof T1)Z=J;if(Z===null||Z===void 0?void 0:Z.base)throw Error("Can not derive from a modified tag");let q=new T1(Y,[],null,[]);if(q.set.push(q),Z)for(let X of Z.set)q.set.push(X);return q}static defineModifier(J){let Z=new s9(J);return(Y)=>{if(Y.modified.indexOf(Z)>-1)return Y;return s9.get(Y.base||Y,Y.modified.concat(Z).sort((q,X)=>q.id-X.id))}}}var tA=0;class s9{constructor(J){this.name=J,this.instances=[],this.id=tA++}static get(J,Z){if(!Z.length)return J;let Y=Z[0].instances.find((K)=>K.base==J&&eA(Z,K.modified));if(Y)return Y;let q=[],X=new T1(J.name,q,J,Z);for(let K of Z)K.instances.push(X);let Q=JF(Z);for(let K of J.set)if(!K.modified.length)for(let $ of Q)q.push(s9.get(K,$));return X}}function eA(J,Z){return J.length==Z.length&&J.every((Y,q)=>Y==Z[q])}function JF(J){let Z=[[]];for(let Y=0;Y<J.length;Y++)for(let q=0,X=Z.length;q<X;q++)Z.push(Z[q].concat(J[Y]));return Z.sort((Y,q)=>q.length-Y.length)}function a9(J){let Z=Object.create(null);for(let Y in J){let q=J[Y];if(!Array.isArray(q))q=[q];for(let X of Y.split(" "))if(X){let Q=[],K=2,$=X;for(let G=0;;){if($=="..."&&G>0&&G+3==X.length){K=1;break}let z=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec($);if(!z)throw RangeError("Invalid path: "+X);if(Q.push(z[0]=="*"?"":z[0][0]=='"'?JSON.parse(z[0]):z[0]),G+=z[0].length,G==X.length)break;let O=X[G++];if(G==X.length&&O=="!"){K=0;break}if(O!="/")throw RangeError("Invalid path: "+X);$=X.slice(G)}let U=Q.length-1,j=Q[U];if(!j)throw RangeError("Invalid path: "+X);let W=new L4(q,K,U>0?Q.slice(0,U):null);Z[j]=W.sort(Z[j])}}return HU.add(Z)}var HU=new i({combine(J,Z){let Y,q,X;while(J||Z){if(!J||Z&&J.depth>=Z.depth)X=Z,Z=Z.next;else X=J,J=J.next;if(Y&&Y.mode==X.mode&&!X.context&&!Y.context)continue;let Q=new L4(X.tags,X.mode,X.context);if(Y)Y.next=Q;else q=Q;Y=Q}return q}});class L4{constructor(J,Z,Y,q){this.tags=J,this.mode=Z,this.context=Y,this.next=q}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(J){if(!J||J.depth<this.depth)return this.next=J,this;return J.next=this.sort(J.next),J}get depth(){return this.context?this.context.length:0}}L4.empty=new L4([],2,null);function iZ(J,Z){let Y=Object.create(null);for(let Q of J)if(!Array.isArray(Q.tag))Y[Q.tag.id]=Q.class;else for(let K of Q.tag)Y[K.id]=Q.class;let{scope:q,all:X=null}=Z||{};return{style:(Q)=>{let K=X;for(let $ of Q)for(let U of $.set){let j=Y[U.id];if(j){K=K?K+" "+j:j;break}}return K},scope:q}}function ZF(J,Z){let Y=null;for(let q of J){let X=q.style(Z);if(X)Y=Y?Y+" "+X:X}return Y}function NU(J,Z,Y,q=0,X=J.length){let Q=new RU(q,Array.isArray(Z)?Z:[Z],Y);Q.highlightRange(J.cursor(),q,X,"",Q.highlighters),Q.flush(X)}class RU{constructor(J,Z,Y){this.at=J,this.highlighters=Z,this.span=Y,this.class=""}startSpan(J,Z){if(Z!=this.class){if(this.flush(J),J>this.at)this.at=J;this.class=Z}}flush(J){if(J>this.at&&this.class)this.span(this.at,J,this.class)}highlightRange(J,Z,Y,q,X){let{type:Q,from:K,to:$}=J;if(K>=Y||$<=Z)return;if(Q.isTop)X=this.highlighters.filter((z)=>!z.scope||z.scope(Q));let U=q,j=YF(J)||L4.empty,W=ZF(X,j.tags);if(W){if(U)U+=" ";if(U+=W,j.mode==1)q+=(q?" ":"")+W}if(this.startSpan(Math.max(Z,K),U),j.opaque)return;let G=J.tree&&J.tree.prop(i.mounted);if(G&&G.overlay){let z=J.node.enter(G.overlay[0].from+K,1),O=this.highlighters.filter((N)=>!N.scope||N.scope(G.tree.type)),_=J.firstChild();for(let N=0,A=K;;N++){let M=N<G.overlay.length?G.overlay[N]:null,V=M?M.from+K:$,D=Math.max(Z,A),P=Math.min(Y,V);if(D<P&&_){while(J.from<P)if(this.highlightRange(J,D,P,q,X),this.startSpan(Math.min(P,J.to),U),J.to>=V||!J.nextSibling())break}if(!M||V>Y)break;if(A=M.to+K,A>Z)this.highlightRange(z.cursor(),Math.max(Z,M.from+K),Math.min(Y,A),"",O),this.startSpan(Math.min(Y,A),U)}if(_)J.parent()}else if(J.firstChild()){if(G)q="";do{if(J.to<=Z)continue;if(J.from>=Y)break;this.highlightRange(J,Z,Y,q,X),this.startSpan(Math.min(Y,J.to),U)}while(J.nextSibling());J.parent()}}}function YF(J){let Z=J.type.prop(HU);while(Z&&Z.context&&!J.matchContext(Z.context))Z=Z.next;return Z||null}var T=T1.define,c9=T(),r5=T(),OU=T(r5),_U=T(r5),o5=T(),n9=T(o5),cZ=T(o5),H5=T(),xJ=T(H5),O5=T(),_5=T(),nZ=T(),p3=T(nZ),i9=T(),I={comment:c9,lineComment:T(c9),blockComment:T(c9),docComment:T(c9),name:r5,variableName:T(r5),typeName:OU,tagName:T(OU),propertyName:_U,attributeName:T(_U),className:T(r5),labelName:T(r5),namespace:T(r5),macroName:T(r5),literal:o5,string:n9,docString:T(n9),character:T(n9),attributeValue:T(n9),number:cZ,integer:T(cZ),float:T(cZ),bool:T(o5),regexp:T(o5),escape:T(o5),color:T(o5),url:T(o5),keyword:O5,self:T(O5),null:T(O5),atom:T(O5),unit:T(O5),modifier:T(O5),operatorKeyword:T(O5),controlKeyword:T(O5),definitionKeyword:T(O5),moduleKeyword:T(O5),operator:_5,derefOperator:T(_5),arithmeticOperator:T(_5),logicOperator:T(_5),bitwiseOperator:T(_5),compareOperator:T(_5),updateOperator:T(_5),definitionOperator:T(_5),typeOperator:T(_5),controlOperator:T(_5),punctuation:nZ,separator:T(nZ),bracket:p3,angleBracket:T(p3),squareBracket:T(p3),paren:T(p3),brace:T(p3),content:H5,heading:xJ,heading1:T(xJ),heading2:T(xJ),heading3:T(xJ),heading4:T(xJ),heading5:T(xJ),heading6:T(xJ),contentSeparator:T(H5),list:T(H5),quote:T(H5),emphasis:T(H5),strong:T(H5),link:T(H5),monospace:T(H5),strikethrough:T(H5),inserted:T(),deleted:T(),changed:T(),invalid:T(),meta:i9,documentMeta:T(i9),annotation:T(i9),processingInstruction:T(i9),definition:T1.defineModifier("definition"),constant:T1.defineModifier("constant"),function:T1.defineModifier("function"),standard:T1.defineModifier("standard"),local:T1.defineModifier("local"),special:T1.defineModifier("special")};for(let J in I){let Z=I[J];if(Z instanceof T1)Z.name=J}var IP=iZ([{tag:I.link,class:"tok-link"},{tag:I.heading,class:"tok-heading"},{tag:I.emphasis,class:"tok-emphasis"},{tag:I.strong,class:"tok-strong"},{tag:I.keyword,class:"tok-keyword"},{tag:I.atom,class:"tok-atom"},{tag:I.bool,class:"tok-bool"},{tag:I.url,class:"tok-url"},{tag:I.labelName,class:"tok-labelName"},{tag:I.inserted,class:"tok-inserted"},{tag:I.deleted,class:"tok-deleted"},{tag:I.literal,class:"tok-literal"},{tag:I.string,class:"tok-string"},{tag:I.number,class:"tok-number"},{tag:[I.regexp,I.escape,I.special(I.string)],class:"tok-string2"},{tag:I.variableName,class:"tok-variableName"},{tag:I.local(I.variableName),class:"tok-variableName tok-local"},{tag:I.definition(I.variableName),class:"tok-variableName tok-definition"},{tag:I.special(I.variableName),class:"tok-variableName2"},{tag:I.definition(I.propertyName),class:"tok-propertyName tok-definition"},{tag:I.typeName,class:"tok-typeName"},{tag:I.namespace,class:"tok-namespace"},{tag:I.className,class:"tok-className"},{tag:I.macroName,class:"tok-macroName"},{tag:I.propertyName,class:"tok-propertyName"},{tag:I.operator,class:"tok-operator"},{tag:I.comment,class:"tok-comment"},{tag:I.meta,class:"tok-meta"},{tag:I.invalid,class:"tok-invalid"},{tag:I.punctuation,class:"tok-punctuation"}]);var sZ,B4=new i;function ZY(J){return b.define({combine:J?(Z)=>Z.concat(J):void 0})}var J6=new i;class y1{constructor(J,Z,Y=[],q=""){if(this.data=J,this.name=q,!o.prototype.hasOwnProperty("tree"))Object.defineProperty(o.prototype,"tree",{get(){return C0(this)}});this.parser=Z,this.extension=[t5.of(this),o.languageData.of((X,Q,K)=>{let $=AU(X,Q,K),U=$.type.prop(B4);if(!U)return[];let j=X.facet(U),W=$.type.prop(J6);if(W){let G=$.resolve(Q-$.from,K);for(let z of W)if(z.test(G,X)){let O=X.facet(z.facet);return z.type=="replace"?O:O.concat(j)}}return j})].concat(Y)}isActiveAt(J,Z,Y=-1){return AU(J,Z,Y).type.prop(B4)==this.data}findRegions(J){let Z=J.facet(t5);if((Z===null||Z===void 0?void 0:Z.data)==this.data)return[{from:0,to:J.doc.length}];if(!Z||!Z.allowsNesting)return[];let Y=[],q=(X,Q)=>{if(X.prop(B4)==this.data){Y.push({from:Q,to:Q+X.length});return}let K=X.prop(i.mounted);if(K){if(K.tree.prop(B4)==this.data){if(K.overlay)for(let $ of K.overlay)Y.push({from:$.from+Q,to:$.to+Q});else Y.push({from:Q,to:Q+X.length});return}else if(K.overlay){let $=Y.length;if(q(K.tree,K.overlay[0].from+Q),Y.length>$)return}}for(let $=0;$<X.children.length;$++){let U=X.children[$];if(U instanceof P0)q(U,X.positions[$]+Q)}};return q(C0(J),0),Y}get allowsNesting(){return!0}}y1.setState=p.define();function AU(J,Z,Y){let q=J.facet(t5),X=C0(J).topNode;if(!q||q.allowsNesting){for(let Q=X;Q;Q=Q.enter(Z,Y,R0.ExcludeBuffers|R0.EnterBracketed))if(Q.type.isTop)X=Q}return X}class c3 extends y1{constructor(J,Z,Y){super(J,Z,[],Y);this.parser=Z}static define(J){let Z=ZY(J.languageData);return new c3(Z,J.parser.configure({props:[B4.add((Y)=>Y.isTop?Z:void 0)]}),J.name)}configure(J,Z){return new c3(this.data,this.parser.configure(J),Z||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function C0(J){let Z=J.field(y1.state,!1);return Z?Z.tree:P0.empty}class BU{constructor(J){this.doc=J,this.cursorPos=0,this.string="",this.cursor=J.iter()}get length(){return this.doc.length}syncTo(J){return this.string=this.cursor.next(J-this.cursorPos).value,this.cursorPos=J+this.string.length,this.cursorPos-this.string.length}chunk(J){return this.syncTo(J),this.string}get lineChunks(){return!0}read(J,Z){let Y=this.cursorPos-this.string.length;if(J<Y||Z>=this.cursorPos)return this.doc.sliceString(J,Z);else return this.string.slice(J-Y,Z-Y)}}var d3=null;class o9{constructor(J,Z,Y=[],q,X,Q,K,$){this.parser=J,this.state=Z,this.fragments=Y,this.tree=q,this.treeLen=X,this.viewport=Q,this.skipped=K,this.scheduleOn=$,this.parse=null,this.tempSkipped=[]}static create(J,Z,Y){return new o9(J,Z,[],P0.empty,0,Y,[],null)}startParse(){return this.parser.startParse(new BU(this.state.doc),this.fragments)}work(J,Z){if(Z!=null&&Z>=this.state.doc.length)Z=void 0;if(this.tree!=P0.empty&&this.isDone(Z!==null&&Z!==void 0?Z:this.state.doc.length))return this.takeTree(),!0;return this.withContext(()=>{var Y;if(typeof J=="number"){let q=Date.now()+J;J=()=>Date.now()>q}if(!this.parse)this.parse=this.startParse();if(Z!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>Z)&&Z<this.state.doc.length)this.parse.stopAt(Z);for(;;){let q=this.parse.advance();if(q)if(this.fragments=this.withoutTempSkipped(a5.addTree(q,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(Y=this.parse.stoppedAt)!==null&&Y!==void 0?Y:this.state.doc.length,this.tree=q,this.parse=null,this.treeLen<(Z!==null&&Z!==void 0?Z:this.state.doc.length))this.parse=this.startParse();else return!0;if(J())return!1}})}takeTree(){let J,Z;if(this.parse&&(J=this.parse.parsedPos)>=this.treeLen){if(this.parse.stoppedAt==null||this.parse.stoppedAt>J)this.parse.stopAt(J);this.withContext(()=>{while(!(Z=this.parse.advance()));}),this.treeLen=J,this.tree=Z,this.fragments=this.withoutTempSkipped(a5.addTree(this.tree,this.fragments,!0)),this.parse=null}}withContext(J){let Z=d3;d3=this;try{return J()}finally{d3=Z}}withoutTempSkipped(J){for(let Z;Z=this.tempSkipped.pop();)J=FU(J,Z.from,Z.to);return J}changes(J,Z){let{fragments:Y,tree:q,treeLen:X,viewport:Q,skipped:K}=this;if(this.takeTree(),!J.empty){let $=[];if(J.iterChangedRanges((U,j,W,G)=>$.push({fromA:U,toA:j,fromB:W,toB:G})),Y=a5.applyChanges(Y,$),q=P0.empty,X=0,Q={from:J.mapPos(Q.from,-1),to:J.mapPos(Q.to,1)},this.skipped.length){K=[];for(let U of this.skipped){let j=J.mapPos(U.from,1),W=J.mapPos(U.to,-1);if(j<W)K.push({from:j,to:W})}}}return new o9(this.parser,Z,Y,q,X,Q,K,this.scheduleOn)}updateViewport(J){if(this.viewport.from==J.from&&this.viewport.to==J.to)return!1;this.viewport=J;let Z=this.skipped.length;for(let Y=0;Y<this.skipped.length;Y++){let{from:q,to:X}=this.skipped[Y];if(q<J.to&&X>J.from)this.fragments=FU(this.fragments,q,X),this.skipped.splice(Y--,1)}if(this.skipped.length>=Z)return!1;return this.reset(),!0}reset(){if(this.parse)this.takeTree(),this.parse=null}skipUntilInView(J,Z){this.skipped.push({from:J,to:Z})}static getSkippingParser(J){return new class extends l3{createParse(Z,Y,q){let X=q[0].from,Q=q[q.length-1].to;return{parsedPos:X,advance(){let $=d3;if($){for(let U of q)$.tempSkipped.push(U);if(J)$.scheduleOn=$.scheduleOn?Promise.all([$.scheduleOn,J]):J}return this.parsedPos=Q,new P0(s0.none,[],[],Q-X)},stoppedAt:null,stopAt(){}}}}}isDone(J){J=Math.min(J,this.state.doc.length);let Z=this.fragments;return this.treeLen>=J&&Z.length&&Z[0].from==0&&Z[0].to>=J}static get(){return d3}}function FU(J,Z,Y){return a5.applyChanges(J,[{fromA:Z,toA:Y,fromB:Z,toB:Y}])}class P4{constructor(J){this.context=J,this.tree=J.tree}apply(J){if(!J.docChanged&&this.tree==this.context.tree)return this;let Z=this.context.changes(J.changes,J.state),Y=this.context.treeLen==J.startState.doc.length?void 0:Math.max(J.changes.mapPos(this.context.treeLen),Z.viewport.to);if(!Z.work(20,Y))Z.takeTree();return new P4(Z)}static init(J){let Z=Math.min(3000,J.doc.length),Y=o9.create(J.facet(t5).parser,J,{from:0,to:Z});if(!Y.work(20,Z))Y.takeTree();return new P4(Y)}}y1.state=M0.define({create:P4.init,update(J,Z){for(let Y of Z.effects)if(Y.is(y1.setState))return Y.value;if(Z.startState.facet(t5)!=Z.state.facet(t5))return P4.init(Z.state);return J.apply(Z)}});var PU=(J)=>{let Z=setTimeout(()=>J(),500);return()=>clearTimeout(Z)};if(typeof requestIdleCallback<"u")PU=(J)=>{let Z=-1,Y=setTimeout(()=>{Z=requestIdleCallback(J,{timeout:400})},100);return()=>Z<0?clearTimeout(Y):cancelIdleCallback(Z)};var aZ=typeof navigator<"u"&&((sZ=navigator.scheduling)===null||sZ===void 0?void 0:sZ.isInputPending)?()=>navigator.scheduling.isInputPending():null,qF=N0.fromClass(class{constructor(Z){this.view=Z,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(Z){let Y=this.view.state.field(y1.state).context;if(Y.updateViewport(Z.view.viewport)||this.view.viewport.to>Y.treeLen)this.scheduleWork();if(Z.docChanged||Z.selectionSet){if(this.view.hasFocus)this.chunkBudget+=50;this.scheduleWork()}this.checkAsyncSchedule(Y)}scheduleWork(){if(this.working)return;let{state:Z}=this.view,Y=Z.field(y1.state);if(Y.tree!=Y.context.tree||!Y.context.isDone(Z.doc.length))this.working=PU(this.work)}work(Z){this.working=null;let Y=Date.now();if(this.chunkEnd<Y&&(this.chunkEnd<0||this.view.hasFocus))this.chunkEnd=Y+30000,this.chunkBudget=3000;if(this.chunkBudget<=0)return;let{state:q,viewport:{to:X}}=this.view,Q=q.field(y1.state);if(Q.tree==Q.context.tree&&Q.context.isDone(X+1e5))return;let K=Date.now()+Math.min(this.chunkBudget,100,Z&&!aZ?Math.max(25,Z.timeRemaining()-5):1e9),$=Q.context.treeLen<X&&q.doc.length>X+1000,U=Q.context.work(()=>{return aZ&&aZ()||Date.now()>K},X+($?0:1e5));if(this.chunkBudget-=Date.now()-Y,U||this.chunkBudget<=0)Q.context.takeTree(),this.view.dispatch({effects:y1.setState.of(new P4(Q.context))});if(this.chunkBudget>0&&!(U&&!$))this.scheduleWork();this.checkAsyncSchedule(Q.context)}checkAsyncSchedule(Z){if(Z.scheduleOn)this.workScheduled++,Z.scheduleOn.then(()=>this.scheduleWork()).catch((Y)=>l0(this.view.state,Y)).then(()=>this.workScheduled--),Z.scheduleOn=null}destroy(){if(this.working)this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),t5=b.define({combine(J){return J.length?J[0]:null},enables:(J)=>[y1.state,qF,C.contentAttributes.compute([J],(Z)=>{let Y=Z.facet(J);return Y&&Y.name?{"data-language":Y.name}:{}})]});class Z6{constructor(J,Z=[]){this.language=J,this.support=Z,this.extension=[J,Z]}}var XF=b.define(),E4=b.define({combine:(J)=>{if(!J.length)return"  ";let Z=J[0];if(!Z||/\S/.test(Z)||Array.from(Z).some((Y)=>Y!=Z[0]))throw Error("Invalid indent unit: "+JSON.stringify(J[0]));return Z}});function n3(J){let Z=J.facet(E4);return Z.charCodeAt(0)==9?J.tabSize*Z.length:Z.length}function C4(J,Z){let Y="",q=J.tabSize,X=J.facet(E4)[0];if(X=="\t"){while(Z>=q)Y+="\t",Z-=q;X=" "}for(let Q=0;Q<Z;Q++)Y+=X;return Y}function Y6(J,Z){if(J instanceof o)J=new T4(J);for(let q of J.state.facet(XF)){let X=q(J,Z);if(X!==void 0)return X}let Y=C0(J.state);return Y.length>=Z?QF(J,Y,Z):null}class T4{constructor(J,Z={}){this.state=J,this.options=Z,this.unit=n3(J)}lineAt(J,Z=1){let Y=this.state.doc.lineAt(J),{simulateBreak:q,simulateDoubleBreak:X}=this.options;if(q!=null&&q>=Y.from&&q<=Y.to)if(X&&q==J)return{text:"",from:J};else if(Z<0?q<J:q<=J)return{text:Y.text.slice(q-Y.from),from:q};else return{text:Y.text.slice(0,q-Y.from),from:Y.from};return Y}textAfterPos(J,Z=1){if(this.options.simulateDoubleBreak&&J==this.options.simulateBreak)return"";let{text:Y,from:q}=this.lineAt(J,Z);return Y.slice(J-q,Math.min(Y.length,J+100-q))}column(J,Z=1){let{text:Y,from:q}=this.lineAt(J,Z),X=this.countColumn(Y,J-q),Q=this.options.overrideIndentation?this.options.overrideIndentation(q):-1;if(Q>-1)X+=Q-this.countColumn(Y,Y.search(/\S|$/));return X}countColumn(J,Z=J.length){return C5(J,this.state.tabSize,Z)}lineIndent(J,Z=1){let{text:Y,from:q}=this.lineAt(J,Z),X=this.options.overrideIndentation;if(X){let Q=X(q);if(Q>-1)return Q}return this.countColumn(Y,Y.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}var YY=new i;function QF(J,Z,Y){let q=Z.resolveStack(Y),X=Z.resolveInner(Y,-1).resolve(Y,0).enterUnfinishedNodesBefore(Y);if(X!=q.node){let Q=[];for(let K=X;K&&!(K.from<q.node.from||K.to>q.node.to||K.from==q.node.from&&K.type==q.node.type);K=K.parent)Q.push(K);for(let K=Q.length-1;K>=0;K--)q={node:Q[K],next:q}}return EU(q,J,Y)}function EU(J,Z,Y){for(let q=J;q;q=q.next){let X=$F(q.node);if(X)return X(qY.create(Z,Y,q))}return 0}function KF(J){return J.pos==J.options.simulateBreak&&J.options.simulateDoubleBreak}function $F(J){let Z=J.type.prop(YY);if(Z)return Z;let Y=J.firstChild,q;if(Y&&(q=Y.type.prop(i.closedBy))){let X=J.lastChild,Q=X&&q.indexOf(X.name)>-1;return(K)=>TU(K,!0,1,void 0,Q&&!KF(K)?X.from:void 0)}return J.parent==null?UF:null}function UF(){return 0}class qY extends T4{constructor(J,Z,Y){super(J.state,J.options);this.base=J,this.pos=Z,this.context=Y}get node(){return this.context.node}static create(J,Z,Y){return new qY(J,Z,Y)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(J){let Z=this.state.doc.lineAt(J.from);for(;;){let Y=J.resolve(Z.from);while(Y.parent&&Y.parent.from==Y.from)Y=Y.parent;if(WF(Y,J))break;Z=this.state.doc.lineAt(Y.from)}return this.lineIndent(Z.from)}continue(){return EU(this.context.next,this.base,this.pos)}}function WF(J,Z){for(let Y=Z;Y;Y=Y.parent)if(J==Y)return!0;return!1}function jF(J){let Z=J.node,Y=Z.childAfter(Z.from),q=Z.lastChild;if(!Y)return null;let X=J.options.simulateBreak,Q=J.state.doc.lineAt(Y.from),K=X==null||X<=Q.from?Q.to:Math.min(Q.to,X);for(let $=Y.to;;){let U=Z.childAfter($);if(!U||U==q)return null;if(!U.type.isSkipped){if(U.from>=K)return null;let j=/^ */.exec(Q.text.slice(Y.to-Q.from))[0].length;return{from:Y.from,to:Y.to+j}}$=U.to}}function CU({closing:J,align:Z=!0,units:Y=1}){return(q)=>TU(q,Z,Y,J)}function TU(J,Z,Y,q,X){let Q=J.textAfter,K=Q.match(/^\s*/)[0].length,$=q&&Q.slice(K,K+q.length)==q||X==J.pos+K,U=Z?jF(J):null;if(U)return $?J.column(U.from):J.column(U.to);return J.baseIndent+($?0:J.unit*Y)}var yU=(J)=>J.baseIndent;function q6({except:J,units:Z=1}={}){return(Y)=>{let q=J&&J.test(Y.textAfter);return Y.baseIndent+(q?0:Z*Y.unit)}}var GF=200;function bU(){return o.transactionFilter.of((J)=>{if(!J.docChanged||!J.isUserEvent("input.type")&&!J.isUserEvent("input.complete"))return J;let Z=J.startState.languageDataAt("indentOnInput",J.startState.selection.main.head);if(!Z.length)return J;let Y=J.newDoc,{head:q}=J.newSelection.main,X=Y.lineAt(q);if(q>X.from+GF)return J;let Q=Y.sliceString(X.from,q);if(!Z.some((j)=>j.test(Q)))return J;let{state:K}=J,$=-1,U=[];for(let{head:j}of K.selection.ranges){let W=K.doc.lineAt(j);if(W.from==$)continue;$=W.from;let G=Y6(K,W.from);if(G==null)continue;let z=/^\s*/.exec(W.text)[0],O=C4(K,G);if(z!=O)U.push({from:W.from,to:W.from+z.length,insert:O})}return U.length?[J,{changes:U,sequential:!0}]:J})}var zF=b.define(),XY=new i;function SU(J){let{firstChild:Z,lastChild:Y}=J;return Z&&Z.to<Y.from?{from:Z.to,to:Y.type.isError?J.to:Y.from}:null}function OF(J,Z,Y){let q=C0(J);if(q.length<Y)return null;let X=q.resolveStack(Y,1),Q=null;for(let K=X;K;K=K.next){let $=K.node;if($.to<=Y||$.from>Y)continue;if(Q&&$.from<Z)break;let U=$.type.prop(XY);if(U&&($.to<q.length-50||q.length==J.doc.length||!_F($))){let j=U($,J);if(j&&j.from<=Y&&j.from>=Z&&j.to>Y)Q=j}}return Q}function _F(J){let Z=J.lastChild;return Z&&Z.to==J.to&&Z.type.isError}function t9(J,Z,Y){for(let q of J.facet(zF)){let X=q(J,Z,Y);if(X)return X}return OF(J,Z,Y)}function kU(J,Z){let Y=Z.mapPos(J.from,1),q=Z.mapPos(J.to,-1);return Y>=q?void 0:{from:Y,to:q}}var X6=p.define({map:kU}),i3=p.define({map:kU});function wU(J){let Z=[];for(let{head:Y}of J.state.selection.ranges){if(Z.some((q)=>q.from<=Y&&q.to>=Y))continue;Z.push(J.lineBlockAt(Y))}return Z}var hJ=M0.define({create(){return f.none},update(J,Z){if(Z.isUserEvent("delete"))Z.changes.iterChangedRanges((Y,q)=>J=MU(J,Y,q));J=J.map(Z.changes);for(let Y of Z.effects)if(Y.is(X6)&&!HF(J,Y.value.from,Y.value.to)){let{preparePlaceholder:q}=Z.state.facet(QY),X=!q?VU:f.replace({widget:new gU(q(Z.state,Y.value))});J=J.update({add:[X.range(Y.value.from,Y.value.to)]})}else if(Y.is(i3))J=J.update({filter:(q,X)=>Y.value.from!=q||Y.value.to!=X,filterFrom:Y.value.from,filterTo:Y.value.to});if(Z.selection)J=MU(J,Z.selection.main.head);return J},provide:(J)=>C.decorations.from(J),toJSON(J,Z){let Y=[];return J.between(0,Z.doc.length,(q,X)=>{Y.push(q,X)}),Y},fromJSON(J){if(!Array.isArray(J)||J.length%2)throw RangeError("Invalid JSON for fold state");let Z=[];for(let Y=0;Y<J.length;){let q=J[Y++],X=J[Y++];if(typeof q!="number"||typeof X!="number")throw RangeError("Invalid JSON for fold state");Z.push(VU.range(q,X))}return f.set(Z,!0)}});function MU(J,Z,Y=Z){let q=!1;return J.between(Z,Y,(X,Q)=>{if(X<Y&&Q>Z)q=!0}),!q?J:J.update({filterFrom:Z,filterTo:Y,filter:(X,Q)=>X>=Y||Q<=Z})}function e9(J,Z,Y){var q;let X=null;return(q=J.field(hJ,!1))===null||q===void 0||q.between(Z,Y,(Q,K)=>{if(!X||X.from>Q)X={from:Q,to:K}}),X}function HF(J,Z,Y){let q=!1;return J.between(Z,Z,(X,Q)=>{if(X==Z&&Q==Y)q=!0}),q}function xU(J,Z){return J.field(hJ,!1)?Z:Z.concat(p.appendConfig.of(uU()))}var NF=(J)=>{for(let Z of wU(J)){let Y=t9(J.state,Z.from,Z.to);if(Y)return J.dispatch({effects:xU(J.state,[X6.of(Y),hU(J,Y)])}),!0}return!1},RF=(J)=>{if(!J.state.field(hJ,!1))return!1;let Z=[];for(let Y of wU(J)){let q=e9(J.state,Y.from,Y.to);if(q)Z.push(i3.of(q),hU(J,q,!1))}if(Z.length)J.dispatch({effects:Z});return Z.length>0};function hU(J,Z,Y=!0){let q=J.state.doc.lineAt(Z.from).number,X=J.state.doc.lineAt(Z.to).number;return C.announce.of(`${J.state.phrase(Y?"Folded lines":"Unfolded lines")} ${q} ${J.state.phrase("to")} ${X}.`)}var AF=(J)=>{let{state:Z}=J,Y=[];for(let q=0;q<Z.doc.length;){let X=J.lineBlockAt(q),Q=t9(Z,X.from,X.to);if(Q)Y.push(X6.of(Q));q=(Q?J.lineBlockAt(Q.to):X).to+1}if(Y.length)J.dispatch({effects:xU(J.state,Y)});return!!Y.length},FF=(J)=>{let Z=J.state.field(hJ,!1);if(!Z||!Z.size)return!1;let Y=[];return Z.between(0,J.state.doc.length,(q,X)=>{Y.push(i3.of({from:q,to:X}))}),J.dispatch({effects:Y}),!0};var vU=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:NF},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:RF},{key:"Ctrl-Alt-[",run:AF},{key:"Ctrl-Alt-]",run:FF}],MF={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},QY=b.define({combine(J){return i0(J,MF)}});function uU(J){let Z=[hJ,IF];if(J)Z.push(QY.of(J));return Z}function mU(J,Z){let{state:Y}=J,q=Y.facet(QY),X=(K)=>{let $=J.lineBlockAt(J.posAtDOM(K.target)),U=e9(J.state,$.from,$.to);if(U)J.dispatch({effects:i3.of(U)});K.preventDefault()};if(q.placeholderDOM)return q.placeholderDOM(J,X,Z);let Q=document.createElement("span");return Q.textContent=q.placeholderText,Q.setAttribute("aria-label",Y.phrase("folded code")),Q.title=Y.phrase("unfold"),Q.className="cm-foldPlaceholder",Q.onclick=X,Q}var VU=f.replace({widget:new class extends $1{toDOM(J){return mU(J,null)}}});class gU extends $1{constructor(J){super();this.value=J}eq(J){return this.value==J.value}toDOM(J){return mU(J,this.value)}}var VF={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class r9 extends C1{constructor(J,Z){super();this.config=J,this.open=Z}eq(J){return this.config==J.config&&this.open==J.open}toDOM(J){if(this.config.markerDOM)return this.config.markerDOM(this.open);let Z=document.createElement("span");return Z.textContent=this.open?this.config.openText:this.config.closedText,Z.title=J.state.phrase(this.open?"Fold line":"Unfold line"),Z}}function fU(J={}){let Z={...VF,...J},Y=new r9(Z,!0),q=new r9(Z,!1),X=N0.fromClass(class{constructor(K){this.from=K.viewport.from,this.markers=this.buildMarkers(K)}update(K){if(K.docChanged||K.viewportChanged||K.startState.facet(t5)!=K.state.facet(t5)||K.startState.field(hJ,!1)!=K.state.field(hJ,!1)||C0(K.startState)!=C0(K.state)||Z.foldingChanged(K))this.markers=this.buildMarkers(K.view)}buildMarkers(K){let $=new J1;for(let U of K.viewportLineBlocks){let j=e9(K.state,U.from,U.to)?q:t9(K.state,U.from,U.to)?Y:null;if(j)$.add(U.from,U.from,j)}return $.finish()}}),{domEventHandlers:Q}=Z;return[X,vZ({class:"cm-foldGutter",markers(K){var $;return(($=K.plugin(X))===null||$===void 0?void 0:$.markers)||a.empty},initialSpacer(){return new r9(Z,!1)},domEventHandlers:{...Q,click:(K,$,U)=>{if(Q.click&&Q.click(K,$,U))return!0;let j=e9(K.state,$.from,$.to);if(j)return K.dispatch({effects:i3.of(j)}),!0;let W=t9(K.state,$.from,$.to);if(W)return K.dispatch({effects:X6.of(W)}),!0;return!1}}}),uU()]}var IF=C.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class y4{constructor(J,Z){this.specs=J;let Y;function q(K){let $=n1.newName();return(Y||(Y=Object.create(null)))["."+$]=K,$}let X=typeof Z.all=="string"?Z.all:Z.all?q(Z.all):void 0,Q=Z.scope;this.scope=Q instanceof y1?(K)=>K.prop(B4)==Q.data:Q?(K)=>K==Q:void 0,this.style=iZ(J.map((K)=>({tag:K.tag,class:K.class||q(Object.assign({},K,{tag:null}))})),{all:X}).style,this.module=Y?new n1(Y):null,this.themeType=Z.themeType}static define(J,Z){return new y4(J,Z||{})}}var tZ=b.define(),lU=b.define({combine(J){return J.length?[J[0]]:null}});function rZ(J){let Z=J.facet(tZ);return Z.length?Z:J.facet(lU)}function b4(J,Z){let Y=[DF],q;if(J instanceof y4){if(J.module)Y.push(C.styleModule.of(J.module));q=J.themeType}if(Z===null||Z===void 0?void 0:Z.fallback)Y.push(lU.of(J));else if(q)Y.push(tZ.computeN([C.darkTheme],(X)=>{return X.facet(C.darkTheme)==(q=="dark")?[J]:[]}));else Y.push(tZ.of(J));return Y}class pU{constructor(J){this.markCache=Object.create(null),this.tree=C0(J.state),this.decorations=this.buildDeco(J,rZ(J.state)),this.decoratedTo=J.viewport.to}update(J){let Z=C0(J.state),Y=rZ(J.state),q=Y!=rZ(J.startState),{viewport:X}=J.view,Q=J.changes.mapPos(this.decoratedTo,1);if(Z.length<X.to&&!q&&Z.type==this.tree.type&&Q>=X.to)this.decorations=this.decorations.map(J.changes),this.decoratedTo=Q;else if(Z!=this.tree||J.viewportChanged||q)this.tree=Z,this.decorations=this.buildDeco(J.view,Y),this.decoratedTo=X.to}buildDeco(J,Z){if(!Z||!this.tree.length)return f.none;let Y=new J1;for(let{from:q,to:X}of J.visibleRanges)NU(this.tree,Z,(Q,K,$)=>{Y.add(Q,K,this.markCache[$]||(this.markCache[$]=f.mark({class:$})))},q,X);return Y.finish()}}var DF=B1.high(N0.fromClass(pU,{decorations:(J)=>J.decorations})),Q6=y4.define([{tag:I.meta,color:"#404740"},{tag:I.link,textDecoration:"underline"},{tag:I.heading,textDecoration:"underline",fontWeight:"bold"},{tag:I.emphasis,fontStyle:"italic"},{tag:I.strong,fontWeight:"bold"},{tag:I.strikethrough,textDecoration:"line-through"},{tag:I.keyword,color:"#708"},{tag:[I.atom,I.bool,I.url,I.contentSeparator,I.labelName],color:"#219"},{tag:[I.literal,I.inserted],color:"#164"},{tag:[I.string,I.deleted],color:"#a11"},{tag:[I.regexp,I.escape,I.special(I.string)],color:"#e40"},{tag:I.definition(I.variableName),color:"#00f"},{tag:I.local(I.variableName),color:"#30a"},{tag:[I.typeName,I.namespace],color:"#085"},{tag:I.className,color:"#167"},{tag:[I.special(I.variableName),I.macroName],color:"#256"},{tag:I.definition(I.propertyName),color:"#00c"},{tag:I.comment,color:"#940"},{tag:I.invalid,color:"#f00"}]),LF=C.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),dU=1e4,cU="()[]{}",nU=b.define({combine(J){return i0(J,{afterCursor:!0,brackets:cU,maxScanDistance:dU,renderMatch:EF})}}),BF=f.mark({class:"cm-matchingBracket"}),PF=f.mark({class:"cm-nonmatchingBracket"});function EF(J){let Z=[],Y=J.matched?BF:PF;if(Z.push(Y.range(J.start.from,J.start.to)),J.end)Z.push(Y.range(J.end.from,J.end.to));return Z}var CF=M0.define({create(){return f.none},update(J,Z){if(!Z.docChanged&&!Z.selection)return J;let Y=[],q=Z.state.facet(nU);for(let X of Z.state.selection.ranges){if(!X.empty)continue;let Q=o1(Z.state,X.head,-1,q)||X.head>0&&o1(Z.state,X.head-1,1,q)||q.afterCursor&&(o1(Z.state,X.head,1,q)||X.head<Z.state.doc.length&&o1(Z.state,X.head+1,-1,q));if(Q)Y=Y.concat(q.renderMatch(Q,Z.state))}return f.set(Y,!0)},provide:(J)=>C.decorations.from(J)}),TF=[CF,LF];function iU(J={}){return[nU.of(J),TF]}var yF=new i;function eZ(J,Z,Y){let q=J.prop(Z<0?i.openedBy:i.closedBy);if(q)return q;if(J.name.length==1){let X=Y.indexOf(J.name);if(X>-1&&X%2==(Z<0?1:0))return[Y[X+Z]]}return null}function JY(J){let Z=J.type.prop(yF);return Z?Z(J.node):J}function o1(J,Z,Y,q={}){let X=q.maxScanDistance||dU,Q=q.brackets||cU,K=C0(J),$=K.resolveInner(Z,Y);for(let U=$;U;U=U.parent){let j=eZ(U.type,Y,Q);if(j&&U.from<U.to){let W=JY(U);if(W&&(Y>0?Z>=W.from&&Z<W.to:Z>W.from&&Z<=W.to))return bF(J,Z,Y,U,W,j,Q)}}return SF(J,Z,Y,K,$.type,X,Q)}function bF(J,Z,Y,q,X,Q,K){let $=q.parent,U={from:X.from,to:X.to},j=0,W=$===null||$===void 0?void 0:$.cursor();if(W&&(Y<0?W.childBefore(q.from):W.childAfter(q.to)))do if(Y<0?W.to<=q.from:W.from>=q.to){if(j==0&&Q.indexOf(W.type.name)>-1&&W.from<W.to){let G=JY(W);return{start:U,end:G?{from:G.from,to:G.to}:void 0,matched:!0}}else if(eZ(W.type,Y,K))j++;else if(eZ(W.type,-Y,K)){if(j==0){let G=JY(W);return{start:U,end:G&&G.from<G.to?{from:G.from,to:G.to}:void 0,matched:!1}}j--}}while(Y<0?W.prevSibling():W.nextSibling());return{start:U,matched:!1}}function SF(J,Z,Y,q,X,Q,K){let $=Y<0?J.sliceDoc(Z-1,Z):J.sliceDoc(Z,Z+1),U=K.indexOf($);if(U<0||U%2==0!=Y>0)return null;let j={from:Y<0?Z-1:Z,to:Y>0?Z+1:Z},W=J.doc.iterRange(Z,Y>0?J.doc.length:0),G=0;for(let z=0;!W.next().done&&z<=Q;){let O=W.value;if(Y<0)z+=O.length;let _=Z+z*Y;for(let N=Y>0?0:O.length-1,A=Y>0?O.length:-1;N!=A;N+=Y){let M=K.indexOf(O[N]);if(M<0||q.resolveInner(_+N,1).type!=X)continue;if(M%2==0==Y>0)G++;else if(G==1)return{start:j,end:{from:_+N,to:_+N+1},matched:M>>1==U>>1};else G--}if(Y>0)z+=O.length}return W.done?{start:j,matched:!1}:null}var kF=Object.create(null),IU=[s0.none];var DU=[],LU=Object.create(null),wF=Object.create(null);for(let[J,Z]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])wF[J]=xF(kF,Z);function oZ(J,Z){if(DU.indexOf(J)>-1)return;DU.push(J),console.warn(Z)}function xF(J,Z){let Y=[];for(let $ of Z.split(" ")){let U=[];for(let j of $.split(".")){let W=J[j]||I[j];if(!W)oZ(j,`Unknown highlighting tag ${j}`);else if(typeof W=="function")if(!U.length)oZ(j,`Modifier ${j} used at start of tag`);else U=U.map(W);else if(U.length)oZ(j,`Tag ${j} used as modifier`);else U=Array.isArray(W)?W:[W]}for(let j of U)Y.push(j)}if(!Y.length)return 0;let q=Z.replace(/ /g,"_"),X=q+" "+Y.map(($)=>$.id),Q=LU[X];if(Q)return Q.id;let K=LU[X]=s0.define({id:IU.length,name:q,props:[a9({[q]:Y})]});return IU.push(K),K.id}var TP={rtl:f.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"rtl"},bidiIsolate:W0.RTL}),ltr:f.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"ltr"},bidiIsolate:W0.LTR}),auto:f.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"auto"},bidiIsolate:null})};var hF=(J)=>{let{state:Z}=J,Y=Z.doc.lineAt(Z.selection.main.from),q=zY(J.state,Y.from);return q.line?vF(J):q.block?mF(J):!1};function GY(J,Z){return({state:Y,dispatch:q})=>{if(Y.readOnly)return!1;let X=J(Z,Y);if(!X)return!1;return q(Y.update(X)),!0}}var vF=GY(lF,0);var uF=GY(YW,0);var mF=GY((J,Z)=>YW(J,Z,fF(Z)),0);function zY(J,Z){let Y=J.languageDataAt("commentTokens",Z,1);return Y.length?Y[0]:{}}var s3=50;function gF(J,{open:Z,close:Y},q,X){let Q=J.sliceDoc(q-s3,q),K=J.sliceDoc(X,X+s3),$=/\s*$/.exec(Q)[0].length,U=/^\s*/.exec(K)[0].length,j=Q.length-$;if(Q.slice(j-Z.length,j)==Z&&K.slice(U,U+Y.length)==Y)return{open:{pos:q-$,margin:$&&1},close:{pos:X+U,margin:U&&1}};let W,G;if(X-q<=2*s3)W=G=J.sliceDoc(q,X);else W=J.sliceDoc(q,q+s3),G=J.sliceDoc(X-s3,X);let z=/^\s*/.exec(W)[0].length,O=/\s*$/.exec(G)[0].length,_=G.length-O-Y.length;if(W.slice(z,z+Z.length)==Z&&G.slice(_,_+Y.length)==Y)return{open:{pos:q+z+Z.length,margin:/\s/.test(W.charAt(z+Z.length))?1:0},close:{pos:X-O-Y.length,margin:/\s/.test(G.charAt(_-1))?1:0}};return null}function fF(J){let Z=[];for(let Y of J.selection.ranges){let q=J.doc.lineAt(Y.from),X=Y.to<=q.to?q:J.doc.lineAt(Y.to);if(X.from>q.from&&X.from==Y.to)X=Y.to==q.to+1?q:J.doc.lineAt(Y.to-1);let Q=Z.length-1;if(Q>=0&&Z[Q].to>q.from)Z[Q].to=X.to;else Z.push({from:q.from+/^\s*/.exec(q.text)[0].length,to:X.to})}return Z}function YW(J,Z,Y=Z.selection.ranges){let q=Y.map((Q)=>zY(Z,Q.from).block);if(!q.every((Q)=>Q))return null;let X=Y.map((Q,K)=>gF(Z,q[K],Q.from,Q.to));if(J!=2&&!X.every((Q)=>Q))return{changes:Z.changes(Y.map((Q,K)=>{if(X[K])return[];return[{from:Q.from,insert:q[K].open+" "},{from:Q.to,insert:" "+q[K].close}]}))};else if(J!=1&&X.some((Q)=>Q)){let Q=[];for(let K=0,$;K<X.length;K++)if($=X[K]){let U=q[K],{open:j,close:W}=$;Q.push({from:j.pos-U.open.length,to:j.pos+j.margin},{from:W.pos-W.margin,to:W.pos+U.close.length})}return{changes:Q}}return null}function lF(J,Z,Y=Z.selection.ranges){let q=[],X=-1;for(let{from:Q,to:K}of Y){let $=q.length,U=1e9,j=zY(Z,Q).line;if(!j)continue;for(let W=Q;W<=K;){let G=Z.doc.lineAt(W);if(G.from>X&&(Q==K||K>G.from)){X=G.from;let z=/^\s*/.exec(G.text)[0].length,O=z==G.length,_=G.text.slice(z,z+j.length)==j?z:-1;if(z<G.text.length&&z<U)U=z;q.push({line:G,comment:_,token:j,indent:z,empty:O,single:!1})}W=G.to+1}if(U<1e9){for(let W=$;W<q.length;W++)if(q[W].indent<q[W].line.text.length)q[W].indent=U}if(q.length==$+1)q[$].single=!0}if(J!=2&&q.some((Q)=>Q.comment<0&&(!Q.empty||Q.single))){let Q=[];for(let{line:$,token:U,indent:j,empty:W,single:G}of q)if(G||!W)Q.push({from:$.from+j,insert:U+" "});let K=Z.changes(Q);return{changes:K,selection:Z.selection.map(K,1)}}else if(J!=1&&q.some((Q)=>Q.comment>=0)){let Q=[];for(let{line:K,comment:$,token:U}of q)if($>=0){let j=K.from+$,W=j+U.length;if(K.text[W-K.from]==" ")W++;Q.push({from:j,to:W})}return{changes:Q}}return null}var $Y=R1.define(),pF=R1.define(),dF=b.define(),qW=b.define({combine(J){return i0(J,{minDepth:100,newGroupDelay:500,joinToEvent:(Z,Y)=>Y},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(Z,Y)=>(q,X)=>Z(q,X)||Y(q,X)})}}),XW=M0.define({create(){return N5.empty},update(J,Z){let Y=Z.state.facet(qW),q=Z.annotation($Y);if(q){let U=W1.fromTransaction(Z,q.selection),j=q.side,W=j==0?J.undone:J.done;if(U)W=$6(W,W.length,Y.minDepth,U);else W=UW(W,Z.startState.selection);return new N5(j==0?q.rest:W,j==0?W:q.rest)}let X=Z.annotation(pF);if(X=="full"||X=="before")J=J.isolate();if(Z.annotation(L0.addToHistory)===!1)return!Z.changes.empty?J.addMapping(Z.changes.desc):J;let Q=W1.fromTransaction(Z),K=Z.annotation(L0.time),$=Z.annotation(L0.userEvent);if(Q)J=J.addChanges(Q,K,$,Y,Z);else if(Z.selection)J=J.addSelection(Z.startState.selection,K,$,Y.newGroupDelay);if(X=="full"||X=="after")J=J.isolate();return J},toJSON(J){return{done:J.done.map((Z)=>Z.toJSON()),undone:J.undone.map((Z)=>Z.toJSON())}},fromJSON(J){return new N5(J.done.map(W1.fromJSON),J.undone.map(W1.fromJSON))}});function QW(J={}){return[XW,qW.of(J),C.domEventHandlers({beforeinput(Z,Y){let q=Z.inputType=="historyUndo"?KW:Z.inputType=="historyRedo"?UY:null;if(!q)return!1;return Z.preventDefault(),q(Y)}})]}function U6(J,Z){return function({state:Y,dispatch:q}){if(!Z&&Y.readOnly)return!1;let X=Y.field(XW,!1);if(!X)return!1;let Q=X.pop(J,Y,Z);if(!Q)return!1;return q(Q),!0}}var KW=U6(0,!1),UY=U6(1,!1),cF=U6(0,!0),nF=U6(1,!0);class W1{constructor(J,Z,Y,q,X){this.changes=J,this.effects=Z,this.mapped=Y,this.startSelection=q,this.selectionsAfter=X}setSelAfter(J){return new W1(this.changes,this.effects,this.mapped,this.startSelection,J)}toJSON(){var J,Z,Y;return{changes:(J=this.changes)===null||J===void 0?void 0:J.toJSON(),mapped:(Z=this.mapped)===null||Z===void 0?void 0:Z.toJSON(),startSelection:(Y=this.startSelection)===null||Y===void 0?void 0:Y.toJSON(),selectionsAfter:this.selectionsAfter.map((q)=>q.toJSON())}}static fromJSON(J){return new W1(J.changes&&b0.fromJSON(J.changes),[],J.mapped&&d1.fromJSON(J.mapped),J.startSelection&&L.fromJSON(J.startSelection),J.selectionsAfter.map(L.fromJSON))}static fromTransaction(J,Z){let Y=b1;for(let q of J.startState.facet(dF)){let X=q(J);if(X.length)Y=Y.concat(X)}if(!Y.length&&J.changes.empty)return null;return new W1(J.changes.invert(J.startState.doc),Y,void 0,Z||J.startState.selection,b1)}static selection(J){return new W1(void 0,b1,void 0,void 0,J)}}function $6(J,Z,Y,q){let X=Z+1>Y+20?Z-Y-1:0,Q=J.slice(X,Z);return Q.push(q),Q}function iF(J,Z){let Y=[],q=!1;return J.iterChangedRanges((X,Q)=>Y.push(X,Q)),Z.iterChangedRanges((X,Q,K,$)=>{for(let U=0;U<Y.length;){let j=Y[U++],W=Y[U++];if($>=j&&K<=W)q=!0}}),q}function sF(J,Z){return J.ranges.length==Z.ranges.length&&J.ranges.filter((Y,q)=>Y.empty!=Z.ranges[q].empty).length===0}function $W(J,Z){return!J.length?Z:!Z.length?J:J.concat(Z)}var b1=[],aF=200;function UW(J,Z){if(!J.length)return[W1.selection([Z])];else{let Y=J[J.length-1],q=Y.selectionsAfter.slice(Math.max(0,Y.selectionsAfter.length-aF));if(q.length&&q[q.length-1].eq(Z))return J;return q.push(Z),$6(J,J.length-1,1e9,Y.setSelAfter(q))}}function rF(J){let Z=J[J.length-1],Y=J.slice();return Y[J.length-1]=Z.setSelAfter(Z.selectionsAfter.slice(0,Z.selectionsAfter.length-1)),Y}function KY(J,Z){if(!J.length)return J;let Y=J.length,q=b1;while(Y){let X=oF(J[Y-1],Z,q);if(X.changes&&!X.changes.empty||X.effects.length){let Q=J.slice(0,Y);return Q[Y-1]=X,Q}else Z=X.mapped,Y--,q=X.selectionsAfter}return q.length?[W1.selection(q)]:b1}function oF(J,Z,Y){let q=$W(J.selectionsAfter.length?J.selectionsAfter.map(($)=>$.map(Z)):b1,Y);if(!J.changes)return W1.selection(q);let X=J.changes.map(Z),Q=Z.mapDesc(J.changes,!0),K=J.mapped?J.mapped.composeDesc(Q):Q;return new W1(X,p.mapEffects(J.effects,Z),K,J.startSelection.map(Q),q)}var tF=/^(input\.type|delete)($|\.)/;class N5{constructor(J,Z,Y=0,q=void 0){this.done=J,this.undone=Z,this.prevTime=Y,this.prevUserEvent=q}isolate(){return this.prevTime?new N5(this.done,this.undone):this}addChanges(J,Z,Y,q,X){let Q=this.done,K=Q[Q.length-1];if(K&&K.changes&&!K.changes.empty&&J.changes&&(!Y||tF.test(Y))&&(!K.selectionsAfter.length&&Z-this.prevTime<q.newGroupDelay&&q.joinToEvent(X,iF(K.changes,J.changes))||Y=="input.type.compose"))Q=$6(Q,Q.length-1,q.minDepth,new W1(J.changes.compose(K.changes),$W(p.mapEffects(J.effects,K.changes),K.effects),K.mapped,K.startSelection,b1));else Q=$6(Q,Q.length,q.minDepth,J);return new N5(Q,b1,Z,Y)}addSelection(J,Z,Y,q){let X=this.done.length?this.done[this.done.length-1].selectionsAfter:b1;if(X.length>0&&Z-this.prevTime<q&&Y==this.prevUserEvent&&Y&&/^select($|\.)/.test(Y)&&sF(X[X.length-1],J))return this;return new N5(UW(this.done,J),this.undone,Z,Y)}addMapping(J){return new N5(KY(this.done,J),KY(this.undone,J),this.prevTime,this.prevUserEvent)}pop(J,Z,Y){let q=J==0?this.done:this.undone;if(q.length==0)return null;let X=q[q.length-1],Q=X.selectionsAfter[0]||Z.selection;if(Y&&X.selectionsAfter.length)return Z.update({selection:X.selectionsAfter[X.selectionsAfter.length-1],annotations:$Y.of({side:J,rest:rF(q),selection:Q}),userEvent:J==0?"select.undo":"select.redo",scrollIntoView:!0});else if(!X.changes)return null;else{let K=q.length==1?b1:q.slice(0,q.length-1);if(X.mapped)K=KY(K,X.mapped);return Z.update({changes:X.changes,selection:X.startSelection,effects:X.effects,annotations:$Y.of({side:J,rest:K,selection:Q}),filter:!1,userEvent:J==0?"undo":"redo",scrollIntoView:!0})}}}N5.empty=new N5(b1,b1);var WW=[{key:"Mod-z",run:KW,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:UY,preventDefault:!0},{linux:"Ctrl-Shift-z",run:UY,preventDefault:!0},{key:"Mod-u",run:cF,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:nF,preventDefault:!0}];function S4(J,Z){return L.create(J.ranges.map(Z),J.mainIndex)}function t1(J,Z){return J.update({selection:Z,scrollIntoView:!0,userEvent:"select"})}function e1({state:J,dispatch:Z},Y){let q=S4(J.selection,Y);if(q.eq(J.selection,!0))return!1;return Z(t1(J,q)),!0}function W6(J,Z){return L.cursor(Z?J.to:J.from)}function jW(J,Z){return e1(J,(Y)=>Y.empty?J.moveByChar(Y,Z):W6(Y,Z))}function a0(J){return J.textDirectionAt(J.state.selection.main.head)==W0.LTR}var GW=(J)=>jW(J,!a0(J)),zW=(J)=>jW(J,a0(J));function OW(J,Z){return e1(J,(Y)=>Y.empty?J.moveByGroup(Y,Z):W6(Y,Z))}var eF=(J)=>OW(J,!a0(J)),JM=(J)=>OW(J,a0(J));var uP=typeof Intl<"u"&&Intl.Segmenter?new Intl.Segmenter(void 0,{granularity:"word"}):null;function ZM(J,Z,Y){if(Z.type.prop(Y))return!0;let q=Z.to-Z.from;return q&&(q>2||/[^\s,.;:]/.test(J.sliceDoc(Z.from,Z.to)))||Z.firstChild}function j6(J,Z,Y){let q=C0(J).resolveInner(Z.head),X=Y?i.closedBy:i.openedBy;for(let U=Z.head;;){let j=Y?q.childAfter(U):q.childBefore(U);if(!j)break;if(ZM(J,j,X))q=j;else U=Y?j.to:j.from}let Q=q.type.prop(X),K,$;if(Q&&(K=Y?o1(J,q.from,1):o1(J,q.to,-1))&&K.matched)$=Y?K.end.to:K.end.from;else $=Y?q.to:q.from;return L.cursor($,Y?-1:1)}var YM=(J)=>e1(J,(Z)=>j6(J.state,Z,!a0(J))),qM=(J)=>e1(J,(Z)=>j6(J.state,Z,a0(J)));function _W(J,Z){return e1(J,(Y)=>{if(!Y.empty)return W6(Y,Z);let q=J.moveVertically(Y,Z);return q.head!=Y.head?q:J.moveToLineBoundary(Y,Z)})}var HW=(J)=>_W(J,!1),NW=(J)=>_W(J,!0);function RW(J){let Z=J.scrollDOM.clientHeight<J.scrollDOM.scrollHeight-2,Y=0,q=0,X;if(Z){for(let Q of J.state.facet(C.scrollMargins)){let K=Q(J);if(K===null||K===void 0?void 0:K.top)Y=Math.max(K===null||K===void 0?void 0:K.top,Y);if(K===null||K===void 0?void 0:K.bottom)q=Math.max(K===null||K===void 0?void 0:K.bottom,q)}X=J.scrollDOM.clientHeight-Y-q}else X=(J.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:Y,marginBottom:q,selfScroll:Z,height:Math.max(J.defaultLineHeight,X-5)}}function AW(J,Z){let Y=RW(J),{state:q}=J,X=S4(q.selection,(K)=>{return K.empty?J.moveVertically(K,Z,Y.height):W6(K,Z)});if(X.eq(q.selection))return!1;let Q;if(Y.selfScroll){let K=J.coordsAtPos(q.selection.main.head),$=J.scrollDOM.getBoundingClientRect(),U=$.top+Y.marginTop,j=$.bottom-Y.marginBottom;if(K&&K.top>U&&K.bottom<j)Q=C.scrollIntoView(X.main.head,{y:"start",yMargin:K.top-U})}return J.dispatch(t1(q,X),{effects:Q}),!0}var sU=(J)=>AW(J,!1),WY=(J)=>AW(J,!0);function e5(J,Z,Y){let q=J.lineBlockAt(Z.head),X=J.moveToLineBoundary(Z,Y);if(X.head==Z.head&&X.head!=(Y?q.to:q.from))X=J.moveToLineBoundary(Z,Y,!1);if(!Y&&X.head==q.from&&q.length){let Q=/^\s*/.exec(J.state.sliceDoc(q.from,Math.min(q.from+100,q.to)))[0].length;if(Q&&Z.head!=q.from+Q)X=L.cursor(q.from+Q)}return X}var XM=(J)=>e1(J,(Z)=>e5(J,Z,!0)),QM=(J)=>e1(J,(Z)=>e5(J,Z,!1)),KM=(J)=>e1(J,(Z)=>e5(J,Z,!a0(J))),$M=(J)=>e1(J,(Z)=>e5(J,Z,a0(J))),UM=(J)=>e1(J,(Z)=>L.cursor(J.lineBlockAt(Z.head).from,1)),WM=(J)=>e1(J,(Z)=>L.cursor(J.lineBlockAt(Z.head).to,-1));function jM(J,Z,Y){let q=!1,X=S4(J.selection,(Q)=>{let K=o1(J,Q.head,-1)||o1(J,Q.head,1)||Q.head>0&&o1(J,Q.head-1,1)||Q.head<J.doc.length&&o1(J,Q.head+1,-1);if(!K||!K.end)return Q;q=!0;let $=K.start.from==Q.head?K.end.to:K.end.from;return Y?L.range(Q.anchor,$):L.cursor($)});if(!q)return!1;return Z(t1(J,X)),!0}var GM=({state:J,dispatch:Z})=>jM(J,Z,!1);function S1(J,Z){let Y=S4(J.state.selection,(q)=>{let X=Z(q);return L.range(q.anchor,X.head,X.goalColumn,X.bidiLevel||void 0)});if(Y.eq(J.state.selection))return!1;return J.dispatch(t1(J.state,Y)),!0}function FW(J,Z){return S1(J,(Y)=>J.moveByChar(Y,Z))}var MW=(J)=>FW(J,!a0(J)),VW=(J)=>FW(J,a0(J));function IW(J,Z){return S1(J,(Y)=>J.moveByGroup(Y,Z))}var zM=(J)=>IW(J,!a0(J)),OM=(J)=>IW(J,a0(J));var _M=(J)=>S1(J,(Z)=>j6(J.state,Z,!a0(J))),HM=(J)=>S1(J,(Z)=>j6(J.state,Z,a0(J)));function DW(J,Z){return S1(J,(Y)=>J.moveVertically(Y,Z))}var LW=(J)=>DW(J,!1),BW=(J)=>DW(J,!0);function PW(J,Z){return S1(J,(Y)=>J.moveVertically(Y,Z,RW(J).height))}var aU=(J)=>PW(J,!1),rU=(J)=>PW(J,!0),NM=(J)=>S1(J,(Z)=>e5(J,Z,!0)),RM=(J)=>S1(J,(Z)=>e5(J,Z,!1)),AM=(J)=>S1(J,(Z)=>e5(J,Z,!a0(J))),FM=(J)=>S1(J,(Z)=>e5(J,Z,a0(J))),MM=(J)=>S1(J,(Z)=>L.cursor(J.lineBlockAt(Z.head).from)),VM=(J)=>S1(J,(Z)=>L.cursor(J.lineBlockAt(Z.head).to)),oU=({state:J,dispatch:Z})=>{return Z(t1(J,{anchor:0})),!0},tU=({state:J,dispatch:Z})=>{return Z(t1(J,{anchor:J.doc.length})),!0},eU=({state:J,dispatch:Z})=>{return Z(t1(J,{anchor:J.selection.main.anchor,head:0})),!0},JW=({state:J,dispatch:Z})=>{return Z(t1(J,{anchor:J.selection.main.anchor,head:J.doc.length})),!0},IM=({state:J,dispatch:Z})=>{return Z(J.update({selection:{anchor:0,head:J.doc.length},userEvent:"select"})),!0},DM=({state:J,dispatch:Z})=>{let Y=G6(J).map(({from:q,to:X})=>L.range(q,Math.min(X+1,J.doc.length)));return Z(J.update({selection:L.create(Y),userEvent:"select"})),!0},LM=({state:J,dispatch:Z})=>{let Y=S4(J.selection,(q)=>{let X=C0(J),Q=X.resolveStack(q.from,1);if(q.empty){let K=X.resolveStack(q.from,-1);if(K.node.from>=Q.node.from&&K.node.to<=Q.node.to)Q=K}for(let K=Q;K;K=K.next){let{node:$}=K;if(($.from<q.from&&$.to>=q.to||$.to>q.to&&$.from<=q.from)&&K.next)return L.range($.to,$.from)}return q});if(Y.eq(J.selection))return!1;return Z(t1(J,Y)),!0};function EW(J,Z){let{state:Y}=J,q=Y.selection,X=Y.selection.ranges.slice();for(let Q of Y.selection.ranges){let K=Y.doc.lineAt(Q.head);if(Z?K.to<J.state.doc.length:K.from>0)for(let $=Q;;){let U=J.moveVertically($,Z);if(U.head<K.from||U.head>K.to){if(!X.some((j)=>j.head==U.head))X.push(U);break}else if(U.head==$.head)break;else $=U}}if(X.length==q.ranges.length)return!1;return J.dispatch(t1(Y,L.create(X,X.length-1))),!0}var BM=(J)=>EW(J,!1),PM=(J)=>EW(J,!0),EM=({state:J,dispatch:Z})=>{let Y=J.selection,q=null;if(Y.ranges.length>1)q=L.create([Y.main]);else if(!Y.main.empty)q=L.create([L.cursor(Y.main.head)]);if(!q)return!1;return Z(t1(J,q)),!0};function a3(J,Z){if(J.state.readOnly)return!1;let Y="delete.selection",{state:q}=J,X=q.changeByRange((Q)=>{let{from:K,to:$}=Q;if(K==$){let U=Z(Q);if(U<K)Y="delete.backward",U=K6(J,U,!1);else if(U>K)Y="delete.forward",U=K6(J,U,!0);K=Math.min(K,U),$=Math.max($,U)}else K=K6(J,K,!1),$=K6(J,$,!0);return K==$?{range:Q}:{changes:{from:K,to:$},range:L.cursor(K,K<Q.head?-1:1)}});if(X.changes.empty)return!1;return J.dispatch(q.update(X,{scrollIntoView:!0,userEvent:Y,effects:Y=="delete.selection"?C.announce.of(q.phrase("Selection deleted")):void 0})),!0}function K6(J,Z,Y){if(J instanceof C)for(let q of J.state.facet(C.atomicRanges).map((X)=>X(J)))q.between(Z,Z,(X,Q)=>{if(X<Z&&Q>Z)Z=Y?Q:X});return Z}var CW=(J,Z,Y)=>a3(J,(q)=>{let X=q.from,{state:Q}=J,K=Q.doc.lineAt(X),$,U;if(Y&&!Z&&X>K.from&&X<K.from+200&&!/[^ \t]/.test($=K.text.slice(0,X-K.from))){if($[$.length-1]=="\t")return X-1;let j=C5($,Q.tabSize),W=j%n3(Q)||n3(Q);for(let G=0;G<W&&$[$.length-1-G]==" ";G++)X--;U=X}else if(U=E0(K.text,X-K.from,Z,Z)+K.from,U==X&&K.number!=(Z?Q.doc.lines:1))U+=Z?1:-1;else if(!Z&&/[\ufe00-\ufe0f]/.test(K.text.slice(U-K.from,X-K.from)))U=E0(K.text,U-K.from,!1,!1)+K.from;return U}),jY=(J)=>CW(J,!1,!0);var TW=(J)=>CW(J,!0,!1),yW=(J,Z)=>a3(J,(Y)=>{let q=Y.head,{state:X}=J,Q=X.doc.lineAt(q),K=X.charCategorizer(q);for(let $=null;;){if(q==(Z?Q.to:Q.from)){if(q==Y.head&&Q.number!=(Z?X.doc.lines:1))q+=Z?1:-1;break}let U=E0(Q.text,q-Q.from,Z)+Q.from,j=Q.text.slice(Math.min(q,U)-Q.from,Math.max(q,U)-Q.from),W=K(j);if($!=null&&W!=$)break;if(j!=" "||q!=Y.head)$=W;q=U}return q}),bW=(J)=>yW(J,!1),CM=(J)=>yW(J,!0);var TM=(J)=>a3(J,(Z)=>{let Y=J.lineBlockAt(Z.head).to;return Z.head<Y?Y:Math.min(J.state.doc.length,Z.head+1)});var yM=(J)=>a3(J,(Z)=>{let Y=J.moveToLineBoundary(Z,!1).head;return Z.head>Y?Y:Math.max(0,Z.head-1)}),bM=(J)=>a3(J,(Z)=>{let Y=J.moveToLineBoundary(Z,!0).head;return Z.head<Y?Y:Math.min(J.state.doc.length,Z.head+1)});var SM=({state:J,dispatch:Z})=>{if(J.readOnly)return!1;let Y=J.changeByRange((q)=>{return{changes:{from:q.from,to:q.to,insert:e.of(["",""])},range:L.cursor(q.from)}});return Z(J.update(Y,{scrollIntoView:!0,userEvent:"input"})),!0},kM=({state:J,dispatch:Z})=>{if(J.readOnly)return!1;let Y=J.changeByRange((q)=>{if(!q.empty||q.from==0||q.from==J.doc.length)return{range:q};let X=q.from,Q=J.doc.lineAt(X),K=X==Q.from?X-1:E0(Q.text,X-Q.from,!1)+Q.from,$=X==Q.to?X+1:E0(Q.text,X-Q.from,!0)+Q.from;return{changes:{from:K,to:$,insert:J.doc.slice(X,$).append(J.doc.slice(K,X))},range:L.cursor($)}});if(Y.changes.empty)return!1;return Z(J.update(Y,{scrollIntoView:!0,userEvent:"move.character"})),!0};function G6(J){let Z=[],Y=-1;for(let q of J.selection.ranges){let X=J.doc.lineAt(q.from),Q=J.doc.lineAt(q.to);if(!q.empty&&q.to==Q.from)Q=J.doc.lineAt(q.to-1);if(Y>=X.number){let K=Z[Z.length-1];K.to=Q.to,K.ranges.push(q)}else Z.push({from:X.from,to:Q.to,ranges:[q]});Y=Q.number+1}return Z}function SW(J,Z,Y){if(J.readOnly)return!1;let q=[],X=[];for(let Q of G6(J)){if(Y?Q.to==J.doc.length:Q.from==0)continue;let K=J.doc.lineAt(Y?Q.to+1:Q.from-1),$=K.length+1;if(Y){q.push({from:Q.to,to:K.to},{from:Q.from,insert:K.text+J.lineBreak});for(let U of Q.ranges)X.push(L.range(Math.min(J.doc.length,U.anchor+$),Math.min(J.doc.length,U.head+$)))}else{q.push({from:K.from,to:Q.from},{from:Q.to,insert:J.lineBreak+K.text});for(let U of Q.ranges)X.push(L.range(U.anchor-$,U.head-$))}}if(!q.length)return!1;return Z(J.update({changes:q,scrollIntoView:!0,selection:L.create(X,J.selection.mainIndex),userEvent:"move.line"})),!0}var wM=({state:J,dispatch:Z})=>SW(J,Z,!1),xM=({state:J,dispatch:Z})=>SW(J,Z,!0);function kW(J,Z,Y){if(J.readOnly)return!1;let q=[];for(let Q of G6(J))if(Y)q.push({from:Q.from,insert:J.doc.slice(Q.from,Q.to)+J.lineBreak});else q.push({from:Q.to,insert:J.lineBreak+J.doc.slice(Q.from,Q.to)});let X=J.changes(q);return Z(J.update({changes:X,selection:J.selection.map(X,Y?1:-1),scrollIntoView:!0,userEvent:"input.copyline"})),!0}var hM=({state:J,dispatch:Z})=>kW(J,Z,!1),vM=({state:J,dispatch:Z})=>kW(J,Z,!0),uM=(J)=>{if(J.state.readOnly)return!1;let{state:Z}=J,Y=Z.changes(G6(Z).map(({from:X,to:Q})=>{if(X>0)X--;else if(Q<Z.doc.length)Q++;return{from:X,to:Q}})),q=S4(Z.selection,(X)=>{let Q=void 0;if(J.lineWrapping){let K=J.lineBlockAt(X.head),$=J.coordsAtPos(X.head,X.assoc||1);if($)Q=K.bottom+J.documentTop-$.bottom+J.defaultLineHeight/2}return J.moveVertically(X,!0,Q)}).map(Y);return J.dispatch({changes:Y,selection:q,scrollIntoView:!0,userEvent:"delete.line"}),!0};function mM(J,Z){if(/\(\)|\[\]|\{\}/.test(J.sliceDoc(Z-1,Z+1)))return{from:Z,to:Z};let Y=C0(J).resolveInner(Z),q=Y.childBefore(Z),X=Y.childAfter(Z),Q;if(q&&X&&q.to<=Z&&X.from>=Z&&(Q=q.type.prop(i.closedBy))&&Q.indexOf(X.name)>-1&&J.doc.lineAt(q.to).from==J.doc.lineAt(X.from).from&&!/\S/.test(J.sliceDoc(q.to,X.from)))return{from:q.to,to:X.from};return null}var ZW=wW(!1),gM=wW(!0);function wW(J){return({state:Z,dispatch:Y})=>{if(Z.readOnly)return!1;let q=Z.changeByRange((X)=>{let{from:Q,to:K}=X,$=Z.doc.lineAt(Q),U=!J&&Q==K&&mM(Z,Q);if(J)Q=K=(K<=$.to?$:Z.doc.lineAt(K)).to;let j=new T4(Z,{simulateBreak:Q,simulateDoubleBreak:!!U}),W=Y6(j,Q);if(W==null)W=C5(/^\s*/.exec(Z.doc.lineAt(Q).text)[0],Z.tabSize);while(K<$.to&&/\s/.test($.text[K-$.from]))K++;if(U)({from:Q,to:K}=U);else if(Q>$.from&&Q<$.from+100&&!/\S/.test($.text.slice(0,Q)))Q=$.from;let G=["",C4(Z,W)];if(U)G.push(C4(Z,j.lineIndent($.from,-1)));return{changes:{from:Q,to:K,insert:e.of(G)},range:L.cursor(Q+1+G[1].length)}});return Y(Z.update(q,{scrollIntoView:!0,userEvent:"input"})),!0}}function OY(J,Z){let Y=-1;return J.changeByRange((q)=>{let X=[];for(let K=q.from;K<=q.to;){let $=J.doc.lineAt(K);if($.number>Y&&(q.empty||q.to>$.from))Z($,X,q),Y=$.number;K=$.to+1}let Q=J.changes(X);return{changes:X,range:L.range(Q.mapPos(q.anchor,1),Q.mapPos(q.head,1))}})}var fM=({state:J,dispatch:Z})=>{if(J.readOnly)return!1;let Y=Object.create(null),q=new T4(J,{overrideIndentation:(Q)=>{let K=Y[Q];return K==null?-1:K}}),X=OY(J,(Q,K,$)=>{let U=Y6(q,Q.from);if(U==null)return;if(!/\S/.test(Q.text))U=0;let j=/^\s*/.exec(Q.text)[0],W=C4(J,U);if(j!=W||$.from<Q.from+j.length)Y[Q.from]=U,K.push({from:Q.from,to:Q.from+j.length,insert:W})});if(!X.changes.empty)Z(J.update(X,{userEvent:"indent"}));return!0},lM=({state:J,dispatch:Z})=>{if(J.readOnly)return!1;return Z(J.update(OY(J,(Y,q)=>{q.push({from:Y.from,insert:J.facet(E4)})}),{userEvent:"input.indent"})),!0},pM=({state:J,dispatch:Z})=>{if(J.readOnly)return!1;return Z(J.update(OY(J,(Y,q)=>{let X=/^\s*/.exec(Y.text)[0];if(!X)return;let Q=C5(X,J.tabSize),K=0,$=C4(J,Math.max(0,Q-n3(J)));while(K<X.length&&K<$.length&&X.charCodeAt(K)==$.charCodeAt(K))K++;q.push({from:Y.from+K,to:Y.from+X.length,insert:$.slice(K)})}),{userEvent:"delete.dedent"})),!0},dM=(J)=>{return J.setTabFocusMode(),!0};var cM=[{key:"Ctrl-b",run:GW,shift:MW,preventDefault:!0},{key:"Ctrl-f",run:zW,shift:VW},{key:"Ctrl-p",run:HW,shift:LW},{key:"Ctrl-n",run:NW,shift:BW},{key:"Ctrl-a",run:UM,shift:MM},{key:"Ctrl-e",run:WM,shift:VM},{key:"Ctrl-d",run:TW},{key:"Ctrl-h",run:jY},{key:"Ctrl-k",run:TM},{key:"Ctrl-Alt-h",run:bW},{key:"Ctrl-o",run:SM},{key:"Ctrl-t",run:kM},{key:"Ctrl-v",run:WY}],nM=[{key:"ArrowLeft",run:GW,shift:MW,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:eF,shift:zM,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:KM,shift:AM,preventDefault:!0},{key:"ArrowRight",run:zW,shift:VW,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:JM,shift:OM,preventDefault:!0},{mac:"Cmd-ArrowRight",run:$M,shift:FM,preventDefault:!0},{key:"ArrowUp",run:HW,shift:LW,preventDefault:!0},{mac:"Cmd-ArrowUp",run:oU,shift:eU},{mac:"Ctrl-ArrowUp",run:sU,shift:aU},{key:"ArrowDown",run:NW,shift:BW,preventDefault:!0},{mac:"Cmd-ArrowDown",run:tU,shift:JW},{mac:"Ctrl-ArrowDown",run:WY,shift:rU},{key:"PageUp",run:sU,shift:aU},{key:"PageDown",run:WY,shift:rU},{key:"Home",run:QM,shift:RM,preventDefault:!0},{key:"Mod-Home",run:oU,shift:eU},{key:"End",run:XM,shift:NM,preventDefault:!0},{key:"Mod-End",run:tU,shift:JW},{key:"Enter",run:ZW,shift:ZW},{key:"Mod-a",run:IM},{key:"Backspace",run:jY,shift:jY,preventDefault:!0},{key:"Delete",run:TW,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:bW,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:CM,preventDefault:!0},{mac:"Mod-Backspace",run:yM,preventDefault:!0},{mac:"Mod-Delete",run:bM,preventDefault:!0}].concat(cM.map((J)=>({mac:J.key,run:J.run,shift:J.shift}))),xW=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:YM,shift:_M},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:qM,shift:HM},{key:"Alt-ArrowUp",run:wM},{key:"Shift-Alt-ArrowUp",run:hM},{key:"Alt-ArrowDown",run:xM},{key:"Shift-Alt-ArrowDown",run:vM},{key:"Mod-Alt-ArrowUp",run:BM},{key:"Mod-Alt-ArrowDown",run:PM},{key:"Escape",run:EM},{key:"Mod-Enter",run:gM},{key:"Alt-l",mac:"Ctrl-l",run:DM},{key:"Mod-i",run:LM,preventDefault:!0},{key:"Mod-[",run:pM},{key:"Mod-]",run:lM},{key:"Mod-Alt-\\",run:fM},{key:"Shift-Mod-k",run:uM},{key:"Shift-Mod-\\",run:GM},{key:"Mod-/",run:hF},{key:"Alt-A",run:uF},{key:"Ctrl-m",mac:"Shift-Alt-m",run:dM}].concat(nM);var hW=typeof String.prototype.normalize=="function"?(J)=>J.normalize("NFKD"):(J)=>J;class vJ{constructor(J,Z,Y=0,q=J.length,X,Q){this.test=Q,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=J.iterRange(Y,q),this.bufferStart=Y,this.normalize=X?(K)=>X(hW(K)):hW,this.query=this.normalize(Z)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return g0(this.buffer,this.bufferPos)}next(){while(this.matches.length)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let J=this.peek();if(J<0)return this.done=!0,this;let Z=R3(J),Y=this.bufferStart+this.bufferPos;this.bufferPos+=N1(J);let q=this.normalize(Z);if(q.length)for(let X=0,Q=Y;;X++){let K=q.charCodeAt(X),$=this.match(K,Q,this.bufferPos+this.bufferStart);if(X==q.length-1){if($)return this.value=$,this;break}if(Q==Y&&X<Z.length&&Z.charCodeAt(X)==K)Q++}}}match(J,Z,Y){let q=null;for(let X=0;X<this.matches.length;X+=2){let Q=this.matches[X],K=!1;if(this.query.charCodeAt(Q)==J)if(Q==this.query.length-1)q={from:this.matches[X+1],to:Y};else this.matches[X]++,K=!0;if(!K)this.matches.splice(X,2),X-=2}if(this.query.charCodeAt(0)==J)if(this.query.length==1)q={from:Z,to:Y};else this.matches.push(1,Z);if(q&&this.test&&!this.test(q.from,q.to,this.buffer,this.bufferStart))q=null;return q}}if(typeof Symbol<"u")vJ.prototype[Symbol.iterator]=function(){return this};var gW={from:-1,to:-1,match:/.*/.exec("")},RY="gm"+(/x/.unicode==null?"":"u");class AY{constructor(J,Z,Y,q=0,X=J.length){if(this.text=J,this.to=X,this.curLine="",this.done=!1,this.value=gW,/\\[sWDnr]|\n|\r|\[\^/.test(Z))return new FY(J,Z,Y,q,X);this.re=new RegExp(Z,RY+((Y===null||Y===void 0?void 0:Y.ignoreCase)?"i":"")),this.test=Y===null||Y===void 0?void 0:Y.test,this.iter=J.iter();let Q=J.lineAt(q);this.curLineStart=Q.from,this.matchPos=H6(J,q),this.getLine(this.curLineStart)}getLine(J){if(this.iter.next(J),this.iter.lineBreak)this.curLine="";else{if(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to)this.curLine=this.curLine.slice(0,this.to-this.curLineStart);this.iter.next()}}nextLine(){if(this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to)this.curLine="";else this.getLine(0)}next(){for(let J=this.matchPos-this.curLineStart;;){this.re.lastIndex=J;let Z=this.matchPos<=this.to&&this.re.exec(this.curLine);if(Z){let Y=this.curLineStart+Z.index,q=Y+Z[0].length;if(this.matchPos=H6(this.text,q+(Y==q?1:0)),Y==this.curLineStart+this.curLine.length)this.nextLine();if((Y<q||Y>this.value.to)&&(!this.test||this.test(Y,q,Z)))return this.value={from:Y,to:q,match:Z},this;J=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),J=0;else return this.done=!0,this}}}var _Y=new WeakMap;class x4{constructor(J,Z){this.from=J,this.text=Z}get to(){return this.from+this.text.length}static get(J,Z,Y){let q=_Y.get(J);if(!q||q.from>=Y||q.to<=Z){let K=new x4(Z,J.sliceString(Z,Y));return _Y.set(J,K),K}if(q.from==Z&&q.to==Y)return q;let{text:X,from:Q}=q;if(Q>Z)X=J.sliceString(Z,Q)+X,Q=Z;if(q.to<Y)X+=J.sliceString(q.to,Y);return _Y.set(J,new x4(Q,X)),new x4(Z,X.slice(Z-Q,Y-Q))}}class FY{constructor(J,Z,Y,q,X){this.text=J,this.to=X,this.done=!1,this.value=gW,this.matchPos=H6(J,q),this.re=new RegExp(Z,RY+((Y===null||Y===void 0?void 0:Y.ignoreCase)?"i":"")),this.test=Y===null||Y===void 0?void 0:Y.test,this.flat=x4.get(J,q,this.chunkEnd(q+5000))}chunkEnd(J){return J>=this.to?this.to:this.text.lineAt(J).to}next(){for(;;){let J=this.re.lastIndex=this.matchPos-this.flat.from,Z=this.re.exec(this.flat.text);if(Z&&!Z[0]&&Z.index==J)this.re.lastIndex=J+1,Z=this.re.exec(this.flat.text);if(Z){let Y=this.flat.from+Z.index,q=Y+Z[0].length;if((this.flat.to>=this.to||Z.index+Z[0].length<=this.flat.text.length-10)&&(!this.test||this.test(Y,q,Z)))return this.value={from:Y,to:q,match:Z},this.matchPos=H6(this.text,q+(Y==q?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=x4.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}if(typeof Symbol<"u")AY.prototype[Symbol.iterator]=FY.prototype[Symbol.iterator]=function(){return this};function iM(J){try{return new RegExp(J,RY),!0}catch(Z){return!1}}function H6(J,Z){if(Z>=J.length)return Z;let Y=J.lineAt(Z),q;while(Z<Y.to&&(q=Y.text.charCodeAt(Z-Y.from))>=56320&&q<57344)Z++;return Z}function HY(J){let Z=String(J.state.doc.lineAt(J.state.selection.main.head).number),Y=$0("input",{class:"cm-textfield",name:"line",value:Z}),q=$0("form",{class:"cm-gotoLine",onkeydown:(Q)=>{if(Q.keyCode==27)Q.preventDefault(),J.dispatch({effects:r3.of(!1)}),J.focus();else if(Q.keyCode==13)Q.preventDefault(),X()},onsubmit:(Q)=>{Q.preventDefault(),X()}},$0("label",J.state.phrase("Go to line"),": ",Y)," ",$0("button",{class:"cm-button",type:"submit"},J.state.phrase("go")),$0("button",{name:"close",onclick:()=>{J.dispatch({effects:r3.of(!1)}),J.focus()},"aria-label":J.state.phrase("close"),type:"button"},[""]));function X(){let Q=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(Y.value);if(!Q)return;let{state:K}=J,$=K.doc.lineAt(K.selection.main.head),[,U,j,W,G]=Q,z=W?+W.slice(1):0,O=j?+j:$.number;if(j&&G){let A=O/100;if(U)A=A*(U=="-"?-1:1)+$.number/K.doc.lines;O=Math.round(K.doc.lines*A)}else if(j&&U)O=O*(U=="-"?-1:1)+$.number;let _=K.doc.line(Math.max(1,Math.min(K.doc.lines,O))),N=L.cursor(_.from+Math.max(0,Math.min(z,_.length)));J.dispatch({effects:[r3.of(!1),C.scrollIntoView(N.from,{y:"center"})],selection:N}),J.focus()}return{dom:q}}var r3=p.define(),vW=M0.define({create(){return!0},update(J,Z){for(let Y of Z.effects)if(Y.is(r3))J=Y.value;return J},provide:(J)=>kJ.from(J,(Z)=>Z?HY:null)}),sM=(J)=>{let Z=wJ(J,HY);if(!Z){let Y=[r3.of(!0)];if(J.state.field(vW,!1)==null)Y.push(p.appendConfig.of([vW,aM]));J.dispatch({effects:Y}),Z=wJ(J,HY)}if(Z)Z.dom.querySelector("input").select();return!0},aM=C.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),rM={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},fW=b.define({combine(J){return i0(J,rM,{highlightWordAroundCursor:(Z,Y)=>Z||Y,minSelectionLength:Math.min,maxMatches:Math.min})}});function lW(J){let Z=[ZV,JV];if(J)Z.push(fW.of(J));return Z}var oM=f.mark({class:"cm-selectionMatch"}),tM=f.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function uW(J,Z,Y,q){return(Y==0||J(Z.sliceDoc(Y-1,Y))!=G0.Word)&&(q==Z.doc.length||J(Z.sliceDoc(q,q+1))!=G0.Word)}function eM(J,Z,Y,q){return J(Z.sliceDoc(Y,Y+1))==G0.Word&&J(Z.sliceDoc(q-1,q))==G0.Word}var JV=N0.fromClass(class{constructor(J){this.decorations=this.getDeco(J)}update(J){if(J.selectionSet||J.docChanged||J.viewportChanged)this.decorations=this.getDeco(J.view)}getDeco(J){let Z=J.state.facet(fW),{state:Y}=J,q=Y.selection;if(q.ranges.length>1)return f.none;let X=q.main,Q,K=null;if(X.empty){if(!Z.highlightWordAroundCursor)return f.none;let U=Y.wordAt(X.head);if(!U)return f.none;K=Y.charCategorizer(X.head),Q=Y.sliceDoc(U.from,U.to)}else{let U=X.to-X.from;if(U<Z.minSelectionLength||U>200)return f.none;if(Z.wholeWords){if(Q=Y.sliceDoc(X.from,X.to),K=Y.charCategorizer(X.head),!(uW(K,Y,X.from,X.to)&&eM(K,Y,X.from,X.to)))return f.none}else if(Q=Y.sliceDoc(X.from,X.to),!Q)return f.none}let $=[];for(let U of J.visibleRanges){let j=new vJ(Y.doc,Q,U.from,U.to);while(!j.next().done){let{from:W,to:G}=j.value;if(!K||uW(K,Y,W,G)){if(X.empty&&W<=X.from&&G>=X.to)$.push(tM.range(W,G));else if(W>=X.to||G<=X.from)$.push(oM.range(W,G));if($.length>Z.maxMatches)return f.none}}}return f.set($)}},{decorations:(J)=>J.decorations}),ZV=C.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),YV=({state:J,dispatch:Z})=>{let{selection:Y}=J,q=L.create(Y.ranges.map((X)=>J.wordAt(X.head)||L.cursor(X.head)),Y.mainIndex);if(q.eq(Y))return!1;return Z(J.update({selection:q})),!0};function qV(J,Z){let{main:Y,ranges:q}=J.selection,X=J.wordAt(Y.head),Q=X&&X.from==Y.from&&X.to==Y.to;for(let K=!1,$=new vJ(J.doc,Z,q[q.length-1].to);;)if($.next(),$.done){if(K)return null;$=new vJ(J.doc,Z,0,Math.max(0,q[q.length-1].from-1)),K=!0}else{if(K&&q.some((U)=>U.from==$.value.from))continue;if(Q){let U=J.wordAt($.value.from);if(!U||U.from!=$.value.from||U.to!=$.value.to)continue}return $.value}}var XV=({state:J,dispatch:Z})=>{let{ranges:Y}=J.selection;if(Y.some((Q)=>Q.from===Q.to))return YV({state:J,dispatch:Z});let q=J.sliceDoc(Y[0].from,Y[0].to);if(J.selection.ranges.some((Q)=>J.sliceDoc(Q.from,Q.to)!=q))return!1;let X=qV(J,q);if(!X)return!1;return Z(J.update({selection:J.selection.addRange(L.range(X.from,X.to),!1),effects:C.scrollIntoView(X.to)})),!0},h4=b.define({combine(J){return i0(J,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:(Z)=>new rW(Z),scrollToMatch:(Z)=>C.scrollIntoView(Z)})}});class MY{constructor(J){this.search=J.search,this.caseSensitive=!!J.caseSensitive,this.literal=!!J.literal,this.regexp=!!J.regexp,this.replace=J.replace||"",this.valid=!!this.search&&(!this.regexp||iM(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!J.wholeWord}unquote(J){return this.literal?J:J.replace(/\\([nrt\\])/g,(Z,Y)=>Y=="n"?`
`:Y=="r"?"\r":Y=="t"?"\t":"\\")}eq(J){return this.search==J.search&&this.replace==J.replace&&this.caseSensitive==J.caseSensitive&&this.regexp==J.regexp&&this.wholeWord==J.wholeWord}create(){return this.regexp?new dW(this):new pW(this)}getCursor(J,Z=0,Y){let q=J.doc?J:o.create({doc:J});if(Y==null)Y=q.doc.length;return this.regexp?w4(this,q,Z,Y):k4(this,q,Z,Y)}}class VY{constructor(J){this.spec=J}}function k4(J,Z,Y,q){return new vJ(Z.doc,J.unquoted,Y,q,J.caseSensitive?void 0:(X)=>X.toLowerCase(),J.wholeWord?QV(Z.doc,Z.charCategorizer(Z.selection.main.head)):void 0)}function QV(J,Z){return(Y,q,X,Q)=>{if(Q>Y||Q+X.length<q)Q=Math.max(0,Y-2),X=J.sliceString(Q,Math.min(J.length,q+2));return(Z(N6(X,Y-Q))!=G0.Word||Z(R6(X,Y-Q))!=G0.Word)&&(Z(R6(X,q-Q))!=G0.Word||Z(N6(X,q-Q))!=G0.Word)}}class pW extends VY{constructor(J){super(J)}nextMatch(J,Z,Y){let q=k4(this.spec,J,Y,J.doc.length).nextOverlapping();if(q.done){let X=Math.min(J.doc.length,Z+this.spec.unquoted.length);q=k4(this.spec,J,0,X).nextOverlapping()}return q.done||q.value.from==Z&&q.value.to==Y?null:q.value}prevMatchInRange(J,Z,Y){for(let q=Y;;){let X=Math.max(Z,q-1e4-this.spec.unquoted.length),Q=k4(this.spec,J,X,q),K=null;while(!Q.nextOverlapping().done)K=Q.value;if(K)return K;if(X==Z)return null;q-=1e4}}prevMatch(J,Z,Y){let q=this.prevMatchInRange(J,0,Z);if(!q)q=this.prevMatchInRange(J,Math.max(0,Y-this.spec.unquoted.length),J.doc.length);return q&&(q.from!=Z||q.to!=Y)?q:null}getReplacement(J){return this.spec.unquote(this.spec.replace)}matchAll(J,Z){let Y=k4(this.spec,J,0,J.doc.length),q=[];while(!Y.next().done){if(q.length>=Z)return null;q.push(Y.value)}return q}highlight(J,Z,Y,q){let X=k4(this.spec,J,Math.max(0,Z-this.spec.unquoted.length),Math.min(Y+this.spec.unquoted.length,J.doc.length));while(!X.next().done)q(X.value.from,X.value.to)}}function w4(J,Z,Y,q){return new AY(Z.doc,J.search,{ignoreCase:!J.caseSensitive,test:J.wholeWord?KV(Z.charCategorizer(Z.selection.main.head)):void 0},Y,q)}function N6(J,Z){return J.slice(E0(J,Z,!1),Z)}function R6(J,Z){return J.slice(Z,E0(J,Z))}function KV(J){return(Z,Y,q)=>!q[0].length||(J(N6(q.input,q.index))!=G0.Word||J(R6(q.input,q.index))!=G0.Word)&&(J(R6(q.input,q.index+q[0].length))!=G0.Word||J(N6(q.input,q.index+q[0].length))!=G0.Word)}class dW extends VY{nextMatch(J,Z,Y){let q=w4(this.spec,J,Y,J.doc.length).next();if(q.done)q=w4(this.spec,J,0,Z).next();return q.done?null:q.value}prevMatchInRange(J,Z,Y){for(let q=1;;q++){let X=Math.max(Z,Y-q*1e4),Q=w4(this.spec,J,X,Y),K=null;while(!Q.next().done)K=Q.value;if(K&&(X==Z||K.from>X+10))return K;if(X==Z)return null}}prevMatch(J,Z,Y){return this.prevMatchInRange(J,0,Z)||this.prevMatchInRange(J,Y,J.doc.length)}getReplacement(J){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(Z,Y)=>{if(Y=="&")return J.match[0];if(Y=="$")return"$";for(let q=Y.length;q>0;q--){let X=+Y.slice(0,q);if(X>0&&X<J.match.length)return J.match[X]+Y.slice(q)}return Z})}matchAll(J,Z){let Y=w4(this.spec,J,0,J.doc.length),q=[];while(!Y.next().done){if(q.length>=Z)return null;q.push(Y.value)}return q}highlight(J,Z,Y,q){let X=w4(this.spec,J,Math.max(0,Z-250),Math.min(Y+250,J.doc.length));while(!X.next().done)q(X.value.from,X.value.to)}}var o3=p.define(),IY=p.define(),JJ=M0.define({create(J){return new _6(NY(J).create(),null)},update(J,Z){for(let Y of Z.effects)if(Y.is(o3))J=new _6(Y.value.create(),J.panel);else if(Y.is(IY))J=new _6(J.query,Y.value?DY:null);return J},provide:(J)=>kJ.from(J,(Z)=>Z.panel)});class _6{constructor(J,Z){this.query=J,this.panel=Z}}var $V=f.mark({class:"cm-searchMatch"}),UV=f.mark({class:"cm-searchMatch cm-searchMatch-selected"}),WV=N0.fromClass(class{constructor(J){this.view=J,this.decorations=this.highlight(J.state.field(JJ))}update(J){let Z=J.state.field(JJ);if(Z!=J.startState.field(JJ)||J.docChanged||J.selectionSet||J.viewportChanged)this.decorations=this.highlight(Z)}highlight({query:J,panel:Z}){if(!Z||!J.spec.valid)return f.none;let{view:Y}=this,q=new J1;for(let X=0,Q=Y.visibleRanges,K=Q.length;X<K;X++){let{from:$,to:U}=Q[X];while(X<K-1&&U>Q[X+1].from-500)U=Q[++X].to;J.highlight(Y.state,$,U,(j,W)=>{let G=Y.state.selection.ranges.some((z)=>z.from==j&&z.to==W);q.add(j,W,G?UV:$V)})}return q.finish()}},{decorations:(J)=>J.decorations});function t3(J){return(Z)=>{let Y=Z.state.field(JJ,!1);return Y&&Y.query.spec.valid?J(Z,Y):iW(Z)}}var A6=t3((J,{query:Z})=>{let{to:Y}=J.state.selection.main,q=Z.nextMatch(J.state,Y,Y);if(!q)return!1;let X=L.single(q.from,q.to),Q=J.state.facet(h4);return J.dispatch({selection:X,effects:[LY(J,q),Q.scrollToMatch(X.main,J)],userEvent:"select.search"}),nW(J),!0}),F6=t3((J,{query:Z})=>{let{state:Y}=J,{from:q}=Y.selection.main,X=Z.prevMatch(Y,q,q);if(!X)return!1;let Q=L.single(X.from,X.to),K=J.state.facet(h4);return J.dispatch({selection:Q,effects:[LY(J,X),K.scrollToMatch(Q.main,J)],userEvent:"select.search"}),nW(J),!0}),jV=t3((J,{query:Z})=>{let Y=Z.matchAll(J.state,1000);if(!Y||!Y.length)return!1;return J.dispatch({selection:L.create(Y.map((q)=>L.range(q.from,q.to))),userEvent:"select.search.matches"}),!0}),GV=({state:J,dispatch:Z})=>{let Y=J.selection;if(Y.ranges.length>1||Y.main.empty)return!1;let{from:q,to:X}=Y.main,Q=[],K=0;for(let $=new vJ(J.doc,J.sliceDoc(q,X));!$.next().done;){if(Q.length>1000)return!1;if($.value.from==q)K=Q.length;Q.push(L.range($.value.from,$.value.to))}return Z(J.update({selection:L.create(Q,K),userEvent:"select.search.matches"})),!0},mW=t3((J,{query:Z})=>{let{state:Y}=J,{from:q,to:X}=Y.selection.main;if(Y.readOnly)return!1;let Q=Z.nextMatch(Y,q,q);if(!Q)return!1;let K=Q,$=[],U,j,W=[];if(K.from==q&&K.to==X)j=Y.toText(Z.getReplacement(K)),$.push({from:K.from,to:K.to,insert:j}),K=Z.nextMatch(Y,K.from,K.to),W.push(C.announce.of(Y.phrase("replaced match on line $",Y.doc.lineAt(q).number)+"."));let G=J.state.changes($);if(K)U=L.single(K.from,K.to).map(G),W.push(LY(J,K)),W.push(Y.facet(h4).scrollToMatch(U.main,J));return J.dispatch({changes:G,selection:U,effects:W,userEvent:"input.replace"}),!0}),zV=t3((J,{query:Z})=>{if(J.state.readOnly)return!1;let Y=Z.matchAll(J.state,1e9).map((X)=>{let{from:Q,to:K}=X;return{from:Q,to:K,insert:Z.getReplacement(X)}});if(!Y.length)return!1;let q=J.state.phrase("replaced $ matches",Y.length)+".";return J.dispatch({changes:Y,effects:C.announce.of(q),userEvent:"input.replace.all"}),!0});function DY(J){return J.state.facet(h4).createPanel(J)}function NY(J,Z){var Y,q,X,Q,K;let $=J.selection.main,U=$.empty||$.to>$.from+100?"":J.sliceDoc($.from,$.to);if(Z&&!U)return Z;let j=J.facet(h4);return new MY({search:((Y=Z===null||Z===void 0?void 0:Z.literal)!==null&&Y!==void 0?Y:j.literal)?U:U.replace(/\n/g,"\\n"),caseSensitive:(q=Z===null||Z===void 0?void 0:Z.caseSensitive)!==null&&q!==void 0?q:j.caseSensitive,literal:(X=Z===null||Z===void 0?void 0:Z.literal)!==null&&X!==void 0?X:j.literal,regexp:(Q=Z===null||Z===void 0?void 0:Z.regexp)!==null&&Q!==void 0?Q:j.regexp,wholeWord:(K=Z===null||Z===void 0?void 0:Z.wholeWord)!==null&&K!==void 0?K:j.wholeWord})}function cW(J){let Z=wJ(J,DY);return Z&&Z.dom.querySelector("[main-field]")}function nW(J){let Z=cW(J);if(Z&&Z==J.root.activeElement)Z.select()}var iW=(J)=>{let Z=J.state.field(JJ,!1);if(Z&&Z.panel){let Y=cW(J);if(Y&&Y!=J.root.activeElement){let q=NY(J.state,Z.query.spec);if(q.valid)J.dispatch({effects:o3.of(q)});Y.focus(),Y.select()}}else J.dispatch({effects:[IY.of(!0),Z?o3.of(NY(J.state,Z.query.spec)):p.appendConfig.of(_V)]});return!0},sW=(J)=>{let Z=J.state.field(JJ,!1);if(!Z||!Z.panel)return!1;let Y=wJ(J,DY);if(Y&&Y.dom.contains(J.root.activeElement))J.focus();return J.dispatch({effects:IY.of(!1)}),!0},aW=[{key:"Mod-f",run:iW,scope:"editor search-panel"},{key:"F3",run:A6,shift:F6,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:A6,shift:F6,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:sW,scope:"editor search-panel"},{key:"Mod-Shift-l",run:GV},{key:"Mod-Alt-g",run:sM},{key:"Mod-d",run:XV,preventDefault:!0}];class rW{constructor(J){this.view=J;let Z=this.query=J.state.field(JJ).query.spec;this.commit=this.commit.bind(this),this.searchField=$0("input",{value:Z.search,placeholder:F1(J,"Find"),"aria-label":F1(J,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=$0("input",{value:Z.replace,placeholder:F1(J,"Replace"),"aria-label":F1(J,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=$0("input",{type:"checkbox",name:"case",form:"",checked:Z.caseSensitive,onchange:this.commit}),this.reField=$0("input",{type:"checkbox",name:"re",form:"",checked:Z.regexp,onchange:this.commit}),this.wordField=$0("input",{type:"checkbox",name:"word",form:"",checked:Z.wholeWord,onchange:this.commit});function Y(q,X,Q){return $0("button",{class:"cm-button",name:q,onclick:X,type:"button"},Q)}this.dom=$0("div",{onkeydown:(q)=>this.keydown(q),class:"cm-search"},[this.searchField,Y("next",()=>A6(J),[F1(J,"next")]),Y("prev",()=>F6(J),[F1(J,"previous")]),Y("select",()=>jV(J),[F1(J,"all")]),$0("label",null,[this.caseField,F1(J,"match case")]),$0("label",null,[this.reField,F1(J,"regexp")]),$0("label",null,[this.wordField,F1(J,"by word")]),...J.state.readOnly?[]:[$0("br"),this.replaceField,Y("replace",()=>mW(J),[F1(J,"replace")]),Y("replaceAll",()=>zV(J),[F1(J,"replace all")])],$0("button",{name:"close",onclick:()=>sW(J),"aria-label":F1(J,"close"),type:"button"},[""])])}commit(){let J=new MY({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});if(!J.eq(this.query))this.query=J,this.view.dispatch({effects:o3.of(J)})}keydown(J){if(x$(this.view,J,"search-panel"))J.preventDefault();else if(J.keyCode==13&&J.target==this.searchField)J.preventDefault(),(J.shiftKey?F6:A6)(this.view);else if(J.keyCode==13&&J.target==this.replaceField)J.preventDefault(),mW(this.view)}update(J){for(let Z of J.transactions)for(let Y of Z.effects)if(Y.is(o3)&&!Y.value.eq(this.query))this.setQuery(Y.value)}setQuery(J){this.query=J,this.searchField.value=J.search,this.replaceField.value=J.replace,this.caseField.checked=J.caseSensitive,this.reField.checked=J.regexp,this.wordField.checked=J.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(h4).top}}function F1(J,Z){return J.state.phrase(Z)}var z6=30,O6=/[\s\.,:;?!]/;function LY(J,{from:Z,to:Y}){let q=J.state.doc.lineAt(Z),X=J.state.doc.lineAt(Y).to,Q=Math.max(q.from,Z-z6),K=Math.min(X,Y+z6),$=J.state.sliceDoc(Q,K);if(Q!=q.from){for(let U=0;U<z6;U++)if(!O6.test($[U+1])&&O6.test($[U])){$=$.slice(U);break}}if(K!=X){for(let U=$.length-1;U>$.length-z6;U--)if(!O6.test($[U-1])&&O6.test($[U])){$=$.slice(0,U);break}}return C.announce.of(`${J.state.phrase("current match")}. ${$} ${J.state.phrase("on line")} ${q.number}.`)}var OV=C.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),_V=[JJ,B1.low(WV),OV];class TY{constructor(J,Z,Y,q){this.state=J,this.pos=Z,this.explicit=Y,this.view=q,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(J){let Z=C0(this.state).resolveInner(this.pos,-1);while(Z&&J.indexOf(Z.name)<0)Z=Z.parent;return Z?{from:Z.from,to:this.pos,text:this.state.sliceDoc(Z.from,this.pos),type:Z.type}:null}matchBefore(J){let Z=this.state.doc.lineAt(this.pos),Y=Math.max(Z.from,this.pos-250),q=Z.text.slice(Y-Z.from,this.pos-Z.from),X=q.search(Kj(J,!1));return X<0?null:{from:Y+X,to:this.pos,text:q.slice(X)}}get aborted(){return this.abortListeners==null}addEventListener(J,Z,Y){if(J=="abort"&&this.abortListeners){if(this.abortListeners.push(Z),Y&&Y.onDocChange)this.abortOnDocChange=!0}}}function oW(J){let Z=Object.keys(J).join(""),Y=/\w/.test(Z);if(Y)Z=Z.replace(/\w/g,"");return`[${Y?"\\w":""}${Z.replace(/[^\w\s]/g,"\\$&")}]`}function HV(J){let Z=Object.create(null),Y=Object.create(null);for(let{label:X}of J){Z[X[0]]=!0;for(let Q=1;Q<X.length;Q++)Y[X[Q]]=!0}let q=oW(Z)+oW(Y)+"*$";return[new RegExp("^"+q),new RegExp(q)]}function yY(J){let Z=J.map((X)=>typeof X=="string"?{label:X}:X),[Y,q]=Z.every((X)=>/^\w+$/.test(X.label))?[/\w*$/,/\w+$/]:HV(Z);return(X)=>{let Q=X.matchBefore(q);return Q||X.explicit?{from:Q?Q.from:X.pos,options:Z,validFor:Y}:null}}function Qj(J,Z){return(Y)=>{for(let q=C0(Y.state).resolveInner(Y.pos,-1);q;q=q.parent){if(J.indexOf(q.name)>-1)return null;if(q.type.isTop)break}return Z(Y)}}class CY{constructor(J,Z,Y,q){this.completion=J,this.source=Z,this.match=Y,this.score=q}}function mJ(J){return J.selection.main.from}function Kj(J,Z){var Y;let{source:q}=J,X=Z&&q[0]!="^",Q=q[q.length-1]!="$";if(!X&&!Q)return J;return new RegExp(`${X?"^":""}(?:${q})${Q?"$":""}`,(Y=J.flags)!==null&&Y!==void 0?Y:J.ignoreCase?"i":"")}var bY=R1.define();function NV(J,Z,Y,q){let{main:X}=J.selection,Q=Y-X.from,K=q-X.from;return{...J.changeByRange(($)=>{if($!=X&&Y!=q&&J.sliceDoc($.from+Q,$.from+K)!=J.sliceDoc(Y,q))return{range:$};let U=J.toText(Z);return{changes:{from:$.from+Q,to:q==X.from?$.to:$.from+K,insert:U},range:L.cursor($.from+Q+U.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}var tW=new WeakMap;function RV(J){if(!Array.isArray(J))return J;let Z=tW.get(J);if(!Z)tW.set(J,Z=yY(J));return Z}var V6=p.define(),e3=p.define();class $j{constructor(J){this.pattern=J,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let Z=0;Z<J.length;){let Y=g0(J,Z),q=N1(Y);this.chars.push(Y);let X=J.slice(Z,Z+q),Q=X.toUpperCase();this.folded.push(g0(Q==X?X.toLowerCase():Q,0)),Z+=q}this.astral=J.length!=this.chars.length}ret(J,Z){return this.score=J,this.matched=Z,this}match(J){if(this.pattern.length==0)return this.ret(-100,[]);if(J.length<this.pattern.length)return null;let{chars:Z,folded:Y,any:q,precise:X,byWord:Q}=this;if(Z.length==1){let M=g0(J,0),V=N1(M),D=V==J.length?0:-100;if(M==Z[0]);else if(M==Y[0])D+=-200;else return null;return this.ret(D,[0,V])}let K=J.indexOf(this.pattern);if(K==0)return this.ret(J.length==this.pattern.length?0:-100,[0,this.pattern.length]);let $=Z.length,U=0;if(K<0){for(let M=0,V=Math.min(J.length,200);M<V&&U<$;){let D=g0(J,M);if(D==Z[U]||D==Y[U])q[U++]=M;M+=N1(D)}if(U<$)return null}let j=0,W=0,G=!1,z=0,O=-1,_=-1,N=/[a-z]/.test(J),A=!0;for(let M=0,V=Math.min(J.length,200),D=0;M<V&&W<$;){let P=g0(J,M);if(K<0){if(j<$&&P==Z[j])X[j++]=M;if(z<$)if(P==Z[z]||P==Y[z]){if(z==0)O=M;_=M+1,z++}else z=0}let E,u=P<255?P>=48&&P<=57||P>=97&&P<=122?2:P>=65&&P<=90?1:0:(E=R3(P))!=E.toLowerCase()?1:E!=E.toUpperCase()?2:0;if(!M||u==1&&N||D==0&&u!=0){if(Z[W]==P||Y[W]==P&&(G=!0))Q[W++]=M;else if(Q.length)A=!1}D=u,M+=N1(P)}if(W==$&&Q[0]==0&&A)return this.result(-100+(G?-200:0),Q,J);if(z==$&&O==0)return this.ret(-200-J.length+(_==J.length?0:-100),[0,_]);if(K>-1)return this.ret(-700-J.length,[K,K+this.pattern.length]);if(z==$)return this.ret(-900-J.length,[O,_]);if(W==$)return this.result(-100+(G?-200:0)+-700+(A?0:-1100),Q,J);return Z.length==2?null:this.result((q[0]?-700:0)+-200+-1100,q,J)}result(J,Z,Y){let q=[],X=0;for(let Q of Z){let K=Q+(this.astral?N1(g0(Y,Q)):1);if(X&&q[X-1]==Q)q[X-1]=K;else q[X++]=Q,q[X++]=K}return this.ret(J-Y.length,q)}}class Uj{constructor(J){this.pattern=J,this.matched=[],this.score=0,this.folded=J.toLowerCase()}match(J){if(J.length<this.pattern.length)return null;let Z=J.slice(0,this.pattern.length),Y=Z==this.pattern?0:Z.toLowerCase()==this.folded?-200:null;if(Y==null)return null;return this.matched=[0,Z.length],this.score=Y+(J.length==this.pattern.length?0:-100),this}}var u0=b.define({combine(J){return i0(J,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:AV,filterStrict:!1,compareCompletions:(Z,Y)=>(Z.sortText||Z.label).localeCompare(Y.sortText||Y.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(Z,Y)=>Z&&Y,closeOnBlur:(Z,Y)=>Z&&Y,icons:(Z,Y)=>Z&&Y,tooltipClass:(Z,Y)=>(q)=>eW(Z(q),Y(q)),optionClass:(Z,Y)=>(q)=>eW(Z(q),Y(q)),addToOptions:(Z,Y)=>Z.concat(Y),filterStrict:(Z,Y)=>Z||Y})}});function eW(J,Z){return J?Z?J+" "+Z:J:Z}function AV(J,Z,Y,q,X,Q){let K=J.textDirection==W0.RTL,$=K,U=!1,j="top",W,G,z=Z.left-X.left,O=X.right-Z.right,_=q.right-q.left,N=q.bottom-q.top;if($&&z<Math.min(_,O))$=!1;else if(!$&&O<Math.min(_,z))$=!0;if(_<=($?z:O))W=Math.max(X.top,Math.min(Y.top,X.bottom-N))-Z.top,G=Math.min(400,$?z:O);else{U=!0,G=Math.min(400,(K?Z.right:X.right-Z.left)-30);let V=X.bottom-Z.bottom;if(V>=N||V>Z.top)W=Y.bottom-Z.top;else j="bottom",W=Z.bottom-Y.top}let A=(Z.bottom-Z.top)/Q.offsetHeight,M=(Z.right-Z.left)/Q.offsetWidth;return{style:`${j}: ${W/A}px; max-width: ${G/M}px`,class:"cm-completionInfo-"+(U?K?"left-narrow":"right-narrow":$?"left":"right")}}function FV(J){let Z=J.addToOptions.slice();if(J.icons)Z.push({render(Y){let q=document.createElement("div");if(q.classList.add("cm-completionIcon"),Y.type)q.classList.add(...Y.type.split(/\s+/g).map((X)=>"cm-completionIcon-"+X));return q.setAttribute("aria-hidden","true"),q},position:20});return Z.push({render(Y,q,X,Q){let K=document.createElement("span");K.className="cm-completionLabel";let $=Y.displayLabel||Y.label,U=0;for(let j=0;j<Q.length;){let W=Q[j++],G=Q[j++];if(W>U)K.appendChild(document.createTextNode($.slice(U,W)));let z=K.appendChild(document.createElement("span"));z.appendChild(document.createTextNode($.slice(W,G))),z.className="cm-completionMatchedText",U=G}if(U<$.length)K.appendChild(document.createTextNode($.slice(U)));return K},position:50},{render(Y){if(!Y.detail)return null;let q=document.createElement("span");return q.className="cm-completionDetail",q.textContent=Y.detail,q},position:80}),Z.sort((Y,q)=>Y.position-q.position).map((Y)=>Y.render)}function BY(J,Z,Y){if(J<=Y)return{from:0,to:J};if(Z<0)Z=0;if(Z<=J>>1){let X=Math.floor(Z/Y);return{from:X*Y,to:(X+1)*Y}}let q=Math.floor((J-Z)/Y);return{from:J-(q+1)*Y,to:J-q*Y}}class Wj{constructor(J,Z,Y){this.view=J,this.stateField=Z,this.applyCompletion=Y,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:($)=>this.placeInfo($),key:this},this.space=null,this.currentClass="";let q=J.state.field(Z),{options:X,selected:Q}=q.open,K=J.state.facet(u0);this.optionContent=FV(K),this.optionClass=K.optionClass,this.tooltipClass=K.tooltipClass,this.range=BY(X.length,Q,K.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(J.state),this.dom.addEventListener("mousedown",($)=>{let{options:U}=J.state.field(Z).open;for(let j=$.target,W;j&&j!=this.dom;j=j.parentNode)if(j.nodeName=="LI"&&(W=/-(\d+)$/.exec(j.id))&&+W[1]<U.length){this.applyCompletion(J,U[+W[1]]),$.preventDefault();return}}),this.dom.addEventListener("focusout",($)=>{let U=J.state.field(this.stateField,!1);if(U&&U.tooltip&&J.state.facet(u0).closeOnBlur&&$.relatedTarget!=J.contentDOM)J.dispatch({effects:e3.of(null)})}),this.showOptions(X,q.id)}mount(){this.updateSel()}showOptions(J,Z){if(this.list)this.list.remove();this.list=this.dom.appendChild(this.createListBox(J,Z,this.range)),this.list.addEventListener("scroll",()=>{if(this.info)this.view.requestMeasure(this.placeInfoReq)})}update(J){var Z;let Y=J.state.field(this.stateField),q=J.startState.field(this.stateField);if(this.updateTooltipClass(J.state),Y!=q){let{options:X,selected:Q,disabled:K}=Y.open;if(!q.open||q.open.options!=X)this.range=BY(X.length,Q,J.state.facet(u0).maxRenderedOptions),this.showOptions(X,Y.id);if(this.updateSel(),K!=((Z=q.open)===null||Z===void 0?void 0:Z.disabled))this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!K)}}updateTooltipClass(J){let Z=this.tooltipClass(J);if(Z!=this.currentClass){for(let Y of this.currentClass.split(" "))if(Y)this.dom.classList.remove(Y);for(let Y of Z.split(" "))if(Y)this.dom.classList.add(Y);this.currentClass=Z}}positioned(J){if(this.space=J,this.info)this.view.requestMeasure(this.placeInfoReq)}updateSel(){let J=this.view.state.field(this.stateField),Z=J.open;if(Z.selected>-1&&Z.selected<this.range.from||Z.selected>=this.range.to)this.range=BY(Z.options.length,Z.selected,this.view.state.facet(u0).maxRenderedOptions),this.showOptions(Z.options,J.id);let Y=this.updateSelectedOption(Z.selected);if(Y){this.destroyInfo();let{completion:q}=Z.options[Z.selected],{info:X}=q;if(!X)return;let Q=typeof X==="string"?document.createTextNode(X):X(q);if(!Q)return;if("then"in Q)Q.then((K)=>{if(K&&this.view.state.field(this.stateField,!1)==J)this.addInfoPane(K,q)}).catch((K)=>l0(this.view.state,K,"completion info"));else this.addInfoPane(Q,q),Y.setAttribute("aria-describedby",this.info.id)}}addInfoPane(J,Z){this.destroyInfo();let Y=this.info=document.createElement("div");if(Y.className="cm-tooltip cm-completionInfo",Y.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),J.nodeType!=null)Y.appendChild(J),this.infoDestroy=null;else{let{dom:q,destroy:X}=J;Y.appendChild(q),this.infoDestroy=X||null}this.dom.appendChild(Y),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(J){let Z=null;for(let Y=this.list.firstChild,q=this.range.from;Y;Y=Y.nextSibling,q++)if(Y.nodeName!="LI"||!Y.id)q--;else if(q==J){if(!Y.hasAttribute("aria-selected"))Y.setAttribute("aria-selected","true"),Z=Y}else if(Y.hasAttribute("aria-selected"))Y.removeAttribute("aria-selected"),Y.removeAttribute("aria-describedby");if(Z)VV(this.list,Z);return Z}measureInfo(){let J=this.dom.querySelector("[aria-selected]");if(!J||!this.info)return null;let Z=this.dom.getBoundingClientRect(),Y=this.info.getBoundingClientRect(),q=J.getBoundingClientRect(),X=this.space;if(!X){let Q=this.dom.ownerDocument.documentElement;X={left:0,top:0,right:Q.clientWidth,bottom:Q.clientHeight}}if(q.top>Math.min(X.bottom,Z.bottom)-10||q.bottom<Math.max(X.top,Z.top)+10)return null;return this.view.state.facet(u0).positionInfo(this.view,Z,q,Y,X,this.dom)}placeInfo(J){if(this.info)if(J){if(J.style)this.info.style.cssText=J.style;this.info.className="cm-tooltip cm-completionInfo "+(J.class||"")}else this.info.style.cssText="top: -1e6px"}createListBox(J,Z,Y){let q=document.createElement("ul");q.id=Z,q.setAttribute("role","listbox"),q.setAttribute("aria-expanded","true"),q.setAttribute("aria-label",this.view.state.phrase("Completions")),q.addEventListener("mousedown",(Q)=>{if(Q.target==q)Q.preventDefault()});let X=null;for(let Q=Y.from;Q<Y.to;Q++){let{completion:K,match:$}=J[Q],{section:U}=K;if(U){let G=typeof U=="string"?U:U.name;if(G!=X&&(Q>Y.from||Y.from==0))if(X=G,typeof U!="string"&&U.header)q.appendChild(U.header(U));else{let z=q.appendChild(document.createElement("completion-section"));z.textContent=G}}let j=q.appendChild(document.createElement("li"));j.id=Z+"-"+Q,j.setAttribute("role","option");let W=this.optionClass(K);if(W)j.className=W;for(let G of this.optionContent){let z=G(K,this.view.state,this.view,$);if(z)j.appendChild(z)}}if(Y.from)q.classList.add("cm-completionListIncompleteTop");if(Y.to<J.length)q.classList.add("cm-completionListIncompleteBottom");return q}destroyInfo(){if(this.info){if(this.infoDestroy)this.infoDestroy();this.info.remove(),this.info=null}}destroy(){this.destroyInfo()}}function MV(J,Z){return(Y)=>new Wj(Y,J,Z)}function VV(J,Z){let Y=J.getBoundingClientRect(),q=Z.getBoundingClientRect(),X=Y.height/J.offsetHeight;if(q.top<Y.top)J.scrollTop-=(Y.top-q.top)/X;else if(q.bottom>Y.bottom)J.scrollTop+=(q.bottom-Y.bottom)/X}function Jj(J){return(J.boost||0)*100+(J.apply?10:0)+(J.info?5:0)+(J.type?1:0)}function IV(J,Z){let Y=[],q=null,X=null,Q=(W)=>{Y.push(W);let{section:G}=W.completion;if(G){if(!q)q=[];let z=typeof G=="string"?G:G.name;if(!q.some((O)=>O.name==z))q.push(typeof G=="string"?{name:z}:G)}},K=Z.facet(u0);for(let W of J)if(W.hasResult()){let G=W.result.getMatch;if(W.result.filter===!1)for(let z of W.result.options)Q(new CY(z,W.source,G?G(z):[],1e9-Y.length));else{let z=Z.sliceDoc(W.from,W.to),O,_=K.filterStrict?new Uj(z):new $j(z);for(let N of W.result.options)if(O=_.match(N.label)){let A=!N.displayLabel?O.matched:G?G(N,O.matched):[],M=O.score+(N.boost||0);if(Q(new CY(N,W.source,A,M)),typeof N.section=="object"&&N.section.rank==="dynamic"){let{name:V}=N.section;if(!X)X=Object.create(null);X[V]=Math.max(M,X[V]||-1e9)}}}}if(q){let W=Object.create(null),G=0,z=(O,_)=>{return(O.rank==="dynamic"&&_.rank==="dynamic"?X[_.name]-X[O.name]:0)||(typeof O.rank=="number"?O.rank:1e9)-(typeof _.rank=="number"?_.rank:1e9)||(O.name<_.name?-1:1)};for(let O of q.sort(z))G-=1e5,W[O.name]=G;for(let O of Y){let{section:_}=O.completion;if(_)O.score+=W[typeof _=="string"?_:_.name]}}let $=[],U=null,j=K.compareCompletions;for(let W of Y.sort((G,z)=>z.score-G.score||j(G.completion,z.completion))){let G=W.completion;if(!U||U.label!=G.label||U.detail!=G.detail||U.type!=null&&G.type!=null&&U.type!=G.type||U.apply!=G.apply||U.boost!=G.boost)$.push(W);else if(Jj(W.completion)>Jj(U))$[$.length-1]=W;U=W.completion}return $}class v4{constructor(J,Z,Y,q,X,Q){this.options=J,this.attrs=Z,this.tooltip=Y,this.timestamp=q,this.selected=X,this.disabled=Q}setSelected(J,Z){return J==this.selected||J>=this.options.length?this:new v4(this.options,Zj(Z,J),this.tooltip,this.timestamp,J,this.disabled)}static build(J,Z,Y,q,X,Q){if(q&&!Q&&J.some((U)=>U.isPending))return q.setDisabled();let K=IV(J,Z);if(!K.length)return q&&J.some((U)=>U.isPending)?q.setDisabled():null;let $=Z.facet(u0).selectOnOpen?0:-1;if(q&&q.selected!=$&&q.selected!=-1){let U=q.options[q.selected].completion;for(let j=0;j<K.length;j++)if(K[j].completion==U){$=j;break}}return new v4(K,Zj(Y,$),{pos:J.reduce((U,j)=>j.hasResult()?Math.min(U,j.from):U,1e8),create:CV,above:X.aboveCursor},q?q.timestamp:Date.now(),$,!1)}map(J){return new v4(this.options,this.attrs,{...this.tooltip,pos:J.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new v4(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class I6{constructor(J,Z,Y){this.active=J,this.id=Z,this.open=Y}static start(){return new I6(PV,"cm-ac-"+Math.floor(Math.random()*2000000).toString(36),null)}update(J){let{state:Z}=J,Y=Z.facet(u0),X=(Y.override||Z.languageDataAt("autocomplete",mJ(Z)).map(RV)).map(($)=>{return(this.active.find((j)=>j.source==$)||new k1($,this.active.some((j)=>j.state!=0)?1:0)).update(J,Y)});if(X.length==this.active.length&&X.every(($,U)=>$==this.active[U]))X=this.active;let Q=this.open,K=J.effects.some(($)=>$.is(SY));if(Q&&J.docChanged)Q=Q.map(J.changes);if(J.selection||X.some(($)=>$.hasResult()&&J.changes.touchesRange($.from,$.to))||!DV(X,this.active)||K)Q=v4.build(X,Z,this.id,Q,Y,K);else if(Q&&Q.disabled&&!X.some(($)=>$.isPending))Q=null;if(!Q&&X.every(($)=>!$.isPending)&&X.some(($)=>$.hasResult()))X=X.map(($)=>$.hasResult()?new k1($.source,0):$);for(let $ of J.effects)if($.is(Gj))Q=Q&&Q.setSelected($.value,this.id);return X==this.active&&Q==this.open?this:new I6(X,this.id,Q)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?LV:BV}}function DV(J,Z){if(J==Z)return!0;for(let Y=0,q=0;;){while(Y<J.length&&!J[Y].hasResult())Y++;while(q<Z.length&&!Z[q].hasResult())q++;let X=Y==J.length,Q=q==Z.length;if(X||Q)return X==Q;if(J[Y++].result!=Z[q++].result)return!1}}var LV={"aria-autocomplete":"list"},BV={};function Zj(J,Z){let Y={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":J};if(Z>-1)Y["aria-activedescendant"]=J+"-"+Z;return Y}var PV=[];function jj(J,Z){if(J.isUserEvent("input.complete")){let q=J.annotation(bY);if(q&&Z.activateOnCompletion(q))return 12}let Y=J.isUserEvent("input.type");return Y&&Z.activateOnTyping?5:Y?1:J.isUserEvent("delete.backward")?2:J.selection?8:J.docChanged?16:0}class k1{constructor(J,Z,Y=!1){this.source=J,this.state=Z,this.explicit=Y}hasResult(){return!1}get isPending(){return this.state==1}update(J,Z){let Y=jj(J,Z),q=this;if(Y&8||Y&16&&this.touches(J))q=new k1(q.source,0);if(Y&4&&q.state==0)q=new k1(this.source,1);q=q.updateFor(J,Y);for(let X of J.effects)if(X.is(V6))q=new k1(q.source,1,X.value);else if(X.is(e3))q=new k1(q.source,0);else if(X.is(SY)){for(let Q of X.value)if(Q.source==q.source)q=Q}return q}updateFor(J,Z){return this.map(J.changes)}map(J){return this}touches(J){return J.changes.touchesRange(mJ(J.state))}}class u4 extends k1{constructor(J,Z,Y,q,X,Q){super(J,3,Z);this.limit=Y,this.result=q,this.from=X,this.to=Q}hasResult(){return!0}updateFor(J,Z){var Y;if(!(Z&3))return this.map(J.changes);let q=this.result;if(q.map&&!J.changes.empty)q=q.map(q,J.changes);let X=J.changes.mapPos(this.from),Q=J.changes.mapPos(this.to,1),K=mJ(J.state);if(K>Q||!q||Z&2&&(mJ(J.startState)==this.from||K<this.limit))return new k1(this.source,Z&4?1:0);let $=J.changes.mapPos(this.limit);if(EV(q.validFor,J.state,X,Q))return new u4(this.source,this.explicit,$,q,X,Q);if(q.update&&(q=q.update(q,X,Q,new TY(J.state,K,!1))))return new u4(this.source,this.explicit,$,q,q.from,(Y=q.to)!==null&&Y!==void 0?Y:mJ(J.state));return new k1(this.source,1,this.explicit)}map(J){if(J.empty)return this;if(!(this.result.map?this.result.map(this.result,J):this.result))return new k1(this.source,0);return new u4(this.source,this.explicit,J.mapPos(this.limit),this.result,J.mapPos(this.from),J.mapPos(this.to,1))}touches(J){return J.changes.touchesRange(this.from,this.to)}}function EV(J,Z,Y,q){if(!J)return!1;let X=Z.sliceDoc(Y,q);return typeof J=="function"?J(X,Y,q,Z):Kj(J,!0).test(X)}var SY=p.define({map(J,Z){return J.map((Y)=>Y.map(Z))}}),Gj=p.define(),j1=M0.define({create(){return I6.start()},update(J,Z){return J.update(Z)},provide:(J)=>[m3.from(J,(Z)=>Z.tooltip),C.contentAttributes.from(J,(Z)=>Z.attrs)]});function kY(J,Z){let Y=Z.completion.apply||Z.completion.label,q=J.state.field(j1).active.find((X)=>X.source==Z.source);if(!(q instanceof u4))return!1;if(typeof Y=="string")J.dispatch({...NV(J.state,Y,q.from,q.to),annotations:bY.of(Z.completion)});else Y(J,Z.completion,q.from,q.to);return!0}var CV=MV(j1,kY);function M6(J,Z="option"){return(Y)=>{let q=Y.state.field(j1,!1);if(!q||!q.open||q.open.disabled||Date.now()-q.open.timestamp<Y.state.facet(u0).interactionDelay)return!1;let X=1,Q;if(Z=="page"&&(Q=hZ(Y,q.open.tooltip)))X=Math.max(2,Math.floor(Q.dom.offsetHeight/Q.dom.querySelector("li").offsetHeight)-1);let{length:K}=q.open.options,$=q.open.selected>-1?q.open.selected+X*(J?1:-1):J?0:K-1;if($<0)$=Z=="page"?0:K-1;else if($>=K)$=Z=="page"?K-1:0;return Y.dispatch({effects:Gj.of($)}),!0}}var TV=(J)=>{let Z=J.state.field(j1,!1);if(J.state.readOnly||!Z||!Z.open||Z.open.selected<0||Z.open.disabled||Date.now()-Z.open.timestamp<J.state.facet(u0).interactionDelay)return!1;return kY(J,Z.open.options[Z.open.selected])},PY=(J)=>{if(!J.state.field(j1,!1))return!1;return J.dispatch({effects:V6.of(!0)}),!0},yV=(J)=>{let Z=J.state.field(j1,!1);if(!Z||!Z.active.some((Y)=>Y.state!=0))return!1;return J.dispatch({effects:e3.of(null)}),!0};class zj{constructor(J,Z){this.active=J,this.context=Z,this.time=Date.now(),this.updates=[],this.done=void 0}}var bV=50,SV=1000,kV=N0.fromClass(class{constructor(J){this.view=J,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let Z of J.state.field(j1).active)if(Z.isPending)this.startQuery(Z)}update(J){let Z=J.state.field(j1),Y=J.state.facet(u0);if(!J.selectionSet&&!J.docChanged&&J.startState.field(j1)==Z)return;let q=J.transactions.some((Q)=>{let K=jj(Q,Y);return K&8||(Q.selection||Q.docChanged)&&!(K&3)});for(let Q=0;Q<this.running.length;Q++){let K=this.running[Q];if(q||K.context.abortOnDocChange&&J.docChanged||K.updates.length+J.transactions.length>bV&&Date.now()-K.time>SV){for(let $ of K.context.abortListeners)try{$()}catch(U){l0(this.view.state,U)}K.context.abortListeners=null,this.running.splice(Q--,1)}else K.updates.push(...J.transactions)}if(this.debounceUpdate>-1)clearTimeout(this.debounceUpdate);if(J.transactions.some((Q)=>Q.effects.some((K)=>K.is(V6))))this.pendingStart=!0;let X=this.pendingStart?50:Y.activateOnTypingDelay;if(this.debounceUpdate=Z.active.some((Q)=>Q.isPending&&!this.running.some((K)=>K.active.source==Q.source))?setTimeout(()=>this.startUpdate(),X):-1,this.composing!=0){for(let Q of J.transactions)if(Q.isUserEvent("input.type"))this.composing=2;else if(this.composing==2&&Q.selection)this.composing=3}}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:J}=this.view,Z=J.field(j1);for(let Y of Z.active)if(Y.isPending&&!this.running.some((q)=>q.active.source==Y.source))this.startQuery(Y);if(this.running.length&&Z.open&&Z.open.disabled)this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(u0).updateSyncTime)}startQuery(J){let{state:Z}=this.view,Y=mJ(Z),q=new TY(Z,Y,J.explicit,this.view),X=new zj(J,q);this.running.push(X),Promise.resolve(J.source(q)).then((Q)=>{if(!X.context.aborted)X.done=Q||null,this.scheduleAccept()},(Q)=>{this.view.dispatch({effects:e3.of(null)}),l0(this.view.state,Q)})}scheduleAccept(){if(this.running.every((J)=>J.done!==void 0))this.accept();else if(this.debounceAccept<0)this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(u0).updateSyncTime)}accept(){var J;if(this.debounceAccept>-1)clearTimeout(this.debounceAccept);this.debounceAccept=-1;let Z=[],Y=this.view.state.facet(u0),q=this.view.state.field(j1);for(let X=0;X<this.running.length;X++){let Q=this.running[X];if(Q.done===void 0)continue;if(this.running.splice(X--,1),Q.done){let $=mJ(Q.updates.length?Q.updates[0].startState:this.view.state),U=Math.min($,Q.done.from+(Q.active.explicit?0:1)),j=new u4(Q.active.source,Q.active.explicit,U,Q.done,Q.done.from,(J=Q.done.to)!==null&&J!==void 0?J:$);for(let W of Q.updates)j=j.update(W,Y);if(j.hasResult()){Z.push(j);continue}}let K=q.active.find(($)=>$.source==Q.active.source);if(K&&K.isPending)if(Q.done==null){let $=new k1(Q.active.source,0);for(let U of Q.updates)$=$.update(U,Y);if(!$.isPending)Z.push($)}else this.startQuery(K)}if(Z.length||q.open&&q.open.disabled)this.view.dispatch({effects:SY.of(Z)})}},{eventHandlers:{blur(J){let Z=this.view.state.field(j1,!1);if(Z&&Z.tooltip&&this.view.state.facet(u0).closeOnBlur){let Y=Z.open&&hZ(this.view,Z.open.tooltip);if(!Y||!Y.dom.contains(J.relatedTarget))setTimeout(()=>this.view.dispatch({effects:e3.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){if(this.composing==3)setTimeout(()=>this.view.dispatch({effects:V6.of(!1)}),20);this.composing=0}}}),wV=typeof navigator=="object"&&/Win/.test(navigator.platform),xV=B1.highest(C.domEventHandlers({keydown(J,Z){let Y=Z.state.field(j1,!1);if(!Y||!Y.open||Y.open.disabled||Y.open.selected<0||J.key.length>1||J.ctrlKey&&!(wV&&J.altKey)||J.metaKey)return!1;let q=Y.open.options[Y.open.selected],X=Y.active.find((K)=>K.source==q.source),Q=q.completion.commitCharacters||X.result.commitCharacters;if(Q&&Q.indexOf(J.key)>-1)kY(Z,q);return!1}})),Oj=C.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:0.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:0.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"'\uD835\uDC65'"}},".cm-completionIcon-constant":{"&:after":{content:"'\uD835\uDC36'"}},".cm-completionIcon-type":{"&:after":{content:"'\uD835\uDC61'"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"'\uD83D\uDD11'"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class _j{constructor(J,Z,Y,q){this.field=J,this.line=Z,this.from=Y,this.to=q}}class wY{constructor(J,Z,Y){this.field=J,this.from=Z,this.to=Y}map(J){let Z=J.mapPos(this.from,-1,h0.TrackDel),Y=J.mapPos(this.to,1,h0.TrackDel);return Z==null||Y==null?null:new wY(this.field,Z,Y)}}class xY{constructor(J,Z){this.lines=J,this.fieldPositions=Z}instantiate(J,Z){let Y=[],q=[Z],X=J.doc.lineAt(Z),Q=/^\s*/.exec(X.text)[0];for(let $ of this.lines){if(Y.length){let U=Q,j=/^\t*/.exec($)[0].length;for(let W=0;W<j;W++)U+=J.facet(E4);q.push(Z+U.length-j),$=U+$.slice(j)}Y.push($),Z+=$.length+1}let K=this.fieldPositions.map(($)=>new wY($.field,q[$.line]+$.from,q[$.line]+$.to));return{text:Y,ranges:K}}static parse(J){let Z=[],Y=[],q=[],X;for(let Q of J.split(/\r\n?|\n/)){while(X=/[#$]\{(?:(\d+)(?::([^{}]*))?|((?:\\[{}]|[^{}])*))\}/.exec(Q)){let K=X[1]?+X[1]:null,$=X[2]||X[3]||"",U=-1,j=$.replace(/\\[{}]/g,(W)=>W[1]);for(let W=0;W<Z.length;W++)if(K!=null?Z[W].seq==K:j?Z[W].name==j:!1)U=W;if(U<0){let W=0;while(W<Z.length&&(K==null||Z[W].seq!=null&&Z[W].seq<K))W++;Z.splice(W,0,{seq:K,name:j}),U=W;for(let G of q)if(G.field>=U)G.field++}for(let W of q)if(W.line==Y.length&&W.from>X.index){let G=X[2]?3+(X[1]||"").length:2;W.from-=G,W.to-=G}q.push(new _j(U,Y.length,X.index,X.index+j.length)),Q=Q.slice(0,X.index)+$+Q.slice(X.index+X[0].length)}Q=Q.replace(/\\([{}])/g,(K,$,U)=>{for(let j of q)if(j.line==Y.length&&j.from>U)j.from--,j.to--;return $}),Y.push(Q)}return new xY(Y,q)}}var hV=f.widget({widget:new class extends $1{toDOM(){let J=document.createElement("span");return J.className="cm-snippetFieldPosition",J}ignoreEvent(){return!1}}}),vV=f.mark({class:"cm-snippetField"});class m4{constructor(J,Z){this.ranges=J,this.active=Z,this.deco=f.set(J.map((Y)=>(Y.from==Y.to?hV:vV).range(Y.from,Y.to)),!0)}map(J){let Z=[];for(let Y of this.ranges){let q=Y.map(J);if(!q)return null;Z.push(q)}return new m4(Z,this.active)}selectionInsideField(J){return J.ranges.every((Z)=>this.ranges.some((Y)=>Y.field==this.active&&Y.from<=Z.from&&Y.to>=Z.to))}}var Y7=p.define({map(J,Z){return J&&J.map(Z)}}),uV=p.define(),J7=M0.define({create(){return null},update(J,Z){for(let Y of Z.effects){if(Y.is(Y7))return Y.value;if(Y.is(uV)&&J)return new m4(J.ranges,Y.value)}if(J&&Z.docChanged)J=J.map(Z.changes);if(J&&Z.selection&&!J.selectionInsideField(Z.selection))J=null;return J},provide:(J)=>C.decorations.from(J,(Z)=>Z?Z.deco:f.none)});function hY(J,Z){return L.create(J.filter((Y)=>Y.field==Z).map((Y)=>L.range(Y.from,Y.to)))}function mV(J){let Z=xY.parse(J);return(Y,q,X,Q)=>{let{text:K,ranges:$}=Z.instantiate(Y.state,X),{main:U}=Y.state.selection,j={changes:{from:X,to:Q==U.from?U.to:Q,insert:e.of(K)},scrollIntoView:!0,annotations:q?[bY.of(q),L0.userEvent.of("input.complete")]:void 0};if($.length)j.selection=hY($,0);if($.some((W)=>W.field>0)){let W=new m4($,0),G=j.effects=[Y7.of(W)];if(Y.state.field(J7,!1)===void 0)G.push(p.appendConfig.of([J7,dV,cV,Oj]))}Y.dispatch(Y.state.update(j))}}function Hj(J){return({state:Z,dispatch:Y})=>{let q=Z.field(J7,!1);if(!q||J<0&&q.active==0)return!1;let X=q.active+J,Q=J>0&&!q.ranges.some((K)=>K.field==X+J);return Y(Z.update({selection:hY(q.ranges,X),effects:Y7.of(Q?null:new m4(q.ranges,X)),scrollIntoView:!0})),!0}}var gV=({state:J,dispatch:Z})=>{if(!J.field(J7,!1))return!1;return Z(J.update({effects:Y7.of(null)})),!0},fV=Hj(1),lV=Hj(-1);var pV=[{key:"Tab",run:fV,shift:lV},{key:"Escape",run:gV}],Yj=b.define({combine(J){return J.length?J[0]:pV}}),dV=B1.highest(I4.compute([Yj],(J)=>J.facet(Yj)));function q1(J,Z){return{...Z,apply:mV(J)}}var cV=C.domEventHandlers({mousedown(J,Z){let Y=Z.state.field(J7,!1),q;if(!Y||(q=Z.posAtCoords({x:J.clientX,y:J.clientY}))==null)return!1;let X=Y.ranges.find((Q)=>Q.from<=q&&Q.to>=q);if(!X||X.field==Y.active)return!1;return Z.dispatch({selection:hY(Y.ranges,X.field),effects:Y7.of(Y.ranges.some((Q)=>Q.field>X.field)?new m4(Y.ranges,X.field):null),scrollIntoView:!0}),!0}});var Z7={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},uJ=p.define({map(J,Z){let Y=Z.mapPos(J,-1,h0.TrackAfter);return Y==null?void 0:Y}}),vY=new class extends c1{};vY.startSide=1;vY.endSide=-1;var Nj=M0.define({create(){return a.empty},update(J,Z){if(J=J.map(Z.changes),Z.selection){let Y=Z.state.doc.lineAt(Z.selection.main.head);J=J.update({filter:(q)=>q>=Y.from&&q<=Y.to})}for(let Y of Z.effects)if(Y.is(uJ))J=J.update({add:[vY.range(Y.value,Y.value+1)]});return J}});function Rj(){return[iV,Nj]}var EY="()[]{}<>";function Aj(J){for(let Z=0;Z<EY.length;Z+=2)if(EY.charCodeAt(Z)==J)return EY.charAt(Z+1);return R3(J<128?J:J+1)}function Fj(J,Z){return J.languageDataAt("closeBrackets",Z)[0]||Z7}var nV=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),iV=C.inputHandler.of((J,Z,Y,q)=>{if((nV?J.composing:J.compositionStarted)||J.state.readOnly)return!1;let X=J.state.selection.main;if(q.length>2||q.length==2&&N1(g0(q,0))==1||Z!=X.from||Y!=X.to)return!1;let Q=aV(J.state,q);if(!Q)return!1;return J.dispatch(Q),!0}),sV=({state:J,dispatch:Z})=>{if(J.readOnly)return!1;let q=Fj(J,J.selection.main.head).brackets||Z7.brackets,X=null,Q=J.changeByRange((K)=>{if(K.empty){let $=rV(J.doc,K.head);for(let U of q)if(U==$&&D6(J.doc,K.head)==Aj(g0(U,0)))return{changes:{from:K.head-U.length,to:K.head+U.length},range:L.cursor(K.head-U.length)}}return{range:X=K}});if(!X)Z(J.update(Q,{scrollIntoView:!0,userEvent:"delete.backward"}));return!X},Mj=[{key:"Backspace",run:sV}];function aV(J,Z){let Y=Fj(J,J.selection.main.head),q=Y.brackets||Z7.brackets;for(let X of q){let Q=Aj(g0(X,0));if(Z==X)return Q==X?eV(J,X,q.indexOf(X+X+X)>-1,Y):oV(J,X,Q,Y.before||Z7.before);if(Z==Q&&Vj(J,J.selection.main.from))return tV(J,X,Q)}return null}function Vj(J,Z){let Y=!1;return J.field(Nj).between(0,J.doc.length,(q)=>{if(q==Z)Y=!0}),Y}function D6(J,Z){let Y=J.sliceString(Z,Z+2);return Y.slice(0,N1(g0(Y,0)))}function rV(J,Z){let Y=J.sliceString(Z-2,Z);return N1(g0(Y,0))==Y.length?Y:Y.slice(1)}function oV(J,Z,Y,q){let X=null,Q=J.changeByRange((K)=>{if(!K.empty)return{changes:[{insert:Z,from:K.from},{insert:Y,from:K.to}],effects:uJ.of(K.to+Z.length),range:L.range(K.anchor+Z.length,K.head+Z.length)};let $=D6(J.doc,K.head);if(!$||/\s/.test($)||q.indexOf($)>-1)return{changes:{insert:Z+Y,from:K.head},effects:uJ.of(K.head+Z.length),range:L.cursor(K.head+Z.length)};return{range:X=K}});return X?null:J.update(Q,{scrollIntoView:!0,userEvent:"input.type"})}function tV(J,Z,Y){let q=null,X=J.changeByRange((Q)=>{if(Q.empty&&D6(J.doc,Q.head)==Y)return{changes:{from:Q.head,to:Q.head+Y.length,insert:Y},range:L.cursor(Q.head+Y.length)};return q={range:Q}});return q?null:J.update(X,{scrollIntoView:!0,userEvent:"input.type"})}function eV(J,Z,Y,q){let X=q.stringPrefixes||Z7.stringPrefixes,Q=null,K=J.changeByRange(($)=>{if(!$.empty)return{changes:[{insert:Z,from:$.from},{insert:Z,from:$.to}],effects:uJ.of($.to+Z.length),range:L.range($.anchor+Z.length,$.head+Z.length)};let U=$.head,j=D6(J.doc,U),W;if(j==Z){if(qj(J,U))return{changes:{insert:Z+Z,from:U},effects:uJ.of(U+Z.length),range:L.cursor(U+Z.length)};else if(Vj(J,U)){let z=Y&&J.sliceDoc(U,U+Z.length*3)==Z+Z+Z?Z+Z+Z:Z;return{changes:{from:U,to:U+z.length,insert:z},range:L.cursor(U+z.length)}}}else if(Y&&J.sliceDoc(U-2*Z.length,U)==Z+Z&&(W=Xj(J,U-2*Z.length,X))>-1&&qj(J,W))return{changes:{insert:Z+Z+Z+Z,from:U},effects:uJ.of(U+Z.length),range:L.cursor(U+Z.length)};else if(J.charCategorizer(U)(j)!=G0.Word){if(Xj(J,U,X)>-1&&!JI(J,U,Z,X))return{changes:{insert:Z+Z,from:U},effects:uJ.of(U+Z.length),range:L.cursor(U+Z.length)}}return{range:Q=$}});return Q?null:J.update(K,{scrollIntoView:!0,userEvent:"input.type"})}function qj(J,Z){let Y=C0(J).resolveInner(Z+1);return Y.parent&&Y.from==Z}function JI(J,Z,Y,q){let X=C0(J).resolveInner(Z,-1),Q=q.reduce((K,$)=>Math.max(K,$.length),0);for(let K=0;K<5;K++){let $=J.sliceDoc(X.from,Math.min(X.to,X.from+Y.length+Q)),U=$.indexOf(Y);if(!U||U>-1&&q.indexOf($.slice(0,U))>-1){let W=X.firstChild;while(W&&W.from==X.from&&W.to-W.from>Y.length+U){if(J.sliceDoc(W.to-Y.length,W.to)==Y)return!1;W=W.firstChild}return!0}let j=X.to==Z&&X.parent;if(!j)break;X=j}return!1}function Xj(J,Z,Y){let q=J.charCategorizer(Z);if(q(J.sliceDoc(Z-1,Z))!=G0.Word)return Z;for(let X of Y){let Q=Z-X.length;if(J.sliceDoc(Q,Z)==X&&q(J.sliceDoc(Q-1,Q))!=G0.Word)return Q}return-1}function Ij(J={}){return[xV,j1,u0.of(J),kV,ZI,Oj]}var uY=[{key:"Ctrl-Space",run:PY},{mac:"Alt-`",run:PY},{mac:"Alt-i",run:PY},{key:"Escape",run:yV},{key:"ArrowDown",run:M6(!0)},{key:"ArrowUp",run:M6(!1)},{key:"PageDown",run:M6(!0,"page")},{key:"PageUp",run:M6(!1,"page")},{key:"Enter",run:TV}],ZI=B1.highest(I4.computeN([u0],(J)=>J.facet(u0).defaultKeymap?[uY]:[]));class mY{constructor(J,Z,Y){this.from=J,this.to=Z,this.diagnostic=Y}}class gJ{constructor(J,Z,Y){this.diagnostics=J,this.panel=Z,this.selected=Y}static init(J,Z,Y){let q=Y.facet(q7).markerFilter;if(q)J=q(J,Y);let X=J.slice().sort((z,O)=>z.from-O.from||z.to-O.to),Q=new J1,K=[],$=0,U=Y.doc.iter(),j=0,W=Y.doc.length;for(let z=0;;){let O=z==X.length?null:X[z];if(!O&&!K.length)break;let _,N;if(K.length)_=$,N=K.reduce((V,D)=>Math.min(V,D.to),O&&O.from>_?O.from:1e8);else{if(_=O.from,_>W)break;N=O.to,K.push(O),z++}while(z<X.length){let V=X[z];if(V.from==_&&(V.to>V.from||V.to==_))K.push(V),z++,N=Math.min(V.to,N);else{N=Math.min(V.from,N);break}}N=Math.min(N,W);let A=!1;if(K.some((V)=>V.from==_&&(V.to==N||N==W))){if(A=_==N,!A&&N-_<10){let V=_-(j+U.value.length);if(V>0)U.next(V),j=_;for(let D=_;;){if(D>=N){A=!0;break}if(!U.lineBreak&&j+U.value.length>D)break;D=j+U.value.length,j+=U.value.length,U.next()}}}let M=zI(K);if(A)Q.add(_,_,f.widget({widget:new yj(M),diagnostics:K.slice()}));else{let V=K.reduce((D,P)=>P.markClass?D+" "+P.markClass:D,"");Q.add(_,N,f.mark({class:"cm-lintRange cm-lintRange-"+M+V,diagnostics:K.slice(),inclusiveEnd:K.some((D)=>D.to>N)}))}if($=N,$==W)break;for(let V=0;V<K.length;V++)if(K[V].to<=$)K.splice(V--,1)}let G=Q.finish();return new gJ(G,Z,g4(G))}}function g4(J,Z=null,Y=0){let q=null;return J.between(Y,1e9,(X,Q,{spec:K})=>{if(Z&&K.diagnostics.indexOf(Z)<0)return;if(!q)q=new mY(X,Q,Z||K.diagnostics[0]);else if(K.diagnostics.indexOf(q.diagnostic)<0)return!1;else q=new mY(q.from,Q,q.diagnostic)}),q}function YI(J,Z){let Y=Z.pos,q=Z.end||Y,X=J.state.facet(q7).hideOn(J,Y,q);if(X!=null)return X;let Q=J.startState.doc.lineAt(Z.pos);return!!(J.effects.some((K)=>K.is(Bj))||J.changes.touchesRange(Q.from,Math.max(Q.to,q)))}function qI(J,Z){return J.field(M1,!1)?Z:Z.concat(p.appendConfig.of(OI))}var Bj=p.define(),fY=p.define(),Pj=p.define(),M1=M0.define({create(){return new gJ(f.none,null,null)},update(J,Z){if(Z.docChanged&&J.diagnostics.size){let Y=J.diagnostics.map(Z.changes),q=null,X=J.panel;if(J.selected){let Q=Z.changes.mapPos(J.selected.from,1);q=g4(Y,J.selected.diagnostic,Q)||g4(Y,null,Q)}if(!Y.size&&X&&Z.state.facet(q7).autoPanel)X=null;J=new gJ(Y,X,q)}for(let Y of Z.effects)if(Y.is(Bj)){let q=!Z.state.facet(q7).autoPanel?J.panel:Y.value.length?X7.open:null;J=gJ.init(Y.value,q,Z.state)}else if(Y.is(fY))J=new gJ(J.diagnostics,Y.value?X7.open:null,J.selected);else if(Y.is(Pj))J=new gJ(J.diagnostics,J.panel,Y.value);return J},provide:(J)=>[kJ.from(J,(Z)=>Z.panel),C.decorations.from(J,(Z)=>Z.diagnostics)]});var XI=f.mark({class:"cm-lintRange cm-lintRange-active"});function QI(J,Z,Y){let{diagnostics:q}=J.state.field(M1),X,Q=-1,K=-1;q.between(Z-(Y<0?1:0),Z+(Y>0?1:0),(U,j,{spec:W})=>{if(Z>=U&&Z<=j&&(U==j||(Z>U||Y>0)&&(Z<j||Y<0)))return X=W.diagnostics,Q=U,K=j,!1});let $=J.state.facet(q7).tooltipFilter;if(X&&$)X=$(X,J.state);if(!X)return null;return{pos:Q,end:K,above:J.state.doc.lineAt(Q).to<K,create(){return{dom:KI(J,X)}}}}function KI(J,Z){return $0("ul",{class:"cm-tooltip-lint"},Z.map((Y)=>Tj(J,Y,!1)))}var $I=(J)=>{let Z=J.state.field(M1,!1);if(!Z||!Z.panel)J.dispatch({effects:qI(J.state,[fY.of(!0)])});let Y=wJ(J,X7.open);if(Y)Y.dom.querySelector(".cm-panel-lint ul").focus();return!0},Dj=(J)=>{let Z=J.state.field(M1,!1);if(!Z||!Z.panel)return!1;return J.dispatch({effects:fY.of(!1)}),!0},UI=(J)=>{let Z=J.state.field(M1,!1);if(!Z)return!1;let Y=J.state.selection.main,q=Z.diagnostics.iter(Y.to+1);if(!q.value){if(q=Z.diagnostics.iter(0),!q.value||q.from==Y.from&&q.to==Y.to)return!1}return J.dispatch({selection:{anchor:q.from,head:q.to},scrollIntoView:!0}),!0};var Ej=[{key:"Mod-Shift-m",run:$I,preventDefault:!0},{key:"F8",run:UI}];var q7=b.define({combine(J){return{sources:J.map((Z)=>Z.source).filter((Z)=>Z!=null),...i0(J.map((Z)=>Z.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:Lj,tooltipFilter:Lj,needsRefresh:(Z,Y)=>!Z?Y:!Y?Z:(q)=>Z(q)||Y(q),hideOn:(Z,Y)=>!Z?Y:!Y?Z:(q,X,Q)=>Z(q,X,Q)||Y(q,X,Q),autoPanel:(Z,Y)=>Z||Y})}}});function Lj(J,Z){return!J?Z:!Z?J:(Y,q)=>Z(J(Y,q),q)}function Cj(J){let Z=[];if(J)J:for(let{name:Y}of J){for(let q=0;q<Y.length;q++){let X=Y[q];if(/[a-zA-Z]/.test(X)&&!Z.some((Q)=>Q.toLowerCase()==X.toLowerCase())){Z.push(X);continue J}}Z.push("")}return Z}function Tj(J,Z,Y){var q;let X=Y?Cj(Z.actions):[];return $0("li",{class:"cm-diagnostic cm-diagnostic-"+Z.severity},$0("span",{class:"cm-diagnosticText"},Z.renderMessage?Z.renderMessage(J):Z.message),(q=Z.actions)===null||q===void 0?void 0:q.map((Q,K)=>{let $=!1,U=(O)=>{if(O.preventDefault(),$)return;$=!0;let _=g4(J.state.field(M1).diagnostics,Z);if(_)Q.apply(J,_.from,_.to)},{name:j}=Q,W=X[K]?j.indexOf(X[K]):-1,G=W<0?j:[j.slice(0,W),$0("u",j.slice(W,W+1)),j.slice(W+1)],z=Q.markClass?" "+Q.markClass:"";return $0("button",{type:"button",class:"cm-diagnosticAction"+z,onclick:U,onmousedown:U,"aria-label":` Action: ${j}${W<0?"":` (access key "${X[K]})"`}.`},G)}),Z.source&&$0("div",{class:"cm-diagnosticSource"},Z.source))}class yj extends $1{constructor(J){super();this.sev=J}eq(J){return J.sev==this.sev}toDOM(){return $0("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class gY{constructor(J,Z){this.diagnostic=Z,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=Tj(J,Z,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class X7{constructor(J){this.view=J,this.items=[];let Z=(q)=>{if(q.keyCode==27)Dj(this.view),this.view.focus();else if(q.keyCode==38||q.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(q.keyCode==40||q.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(q.keyCode==36)this.moveSelection(0);else if(q.keyCode==35)this.moveSelection(this.items.length-1);else if(q.keyCode==13)this.view.focus();else if(q.keyCode>=65&&q.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:X}=this.items[this.selectedIndex],Q=Cj(X.actions);for(let K=0;K<Q.length;K++)if(Q[K].toUpperCase().charCodeAt(0)==q.keyCode){let $=g4(this.view.state.field(M1).diagnostics,X);if($)X.actions[K].apply(J,$.from,$.to)}}else return;q.preventDefault()},Y=(q)=>{for(let X=0;X<this.items.length;X++)if(this.items[X].dom.contains(q.target))this.moveSelection(X)};this.list=$0("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:Z,onclick:Y}),this.dom=$0("div",{class:"cm-panel-lint"},this.list,$0("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>Dj(this.view)},"")),this.update()}get selectedIndex(){let J=this.view.state.field(M1).selected;if(!J)return-1;for(let Z=0;Z<this.items.length;Z++)if(this.items[Z].diagnostic==J.diagnostic)return Z;return-1}update(){let{diagnostics:J,selected:Z}=this.view.state.field(M1),Y=0,q=!1,X=null,Q=new Set;J.between(0,this.view.state.doc.length,(K,$,{spec:U})=>{for(let j of U.diagnostics){if(Q.has(j))continue;Q.add(j);let W=-1,G;for(let z=Y;z<this.items.length;z++)if(this.items[z].diagnostic==j){W=z;break}if(W<0)G=new gY(this.view,j),this.items.splice(Y,0,G),q=!0;else if(G=this.items[W],W>Y)this.items.splice(Y,W-Y),q=!0;if(Z&&G.diagnostic==Z.diagnostic){if(!G.dom.hasAttribute("aria-selected"))G.dom.setAttribute("aria-selected","true"),X=G}else if(G.dom.hasAttribute("aria-selected"))G.dom.removeAttribute("aria-selected");Y++}});while(Y<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0))q=!0,this.items.pop();if(this.items.length==0)this.items.push(new gY(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),q=!0;if(X)this.list.setAttribute("aria-activedescendant",X.id),this.view.requestMeasure({key:this,read:()=>({sel:X.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:K,panel:$})=>{let U=$.height/this.list.offsetHeight;if(K.top<$.top)this.list.scrollTop-=($.top-K.top)/U;else if(K.bottom>$.bottom)this.list.scrollTop+=(K.bottom-$.bottom)/U}});else if(this.selectedIndex<0)this.list.removeAttribute("aria-activedescendant");if(q)this.sync()}sync(){let J=this.list.firstChild;function Z(){let Y=J;J=Y.nextSibling,Y.remove()}for(let Y of this.items)if(Y.dom.parentNode==this.list){while(J!=Y.dom)Z();J=Y.dom.nextSibling}else this.list.insertBefore(Y.dom,J);while(J)Z()}moveSelection(J){if(this.selectedIndex<0)return;let Z=this.view.state.field(M1),Y=g4(Z.diagnostics,this.items[J].diagnostic);if(!Y)return;this.view.dispatch({selection:{anchor:Y.from,head:Y.to},scrollIntoView:!0,effects:Pj.of(Y)})}static open(J){return new X7(J)}}function WI(J,Z='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${Z}>${encodeURIComponent(J)}</svg>')`}function L6(J){return WI(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${J}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}var jI=C.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:0.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:L6("#d11")},".cm-lintRange-warning":{backgroundImage:L6("orange")},".cm-lintRange-info":{backgroundImage:L6("#999")},".cm-lintRange-hint":{backgroundImage:L6("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function GI(J){return J=="error"?4:J=="warning"?3:J=="info"?2:1}function zI(J){let Z="hint",Y=1;for(let q of J){let X=GI(q.severity);if(X>Y)Y=X,Z=q.severity}return Z}var OI=[M1,C.decorations.compute([M1],(J)=>{let{selected:Z,panel:Y}=J.field(M1);return!Z||!Y||Z.from==Z.to?f.none:f.set([XI.range(Z.from,Z.to)])}),t$(QI,{hideOn:YI}),jI];var bj=(()=>[YU(),qU(),c$(),QW(),fU(),g$(),p$(),o.allowMultipleSelections.of(!0),bU(),b4(Q6,{fallback:!0}),iU(),Rj(),Ij(),a$(),r$(),s$(),lW(),I4.of([...Mj,...xW,...aW,...WW,...vU,...uY,...Ej])])();class B6{constructor(J,Z,Y,q,X,Q,K,$,U,j=0,W){this.p=J,this.stack=Z,this.state=Y,this.reducePos=q,this.pos=X,this.score=Q,this.buffer=K,this.bufferBase=$,this.curContext=U,this.lookAhead=j,this.parent=W}toString(){return`[${this.stack.filter((J,Z)=>Z%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(J,Z,Y=0){let q=J.parser.context;return new B6(J,[],Z,Y,Y,0,[],0,q?new dY(q,q.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(J,Z){this.stack.push(this.state,Z,this.bufferBase+this.buffer.length),this.state=J}reduce(J){var Z;let Y=J>>19,q=J&65535,{parser:X}=this.p,Q=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),K=X.dynamicPrecedence(q);if(K)this.score+=K;if(Y==0){if(this.pushState(X.getGoto(this.state,q,!0),this.reducePos),q<X.minRepeatTerm)this.storeNode(q,this.reducePos,this.reducePos,Q?8:4,!0);this.reduceContext(q,this.reducePos);return}let $=this.stack.length-(Y-1)*3-(J&262144?6:0),U=$?this.stack[$-2]:this.p.ranges[0].from,j=this.reducePos-U;if(j>=2000&&!((Z=this.p.parser.nodeSet.types[q])===null||Z===void 0?void 0:Z.isAnonymous)){if(U==this.p.lastBigReductionStart)this.p.bigReductionCount++,this.p.lastBigReductionSize=j;else if(this.p.lastBigReductionSize<j)this.p.bigReductionCount=1,this.p.lastBigReductionStart=U,this.p.lastBigReductionSize=j}let W=$?this.stack[$-1]:0,G=this.bufferBase+this.buffer.length-W;if(q<X.minRepeatTerm||J&131072){let z=X.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(q,U,z,G+4,!0)}if(J&262144)this.state=this.stack[$];else{let z=this.stack[$-3];this.state=X.getGoto(z,q,!0)}while(this.stack.length>$)this.stack.pop();this.reduceContext(q,U)}storeNode(J,Z,Y,q=4,X=!1){if(J==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let Q=this,K=this.buffer.length;if(K==0&&Q.parent)K=Q.bufferBase-Q.parent.bufferBase,Q=Q.parent;if(K>0&&Q.buffer[K-4]==0&&Q.buffer[K-1]>-1){if(Z==Y)return;if(Q.buffer[K-2]>=Z){Q.buffer[K-2]=Y;return}}}if(!X||this.pos==Y)this.buffer.push(J,Z,Y,q);else{let Q=this.buffer.length;if(Q>0&&(this.buffer[Q-4]!=0||this.buffer[Q-1]<0)){let K=!1;for(let $=Q;$>0&&this.buffer[$-2]>Y;$-=4)if(this.buffer[$-1]>=0){K=!0;break}if(K){while(Q>0&&this.buffer[Q-2]>Y)if(this.buffer[Q]=this.buffer[Q-4],this.buffer[Q+1]=this.buffer[Q-3],this.buffer[Q+2]=this.buffer[Q-2],this.buffer[Q+3]=this.buffer[Q-1],Q-=4,q>4)q-=4}}this.buffer[Q]=J,this.buffer[Q+1]=Z,this.buffer[Q+2]=Y,this.buffer[Q+3]=q}}shift(J,Z,Y,q){if(J&131072)this.pushState(J&65535,this.pos);else if((J&262144)==0){let X=J,{parser:Q}=this.p;if(this.pos=q,!Q.stateFlag(X,1)&&(q>Y||Z<=Q.maxNode))this.reducePos=q;if(this.pushState(X,Math.min(Y,this.reducePos)),this.shiftContext(Z,Y),Z<=Q.maxNode)this.buffer.push(Z,Y,q,4)}else if(this.pos=q,this.shiftContext(Z,Y),Z<=this.p.parser.maxNode)this.buffer.push(Z,Y,q,4)}apply(J,Z,Y,q){if(J&65536)this.reduce(J);else this.shift(J,Z,Y,q)}useNode(J,Z){let Y=this.p.reused.length-1;if(Y<0||this.p.reused[Y]!=J)this.p.reused.push(J),Y++;let q=this.pos;if(this.reducePos=this.pos=q+J.length,this.pushState(Z,q),this.buffer.push(Y,q,this.reducePos,-1),this.curContext)this.updateContext(this.curContext.tracker.reuse(this.curContext.context,J,this,this.p.stream.reset(this.pos-J.length)))}split(){let J=this,Z=J.buffer.length;while(Z>0&&J.buffer[Z-2]>J.reducePos)Z-=4;let Y=J.buffer.slice(Z),q=J.bufferBase+Z;while(J&&q==J.bufferBase)J=J.parent;return new B6(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,Y,q,this.curContext,this.lookAhead,J)}recoverByDelete(J,Z){let Y=J<=this.p.parser.maxNode;if(Y)this.storeNode(J,this.pos,Z,4);this.storeNode(0,this.pos,Z,Y?8:4),this.pos=this.reducePos=Z,this.score-=190}canShift(J){for(let Z=new vj(this);;){let Y=this.p.parser.stateSlot(Z.state,4)||this.p.parser.hasAction(Z.state,J);if(Y==0)return!1;if((Y&65536)==0)return!0;Z.reduce(Y)}}recoverByInsert(J){if(this.stack.length>=300)return[];let Z=this.p.parser.nextStates(this.state);if(Z.length>8||this.stack.length>=120){let q=[];for(let X=0,Q;X<Z.length;X+=2)if((Q=Z[X+1])!=this.state&&this.p.parser.hasAction(Q,J))q.push(Z[X],Q);if(this.stack.length<120)for(let X=0;q.length<8&&X<Z.length;X+=2){let Q=Z[X+1];if(!q.some((K,$)=>$&1&&K==Q))q.push(Z[X],Q)}Z=q}let Y=[];for(let q=0;q<Z.length&&Y.length<4;q+=2){let X=Z[q+1];if(X==this.state)continue;let Q=this.split();Q.pushState(X,this.pos),Q.storeNode(0,Q.pos,Q.pos,4,!0),Q.shiftContext(Z[q],this.pos),Q.reducePos=this.pos,Q.score-=200,Y.push(Q)}return Y}forceReduce(){let{parser:J}=this.p,Z=J.stateSlot(this.state,5);if((Z&65536)==0)return!1;if(!J.validAction(this.state,Z)){let Y=Z>>19,q=Z&65535,X=this.stack.length-Y*3;if(X<0||J.getGoto(this.stack[X],q,!1)<0){let Q=this.findForcedReduction();if(Q==null)return!1;Z=Q}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(Z),!0}findForcedReduction(){let{parser:J}=this.p,Z=[],Y=(q,X)=>{if(Z.includes(q))return;return Z.push(q),J.allActions(q,(Q)=>{if(Q&393216);else if(Q&65536){let K=(Q>>19)-X;if(K>1){let $=Q&65535,U=this.stack.length-K*3;if(U>=0&&J.getGoto(this.stack[U],$,!1)>=0)return K<<19|65536|$}}else{let K=Y(Q,X+1);if(K!=null)return K}})};return Y(this.state,0)}forceAll(){while(!this.p.parser.stateFlag(this.state,2))if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:J}=this.p;return J.data[J.stateSlot(this.state,1)]==65535&&!J.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(J){if(this.state!=J.state||this.stack.length!=J.stack.length)return!1;for(let Z=0;Z<this.stack.length;Z+=3)if(this.stack[Z]!=J.stack[Z])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(J){return this.p.parser.dialect.flags[J]}shiftContext(J,Z){if(this.curContext)this.updateContext(this.curContext.tracker.shift(this.curContext.context,J,this,this.p.stream.reset(Z)))}reduceContext(J,Z){if(this.curContext)this.updateContext(this.curContext.tracker.reduce(this.curContext.context,J,this,this.p.stream.reset(Z)))}emitContext(){let J=this.buffer.length-1;if(J<0||this.buffer[J]!=-3)this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let J=this.buffer.length-1;if(J<0||this.buffer[J]!=-4)this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(J){if(J!=this.curContext.context){let Z=new dY(this.curContext.tracker,J);if(Z.hash!=this.curContext.hash)this.emitContext();this.curContext=Z}}setLookAhead(J){if(J<=this.lookAhead)return!1;return this.emitLookAhead(),this.lookAhead=J,!0}close(){if(this.curContext&&this.curContext.tracker.strict)this.emitContext();if(this.lookAhead>0)this.emitLookAhead()}}class dY{constructor(J,Z){this.tracker=J,this.context=Z,this.hash=J.strict?J.hash(Z):0}}class vj{constructor(J){this.start=J,this.state=J.state,this.stack=J.stack,this.base=this.stack.length}reduce(J){let Z=J&65535,Y=J>>19;if(Y==0){if(this.stack==this.start.stack)this.stack=this.stack.slice();this.stack.push(this.state,0,0),this.base+=3}else this.base-=(Y-1)*3;let q=this.start.p.parser.getGoto(this.stack[this.base-3],Z,!0);this.state=q}}class P6{constructor(J,Z,Y){if(this.stack=J,this.pos=Z,this.index=Y,this.buffer=J.buffer,this.index==0)this.maybeNext()}static create(J,Z=J.bufferBase+J.buffer.length){return new P6(J,Z,Z-J.bufferBase)}maybeNext(){let J=this.stack.parent;if(J!=null)this.index=this.stack.bufferBase-J.bufferBase,this.stack=J,this.buffer=J.buffer}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){if(this.index-=4,this.pos-=4,this.index==0)this.maybeNext()}fork(){return new P6(this.stack,this.pos,this.index)}}function Q7(J,Z=Uint16Array){if(typeof J!="string")return J;let Y=null;for(let q=0,X=0;q<J.length;){let Q=0;for(;;){let K=J.charCodeAt(q++),$=!1;if(K==126){Q=65535;break}if(K>=92)K--;if(K>=34)K--;let U=K-32;if(U>=46)U-=46,$=!0;if(Q+=U,$)break;Q*=46}if(Y)Y[X++]=Q;else Y=new Z(Q)}return Y}class K7{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}var Sj=new K7;class uj{constructor(J,Z){this.input=J,this.ranges=Z,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Sj,this.rangeIndex=0,this.pos=this.chunkPos=Z[0].from,this.range=Z[0],this.end=Z[Z.length-1].to,this.readNext()}resolveOffset(J,Z){let Y=this.range,q=this.rangeIndex,X=this.pos+J;while(X<Y.from){if(!q)return null;let Q=this.ranges[--q];X-=Y.from-Q.to,Y=Q}while(Z<0?X>Y.to:X>=Y.to){if(q==this.ranges.length-1)return null;let Q=this.ranges[++q];X+=Q.from-Y.to,Y=Q}return X}clipPos(J){if(J>=this.range.from&&J<this.range.to)return J;for(let Z of this.ranges)if(Z.to>J)return Math.max(J,Z.from);return this.end}peek(J){let Z=this.chunkOff+J,Y,q;if(Z>=0&&Z<this.chunk.length)Y=this.pos+J,q=this.chunk.charCodeAt(Z);else{let X=this.resolveOffset(J,1);if(X==null)return-1;if(Y=X,Y>=this.chunk2Pos&&Y<this.chunk2Pos+this.chunk2.length)q=this.chunk2.charCodeAt(Y-this.chunk2Pos);else{let Q=this.rangeIndex,K=this.range;while(K.to<=Y)K=this.ranges[++Q];if(this.chunk2=this.input.chunk(this.chunk2Pos=Y),Y+this.chunk2.length>K.to)this.chunk2=this.chunk2.slice(0,K.to-Y);q=this.chunk2.charCodeAt(0)}}if(Y>=this.token.lookAhead)this.token.lookAhead=Y+1;return q}acceptToken(J,Z=0){let Y=Z?this.resolveOffset(Z,-1):this.pos;if(Y==null||Y<this.token.start)throw RangeError("Token end out of bounds");this.token.value=J,this.token.end=Y}acceptTokenTo(J,Z){this.token.value=J,this.token.end=Z}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:J,chunkPos:Z}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=J,this.chunk2Pos=Z,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let J=this.input.chunk(this.pos),Z=this.pos+J.length;this.chunk=Z>this.range.to?J.slice(0,this.range.to-this.pos):J,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){if(this.chunkOff>=this.chunk.length){if(this.getChunk(),this.chunkOff==this.chunk.length)return this.next=-1}return this.next=this.chunk.charCodeAt(this.chunkOff)}advance(J=1){this.chunkOff+=J;while(this.pos+J>=this.range.to){if(this.rangeIndex==this.ranges.length-1)return this.setDone();J-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}if(this.pos+=J,this.pos>=this.token.lookAhead)this.token.lookAhead=this.pos+1;return this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(J,Z){if(Z)this.token=Z,Z.start=J,Z.lookAhead=J+1,Z.value=Z.extended=-1;else this.token=Sj;if(this.pos!=J){if(this.pos=J,J==this.end)return this.setDone(),this;while(J<this.range.from)this.range=this.ranges[--this.rangeIndex];while(J>=this.range.to)this.range=this.ranges[++this.rangeIndex];if(J>=this.chunkPos&&J<this.chunkPos+this.chunk.length)this.chunkOff=J-this.chunkPos;else this.chunk="",this.chunkOff=0;this.readNext()}return this}read(J,Z){if(J>=this.chunkPos&&Z<=this.chunkPos+this.chunk.length)return this.chunk.slice(J-this.chunkPos,Z-this.chunkPos);if(J>=this.chunk2Pos&&Z<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(J-this.chunk2Pos,Z-this.chunk2Pos);if(J>=this.range.from&&Z<=this.range.to)return this.input.read(J,Z);let Y="";for(let q of this.ranges){if(q.from>=Z)break;if(q.to>J)Y+=this.input.read(Math.max(q.from,J),Math.min(q.to,Z))}return Y}}class fJ{constructor(J,Z){this.data=J,this.id=Z}token(J,Z){let{parser:Y}=Z.p;mj(this.data,J,Z,this.id,Y.data,Y.tokenPrecTable)}}fJ.prototype.contextual=fJ.prototype.fallback=fJ.prototype.extend=!1;class U7{constructor(J,Z,Y){this.precTable=Z,this.elseToken=Y,this.data=typeof J=="string"?Q7(J):J}token(J,Z){let Y=J.pos,q=0;for(;;){let X=J.next<0,Q=J.resolveOffset(1,1);if(mj(this.data,J,Z,0,this.data,this.precTable),J.token.value>-1)break;if(this.elseToken==null)return;if(!X)q++;if(Q==null)break;J.reset(Q,J.token)}if(q)J.reset(Y,J.token),J.acceptToken(this.elseToken,q)}}U7.prototype.contextual=fJ.prototype.fallback=fJ.prototype.extend=!1;class lJ{constructor(J,Z={}){this.token=J,this.contextual=!!Z.contextual,this.fallback=!!Z.fallback,this.extend=!!Z.extend}}function mj(J,Z,Y,q,X,Q){let K=0,$=1<<q,{dialect:U}=Y.p.parser;J:for(;;){if(($&J[K])==0)break;let j=J[K+1];for(let O=K+3;O<j;O+=2)if((J[O+1]&$)>0){let _=J[O];if(U.allows(_)&&(Z.token.value==-1||Z.token.value==_||_I(_,Z.token.value,X,Q))){Z.acceptToken(_);break}}let W=Z.next,G=0,z=J[K+2];if(Z.next<0&&z>G&&J[j+z*3-3]==65535){K=J[j+z*3-1];continue J}for(;G<z;){let O=G+z>>1,_=j+O+(O<<1),N=J[_],A=J[_+1]||65536;if(W<N)z=O;else if(W>=A)G=O+1;else{K=J[_+2],Z.advance();continue J}}break}}function kj(J,Z,Y){for(let q=Z,X;(X=J[q])!=65535;q++)if(X==Y)return q-Z;return-1}function _I(J,Z,Y,q){let X=kj(Y,q,Z);return X<0||kj(Y,q,J)<X}var V1=typeof process<"u"&&process.env&&/\bparse\b/.test(process.env.LOG),lY=null;function wj(J,Z,Y){let q=J.cursor(R0.IncludeAnonymous);q.moveTo(Z);for(;;)if(!(Y<0?q.childBefore(Z):q.childAfter(Z)))for(;;){if((Y<0?q.to<Z:q.from>Z)&&!q.type.isError)return Y<0?Math.max(0,Math.min(q.to-1,Z-25)):Math.min(J.length,Math.max(q.from+1,Z+25));if(Y<0?q.prevSibling():q.nextSibling())break;if(!q.parent())return Y<0?0:J.length}}class gj{constructor(J,Z){this.fragments=J,this.nodeSet=Z,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let J=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(J){this.safeFrom=J.openStart?wj(J.tree,J.from+J.offset,1)-J.offset:J.from,this.safeTo=J.openEnd?wj(J.tree,J.to+J.offset,-1)-J.offset:J.to;while(this.trees.length)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(J.tree),this.start.push(-J.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(J){if(J<this.nextStart)return null;while(this.fragment&&this.safeTo<=J)this.nextFragment();if(!this.fragment)return null;for(;;){let Z=this.trees.length-1;if(Z<0)return this.nextFragment(),null;let Y=this.trees[Z],q=this.index[Z];if(q==Y.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let X=Y.children[q],Q=this.start[Z]+Y.positions[q];if(Q>J)return this.nextStart=Q,null;if(X instanceof P0){if(Q==J){if(Q<this.safeFrom)return null;let K=Q+X.length;if(K<=this.safeTo){let $=X.prop(i.lookAhead);if(!$||K+$<this.fragment.to)return X}}if(this.index[Z]++,Q+X.length>=Math.max(this.safeFrom,J))this.trees.push(X),this.start.push(Q),this.index.push(0)}else this.index[Z]++,this.nextStart=Q+X.length}}}class fj{constructor(J,Z){this.stream=Z,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=J.tokenizers.map((Y)=>new K7)}getActions(J){let Z=0,Y=null,{parser:q}=J.p,{tokenizers:X}=q,Q=q.stateSlot(J.state,3),K=J.curContext?J.curContext.hash:0,$=0;for(let U=0;U<X.length;U++){if((1<<U&Q)==0)continue;let j=X[U],W=this.tokens[U];if(Y&&!j.fallback)continue;if(j.contextual||W.start!=J.pos||W.mask!=Q||W.context!=K)this.updateCachedToken(W,j,J),W.mask=Q,W.context=K;if(W.lookAhead>W.end+25)$=Math.max(W.lookAhead,$);if(W.value!=0){let G=Z;if(W.extended>-1)Z=this.addActions(J,W.extended,W.end,Z);if(Z=this.addActions(J,W.value,W.end,Z),!j.extend){if(Y=W,Z>G)break}}}while(this.actions.length>Z)this.actions.pop();if($)J.setLookAhead($);if(!Y&&J.pos==this.stream.end)Y=new K7,Y.value=J.p.parser.eofTerm,Y.start=Y.end=J.pos,Z=this.addActions(J,Y.value,Y.end,Z);return this.mainToken=Y,this.actions}getMainToken(J){if(this.mainToken)return this.mainToken;let Z=new K7,{pos:Y,p:q}=J;return Z.start=Y,Z.end=Math.min(Y+1,q.stream.end),Z.value=Y==q.stream.end?q.parser.eofTerm:0,Z}updateCachedToken(J,Z,Y){let q=this.stream.clipPos(Y.pos);if(Z.token(this.stream.reset(q,J),Y),J.value>-1){let{parser:X}=Y.p;for(let Q=0;Q<X.specialized.length;Q++)if(X.specialized[Q]==J.value){let K=X.specializers[Q](this.stream.read(J.start,J.end),Y);if(K>=0&&Y.p.parser.dialect.allows(K>>1)){if((K&1)==0)J.value=K>>1;else J.extended=K>>1;break}}}else J.value=0,J.end=this.stream.clipPos(q+1)}putAction(J,Z,Y,q){for(let X=0;X<q;X+=3)if(this.actions[X]==J)return q;return this.actions[q++]=J,this.actions[q++]=Z,this.actions[q++]=Y,q}addActions(J,Z,Y,q){let{state:X}=J,{parser:Q}=J.p,{data:K}=Q;for(let $=0;$<2;$++)for(let U=Q.stateSlot(X,$?2:1);;U+=3){if(K[U]==65535)if(K[U+1]==1)U=S5(K,U+2);else{if(q==0&&K[U+1]==2)q=this.putAction(S5(K,U+2),Z,Y,q);break}if(K[U]==Z)q=this.putAction(S5(K,U+1),Z,Y,q)}return q}}class lj{constructor(J,Z,Y,q){this.parser=J,this.input=Z,this.ranges=q,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new uj(Z,q),this.tokens=new fj(J,this.stream),this.topTerm=J.top[1];let{from:X}=q[0];this.stacks=[B6.start(this,J.top[0],X)],this.fragments=Y.length&&this.stream.end-X>J.bufferLength*4?new gj(Y,J.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let J=this.stacks,Z=this.minStackPos,Y=this.stacks=[],q,X;if(this.bigReductionCount>300&&J.length==1){let[Q]=J;while(Q.forceReduce()&&Q.stack.length&&Q.stack[Q.stack.length-2]>=this.lastBigReductionStart);this.bigReductionCount=this.lastBigReductionSize=0}for(let Q=0;Q<J.length;Q++){let K=J[Q];for(;;){if(this.tokens.mainToken=null,K.pos>Z)Y.push(K);else if(this.advanceStack(K,Y,J))continue;else{if(!q)q=[],X=[];q.push(K);let $=this.tokens.getMainToken(K);X.push($.value,$.end)}break}}if(!Y.length){let Q=q&&HI(q);if(Q){if(V1)console.log("Finish with "+this.stackID(Q));return this.stackToTree(Q)}if(this.parser.strict){if(V1&&q)console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none"));throw SyntaxError("No parse at "+Z)}if(!this.recovering)this.recovering=5}if(this.recovering&&q){let Q=this.stoppedAt!=null&&q[0].pos>this.stoppedAt?q[0]:this.runRecovery(q,X,Y);if(Q){if(V1)console.log("Force-finish "+this.stackID(Q));return this.stackToTree(Q.forceAll())}}if(this.recovering){let Q=this.recovering==1?1:this.recovering*3;if(Y.length>Q){Y.sort((K,$)=>$.score-K.score);while(Y.length>Q)Y.pop()}if(Y.some((K)=>K.reducePos>Z))this.recovering--}else if(Y.length>1){J:for(let Q=0;Q<Y.length-1;Q++){let K=Y[Q];for(let $=Q+1;$<Y.length;$++){let U=Y[$];if(K.sameState(U)||K.buffer.length>500&&U.buffer.length>500)if((K.score-U.score||K.buffer.length-U.buffer.length)>0)Y.splice($--,1);else{Y.splice(Q--,1);continue J}}}if(Y.length>12)Y.sort((Q,K)=>K.score-Q.score),Y.splice(12,Y.length-12)}this.minStackPos=Y[0].pos;for(let Q=1;Q<Y.length;Q++)if(Y[Q].pos<this.minStackPos)this.minStackPos=Y[Q].pos;return null}stopAt(J){if(this.stoppedAt!=null&&this.stoppedAt<J)throw RangeError("Can't move stoppedAt forward");this.stoppedAt=J}advanceStack(J,Z,Y){let q=J.pos,{parser:X}=this,Q=V1?this.stackID(J)+" -> ":"";if(this.stoppedAt!=null&&q>this.stoppedAt)return J.forceReduce()?J:null;if(this.fragments){let U=J.curContext&&J.curContext.tracker.strict,j=U?J.curContext.hash:0;for(let W=this.fragments.nodeAt(q);W;){let G=this.parser.nodeSet.types[W.type.id]==W.type?X.getGoto(J.state,W.type.id):-1;if(G>-1&&W.length&&(!U||(W.prop(i.contextHash)||0)==j)){if(J.useNode(W,G),V1)console.log(Q+this.stackID(J)+` (via reuse of ${X.getName(W.type.id)})`);return!0}if(!(W instanceof P0)||W.children.length==0||W.positions[0]>0)break;let z=W.children[0];if(z instanceof P0&&W.positions[0]==0)W=z;else break}}let K=X.stateSlot(J.state,4);if(K>0){if(J.reduce(K),V1)console.log(Q+this.stackID(J)+` (via always-reduce ${X.getName(K&65535)})`);return!0}if(J.stack.length>=8400)while(J.stack.length>6000&&J.forceReduce());let $=this.tokens.getActions(J);for(let U=0;U<$.length;){let j=$[U++],W=$[U++],G=$[U++],z=U==$.length||!Y,O=z?J:J.split(),_=this.tokens.mainToken;if(O.apply(j,W,_?_.start:O.pos,G),V1)console.log(Q+this.stackID(O)+` (via ${(j&65536)==0?"shift":`reduce of ${X.getName(j&65535)}`} for ${X.getName(W)} @ ${q}${O==J?"":", split"})`);if(z)return!0;else if(O.pos>q)Z.push(O);else Y.push(O)}return!1}advanceFully(J,Z){let Y=J.pos;for(;;){if(!this.advanceStack(J,null,null))return!1;if(J.pos>Y)return xj(J,Z),!0}}runRecovery(J,Z,Y){let q=null,X=!1;for(let Q=0;Q<J.length;Q++){let K=J[Q],$=Z[Q<<1],U=Z[(Q<<1)+1],j=V1?this.stackID(K)+" -> ":"";if(K.deadEnd){if(X)continue;if(X=!0,K.restart(),V1)console.log(j+this.stackID(K)+" (restarted)");if(this.advanceFully(K,Y))continue}let W=K.split(),G=j;for(let z=0;z<10&&W.forceReduce();z++){if(V1)console.log(G+this.stackID(W)+" (via force-reduce)");if(this.advanceFully(W,Y))break;if(V1)G=this.stackID(W)+" -> "}for(let z of K.recoverByInsert($)){if(V1)console.log(j+this.stackID(z)+" (via recover-insert)");this.advanceFully(z,Y)}if(this.stream.end>K.pos){if(U==K.pos)U++,$=0;if(K.recoverByDelete($,U),V1)console.log(j+this.stackID(K)+` (via recover-delete ${this.parser.getName($)})`);xj(K,Y)}else if(!q||q.score<W.score)q=W}return q}stackToTree(J){return J.close(),P0.build({buffer:P6.create(J),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:J.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(J){let Z=(lY||(lY=new WeakMap)).get(J);if(!Z)lY.set(J,Z=String.fromCodePoint(this.nextStackID++));return Z+J}}function xj(J,Z){for(let Y=0;Y<Z.length;Y++){let q=Z[Y];if(q.pos==J.pos&&q.sameState(J)){if(Z[Y].score<J.score)Z[Y]=J;return}}Z.push(J)}class pj{constructor(J,Z,Y){this.source=J,this.flags=Z,this.disabled=Y}allows(J){return!this.disabled||this.disabled[J]==0}}var pY=(J)=>J;class cY{constructor(J){this.start=J.start,this.shift=J.shift||pY,this.reduce=J.reduce||pY,this.reuse=J.reuse||pY,this.hash=J.hash||(()=>0),this.strict=J.strict!==!1}}class $7 extends l3{constructor(J){super();if(this.wrappers=[],J.version!=14)throw RangeError(`Parser version (${J.version}) doesn't match runtime version (14)`);let Z=J.nodeNames.split(" ");this.minRepeatTerm=Z.length;for(let K=0;K<J.repeatNodeCount;K++)Z.push("");let Y=Object.keys(J.topRules).map((K)=>J.topRules[K][1]),q=[];for(let K=0;K<Z.length;K++)q.push([]);function X(K,$,U){q[K].push([$,$.deserialize(String(U))])}if(J.nodeProps)for(let K of J.nodeProps){let $=K[0];if(typeof $=="string")$=i[$];for(let U=1;U<K.length;){let j=K[U++];if(j>=0)X(j,$,K[U++]);else{let W=K[U+-j];for(let G=-j;G>0;G--)X(K[U++],$,W);U++}}}if(this.nodeSet=new f3(Z.map((K,$)=>s0.define({name:$>=this.minRepeatTerm?void 0:K,id:$,props:q[$],top:Y.indexOf($)>-1,error:$==0,skipped:J.skippedNodes&&J.skippedNodes.indexOf($)>-1}))),J.propSources)this.nodeSet=this.nodeSet.extend(...J.propSources);this.strict=!1,this.bufferLength=$U;let Q=Q7(J.tokenData);this.context=J.context,this.specializerSpecs=J.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let K=0;K<this.specializerSpecs.length;K++)this.specialized[K]=this.specializerSpecs[K].term;this.specializers=this.specializerSpecs.map(hj),this.states=Q7(J.states,Uint32Array),this.data=Q7(J.stateData),this.goto=Q7(J.goto),this.maxTerm=J.maxTerm,this.tokenizers=J.tokenizers.map((K)=>typeof K=="number"?new fJ(Q,K):K),this.topRules=J.topRules,this.dialects=J.dialects||{},this.dynamicPrecedences=J.dynamicPrecedences||null,this.tokenPrecTable=J.tokenPrec,this.termNames=J.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(J,Z,Y){let q=new lj(this,J,Z,Y);for(let X of this.wrappers)q=X(q,J,Z,Y);return q}getGoto(J,Z,Y=!1){let q=this.goto;if(Z>=q[0])return-1;for(let X=q[Z+1];;){let Q=q[X++],K=Q&1,$=q[X++];if(K&&Y)return $;for(let U=X+(Q>>1);X<U;X++)if(q[X]==J)return $;if(K)return-1}}hasAction(J,Z){let Y=this.data;for(let q=0;q<2;q++)for(let X=this.stateSlot(J,q?2:1),Q;;X+=3){if((Q=Y[X])==65535)if(Y[X+1]==1)Q=Y[X=S5(Y,X+2)];else if(Y[X+1]==2)return S5(Y,X+2);else break;if(Q==Z||Q==0)return S5(Y,X+1)}return 0}stateSlot(J,Z){return this.states[J*6+Z]}stateFlag(J,Z){return(this.stateSlot(J,0)&Z)>0}validAction(J,Z){return!!this.allActions(J,(Y)=>Y==Z?!0:null)}allActions(J,Z){let Y=this.stateSlot(J,4),q=Y?Z(Y):void 0;for(let X=this.stateSlot(J,1);q==null;X+=3){if(this.data[X]==65535)if(this.data[X+1]==1)X=S5(this.data,X+2);else break;q=Z(S5(this.data,X+1))}return q}nextStates(J){let Z=[];for(let Y=this.stateSlot(J,1);;Y+=3){if(this.data[Y]==65535)if(this.data[Y+1]==1)Y=S5(this.data,Y+2);else break;if((this.data[Y+2]&1)==0){let q=this.data[Y+1];if(!Z.some((X,Q)=>Q&1&&X==q))Z.push(this.data[Y],q)}}return Z}configure(J){let Z=Object.assign(Object.create($7.prototype),this);if(J.props)Z.nodeSet=this.nodeSet.extend(...J.props);if(J.top){let Y=this.topRules[J.top];if(!Y)throw RangeError(`Invalid top rule name ${J.top}`);Z.top=Y}if(J.tokenizers)Z.tokenizers=this.tokenizers.map((Y)=>{let q=J.tokenizers.find((X)=>X.from==Y);return q?q.to:Y});if(J.specializers)Z.specializers=this.specializers.slice(),Z.specializerSpecs=this.specializerSpecs.map((Y,q)=>{let X=J.specializers.find((K)=>K.from==Y.external);if(!X)return Y;let Q=Object.assign(Object.assign({},Y),{external:X.to});return Z.specializers[q]=hj(Q),Q});if(J.contextTracker)Z.context=J.contextTracker;if(J.dialect)Z.dialect=this.parseDialect(J.dialect);if(J.strict!=null)Z.strict=J.strict;if(J.wrap)Z.wrappers=Z.wrappers.concat(J.wrap);if(J.bufferLength!=null)Z.bufferLength=J.bufferLength;return Z}hasWrappers(){return this.wrappers.length>0}getName(J){return this.termNames?this.termNames[J]:String(J<=this.maxNode&&this.nodeSet.types[J].name||J)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(J){let Z=this.dynamicPrecedences;return Z==null?0:Z[J]||0}parseDialect(J){let Z=Object.keys(this.dialects),Y=Z.map(()=>!1);if(J)for(let X of J.split(" ")){let Q=Z.indexOf(X);if(Q>=0)Y[Q]=!0}let q=null;for(let X=0;X<Z.length;X++)if(!Y[X])for(let Q=this.dialects[Z[X]],K;(K=this.data[Q++])!=65535;)(q||(q=new Uint8Array(this.maxTerm+1)))[K]=1;return new pj(J,Y,q)}static deserialize(J){return new $7(J)}}function S5(J,Z){return J[Z]|J[Z+1]<<16}function HI(J){let Z=null;for(let Y of J){let q=Y.p.stoppedAt;if((Y.pos==Y.p.stream.end||q!=null&&Y.pos>q)&&Y.p.parser.stateFlag(Y.state,2)&&(!Z||Z.score<Y.score))Z=Y}return Z}function hj(J){if(J.external){let Z=J.extend?1:0;return(Y,q)=>J.external(Y,q)<<1|Z}return J.get}var NI=316,RI=317,dj=1,AI=2,FI=3,MI=4,VI=318,II=320,DI=321,LI=5,BI=6,PI=0,iY=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],cj=125,EI=59,sY=47,CI=42,TI=43,yI=45,bI=60,SI=44,kI=63,wI=46,xI=91,hI=new cY({start:!1,shift(J,Z){return Z==LI||Z==BI||Z==II?J:Z==DI},strict:!1}),vI=new lJ((J,Z)=>{let{next:Y}=J;if(Y==cj||Y==-1||Z.context)J.acceptToken(VI)},{contextual:!0,fallback:!0}),uI=new lJ((J,Z)=>{let{next:Y}=J,q;if(iY.indexOf(Y)>-1)return;if(Y==sY&&((q=J.peek(1))==sY||q==CI))return;if(Y!=cj&&Y!=EI&&Y!=-1&&!Z.context)J.acceptToken(NI)},{contextual:!0}),mI=new lJ((J,Z)=>{if(J.next==xI&&!Z.context)J.acceptToken(RI)},{contextual:!0}),gI=new lJ((J,Z)=>{let{next:Y}=J;if(Y==TI||Y==yI){if(J.advance(),Y==J.next){J.advance();let q=!Z.context&&Z.canShift(dj);J.acceptToken(q?dj:AI)}}else if(Y==kI&&J.peek(1)==wI){if(J.advance(),J.advance(),J.next<48||J.next>57)J.acceptToken(FI)}},{contextual:!0});function nY(J,Z){return J>=65&&J<=90||J>=97&&J<=122||J==95||J>=192||!Z&&J>=48&&J<=57}var fI=new lJ((J,Z)=>{if(J.next!=bI||!Z.dialectEnabled(PI))return;if(J.advance(),J.next==sY)return;let Y=0;while(iY.indexOf(J.next)>-1)J.advance(),Y++;if(nY(J.next,!0)){J.advance(),Y++;while(nY(J.next,!1))J.advance(),Y++;while(iY.indexOf(J.next)>-1)J.advance(),Y++;if(J.next==SI)return;for(let q=0;;q++){if(q==7){if(!nY(J.next,!0))return;break}if(J.next!="extends".charCodeAt(q))break;J.advance(),Y++}}J.acceptToken(MI,-Y)}),lI=a9({"get set async static":I.modifier,"for while do if else switch try catch finally return throw break continue default case defer":I.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":I.operatorKeyword,"let var const using function class extends":I.definitionKeyword,"import export from":I.moduleKeyword,"with debugger new":I.keyword,TemplateString:I.special(I.string),super:I.atom,BooleanLiteral:I.bool,this:I.self,null:I.null,Star:I.modifier,VariableName:I.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":I.function(I.variableName),VariableDefinition:I.definition(I.variableName),Label:I.labelName,PropertyName:I.propertyName,PrivatePropertyName:I.special(I.propertyName),"CallExpression/MemberExpression/PropertyName":I.function(I.propertyName),"FunctionDeclaration/VariableDefinition":I.function(I.definition(I.variableName)),"ClassDeclaration/VariableDefinition":I.definition(I.className),"NewExpression/VariableName":I.className,PropertyDefinition:I.definition(I.propertyName),PrivatePropertyDefinition:I.definition(I.special(I.propertyName)),UpdateOp:I.updateOperator,"LineComment Hashbang":I.lineComment,BlockComment:I.blockComment,Number:I.number,String:I.string,Escape:I.escape,ArithOp:I.arithmeticOperator,LogicOp:I.logicOperator,BitOp:I.bitwiseOperator,CompareOp:I.compareOperator,RegExp:I.regexp,Equals:I.definitionOperator,Arrow:I.function(I.punctuation),": Spread":I.punctuation,"( )":I.paren,"[ ]":I.squareBracket,"{ }":I.brace,"InterpolationStart InterpolationEnd":I.special(I.brace),".":I.derefOperator,", ;":I.separator,"@":I.meta,TypeName:I.typeName,TypeDefinition:I.definition(I.typeName),"type enum interface implements namespace module declare":I.definitionKeyword,"abstract global Privacy readonly override":I.modifier,"is keyof unique infer asserts":I.operatorKeyword,JSXAttributeValue:I.attributeValue,JSXText:I.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":I.angleBracket,"JSXIdentifier JSXNameSpacedName":I.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":I.attributeName,"JSXBuiltin/JSXIdentifier":I.standard(I.tagName)}),pI={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,defer:471,for:476,of:485,while:488,with:492,do:496,if:500,else:502,switch:506,case:512,try:518,catch:522,finally:526,return:530,throw:534,break:538,continue:542,debugger:546},dI={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},cI={__proto__:null,"<":193},nj=$7.deserialize({version:14,states:"$F|Q%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Il'#IlO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JrO6[Q!0MxO'#JsO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO9XQMhO'#F|O9`Q`O'#F{OOQ!0Lf'#Js'#JsOOQ!0Lb'#Jr'#JrO9eQ`O'#GwOOQ['#K_'#K_O9pQ`O'#IYO9uQ!0LrO'#IZOOQ['#J`'#J`OOQ['#I_'#I_Q`QlOOQ`QlOOO9}Q!L^O'#DvO:UQlO'#EOO:]QlO'#EQO9kQ`O'#GsO:dQMhO'#CoO:rQ`O'#EnO:}Q`O'#EyO;hQMhO'#FeO;xQ`O'#GsOOQO'#K`'#K`O;}Q`O'#K`O<]Q`O'#G{O<]Q`O'#G|O<]Q`O'#HOO9kQ`O'#HRO=SQ`O'#HUO>kQ`O'#CeO>{Q`O'#HcO?TQ`O'#HiO?TQ`O'#HkO`QlO'#HmO?TQ`O'#HoO?TQ`O'#HrO?YQ`O'#HxO?_Q!0LsO'#IOO%[QlO'#IQO?jQ!0LsO'#ISO?uQ!0LsO'#IUO9uQ!0LrO'#IWO@QQ!0MxO'#CiOASQpO'#DlQOQ`OOO%[QlO'#EQOAjQ`O'#ETO:dQMhO'#EnOAuQ`O'#EnOBQQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Jv'#JvO%[QlO'#JvOOQO'#Jy'#JyOOQO'#Ih'#IhOCQQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J}'#J}OC|Q!0MSO'#EgODWQpO'#EWOOQO'#Jx'#JxODlQpO'#JyOEyQpO'#EWODWQpO'#EgPFWO&2DjO'#CbPOOO)CD})CD}OOOO'#I`'#I`OFcO#tO,59UOOQ!0Lh,59U,59UOOOO'#Ia'#IaOFqO&jO,59UOGPQ!L^O'#DcOOOO'#Ic'#IcOGWO#@ItO,59{OOQ!0Lf,59{,59{OGfQlO'#IdOGyQ`O'#JtOIxQ!fO'#JtO+}QlO'#JtOJPQ`O,5:ROJgQ`O'#EpOJtQ`O'#KTOKPQ`O'#KSOKPQ`O'#KSOKXQ`O,5;^OK^Q`O'#KROOQ!0Ln,5:^,5:^OKeQlO,5:^OMcQ!0MxO,5:fONSQ`O,5:nONmQ!0LrO'#KQONtQ`O'#KPO9eQ`O'#KPO! YQ`O'#KPO! bQ`O,5;]O! gQ`O'#KPO!#lQ!fO'#JsOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$[Q!fO,5:sOOQS'#Jz'#JzOOQO-E<j-E<jO9kQ`O,5=_O!$rQ`O,5=_O!$wQlO,5;ZO!&zQMhO'#EkO!(eQ`O,5;ZO!(jQlO'#DyO!(tQpO,5;dO!(|QpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)[QlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IpO!+_Q!0LrO,5<iO%[QlO,5;eO!&zQMhO,5;eO!+|QMhO,5;eO!-nQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-uQ,UO'#FjO!.rQ,UO'#KXO!.^Q,UO'#KXO!.yQ,UO'#KXOOQO'#KX'#KXO!/_Q,UO,5<SOOOW,5<`,5<`O!/pQlO'#FvOOOW'#Io'#IoO7VO7dO,5<QO!/wQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0hQ$IUO'#CyOOQ!0Lh'#C}'#C}O!0{O#@ItO'#DRO!1iQMjO,5<eO!1pQ`O,5<hO!3YQ(CWO'#GXO!3jQ`O'#GYO!3oQ`O'#GYO!5_Q(CWO'#G^O!6dQpO'#GbOOQO'#Gn'#GnO!,TQMhO'#GmOOQO'#Gp'#GpO!,TQMhO'#GoO!7VQ$IUO'#JlOOQ!0Lh'#Jl'#JlO!7aQ`O'#JkO!7oQ`O'#JjO!7wQ`O'#CuOOQ!0Lh'#C{'#C{O!8YQ`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO!8_Q`O,5<eO1SQ`O'#DZO!,TQMhO'#GPO!,TQMhO'#GRO!8gQ`O'#GTO!8lQ`O'#GUO!3oQ`O'#G[O!,TQMhO'#GaO<]Q`O'#JkO!8qQ`O'#EqO!9`Q`O,5<gOOQ!0Lb'#Cr'#CrO!9hQ`O'#ErO!:bQpO'#EsOOQ!0Lb'#KR'#KRO!:iQ!0LrO'#KaO9uQ!0LrO,5=cO`QlO,5>tOOQ['#Jh'#JhOOQ[,5>u,5>uOOQ[-E<]-E<]O!<hQ!0MxO,5:bO!:]QpO,5:`O!?RQ!0MxO,5:jO%[QlO,5:jO!AiQ!0MxO,5:lOOQO,5@z,5@zO!BYQMhO,5=_O!BhQ!0LrO'#JiO9`Q`O'#JiO!ByQ!0LrO,59ZO!CUQpO,59ZO!C^QMhO,59ZO:dQMhO,59ZO!CiQ`O,5;ZO!CqQ`O'#HbO!DVQ`O'#KdO%[QlO,5;}O!:]QpO,5<PO!D_Q`O,5=zO!DdQ`O,5=zO!DiQ`O,5=zO!DwQ`O,5=zO9uQ!0LrO,5=zO<]Q`O,5=jOOQO'#Cy'#CyO!EOQpO,5=gO!EWQMhO,5=hO!EcQ`O,5=jO!EhQ!bO,5=mO!EpQ`O'#K`O?YQ`O'#HWO9kQ`O'#HYO!EuQ`O'#HYO:dQMhO'#H[O!EzQ`O'#H[OOQ[,5=p,5=pO!FPQ`O'#H]O!FbQ`O'#CoO!FgQ`O,59PO!FqQ`O,59PO!HvQlO,59POOQ[,59P,59PO!IWQ!0LrO,59PO%[QlO,59PO!KcQlO'#HeOOQ['#Hf'#HfOOQ['#Hg'#HgO`QlO,5=}O!KyQ`O,5=}O`QlO,5>TO`QlO,5>VO!LOQ`O,5>XO`QlO,5>ZO!LTQ`O,5>^O!LYQlO,5>dOOQ[,5>j,5>jO%[QlO,5>jO9uQ!0LrO,5>lOOQ[,5>n,5>nO#!dQ`O,5>nOOQ[,5>p,5>pO#!dQ`O,5>pOOQ[,5>r,5>rO##QQpO'#D_O%[QlO'#JvO##sQpO'#JvO##}QpO'#DmO#$`QpO'#DmO#&qQlO'#DmO#&xQ`O'#JuO#'QQ`O,5:WO#'VQ`O'#EtO#'eQ`O'#KUO#'mQ`O,5;_O#'rQpO'#DmO#(PQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#(WQ`O,5:oO?YQ`O,5;YO!CUQpO,5;YO!C^QMhO,5;YO:dQMhO,5;YO#(`Q`O,5@bO#(eQ07dO,5:sOOQO-E<f-E<fO#)kQ!0MSO,5;RODWQpO,5:rO#)uQpO,5:rODWQpO,5;RO!ByQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#*SQ!0LrO,5;RO#*_Q!0LrO,5;RO!CUQpO,5:rOOQO,5;X,5;XO#*mQ!0LrO,5;RPOOO'#I^'#I^P#+RO&2DjO,58|POOO,58|,58|OOOO-E<^-E<^OOQ!0Lh1G.p1G.pOOOO-E<_-E<_OOOO,59},59}O#+^Q!bO,59}OOOO-E<a-E<aOOQ!0Lf1G/g1G/gO#+cQ!fO,5?OO+}QlO,5?OOOQO,5?U,5?UO#+mQlO'#IdOOQO-E<b-E<bO#+zQ`O,5@`O#,SQ!fO,5@`O#,ZQ`O,5@nOOQ!0Lf1G/m1G/mO%[QlO,5@oO#,cQ`O'#IjOOQO-E<h-E<hO#,ZQ`O,5@nOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@lO#,wQ!0LrO,5@lO#-YQ!0LrO,5@lO#-aQ`O,5@kO9eQ`O,5@kO#-iQ`O,5@kO#-wQ`O'#ImO#-aQ`O,5@kOOQ!0Lb1G0w1G0wO!(tQpO,5:uO!)PQpO,5:uOOQS,5:w,5:wO#.iQdO,5:wO#.qQMhO1G2yO9kQ`O1G2yOOQ!0Lf1G0u1G0uO#/PQ!0MxO1G0uO#0UQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0rQ!0MzO'#JlO!$wQlO1G0uO#2}Q!fO'#JwO%[QlO'#JwO#3XQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#3^Q`O1G1OO#5rQ!0MxO1G1PO#5yQ!0MxO1G1PO#8aQ!0MxO1G1PO#8hQ!0MxO1G1PO#;OQ!0MxO1G1PO#=fQ!0MxO1G1PO#=mQ!0MxO1G1PO#=tQ!0MxO1G1PO#@[Q!0MxO1G1PO#@cQ!0MxO1G1PO#BpQ?MtO'#CiO#DkQ?MtO1G1`O#DrQ?MtO'#JsO#EVQ!0MxO,5?[OOQ!0Lb-E<n-E<nO#GdQ!0MxO1G1PO#HaQ!0MzO1G1POOQ!0Lf1G1P1G1PO#IdQMjO'#J|O#InQ`O,5:xO#IsQ!0MxO1G1cO#JgQ,UO,5<WO#JoQ,UO,5<XO#JwQ,UO'#FoO#K`Q`O'#FnOOQO'#KY'#KYOOQO'#In'#InO#KeQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#KvQ?MtO'#JrO#LQQ`O,5<bO!)[QlO,5<bOOOW-E<m-E<mOOQ!0Lf1G1l1G1lO#LVQpO'#KXOOQ!0Lf,5<d,5<dO#L_QpO,5<dO#LdQMhO'#DTOOOO'#Ib'#IbO#LkO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8lQ`O'#IrO#LvQ`O,5<zOOQ!0Lh,5<w,5<wO!,TQMhO'#IuO#MdQMjO,5=XO!,TQMhO'#IwO#NVQMjO,5=ZO!&zQMhO,5=]OOQO1G2S1G2SO#NaQ!dO'#CrO#NtQ(CWO'#ErO$ |QpO'#GbO$!dQ!dO,5<sO$!kQ`O'#K[O9eQ`O'#K[O$!yQ`O,5<uO$#aQ!dO'#C{O!,TQMhO,5<tO$#kQ`O'#GZO$$PQ`O,5<tO$$UQ!dO'#GWO$$cQ!dO'#K]O$$mQ`O'#K]O!&zQMhO'#K]O$$rQ`O,5<xO$$wQlO'#JvO$%RQpO'#GcO#$`QpO'#GcO$%dQ`O'#GgO!3oQ`O'#GkO$%iQ!0LrO'#ItO$%tQpO,5<|OOQ!0Lp,5<|,5<|O$%{QpO'#GcO$&YQpO'#GdO$&kQpO'#GdO$&pQMjO,5=XO$'QQMjO,5=ZOOQ!0Lh,5=^,5=^O!,TQMhO,5@VO!,TQMhO,5@VO$'bQ`O'#IyO$'vQ`O,5@UO$(OQ`O,59aOOQ!0Lh,59i,59iO$(TQ`O,5@VO$)TQ$IYO,59uOOQ!0Lh'#Jp'#JpO$)vQMjO,5<kO$*iQMjO,5<mO@zQ`O,5<oOOQ!0Lh,5<p,5<pO$*sQ`O,5<vO$*xQMjO,5<{O$+YQ`O'#KPO!$wQlO1G2RO$+_Q`O1G2RO9eQ`O'#KSO9eQ`O'#EtO%[QlO'#EtO9eQ`O'#I{O$+dQ!0LrO,5@{OOQ[1G2}1G2}OOQ[1G4`1G4`OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$-fQ!0MxO1G0UOOQ[1G2y1G2yO!&zQMhO1G2yO%[QlO1G2yO#.tQ`O1G2yO$/jQMhO'#EkOOQ!0Lb,5@T,5@TO$/wQ!0LrO,5@TOOQ[1G.u1G.uO!ByQ!0LrO1G.uO!CUQpO1G.uO!C^QMhO1G.uO$0YQ`O1G0uO$0_Q`O'#CiO$0jQ`O'#KeO$0rQ`O,5=|O$0wQ`O'#KeO$0|Q`O'#KeO$1[Q`O'#JRO$1jQ`O,5AOO$1rQ!fO1G1iOOQ!0Lf1G1k1G1kO9kQ`O1G3fO@zQ`O1G3fO$1yQ`O1G3fO$2OQ`O1G3fO!DiQ`O1G3fO9uQ!0LrO1G3fOOQ[1G3f1G3fO!EcQ`O1G3UO!&zQMhO1G3RO$2TQ`O1G3ROOQ[1G3S1G3SO!&zQMhO1G3SO$2YQ`O1G3SO$2bQpO'#HQOOQ[1G3U1G3UO!6_QpO'#I}O!EhQ!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$2jQMhO,5=tO9kQ`O,5=tO$%dQ`O,5=vO9`Q`O,5=vO!CUQpO,5=vO!C^QMhO,5=vO:dQMhO,5=vO$2xQ`O'#KcO$3TQ`O,5=wOOQ[1G.k1G.kO$3YQ!0LrO1G.kO@zQ`O1G.kO$3eQ`O1G.kO9uQ!0LrO1G.kO$5mQ!fO,5AQO$5zQ`O,5AQO9eQ`O,5AQO$6VQlO,5>PO$6^Q`O,5>POOQ[1G3i1G3iO`QlO1G3iOOQ[1G3o1G3oOOQ[1G3q1G3qO?TQ`O1G3sO$6cQlO1G3uO$:gQlO'#HtOOQ[1G3x1G3xO$:tQ`O'#HzO?YQ`O'#H|OOQ[1G4O1G4OO$:|QlO1G4OO9uQ!0LrO1G4UOOQ[1G4W1G4WOOQ!0Lb'#G_'#G_O9uQ!0LrO1G4YO9uQ!0LrO1G4[O$?TQ`O,5@bO!)[QlO,5;`O9eQ`O,5;`O?YQ`O,5:XO!)[QlO,5:XO!CUQpO,5:XO$?YQ?MtO,5:XOOQO,5;`,5;`O$?dQpO'#IeO$?zQ`O,5@aOOQ!0Lf1G/r1G/rO$@SQpO'#IkO$@^Q`O,5@pOOQ!0Lb1G0y1G0yO#$`QpO,5:XOOQO'#Ig'#IgO$@fQpO,5:qOOQ!0Ln,5:q,5:qO#(ZQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO?YQ`O1G0tO!CUQpO1G0tO!C^QMhO1G0tOOQ!0Lb1G5|1G5|O!ByQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$@mQ!0LrO1G0mO$@xQ!0LrO1G0mO!CUQpO1G0^ODWQpO1G0^O$AWQ!0LrO1G0mOOQO1G0^1G0^O$AlQ!0MxO1G0mPOOO-E<[-E<[POOO1G.h1G.hOOOO1G/i1G/iO$AvQ!bO,5<iO$BOQ!fO1G4jOOQO1G4p1G4pO%[QlO,5?OO$BYQ`O1G5zO$BbQ`O1G6YO$BjQ!fO1G6ZO9eQ`O,5?UO$BtQ!0MxO1G6WO%[QlO1G6WO$CUQ!0LrO1G6WO$CgQ`O1G6VO$CgQ`O1G6VO9eQ`O1G6VO$CoQ`O,5?XO9eQ`O,5?XOOQO,5?X,5?XO$DTQ`O,5?XO$+YQ`O,5?XOOQO-E<k-E<kOOQS1G0a1G0aOOQS1G0c1G0cO#.lQ`O1G0cOOQ[7+(e7+(eO!&zQMhO7+(eO%[QlO7+(eO$DcQ`O7+(eO$DnQMhO7+(eO$D|Q!0MzO,5=XO$GXQ!0MzO,5=ZO$IdQ!0MzO,5=XO$KuQ!0MzO,5=ZO$NWQ!0MzO,59uO%!]Q!0MzO,5<kO%$hQ!0MzO,5<mO%&sQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%)UQ!0MxO7+&aO%)xQlO'#IfO%*VQ`O,5@cO%*_Q!fO,5@cOOQ!0Lf1G0P1G0PO%*iQ`O7+&jOOQ!0Lf7+&j7+&jO%*nQ?MtO,5:fO%[QlO7+&zO%*xQ?MtO,5:bO%+VQ?MtO,5:jO%+aQ?MtO,5:lO%+kQMhO'#IiO%+uQ`O,5@hOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%+}Q!jO,5<ZO!)[QlO,5<YOOQO-E<l-E<lOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%,YQ`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%,_Q!dO,59oOOOO-E<`-E<`OOQ!0Lh1G/X1G/XO%,fQ!0MxO7+'kOOQ!0Lh,5?^,5?^O%-YQMhO1G2fP%-aQ`O'#IrPOQ!0Lh-E<p-E<pO%-}QMjO,5?aOOQ!0Lh-E<s-E<sO%.pQMjO,5?cOOQ!0Lh-E<u-E<uO%.zQ!dO1G2wO%/RQ!dO'#CrO%/iQMhO'#KSO$$wQlO'#JvOOQ!0Lh1G2_1G2_O%/sQ`O'#IqO%0[Q`O,5@vO%0[Q`O,5@vO%0dQ`O,5@vO%0oQ`O,5@vOOQO1G2a1G2aO%0}QMjO1G2`O$+YQ`O'#K[O!,TQMhO1G2`O%1_Q(CWO'#IsO%1lQ`O,5@wO!&zQMhO,5@wO%1tQ!dO,5@wOOQ!0Lh1G2d1G2dO%4UQ!fO'#CiO%4`Q`O,5=POOQ!0Lb,5<},5<}O%4hQpO,5<}OOQ!0Lb,5=O,5=OOCwQ`O,5<}O%4sQpO,5<}OOQ!0Lb,5=R,5=RO$+YQ`O,5=VOOQO,5?`,5?`OOQO-E<r-E<rOOQ!0Lp1G2h1G2hO#$`QpO,5<}O$$wQlO,5=PO%5RQ`O,5=OO%5^QpO,5=OO!,TQMhO'#IuO%6WQMjO1G2sO!,TQMhO'#IwO%6yQMjO1G2uO%7TQMjO1G5qO%7_QMjO1G5qOOQO,5?e,5?eOOQO-E<w-E<wOOQO1G.{1G.{O!,TQMhO1G5qO!,TQMhO1G5qO!:]QpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%7lQ`O1G2ZO!,TQMhO1G2bO%7qQ!0MxO7+'mOOQ!0Lf7+'m7+'mO!$wQlO7+'mO%8eQ`O,5;`OOQ!0Lb,5?g,5?gOOQ!0Lb-E<y-E<yO%8jQ!dO'#K^O#(ZQ`O7+(eO4UQ!fO7+(eO$DfQ`O7+(eO%8tQ!0MvO'#CiO%9XQ!0MvO,5=SO%9lQ`O,5=SO%9tQ`O,5=SOOQ!0Lb1G5o1G5oOOQ[7+$a7+$aO!ByQ!0LrO7+$aO!CUQpO7+$aO!$wQlO7+&aO%9yQ`O'#JQO%:bQ`O,5APOOQO1G3h1G3hO9kQ`O,5APO%:bQ`O,5APO%:jQ`O,5APOOQO,5?m,5?mOOQO-E=P-E=POOQ!0Lf7+'T7+'TO%:oQ`O7+)QO9uQ!0LrO7+)QO9kQ`O7+)QO@zQ`O7+)QO%:tQ`O7+)QOOQ[7+)Q7+)QOOQ[7+(p7+(pO%:yQ!0MvO7+(mO!&zQMhO7+(mO!E^Q`O7+(nOOQ[7+(n7+(nO!&zQMhO7+(nO%;TQ`O'#KbO%;`Q`O,5=lOOQO,5?i,5?iOOQO-E<{-E<{OOQ[7+(s7+(sO%<rQpO'#HZOOQ[1G3`1G3`O!&zQMhO1G3`O%[QlO1G3`O%<yQ`O1G3`O%=UQMhO1G3`O9uQ!0LrO1G3bO$%dQ`O1G3bO9`Q`O1G3bO!CUQpO1G3bO!C^QMhO1G3bO%=dQ`O'#JPO%=xQ`O,5@}O%>QQpO,5@}OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@zQ`O7+$VO9uQ!0LrO7+$VO%>]Q`O7+$VO%[QlO1G6lO%[QlO1G6mO%>bQ!0LrO1G6lO%>lQlO1G3kO%>sQ`O1G3kO%>xQlO1G3kOOQ[7+)T7+)TO9uQ!0LrO7+)_O`QlO7+)aOOQ['#Kh'#KhOOQ['#JS'#JSO%?PQlO,5>`OOQ[,5>`,5>`O%[QlO'#HuO%?^Q`O'#HwOOQ[,5>f,5>fO9eQ`O,5>fOOQ[,5>h,5>hOOQ[7+)j7+)jOOQ[7+)p7+)pOOQ[7+)t7+)tOOQ[7+)v7+)vO%?cQpO1G5|O%?}Q?MtO1G0zO%@XQ`O1G0zOOQO1G/s1G/sO%@dQ?MtO1G/sO?YQ`O1G/sO!)[QlO'#DmOOQO,5?P,5?POOQO-E<c-E<cOOQO,5?V,5?VOOQO-E<i-E<iO!CUQpO1G/sOOQO-E<e-E<eOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#(ZQ`O7+%uOOQ!0Lf7+&`7+&`O?YQ`O7+&`O!CUQpO7+&`OOQO7+%x7+%xO$AlQ!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%@nQ!0LrO7+&XO!ByQ!0LrO7+%xO!CUQpO7+%xO%@yQ!0LrO7+&XO%AXQ!0MxO7++rO%[QlO7++rO%AiQ`O7++qO%AiQ`O7++qOOQO1G4s1G4sO9eQ`O1G4sO%AqQ`O1G4sOOQS7+%}7+%}O#(ZQ`O<<LPO4UQ!fO<<LPO%BPQ`O<<LPOOQ[<<LP<<LPO!&zQMhO<<LPO%[QlO<<LPO%BXQ`O<<LPO%BdQ!0MzO,5?aO%DoQ!0MzO,5?cO%FzQ!0MzO1G2`O%I]Q!0MzO1G2sO%KhQ!0MzO1G2uO%MsQ!fO,5?QO%[QlO,5?QOOQO-E<d-E<dO%M}Q`O1G5}OOQ!0Lf<<JU<<JUO%NVQ?MtO1G0uO&!^Q?MtO1G1PO&!eQ?MtO1G1PO&$fQ?MtO1G1PO&$mQ?MtO1G1PO&&nQ?MtO1G1PO&(oQ?MtO1G1PO&(vQ?MtO1G1PO&(}Q?MtO1G1PO&+OQ?MtO1G1PO&+VQ?MtO1G1PO&+^Q!0MxO<<JfO&-UQ?MtO1G1PO&.RQ?MvO1G1PO&/UQ?MvO'#JlO&1[Q?MtO1G1cO&1iQ?MtO1G0UO&1sQMjO,5?TOOQO-E<g-E<gO!)[QlO'#FqOOQO'#KZ'#KZOOQO1G1u1G1uO&1}Q`O1G1tO&2SQ?MtO,5?[OOOW7+'h7+'hOOOO1G/Z1G/ZO&2^Q!dO1G4xOOQ!0Lh7+(Q7+(QP!&zQMhO,5?^O!,TQMhO7+(cO&2eQ`O,5?]O9eQ`O,5?]O$+YQ`O,5?]OOQO-E<o-E<oO&2sQ`O1G6bO&2sQ`O1G6bO&2{Q`O1G6bO&3WQMjO7+'zO&3hQ!dO,5?_O&3rQ`O,5?_O!&zQMhO,5?_OOQO-E<q-E<qO&3wQ!dO1G6cO&4RQ`O1G6cO&4ZQ`O1G2kO!&zQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%4hQpO1G2iO!CUQpO1G2iOCwQ`O1G2iOOQ!0Lb1G2q1G2qO&4`QpO1G2iO&4nQ`O1G2kO$+YQ`O1G2jOCwQ`O1G2jO$$wQlO1G2kO&4vQ`O1G2jO&5jQMjO,5?aOOQ!0Lh-E<t-E<tO&6]QMjO,5?cOOQ!0Lh-E<v-E<vO!,TQMhO7++]O&6gQMjO7++]O&6qQMjO7++]OOQ!0Lh1G/c1G/cO&7OQ`O1G/cOOQ!0Lh7+'u7+'uO&7TQMjO7+'|O&7eQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&8XQ`O1G0zO!&zQMhO'#IzO&8^Q`O,5@xO&:`Q!fO<<LPO!&zQMhO1G2nO&:gQ!0LrO1G2nOOQ[<<G{<<G{O!ByQ!0LrO<<G{O&:xQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?l,5?lO&;lQ`O,5?lO&;qQ`O,5?lOOQO-E=O-E=OO&<PQ`O1G6kO&<PQ`O1G6kO9kQ`O1G6kO@zQ`O<<LlOOQ[<<Ll<<LlO&<XQ`O<<LlO9uQ!0LrO<<LlO9kQ`O<<LlOOQ[<<LX<<LXO%:yQ!0MvO<<LXOOQ[<<LY<<LYO!E^Q`O<<LYO&<^QpO'#I|O&<iQ`O,5@|O!)[QlO,5@|OOQ[1G3W1G3WOOQO'#JO'#JOO9uQ!0LrO'#JOO&<qQpO,5=uOOQ[,5=u,5=uO&<xQpO'#EgO&=PQpO'#GeO&=UQ`O7+(zO&=ZQ`O7+(zOOQ[7+(z7+(zO!&zQMhO7+(zO%[QlO7+(zO&=cQ`O7+(zOOQ[7+(|7+(|O9uQ!0LrO7+(|O$%dQ`O7+(|O9`Q`O7+(|O!CUQpO7+(|O&=nQ`O,5?kOOQO-E<}-E<}OOQO'#H^'#H^O&=yQ`O1G6iO9uQ!0LrO<<GqOOQ[<<Gq<<GqO@zQ`O<<GqO&>RQ`O7+,WO&>WQ`O7+,XO%[QlO7+,WO%[QlO7+,XOOQ[7+)V7+)VO&>]Q`O7+)VO&>bQlO7+)VO&>iQ`O7+)VOOQ[<<Ly<<LyOOQ[<<L{<<L{OOQ[-E=Q-E=QOOQ[1G3z1G3zO&>nQ`O,5>aOOQ[,5>c,5>cO&>sQ`O1G4QO9eQ`O7+&fO!)[QlO7+&fOOQO7+%_7+%_O&>xQ?MtO1G6ZO?YQ`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO?YQ`O<<IzOOQO<<Is<<IsO$AlQ!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!ByQ!0LrO<<IdO&?SQ!0LrO<<IsO&?_Q!0MxO<= ^O&?oQ`O<= ]OOQO7+*_7+*_O9eQ`O7+*_OOQ[ANAkANAkO&?wQ!fOANAkO!&zQMhOANAkO#(ZQ`OANAkO4UQ!fOANAkO&@OQ`OANAkO%[QlOANAkO&@WQ!0MzO7+'zO&BiQ!0MzO,5?aO&DtQ!0MzO,5?cO&GPQ!0MzO7+'|O&IbQ!fO1G4lO&IlQ?MtO7+&aO&KpQ?MvO,5=XO&MwQ?MvO,5=ZO&NXQ?MvO,5=XO&NiQ?MvO,5=ZO&NyQ?MvO,59uO'#PQ?MvO,5<kO'%SQ?MvO,5<mO''hQ?MvO,5<{O')^Q?MtO7+'kO')kQ?MtO7+'mO')xQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*d7+*dO')}QMjO<<K}OOQO1G4w1G4wO'*UQ`O1G4wO'*aQ`O1G4wO'*oQ`O7++|O'*oQ`O7++|O!&zQMhO1G4yO'*wQ!dO1G4yO'+RQ`O7++}O'+ZQ`O7+(VO'+fQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!CUQpO7+(TOCwQ`O7+(TO'+pQ`O7+(VO!&zQMhO7+(VO$+YQ`O7+(UO'+uQ`O7+(VOCwQ`O7+(UO'+}QMjO<<NwO!,TQMhO<<NwOOQ!0Lh7+$}7+$}O',XQ!dO,5?fOOQO-E<x-E<xO',cQ!0MvO7+(YO!&zQMhO7+(YOOQ[AN=gAN=gO9kQ`O1G5WOOQO1G5W1G5WO',sQ`O1G5WO',xQ`O7+,VO',xQ`O7+,VO9uQ!0LrOANBWO@zQ`OANBWOOQ[ANBWANBWO'-QQ`OANBWOOQ[ANAsANAsOOQ[ANAtANAtO'-VQ`O,5?hOOQO-E<z-E<zO'-bQ?MtO1G6hOOQO,5?j,5?jOOQO-E<|-E<|OOQ[1G3a1G3aO'-lQ`O,5=POOQ[<<Lf<<LfO!&zQMhO<<LfO&=UQ`O<<LfO'-qQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9uQ!0LrO<<LhO$%dQ`O<<LhO9`Q`O<<LhO'-yQpO1G5VO'.UQ`O7+,TOOQ[AN=]AN=]O9uQ!0LrOAN=]OOQ[<= r<= rOOQ[<= s<= sO'.^Q`O<= rO'.cQ`O<= sOOQ[<<Lq<<LqO'.hQ`O<<LqO'.mQlO<<LqOOQ[1G3{1G3{O?YQ`O7+)lO'.tQ`O<<JQO'/PQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$AlQ!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<My<<MyOOQ[G27VG27VO!&zQMhOG27VO#(ZQ`OG27VO'/ZQ!fOG27VO4UQ!fOG27VO'/bQ`OG27VO'/jQ?MtO<<JfO'/wQ?MvO1G2`O'1mQ?MvO,5?aO'3pQ?MvO,5?cO'5sQ?MvO1G2sO'7vQ?MvO1G2uO'9yQ?MtO<<KXO':WQ?MtO<<I{OOQO1G1w1G1wO!,TQMhOANAiOOQO7+*c7+*cO':eQ`O7+*cO':pQ`O<= hO':xQ!dO7+*eOOQ!0Lb<<Kq<<KqO$+YQ`O<<KqOCwQ`O<<KqO';SQ`O<<KqO!&zQMhO<<KqOOQ!0Lb<<Ko<<KoO!CUQpO<<KoO';_Q!dO<<KqOOQ!0Lb<<Kp<<KpO';iQ`O<<KqO!&zQMhO<<KqO$+YQ`O<<KpO';nQMjOANDcO';xQ!0MvO<<KtOOQO7+*r7+*rO9kQ`O7+*rO'<YQ`O<= qOOQ[G27rG27rO9uQ!0LrOG27rO@zQ`OG27rO!)[QlO1G5SO'<bQ`O7+,SO'<jQ`O1G2kO&=UQ`OANBQOOQ[ANBQANBQO!&zQMhOANBQO'<oQ`OANBQOOQ[ANBSANBSO9uQ!0LrOANBSO$%dQ`OANBSOOQO'#H_'#H_OOQO7+*q7+*qOOQ[G22wG22wOOQ[ANE^ANE^OOQ[ANE_ANE_OOQ[ANB]ANB]O'<wQ`OANB]OOQ[<<MW<<MWO!)[QlOAN?lOOQOG24yG24yO$AlQ!0MxOG24yO#(ZQ`OLD,qOOQ[LD,qLD,qO!&zQMhOLD,qO'<|Q!fOLD,qO'=TQ?MvO7+'zO'>yQ?MvO,5?aO'@|Q?MvO,5?cO'CPQ?MvO7+'|O'DuQMjOG27TOOQO<<M}<<M}OOQ!0LbANA]ANA]O$+YQ`OANA]OCwQ`OANA]O'EVQ!dOANA]OOQ!0LbANAZANAZO'E^Q`OANA]O!&zQMhOANA]O'EiQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N^<<N^OOQ[LD-^LD-^O9uQ!0LrOLD-^O'EsQ?MtO7+*nOOQO'#Gf'#GfOOQ[G27lG27lO&=UQ`OG27lO!&zQMhOG27lOOQ[G27nG27nO9uQ!0LrOG27nOOQ[G27wG27wO'E}Q?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#(ZQ`O!$(!]O!&zQMhO!$(!]O'FXQ!0MzOG27TOOQ!0LbG26wG26wO$+YQ`OG26wO'HjQ`OG26wOCwQ`OG26wO'HuQ!dOG26wO!&zQMhOG26wOOQ[!$(!x!$(!xOOQ[LD-WLD-WO&=UQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#(ZQ`O!)9EwOOQ!0LbLD,cLD,cO$+YQ`OLD,cOCwQ`OLD,cO'H|Q`OLD,cO'IXQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'I`Q?MvOG27TOOQ!0Lb!$( }!$( }O$+YQ`O!$( }OCwQ`O!$( }O'KUQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$+YQ`O!)9EiOCwQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$+YQ`O!.K;TOOQ!0Lb!4/0o!4/0oO!)[QlO'#DzO1PQ`O'#EXO'KaQ!fO'#JrO'KhQ!L^O'#DvO'KoQlO'#EOO'KvQ!fO'#CiO'N^Q!fO'#CiO!)[QlO'#EQO'NnQlO,5;ZO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO'#IpO(!qQ`O,5<iO!)[QlO,5;eO(!yQMhO,5;eO($dQMhO,5;eO!)[QlO,5;wO!&zQMhO'#GmO(!yQMhO'#GmO!&zQMhO'#GoO(!yQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&zQMhO'#GPO(!yQMhO'#GPO!&zQMhO'#GRO(!yQMhO'#GRO!&zQMhO'#GaO(!yQMhO'#GaO!)[QlO,5:jO($kQpO'#D_O($uQpO'#JvO!)[QlO,5@oO'NnQlO1G0uO(%PQ?MtO'#CiO!)[QlO1G2PO!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO(%ZQ!dO'#CrO!&zQMhO,5<tO(!yQMhO,5<tO'NnQlO1G2RO!)[QlO7+&zO!&zQMhO1G2`O(!yQMhO1G2`O!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO!&zQMhO1G2bO(!yQMhO1G2bO'NnQlO7+'mO'NnQlO7+&aO!&zQMhOANAiO(!yQMhOANAiO(%nQ`O'#EoO(%sQ`O'#EoO(%{Q`O'#F]O(&QQ`O'#EyO(&VQ`O'#KTO(&bQ`O'#KRO(&mQ`O,5;ZO(&rQMjO,5<eO(&yQ`O'#GYO('OQ`O'#GYO('TQ`O,5<eO(']Q`O,5<gO('eQ`O,5;ZO('mQ?MtO1G1`O('tQ`O,5<tO('yQ`O,5<tO((OQ`O,5<vO((TQ`O,5<vO((YQ`O1G2RO((_Q`O1G0uO((dQMjO<<K}O((kQMjO<<K}O((rQMhO'#F|O9`Q`O'#F{OAuQ`O'#EnO!)[QlO,5;tO!3oQ`O'#GYO!3oQ`O'#GYO!3oQ`O'#G[O!3oQ`O'#G[O!,TQMhO7+(cO!,TQMhO7+(cO%.zQ!dO1G2wO%.zQ!dO1G2wO!&zQMhO,5=]O!&zQMhO,5=]",stateData:"()x~O'|OS'}OSTOS(ORQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&W!WO&^!XO&`!YO&b!ZO&d![O&g!]O&m!^O&s!_O&u!`O&w!aO&y!bO&{!cO(TSO(VTO(YUO(aVO(o[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O(O!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'z]X(a]X(r]X(y]X(z]X~O!g%RX~P(qO_!}O(V#PO(W!}O(X#PO~O_#QO(X#PO(Y#PO(Z#QO~Ox#SO!U#TO(b#TO(c#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T<ZO(VTO(YUO(aVO(o[O~O![#ZO!]#WO!Y(hP!Y(vP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(VTO(YUO(aVO(o[O~Op#mO![#iO!|]O#i#lO#j#iO(T<[O!k(sP~P.iO!l#oO(T#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa(fX'z(fX'w(fX!k(fX!Y(fX!_(fX%i(fX!g(fX~P1qO#S$dO#`$eO$Q$eOP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX!_(gX%i(gX~Oa(gX'z(gX'w(gX!Y(gX!k(gXv(gX!g(gX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%dOk%dOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T$sO(VTO(YUO(a$uO(y$}O(z%POg(^P~Ol%[O~P7eO!l%eO~O!S%hO!_%iO(T%gO~O!g%mO~Oa%nO'z%nO~O!Q%rO~P%[O(U!lO~P%[O%n%vO~P%[Oh%VO!l%eO(T%gO(U!lO~Oe%}O!l%eO(T%gO~Oj$RO~O!_&PO(T%gO(U!lO(VTO(YUO`)WP~O!Q&SO!l&RO%j&VO&T&WO~P;SO!x#sO~O%s&YO!S)SX!_)SX(T)SX~O(T&ZO~Ol!PO!u&`O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&eOe&dO!x&bO%h&cO%{&aO~P<bOd&hOeyOl!PO!_&gO!u&`O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&kO#`&nO%j&iO(U!lO~P=gO!l&oO!u&sO~O!l#oO~O!_XO~Oa%nO'x&{O'z%nO~Oa%nO'x'OO'z%nO~Oa%nO'x'QO'z%nO~O'w]X!Y]Xv]X!k]X&[]X!_]X%i]X!g]X~P(qO!b'_O!c'WO!d'WO(U!lO(VTO(YUO~Os'UO!S'TO!['XO(e'SO!^(iP!^(xP~P@nOn'bO!_'`O(T%gO~Oe'gO!l%eO(T%gO~O!Q&SO!l&RO~Os!nO!S!oO!|<VO#T!pO#U!pO#W!pO#X!pO(U!lO(VTO(YUO(e!mO(o!sO~O!b'mO!c'lO!d'lO#V!pO#['nO#]'nO~PBYOa%nOh%VO!g#vO!l%eO'z%nO(r'pO~O!p'tO#`'rO~PChOs!nO!S!oO(VTO(YUO(e!mO(o!sO~O!_XOs(mX!S(mX!b(mX!c(mX!d(mX!|(mX#T(mX#U(mX#V(mX#W(mX#X(mX#[(mX#](mX(U(mX(V(mX(Y(mX(e(mX(o(mX~O!c'lO!d'lO(U!lO~PDWO(P'xO(Q'xO(R'zO~O_!}O(V'|O(W!}O(X'|O~O_#QO(X'|O(Y'|O(Z#QO~Ov(OO~P%[Ox#SO!U#TO(b#TO(c(RO~O![(TO!Y'WX!Y'^X!]'WX!]'^X~P+}O!](VO!Y(hX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](VO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~O!Y(hX~PHRO!Y([O~O!Y(uX!](uX!g(uX!k(uX(r(uX~O#`(uX#k#dX!^(uX~PJUO#`(]O!Y(wX!](wX~O!](^O!Y(vX~O!Y(aO~O#`$eO~PJUO!^(bO~P`OR#zO!Q#yO!S#{O!l#xO(aVOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(r!na(y!na(z!na~Oa!na'z!na'w!na!Y!na!k!nav!na!_!na%i!na!g!na~PKlO!k(cO~O!g#vO#`(dO(r'pO!](tXa(tX'z(tX~O!k(tX~PNXO!S%hO!_%iO!|]O#i(iO#j(hO(T%gO~O!](jO!k(sX~O!k(lO~O!S%hO!_%iO#j(hO(T%gO~OP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~O!g#vO!k(gX~P! uOR(nO!Q(mO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(T!{a~P!#vO!x(rO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~O#k(xO~O![(zO!k(kP~P%[O(e(|O(o[O~O!S)OO!l#xO(e(|O(o[O~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]$_Oa$qa'z$qa'w$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)dO~P!&zOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Og(pP~P!,TO!Q)iO!g)hO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)hO!_({X$Z({X$]({X$_({X$f({X~O!Q)iO~P!.^O!Q)iO!_({X$Z({X$]({X$_({X$f({X~O!_)kO$Z)oO$])jO$_)jO$f)pO~O![)sO~P!)[O$]$hO$_$gO$f)wO~On$zX!Q$zX#S$zX'y$zX(y$zX(z$zX~OgmXg$zXnmX!]mX#`mX~P!0SOx)yO(b)zO(c)|O~On*VO!Q*OO'y*PO(y$}O(z%PO~Og)}O~P!1WOg*WO~Oh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S*YO!_*ZO!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op*`O![*^O(T*XO!k)OP~P!1uO#k*aO~O!l*bO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T*dO(VTO(YUO(a$uO(y$}O(z%PO~O![*gO!Y)PP~P!3tOr*sOs!nO!S*iO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO(e!mO~O!^*pO~P!5iO#S$dOn(`X!Q(`X'y(`X(y(`X(z(`X!](`X#`(`X~Og(`X$O(`X~P!6kOn*xO#`*wOg(_X!](_X~O!]*yOg(^X~Oj%dOk%dOl%dO(T&ZOg(^P~Os*|O~Og)}O(T&ZO~O!l+SO~O(T(vO~Op+WO!S%hO![#iO!_%iO!|]O#i#lO#j#iO(T%gO!k(sP~O!g#vO#k+XO~O!S%hO![+ZO!](^O!_%iO(T%gO!Y(vP~Os'[O!S+]O![+[O(VTO(YUO(e(|O~O!^(xP~P!9|O!]+^Oa)TX'z)TX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa!ja!]!ja'z!ja'w!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:tOR#zO!Q#yO!S#{O!l#xO(aVOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(r!ra(y!ra(z!ra~Oa!ra'z!ra'w!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!=[OR#zO!Q#yO!S#{O!l#xO(aVOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(r!ta(y!ta(z!ta~Oa!ta'z!ta'w!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?rOh%VOn+gO!_'`O%i+fO~O!g+iOa(]X!_(]X'z(]X!](]X~Oa%nO!_XO'z%nO~Oh%VO!l%eO~Oh%VO!l%eO(T%gO~O!g#vO#k(xO~Ob+tO%j+uO(T+qO(VTO(YUO!^)XP~O!]+vO`)WX~O[+zO~O`+{O~O!_&PO(T%gO(U!lO`)WP~O%j,OO~P;SOh%VO#`,SO~Oh%VOn,VO!_$|O~O!_,XO~O!Q,ZO!_XO~O%n%vO~O!x,`O~Oe,eO~Ob,fO(T#nO(VTO(YUO!^)VP~Oe%}O~O%j!QO(T&ZO~P=gO[,kO`,jO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(VTO(YUO(aVO(o[O~O!_!eO!u!gO$W!kO(T!dO~P!FyO`,jOa%nO'z%nO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa,pOl!OO!uwO%l!OO%m!OO%n!OO~P!IcO!l&oO~O&^,vO~O!_,xO~O&o,zO&q,{OP&laQ&laS&laY&laa&lad&lae&lal&lap&lar&las&lat&laz&la|&la!O&la!S&la!W&la!X&la!_&la!i&la!l&la!o&la!p&la!q&la!s&la!u&la!x&la!|&la$W&la$n&la%h&la%j&la%l&la%m&la%n&la%q&la%s&la%v&la%w&la%y&la&W&la&^&la&`&la&b&la&d&la&g&la&m&la&s&la&u&la&w&la&y&la&{&la'w&la(T&la(V&la(Y&la(a&la(o&la!^&la&e&lab&la&j&la~O(T-QO~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P#!iO!g-VO#`-UOh(jX!]#hX!^#hX!g(jX!l(jX~O!](jX!^(jX~P##[Oh%VO!g-XO!l%eO!]!aX!^!aX~Os!nO!S!oO(VTO(YUO(e!mO~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(VTO(YUO(aVO(o[O~O(T=QO~P#$qO!]-]O!^(iX~O!^-_O~O!g-VO#`-UO!]#hX!^#hX~O!]-`O!^(xX~O!^-bO~O!c-cO!d-cO(U!lO~P#$`O!^-fO~P'_On-iO!_'`O~O!Y-nO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(U!{a(V!{a(Y!{a(e!{a(o!{a~P!#vO!p-sO#`-qO~PChO!c-uO!d-uO(U!lO~PDWOa%nO#`-qO'z%nO~Oa%nO!g#vO#`-qO'z%nO~Oa%nO!g#vO!p-sO#`-qO'z%nO(r'pO~O(P'xO(Q'xO(R-zO~Ov-{O~O!Y'Wa!]'Wa~P!:tO![.PO!Y'WX!]'WX~P%[O!](VO!Y(ha~O!Y(ha~PHRO!](^O!Y(va~O!S%hO![.TO!_%iO(T%gO!Y'^X!]'^X~O#`.VO!](ta!k(taa(ta'z(ta~O!g#vO~P#,wO!](jO!k(sa~O!S%hO!_%iO#j.ZO(T%gO~Op.`O!S%hO![.]O!_%iO!|]O#i._O#j.]O(T%gO!]'aX!k'aX~OR.dO!l#xO~Oh%VOn.gO!_'`O%i.fO~Oa#ci!]#ci'z#ci'w#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:tOn>]O!Q*OO'y*PO(y$}O(z%PO~O#k#_aa#_a#`#_a'z#_a!]#_a!k#_a!_#_a!Y#_a~P#/sO#k(`XP(`XR(`X[(`Xa(`Xj(`Xr(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X'z(`X(a(`X(r(`X!k(`X!Y(`X'w(`Xv(`X!_(`X%i(`X!g(`X~P!6kO!].tO!k(kX~P!:tO!k.wO~O!Y.yO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#3cO#n$OO~P#3cOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#6QO#r$QO~P#6QOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(aVOa#mi!]#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(aVO(z#}Oa#mi!]#mi#z#mi#{#mi'z#mi(r#mi(y#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#;VO#x#mi~P#;VO#v$SO~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(aVO(y#|O(z#}Oa#mi!]#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#={O#z$WO~P#={OP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X!]]X!^]X~O$O]X~P#@jOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO#z<gO#{<hO(aVO(r$YO(y#|O(z#}O~O$O.{O~P#BwO#S$dO#`<nO$Q<nO$O(gX!^(gX~P! uOa'da!]'da'z'da'w'da!k'da!Y'dav'da!_'da%i'da!g'da~P!:tO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO(y#mi(z#mi~P#EyOn>]O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P#EyO!]/POg(pX~P!1WOg/RO~Oa$Pi!]$Pi'z$Pi'w$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:tO$]/SO$_/SO~O$]/TO$_/TO~O!g)hO#`/UO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/VO~O!_)kO$Z/XO$])jO$_)jO$f/YO~O!]<iO!^(fX~P#BwO!^/ZO~O!g)hO$f({X~O$f/]O~Ov/^O~P!&zOx)yO(b)zO(c/aO~O!S/dO~O(y$}On%aa!Q%aa'y%aa(z%aa!]%aa#`%aa~Og%aa$O%aa~P#L{O(z%POn%ca!Q%ca'y%ca(y%ca!]%ca#`%ca~Og%ca$O%ca~P#MnO!]fX!gfX!kfX!k$zX(rfX~P!0SOp%WO![/mO!](^O(T/lO!Y(vP!Y)PP~P!1uOr*sO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO~Os<}O!S/nO![+[O!^*pO(e<|O!^(xP~P$ [O!k/oO~P#/sO!]/pO!g#vO(r'pO!k)OX~O!k/uO~OnoX!QoX'yoX(yoX(zoX~O!g#vO!koX~P$#OOp/wO!S%hO![*^O!_%iO(T%gO!k)OP~O#k/xO~O!Y$zX!]$zX!g%RX~P!0SO!]/yO!Y)PX~P#/sO!g/{O~O!Y/}O~OpkO(T0OO~P.iOh%VOr0TO!g#vO!l%eO(r'pO~O!g+iO~Oa%nO!]0XO'z%nO~O!^0ZO~P!5iO!c0[O!d0[O(U!lO~P#$`Os!nO!S0]O(VTO(YUO(e!mO~O#[0_O~Og%aa!]%aa#`%aa$O%aa~P!1WOg%ca!]%ca#`%ca$O%ca~P!1WOj%dOk%dOl%dO(T&ZOg'mX!]'mX~O!]*yOg(^a~Og0hO~On0jO#`0iOg(_a!](_a~OR0kO!Q0kO!S0lO#S$dOn}a'y}a(y}a(z}a!]}a#`}a~Og}a$O}a~P$(cO!Q*OO'y*POn$sa(y$sa(z$sa!]$sa#`$sa~Og$sa$O$sa~P$)_O!Q*OO'y*POn$ua(y$ua(z$ua!]$ua#`$ua~Og$ua$O$ua~P$*QO#k0oO~Og%Ta!]%Ta#`%Ta$O%Ta~P!1WO!g#vO~O#k0rO~O!]+^Oa)Ta'z)Ta~OR#zO!Q#yO!S#{O!l#xO(aVOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(r!ri(y!ri(z!ri~Oa!ri'z!ri'w!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$+oOh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op0{O%]0|O(T0zO~P$.VO!g+iOa(]a!_(]a'z(]a!](]a~O#k1SO~O[]X!]fX!^fX~O!]1TO!^)XX~O!^1VO~O[1WO~Ob1YO(T+qO(VTO(YUO~O!_&PO(T%gO`'uX!]'uX~O!]+vO`)Wa~O!k1]O~P!:tO[1`O~O`1aO~O#`1fO~On1iO!_$|O~O(e(|O!^)UP~Oh%VOn1rO!_1oO%i1qO~O[1|O!]1zO!^)VX~O!^1}O~O`2POa%nO'z%nO~O(T#nO(VTO(YUO~O#S$dO#`$eO$Q$eOP(gXR(gX[(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~Oj2SO&[2TOa(gX~P$3pOj2SO#`$eO&[2TO~Oa2VO~P%[Oa2XO~O&e2[OP&ciQ&ciS&ciY&cia&cid&cie&cil&cip&cir&cis&cit&ciz&ci|&ci!O&ci!S&ci!W&ci!X&ci!_&ci!i&ci!l&ci!o&ci!p&ci!q&ci!s&ci!u&ci!x&ci!|&ci$W&ci$n&ci%h&ci%j&ci%l&ci%m&ci%n&ci%q&ci%s&ci%v&ci%w&ci%y&ci&W&ci&^&ci&`&ci&b&ci&d&ci&g&ci&m&ci&s&ci&u&ci&w&ci&y&ci&{&ci'w&ci(T&ci(V&ci(Y&ci(a&ci(o&ci!^&cib&ci&j&ci~Ob2bO!^2`O&j2aO~P`O!_XO!l2dO~O&q,{OP&liQ&liS&liY&lia&lid&lie&lil&lip&lir&lis&lit&liz&li|&li!O&li!S&li!W&li!X&li!_&li!i&li!l&li!o&li!p&li!q&li!s&li!u&li!x&li!|&li$W&li$n&li%h&li%j&li%l&li%m&li%n&li%q&li%s&li%v&li%w&li%y&li&W&li&^&li&`&li&b&li&d&li&g&li&m&li&s&li&u&li&w&li&y&li&{&li'w&li(T&li(V&li(Y&li(a&li(o&li!^&li&e&lib&li&j&li~O!Y2jO~O!]!aa!^!aa~P#BwOs!nO!S!oO![2pO(e!mO!]'XX!^'XX~P@nO!]-]O!^(ia~O!]'_X!^'_X~P!9|O!]-`O!^(xa~O!^2wO~P'_Oa%nO#`3QO'z%nO~Oa%nO!g#vO#`3QO'z%nO~Oa%nO!g#vO!p3UO#`3QO'z%nO(r'pO~Oa%nO'z%nO~P!:tO!]$_Ov$qa~O!Y'Wi!]'Wi~P!:tO!](VO!Y(hi~O!](^O!Y(vi~O!Y(wi!](wi~P!:tO!](ti!k(tia(ti'z(ti~P!:tO#`3WO!](ti!k(tia(ti'z(ti~O!](jO!k(si~O!S%hO!_%iO!|]O#i3]O#j3[O(T%gO~O!S%hO!_%iO#j3[O(T%gO~On3dO!_'`O%i3cO~Oh%VOn3dO!_'`O%i3cO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aav%aa!_%aa%i%aa!g%aa~P#L{O#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%cav%ca!_%ca%i%ca!g%ca~P#MnO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/sO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/sO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'z}a(a}a(r}a!k}a!Y}a'w}av}a!_}a%i}a!g}a~P$(cO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'z$sa(a$sa(r$sa!k$sa!Y$sa'w$sav$sa!_$sa%i$sa!g$sa~P$)_O#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'z$ua(a$ua(r$ua!k$ua!Y$ua'w$uav$ua!_$ua%i$ua!g$ua~P$*QO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'z%Ta(a%Ta(r%Ta!k%Ta!Y%Ta'w%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/sOa#cq!]#cq'z#cq'w#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:tO![3lO!]'YX!k'YX~P%[O!].tO!k(ka~O!].tO!k(ka~P!:tO!Y3oO~O$O!na!^!na~PKlO$O!ja!]!ja!^!ja~P#BwO$O!ra!^!ra~P!=[O$O!ta!^!ta~P!?rOg']X!]']X~P!,TO!]/POg(pa~OSfO!_4TO$d4UO~O!^4YO~Ov4ZO~P#/sOa$mq!]$mq'z$mq'w$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:tO!Y4]O~P!&zO!S4^O~O!Q*OO'y*PO(z%POn'ia(y'ia!]'ia#`'ia~Og'ia$O'ia~P%-fO!Q*OO'y*POn'ka(y'ka(z'ka!]'ka#`'ka~Og'ka$O'ka~P%.XO(r$YO~P#/sO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!0SOp%WO(T=WO~P!1uOp4bO!S%hO![4aO!_%iO(T%gO!]'eX!k'eX~O!]/pO!k)Oa~O!]/pO!g#vO!k)Oa~O!]/pO!g#vO(r'pO!k)Oa~Og$|i!]$|i#`$|i$O$|i~P!1WO![4jO!Y'gX!]'gX~P!3tO!]/yO!Y)Pa~O!]/yO!Y)Pa~P#/sOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~Oj%YX!g%YX~P%2OOj4oO!g#vO~Oh%VO!g#vO!l%eO~Oh%VOr4tO!l%eO(r'pO~Or4yO!g#vO(r'pO~Os!nO!S4zO(VTO(YUO(e!mO~O(y$}On%ai!Q%ai'y%ai(z%ai!]%ai#`%ai~Og%ai$O%ai~P%5oO(z%POn%ci!Q%ci'y%ci(y%ci!]%ci#`%ci~Og%ci$O%ci~P%6bOg(_i!](_i~P!1WO#`5QOg(_i!](_i~P!1WO!k5VO~Oa$oq!]$oq'z$oq'w$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:tO!Y5ZO~O!]5[O!_)QX~P#/sOa$zX!_$zX%^]X'z$zX!]$zX~P!0SO%^5_OaoX!_oX'zoX!]oX~P$#OOp5`O(T#nO~O%^5_O~Ob5fO%j5gO(T+qO(VTO(YUO!]'tX!^'tX~O!]1TO!^)Xa~O[5kO~O`5lO~O[5pO~Oa%nO'z%nO~P#/sO!]5uO#`5wO!^)UX~O!^5xO~Or6OOs!nO!S*iO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!pO#W!pO#X!pO#[5}O#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O!^5|O~P%;eOn6TO!_1oO%i6SO~Oh%VOn6TO!_1oO%i6SO~Ob6[O(T#nO(VTO(YUO!]'sX!^'sX~O!]1zO!^)Va~O(VTO(YUO(e6^O~O`6bO~Oj6eO&[6fO~PNXO!k6gO~P%[Oa6iO~Oa6iO~P%[Ob2bO!^6nO&j2aO~P`O!g6pO~O!g6rOh(ji!](ji!^(ji!g(ji!l(jir(ji(r(ji~O!]#hi!^#hi~P#BwO#`6sO!]#hi!^#hi~O!]!ai!^!ai~P#BwOa%nO#`6|O'z%nO~Oa%nO!g#vO#`6|O'z%nO~O!](tq!k(tqa(tq'z(tq~P!:tO!](jO!k(sq~O!S%hO!_%iO#j7TO(T%gO~O!_'`O%i7WO~On7[O!_'`O%i7WO~O#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'z'ia(a'ia(r'ia!k'ia!Y'ia'w'iav'ia!_'ia%i'ia!g'ia~P%-fO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'z'ka(a'ka(r'ka!k'ka!Y'ka'w'kav'ka!_'ka%i'ka!g'ka~P%.XO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'z$|i(a$|i(r$|i!k$|i!Y$|i'w$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/sO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'z%ai(a%ai(r%ai!k%ai!Y%ai'w%aiv%ai!_%ai%i%ai!g%ai~P%5oO#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'z%ci(a%ci(r%ci!k%ci!Y%ci'w%civ%ci!_%ci%i%ci!g%ci~P%6bO!]'Ya!k'Ya~P!:tO!].tO!k(ki~O$O#ci!]#ci!^#ci~P#BwOP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#n#mi~P%NdO#n<_O~P%NdOP$[OR#zOr<kO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#r#mi~P&!lO#r<aO~P&!lOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO(aVO#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#v#mi~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO(aVO(z#}O#z#mi#{#mi$O#mi(r#mi(y#mi!]#mi!^#mi~O#x<eO~P&&uO#x#mi~P&&uO#v<cO~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO(aVO(y#|O(z#}O#{#mi$O#mi(r#mi!]#mi!^#mi~O#z#mi~P&)UO#z<gO~P&)UOa#|y!]#|y'z#|y'w#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:tO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO(y#mi(z#mi~P&,QOn>^O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P&,QO#S$dOP(`XR(`X[(`Xj(`Xn(`Xr(`X!Q(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X$O(`X'y(`X(a(`X(r(`X(y(`X(z(`X!](`X!^(`X~O$O$Pi!]$Pi!^$Pi~P#BwO$O!ri!^!ri~P$+oOg']a!]']a~P!1WO!^7nO~O!]'da!^'da~P#BwO!Y7oO~P#/sO!g#vO(r'pO!]'ea!k'ea~O!]/pO!k)Oi~O!]/pO!g#vO!k)Oi~Og$|q!]$|q#`$|q$O$|q~P!1WO!Y'ga!]'ga~P#/sO!g7vO~O!]/yO!Y)Pi~P#/sO!]/yO!Y)Pi~O!Y7yO~Oh%VOr8OO!l%eO(r'pO~Oj8QO!g#vO~Or8TO!g#vO(r'pO~O!Q*OO'y*PO(z%POn'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P&5RO!Q*OO'y*POn'la(y'la(z'la!]'la#`'la~Og'la$O'la~P&5tOg(_q!](_q~P!1WO#`8VOg(_q!](_q~P!1WO!Y8WO~Og%Oq!]%Oq#`%Oq$O%Oq~P!1WOa$oy!]$oy'z$oy'w$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:tO!g6rO~O!]5[O!_)Qa~O!_'`OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(a$Ta(r$Ta(y$Ta(z$Ta~O%i7WO~P&8fO%^8[Oa%[i!_%[i'z%[i!]%[i~Oa#cy!]#cy'z#cy'w#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:tO[8^O~Ob8`O(T+qO(VTO(YUO~O!]1TO!^)Xi~O`8dO~O(e(|O!]'pX!^'pX~O!]5uO!^)Ua~O!^8nO~P%;eO(o!sO~P$&YO#[8oO~O!_1oO~O!_1oO%i8qO~On8tO!_1oO%i8qO~O[8yO!]'sa!^'sa~O!]1zO!^)Vi~O!k8}O~O!k9OO~O!k9RO~O!k9RO~P%[Oa9TO~O!g9UO~O!k9VO~O!](wi!^(wi~P#BwOa%nO#`9_O'z%nO~O!](ty!k(tya(ty'z(ty~P!:tO!](jO!k(sy~O%i9bO~P&8fO!_'`O%i9bO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'z$|q(a$|q(r$|q!k$|q!Y$|q'w$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/sO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'z'ja(a'ja(r'ja!k'ja!Y'ja'w'jav'ja!_'ja%i'ja!g'ja~P&5RO#k'laP'laR'la['laa'laj'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la'z'la(a'la(r'la!k'la!Y'la'w'lav'la!_'la%i'la!g'la~P&5tO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'z%Oq(a%Oq(r%Oq!k%Oq!Y%Oq'w%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/sO!]'Yi!k'Yi~P!:tO$O#cq!]#cq!^#cq~P#BwO(y$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(a%aa(r%aa!]%aa!^%aa~On%aa!Q%aa'y%aa(z%aa~P&IyO(z%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(a%ca(r%ca!]%ca!^%ca~On%ca!Q%ca'y%ca(y%ca~P&LQOn>^O!Q*OO'y*PO(z%PO~P&IyOn>^O!Q*OO'y*PO(y$}O~P&LQOR0kO!Q0kO!S0lO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'y}a(a}a(r}a(y}a(z}a!]}a!^}a~O!Q*OO'y*POP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(a$sa(r$sa(y$sa(z$sa!]$sa!^$sa~O!Q*OO'y*POP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(a$ua(r$ua(y$ua(z$ua!]$ua!^$ua~On>^O!Q*OO'y*PO(y$}O(z%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(a%Ta(r%Ta!]%Ta!^%Ta~P''VO$O$mq!]$mq!^$mq~P#BwO$O$oq!]$oq!^$oq~P#BwO!^9oO~O$O9pO~P!1WO!g#vO!]'ei!k'ei~O!g#vO(r'pO!]'ei!k'ei~O!]/pO!k)Oq~O!Y'gi!]'gi~P#/sO!]/yO!Y)Pq~Or9wO!g#vO(r'pO~O[9yO!Y9xO~P#/sO!Y9xO~Oj:PO!g#vO~Og(_y!](_y~P!1WO!]'na!_'na~P#/sOa%[q!_%[q'z%[q!]%[q~P#/sO[:UO~O!]1TO!^)Xq~O`:YO~O#`:ZO!]'pa!^'pa~O!]5uO!^)Ui~P#BwO!S:]O~O!_1oO%i:`O~O(VTO(YUO(e:eO~O!]1zO!^)Vq~O!k:hO~O!k:iO~O!k:jO~O!k:jO~P%[O#`:mO!]#hy!^#hy~O!]#hy!^#hy~P#BwO%i:rO~P&8fO!_'`O%i:rO~O$O#|y!]#|y!^#|y~P#BwOP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(a$|i(r$|i!]$|i!^$|i~P''VO!Q*OO'y*PO(z%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(a'ia(r'ia(y'ia!]'ia!^'ia~O!Q*OO'y*POP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(a'ka(r'ka(y'ka(z'ka!]'ka!^'ka~O(y$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'y%ai(a%ai(r%ai(z%ai!]%ai!^%ai~O(z%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'y%ci(a%ci(r%ci(y%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#BwO$O#cy!]#cy!^#cy~P#BwO!g#vO!]'eq!k'eq~O!]/pO!k)Oy~O!Y'gq!]'gq~P#/sOr:|O!g#vO(r'pO~O[;QO!Y;PO~P#/sO!Y;PO~Og(_!R!](_!R~P!1WOa%[y!_%[y'z%[y!]%[y~P#/sO!]1TO!^)Xy~O!]5uO!^)Uq~O(T;XO~O!_1oO%i;[O~O!k;_O~O%i;dO~P&8fOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(a$|q(r$|q!]$|q!^$|q~P''VO!Q*OO'y*PO(z%POP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(a'ja(r'ja(y'ja!]'ja!^'ja~O!Q*OO'y*POP'laR'la['laj'lan'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la$O'la(a'la(r'la(y'la(z'la!]'la!^'la~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(a%Oq(r%Oq!]%Oq!^%Oq~P''VOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!1WO!Y;hO~P#/sOr;iO!g#vO(r'pO~O[;kO!Y;hO~P#/sO!]'pq!^'pq~P#BwO!]#h!Z!^#h!Z~P#BwO#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'z%e!Z(a%e!Z(r%e!Z!k%e!Z!Y%e!Z'w%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/sOr;tO!g#vO(r'pO~O!Y;uO~P#/sOr;|O!g#vO(r'pO~O!Y;}O~P#/sOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(a%e!Z(r%e!Z!]%e!Z!^%e!Z~P''VOr<QO!g#vO(r'pO~Ov(fX~P1qO!Q%rO~P!)[O(U!lO~P!)[O!YfX!]fX#`fX~P%2OOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~O!gfX!k]X!kfX(rfX~P'LTOP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_XO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]<iO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<tO!S${O!_$|O!i>WO!l$xO#j<zO$W%`O$t<vO$v<xO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Ol)dO~P(!yOr!eX(r!eX~P#!iOr(jX(r(jX~P##[O!^]X!^fX~P'LTO!YfX!Y$zX!]fX!]$zX#`fX~P!0SO#k<^O~O!g#vO#k<^O~O#`<nO~Oj<bO~O#`=OO!](wX!^(wX~O#`<nO!](uX!^(uX~O#k=PO~Og=RO~P!1WO#k=XO~O#k=YO~Og=RO(T&ZO~O!g#vO#k=ZO~O!g#vO#k=PO~O$O=[O~P#BwO#k=]O~O#k=^O~O#k=cO~O#k=dO~O#k=eO~O#k=fO~O$O=gO~P!1WO$O=hO~P!1WOl=sO~P7eOk#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~(OT#o!X'|(U#ps#n#qr!Q'}$]'}(T$_(e~",goto:"$9Y)]PPPPPP)^PP)aP)rP+W/]PPPP6mPP7TPP=QPPP@tPA^PA^PPPA^PCfPA^PA^PA^PCjPCoPD^PIWPPPI[PPPPI[L_PPPLeMVPI[PI[PP! eI[PPPI[PI[P!#lI[P!'S!(X!(bP!)U!)Y!)U!,gPPPPPPP!-W!(XPP!-h!/YP!2iI[I[!2n!5z!:h!:h!>gPPP!>oI[PPPPPPPPP!BOP!C]PPI[!DnPI[PI[I[I[I[I[PI[!FQP!I[P!LbP!Lf!Lp!Lt!LtP!IXP!Lx!LxP#!OP#!SI[PI[#!Y#%_CjA^PA^PA^A^P#&lA^A^#)OA^#+vA^#.SA^A^#.r#1W#1W#1]#1f#1W#1qPP#1WPA^#2ZA^#6YA^A^6mPPP#:_PPP#:x#:xP#:xP#;`#:xPP#;fP#;]P#;]#;y#;]#<e#<k#<n)aP#<q)aP#<z#<z#<zP)aP)aP)aP)aPP)aP#=Q#=TP#=T)aP#=XP#=[P)aP)aP)aP)aP)aP)a)aPP#=b#=h#=s#=y#>P#>V#>]#>k#>q#>{#?R#?]#?c#?s#?y#@k#@}#AT#AZ#Ai#BO#Cs#DR#DY#Et#FS#Gt#HS#HY#H`#Hf#Hp#Hv#H|#IW#Ij#IpPPPPPPPPPPP#IvPPPPPPP#Jk#Mx$ b$ i$ qPPP$']P$'f$*_$0x$0{$1O$1}$2Q$2X$2aP$2g$2jP$3W$3[$4S$5b$5g$5}PP$6S$6Y$6^$6a$6e$6i$7e$7|$8e$8i$8l$8o$8y$8|$9Q$9UR!|RoqOXst!Z#d%m&r&t&u&w,s,x2[2_Y!vQ'`-e1o5{Q%tvQ%|yQ&T|Q&j!VS'W!e-]Q'f!iS'l!r!yU*k$|*Z*oQ+o%}S+|&V&WQ,d&dQ-c'_Q-m'gQ-u'mQ0[*qQ1b,OQ1y,eR<{<Y%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_S#q]<V!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU+P%]<s<tQ+t&PQ,f&gQ,m&oQ0x+gQ0}+iQ1Y+uQ2R,kQ3`.gQ5`0|Q5f1TQ6[1zQ7Y3dQ8`5gR9e7['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S!S!nQ!r!v!y!z$|'W'_'`'l'm'n*k*o*q*r-]-c-e-u0[0_1o5{5}%[$ti#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q&X|Q'U!eS'[%i-`Q+t&PQ,P&WQ,f&gQ0n+SQ1Y+uQ1_+{Q2Q,jQ2R,kQ5f1TQ5o1aQ6[1zQ6_1|Q6`2PQ8`5gQ8c5lQ8|6bQ:X8dQ:f8yQ;V:YR<}*ZrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R,h&k&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'b'r(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>R>S[#]WZ#W#Z'X(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ%wxQ%{yW&Q|&V&W,OQ&_!TQ'c!hQ'e!iQ(q#sS+n%|%}Q+r&PQ,_&bQ,c&dS-l'f'gQ.i(rQ1R+oQ1X+uQ1Z+vQ1^+zQ1t,`S1x,d,eQ2|-mQ5e1TQ5i1WQ5n1`Q6Z1yQ8_5gQ8b5kQ8f5pQ:T8^R;T:U!U$zi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y!^%yy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{Q+h%wQ,T&[Q,W&]Q,b&dQ.h(qQ1s,_U1w,c,d,eQ3e.iQ6U1tS6Y1x1yQ8x6Z#f>T#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o>U<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hW%Ti%V*y>PS&[!Q&iQ&]!RQ&^!SU*}%[%d=sR,R&Y%]%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^T)z$u){V+P%]<s<tW'[!e%i*Z-`S(}#y#zQ+c%rQ+y&SS.b(m(nQ1j,XQ5T0kR8i5u'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S$i$^c#Y#e%q%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.|.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ'Y!eR2q-]!W!nQ!e!r!v!y!z$|'W'_'`'l'm'n*Z*k*o*q*r-]-c-e-u0[0_1o5{5}R1l,ZnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&y!^Q'v!xS(s#u<^Q+l%zQ,]&_Q,^&aQ-j'dQ-w'oS.r(x=PS0q+X=ZQ1P+mQ1n,[Q2c,zQ2e,{Q2m-WQ2z-kQ2}-oS5Y0r=eQ5a1QS5d1S=fQ6t2oQ6x2{Q6}3SQ8]5bQ9Y6vQ9Z6yQ9^7OR:l9V$d$]c#Y#e%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vS(o#p'iQ)P#zS+b%q.|S.c(n(pR3^.d'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS#q]<VQ&t!XQ&u!YQ&w![Q&x!]R2Z,vQ'a!hQ+e%wQ-h'cS.e(q+hQ2x-gW3b.h.i0w0yQ6w2yW7U3_3a3e5^U9a7V7X7ZU:q9c9d9fS;b:p:sQ;p;cR;x;qU!wQ'`-eT5y1o5{!Q_OXZ`st!V!Z#d#h%e%m&i&k&r&t&u&w(j,s,x.[2[2_]!pQ!r'`-e1o5{T#q]<V%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S(}#y#zS.b(m(n!s=l$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU$fd)_,mS(p#p'iU*v%R(w4OU0m+O.n7gQ5^0xQ7V3`Q9d7YR:s9em!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}Q't!uS(f#g2US-s'k'wQ/s*]Q0R*jQ3U-vQ4f/tQ4r0TQ4s0UQ4x0^Q7r4`S7}4t4vS8R4y4{Q9r7sQ9v7yQ9{8OQ:Q8TS:{9w9xS;g:|;PS;s;h;iS;{;t;uS<P;|;}R<S<QQ#wbQ's!uS(e#g2US(g#m+WQ+Y%fQ+j%xQ+p&OU-r'k't'wQ.W(fU/r*]*`/wQ0S*jQ0V*lQ1O+kQ1u,aS3R-s-vQ3Z.`S4e/s/tQ4n0PS4q0R0^Q4u0WQ6W1vQ7P3US7q4`4bQ7u4fU7|4r4x4{Q8P4wQ8v6XS9q7r7sQ9u7yQ9}8RQ:O8SQ:c8wQ:y9rS:z9v9xQ;S:QQ;^:dS;f:{;PS;r;g;hS;z;s;uS<O;{;}Q<R<PQ<T<SQ=o=jQ={=tR=|=uV!wQ'`-e%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S#wz!j!r=i$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=o>R%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Q%fj!^%xy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{S&Oz!jQ+k%yQ,a&dW1v,b,c,d,eU6X1w1x1yS8w6Y6ZQ:d8x!r=j$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ=t>QR=u>R%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Y#bWZ#W#Z(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ,n&o!p=k$Z$n)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=n'XU']!e%i*ZR2s-`%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ,m&oQ0x+gQ3`.gQ7Y3dR9e7[!b$Tc#Y%q(S(Y(t(y)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!P<d)^)q-Z.|2k2n3p3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!f$Vc#Y%q(S(Y(t(y)W)X)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!T<f)^)q-Z.|2k2n3p3v3w3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!^$Zc#Y%q(S(Y(t(y)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<WQ4_/kz>S)^)q-Z.|2k2n3p4P4X6u7b7k7l8k9X9g9m9n;W;`=vQ>X>ZR>Y>['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS$oh$pR4U/U'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$kf$qQ$ifS)j$l)nR)v$qT$jf$qT)l$l)n'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$oh$pQ$rhR)u$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_!s>Q$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S#glOPXZst!Z!`!o#S#d#o#{$n%m&k&n&o&r&t&u&w&{'T'b)O)s*i+]+g,p,s,x-i.g/V/n0]0l1r2S2T2V2X2[2_2a3d4T4z6T6e6f6i7[8t9T!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^Q+T%aQ/c*Oo4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!U$yi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>YQ*c$zU*l$|*Z*oQ+U%bQ0W*m#f=q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n=r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hQ=w>TQ=x>UQ=y>VR=z>W!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hnoOXst!Z#d%m&r&t&u&w,s,x2[2_S*f${*YQ-R'OQ-S'QR4i/y%[%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q,U&]Q1h,WQ5s1gR8h5tV*n$|*Z*oU*n$|*Z*oT5z1o5{S0P*i/nQ4w0]T8S4z:]Q+j%xQ0V*lQ1O+kQ1u,aQ6W1vQ8v6XQ:c8wR;^:d!U%Oi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Yx*R$v)e*S*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>OS0`*t0a#f<o#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<p<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!d=S(u)c*[*e.j.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[`=T3}7c7f7j9h:t:w;yS=_.l3iT=`7e9k!U%Qi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y|*T$v)e*U*t+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>OS0b*u0c#f<q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!h=U(u)c*[*e.k.l.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[d=V3}7d7e7j9h9i:t:u:w;yS=a.m3jT=b7f9lrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q&f!UR,p&ornOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R&f!UQ,Y&^R1d,RsnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q1p,_S6R1s1tU8p6P6Q6US:_8r8sS;Y:^:aQ;m;ZR;w;nQ&m!VR,i&iR6_1|R:f8yW&Q|&V&W,OR1Z+vQ&r!WR,s&sR,y&xT2],x2_R,}&yQ,|&yR2f,}Q'y!{R-y'ySsOtQ#dXT%ps#dQ#OTR'{#OQ#RUR'}#RQ){$uR/`){Q#UVR(Q#UQ#XWU(W#X(X.QQ(X#YR.Q(YQ-^'YR2r-^Q.u(yS3m.u3nR3n.vQ-e'`R2v-eY!rQ'`-e1o5{R'j!rQ/Q)eR4S/QU#_W%h*YU(_#_(`.RQ(`#`R.R(ZQ-a']R2t-at`OXst!V!Z#d%m&i&k&r&t&u&w,s,x2[2_S#hZ%eU#r`#h.[R.[(jQ(k#jQ.X(gW.a(k.X3X7RQ3X.YR7R3YQ)n$lR/W)nQ$phR)t$pQ$`cU)a$`-|<jQ-|<WR<j)qQ/q*]W4c/q4d7t9sU4d/r/s/tS7t4e4fR9s7u$e*Q$v(u)c)e*[*e*t*u+Q+R+V.l.m.o.p.q/_/g/i/k/v/|0d0e0v1e3f3g3h3}4R4[4g4h4l4|5O5R5S5W5r7]7^7_7`7e7f7h7i7j7p7w7z8U8X8Z9h9i9j9t9|:R:S:t:u:v:w:x:};R;e;j;v;y=p=}>O>Z>[Q/z*eU4k/z4m7xQ4m/|R7x4lS*o$|*ZR0Y*ox*S$v)e*t*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>O!d.j(u)c*[*e.l.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/h*S.j7ca7c3}7e7f7j9h:t:w;yQ0a*tQ3i.lU4}0a3i9kR9k7e|*U$v)e*t*u+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>O!h.k(u)c*[*e.l.m.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/j*U.k7de7d3}7e7f7j9h9i:t:u:w;yQ0c*uQ3j.mU5P0c3j9lR9l7fQ*z%UR0g*zQ5]0vR8Y5]Q+_%kR0u+_Q5v1jS8j5v:[R:[8kQ,[&_R1m,[Q5{1oR8m5{Q1{,fS6]1{8zR8z6_Q1U+rW5h1U5j8a:VQ5j1XQ8a5iR:V8bQ+w&QR1[+wQ2_,xR6m2_YrOXst#dQ&v!ZQ+a%mQ,r&rQ,t&tQ,u&uQ,w&wQ2Y,sS2],x2_R6l2[Q%opQ&z!_Q&}!aQ'P!bQ'R!cQ'q!uQ+`%lQ+l%zQ,Q&XQ,h&mQ-P&|W-p'k's't'wQ-w'oQ0X*nQ1P+mQ1c,PS2O,i,lQ2g-OQ2h-RQ2i-SQ2}-oW3P-r-s-v-xQ5a1QQ5m1_Q5q1eQ6V1uQ6a2QQ6k2ZU6z3O3R3UQ6}3SQ8]5bQ8e5oQ8g5rQ8l5zQ8u6WQ8{6`S9[6{7PQ9^7OQ:W8cQ:b8vQ:g8|Q:n9]Q;U:XQ;]:cQ;a:oQ;l;VR;o;^Q%zyQ'd!iQ'o!uU+m%{%|%}Q-W'VU-k'e'f'gS-o'k'uQ0Q*jS1Q+n+oQ2o-YS2{-l-mQ3S-tS4p0R0UQ5b1RQ6v2uQ6y2|Q7O3TU7{4r4s4vQ9z7}R;O9{S$wi>PR*{%VU%Ui%V>PR0f*yQ$viS(u#v+iS)c$b$cQ)e$dQ*[$xS*e${*YQ*t%OQ*u%QQ+Q%^Q+R%_Q+V%cQ.l<oQ.m<qQ.o<uQ.p<wQ.q<yQ/_)yQ/g*RQ/i*TQ/k*VQ/v*aS/|*g/mQ0d*wQ0e*xl0v+f,V.f1i1q3c6S7W8q9b:`:r;[;dQ1e,SQ3f=SQ3g=UQ3h=XS3}<l<mQ4R/PS4[/d4^Q4g/xQ4h/yQ4l/{Q4|0`Q5O0bQ5R0iQ5S0jQ5W0oQ5r1fQ7]=]Q7^=_Q7_=aQ7`=cQ7e<pQ7f<rQ7h<vQ7i<xQ7j<zQ7p4_Q7w4jQ7z4oQ8U5QQ8X5[Q8Z5_Q9h=YQ9i=TQ9j=VQ9t7vQ9|8QQ:R8VQ:S8[Q:t=^Q:u=`Q:v=bQ:w=dQ:x9pQ:}9yQ;R:PQ;e=gQ;j;QQ;v;kQ;y=hQ=p>PQ=}>XQ>O>YQ>Z>]R>[>^Q+O%]Q.n<sR7g<tnpOXst!Z#d%m&r&t&u&w,s,x2[2_Q!fPS#fZ#oQ&|!`W'h!o*i0]4zQ(P#SQ)Q#{Q)r$nS,l&k&nQ,q&oQ-O&{S-T'T/nQ-g'bQ.x)OQ/[)sQ0s+]Q0y+gQ2W,pQ2y-iQ3a.gQ4W/VQ5U0lQ6Q1rQ6c2SQ6d2TQ6h2VQ6j2XQ6o2aQ7Z3dQ7m4TQ8s6TQ9P6eQ9Q6fQ9S6iQ9f7[Q:a8tR:k9T#[cOPXZst!Z!`!o#d#o#{%m&k&n&o&r&t&u&w&{'T'b)O*i+]+g,p,s,x-i.g/n0]0l1r2S2T2V2X2[2_2a3d4z6T6e6f6i7[8t9TQ#YWQ#eYQ%quQ%svS%uw!gS(S#W(VQ(Y#ZQ(t#uQ(y#xQ)R$OQ)S$PQ)T$QQ)U$RQ)V$SQ)W$TQ)X$UQ)Y$VQ)Z$WQ)[$XQ)^$ZQ)`$_Q)b$aQ)g$eW)q$n)s/V4TQ+d%tQ+x&RS-Z'X2pQ-x'rS-}(T.PQ.S(]Q.U(dQ.s(xQ.v(zQ.z<UQ.|<XQ.}<YQ/O<]Q/b)}Q0p+XQ2k-UQ2n-XQ3O-qQ3V.VQ3k.tQ3p<^Q3q<_Q3r<`Q3s<aQ3t<bQ3u<cQ3v<dQ3w<eQ3x<fQ3y<gQ3z<hQ3{.{Q3|<kQ4P<nQ4Q<{Q4X<iQ5X0rQ5c1SQ6u=OQ6{3QQ7Q3WQ7a3lQ7b=PQ7k=RQ7l=ZQ8k5wQ9X6sQ9]6|Q9g=[Q9m=eQ9n=fQ:o9_Q;W:ZQ;`:mQ<W#SR=v>SR#[WR'Z!el!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}S'V!e-]U*j$|*Z*oS-Y'W'_S0U*k*qQ0^*rQ2u-cQ4v0[R4{0_R({#xQ!fQT-d'`-e]!qQ!r'`-e1o5{Q#p]R'i<VR)f$dY!uQ'`-e1o5{Q'k!rS'u!v!yS'w!z5}S-t'l'mQ-v'nR3T-uT#kZ%eS#jZ%eS%km,oU(g#h#i#lS.Y(h(iQ.^(jQ0t+^Q3Y.ZU3Z.[.]._S7S3[3]R9`7Td#^W#W#Z%h(T(^*Y+Z.T/mr#gZm#h#i#l%e(h(i(j+^.Z.[.]._3[3]7TS*]$x*bQ/t*^Q2U,oQ2l-VQ4`/pQ6q2dQ7s4aQ9W6rT=m'X+[V#aW%h*YU#`W%h*YS(U#W(^U(Z#Z+Z/mS-['X+[T.O(T.TV'^!e%i*ZQ$lfR)x$qT)m$l)nR4V/UT*_$x*bT*h${*YQ0w+fQ1g,VQ3_.fQ5t1iQ6P1qQ7X3cQ8r6SQ9c7WQ:^8qQ:p9bQ;Z:`Q;c:rQ;n;[R;q;dnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&l!VR,h&itmOXst!U!V!Z#d%m&i&r&t&u&w,s,x2[2_R,o&oT%lm,oR1k,XR,g&gQ&U|S+}&V&WR1^,OR+s&PT&p!W&sT&q!W&sT2^,x2_",nodeNames:" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration defer ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:380,context:hI,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,237,243,245,247,249,252,258,264,266,268,270,272,274,275,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[lI],skippedNodes:[0,5,6,278],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Wp(Z!b'|0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(X#S$i&j'}0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Wp(Z!b'}0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(V':f$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Z!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Wp(Z!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Wp(Z!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Z!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Z!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(WpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(WpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Wp(Z!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(o%1l(Wp(Z!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Wp(Z!b$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Wp(Z!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Wp(Z!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(z+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(Y';W$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(WpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Wp(Z!b(U%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Wp(Z!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Wp(Z!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Wp(Z!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Wp(Z!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Z!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Z!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Z!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Z!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Z!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Z!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Wp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Wp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Wp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Wp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(WpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(WpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Wp(Z!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Wp(Z!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Wp(Z!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Wp(Z!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Wp(Z!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Wp(Z!b(O0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Wp(Z!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Z!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Z!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(WpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(WpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Wp(Z!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Wp(Z!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(r(Ct$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Wp(Z!b(a+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Wp(Z!b(T,2j$_#t(e$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Wp(Z!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(y+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Wp(Z!b'|0/l$]#t(T,2j(e$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Wp(Z!b'}0/l$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[uI,mI,gI,fI,2,3,4,5,6,7,8,9,10,11,12,13,14,vI,new U7("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(c~~",141,340),new U7("j~RQYZXz{^~^O(Q~~aP!P!Qd~iO(R~~",25,323)],topRules:{Script:[0,7],SingleExpression:[1,276],SingleClassItem:[2,277]},dialects:{jsx:0,ts:15175},dynamicPrecedences:{"80":1,"82":1,"94":1,"169":1,"199":1},specialized:[{term:327,get:(J)=>pI[J]||-1},{term:343,get:(J)=>dI[J]||-1},{term:95,get:(J)=>cI[J]||-1}],tokenPrec:15201});var rj=[q1("function ${name}(${params}) {\n\t${}\n}",{label:"function",detail:"definition",type:"keyword"}),q1("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n\t${}\n}",{label:"for",detail:"loop",type:"keyword"}),q1("for (let ${name} of ${collection}) {\n\t${}\n}",{label:"for",detail:"of loop",type:"keyword"}),q1("do {\n\t${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),q1("while (${}) {\n\t${}\n}",{label:"while",detail:"loop",type:"keyword"}),q1(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),q1("if (${}) {\n\t${}\n}",{label:"if",detail:"block",type:"keyword"}),q1(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),q1(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),q1('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),q1('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],nI=rj.concat([q1("interface ${name} {\n\t${}\n}",{label:"interface",detail:"definition",type:"keyword"}),q1("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),q1("enum ${name} {\n\t${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),ij=new dZ,oj=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function W7(J){return(Z,Y)=>{let q=Z.node.getChild("VariableDefinition");if(q)Y(q,J);return!0}}var iI=["FunctionDeclaration"],sI={FunctionDeclaration:W7("function"),ClassDeclaration:W7("class"),ClassExpression:()=>!0,EnumDeclaration:W7("constant"),TypeAliasDeclaration:W7("type"),NamespaceDeclaration:W7("namespace"),VariableDefinition(J,Z){if(!J.matchContext(iI))Z(J,"variable")},TypeDefinition(J,Z){Z(J,"type")},__proto__:null};function tj(J,Z){let Y=ij.get(Z);if(Y)return Y;let q=[],X=!0;function Q(K,$){let U=J.sliceString(K.from,K.to);q.push({label:U,type:$})}return Z.cursor(R0.IncludeAnonymous).iterate((K)=>{if(X)X=!1;else if(K.name){let $=sI[K.name];if($&&$(K,Q)||oj.has(K.name))return!1}else if(K.to-K.from>8192){for(let $ of tj(J,K.node))q.push($);return!1}}),ij.set(Z,q),q}var sj=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,ej=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function aI(J){let Z=C0(J.state).resolveInner(J.pos,-1);if(ej.indexOf(Z.name)>-1)return null;let Y=Z.name=="VariableName"||Z.to-Z.from<20&&sj.test(J.state.sliceDoc(Z.from,Z.to));if(!Y&&!J.explicit)return null;let q=[];for(let X=Z;X;X=X.parent)if(oj.has(X.name))q=q.concat(tj(J.state.doc,X));return{options:q,from:Y?Z.from:J.pos,validFor:sj}}var pJ=c3.define({name:"javascript",parser:nj.configure({props:[YY.add({IfStatement:q6({except:/^\s*({|else\b)/}),TryStatement:q6({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:yU,SwitchBody:(J)=>{let Z=J.textAfter,Y=/^\s*\}/.test(Z),q=/^\s*(case|default)\b/.test(Z);return J.baseIndent+(Y?0:q?1:2)*J.unit},Block:CU({closing:"}"}),ArrowFunction:(J)=>J.baseIndent+J.unit,"TemplateString BlockComment":()=>null,"Statement Property":q6({except:/^\s*{/}),JSXElement(J){let Z=/^\s*<\//.test(J.textAfter);return J.lineIndent(J.node.from)+(Z?0:J.unit)},JSXEscape(J){let Z=/\s*\}/.test(J.textAfter);return J.lineIndent(J.node.from)+(Z?0:J.unit)},"JSXOpenTag JSXSelfClosingTag"(J){return J.column(J.node.from)+J.unit}}),XY.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":SU,BlockComment(J){return{from:J.from+2,to:J.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),JG={test:(J)=>/^JSX/.test(J.name),facet:ZY({commentTokens:{block:{open:"{/*",close:"*/}"}}})},rI=pJ.configure({dialect:"ts"},"typescript"),oI=pJ.configure({dialect:"jsx",props:[J6.add((J)=>J.isTop?[JG]:void 0)]}),tI=pJ.configure({dialect:"jsx ts",props:[J6.add((J)=>J.isTop?[JG]:void 0)]},"typescript"),ZG=(J)=>({label:J,type:"keyword"}),YG="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(ZG),eI=YG.concat(["declare","implements","private","protected","public"].map(ZG));function qG(J={}){let Z=J.jsx?J.typescript?tI:oI:J.typescript?rI:pJ,Y=J.typescript?nI.concat(eI):rj.concat(YG);return new Z6(Z,[pJ.data.of({autocomplete:Qj(ej,yY(Y))}),pJ.data.of({autocomplete:aI}),J.jsx?YD:[]])}function JD(J){for(;;){if(J.name=="JSXOpenTag"||J.name=="JSXSelfClosingTag"||J.name=="JSXFragmentTag")return J;if(J.name=="JSXEscape"||!J.parent)return null;J=J.parent}}function aj(J,Z,Y=J.length){for(let q=Z===null||Z===void 0?void 0:Z.firstChild;q;q=q.nextSibling)if(q.name=="JSXIdentifier"||q.name=="JSXBuiltin"||q.name=="JSXNamespacedName"||q.name=="JSXMemberExpression")return J.sliceString(q.from,Math.min(q.to,Y));return""}var ZD=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),YD=C.inputHandler.of((J,Z,Y,q,X)=>{if((ZD?J.composing:J.compositionStarted)||J.state.readOnly||Z!=Y||q!=">"&&q!="/"||!pJ.isActiveAt(J.state,Z,-1))return!1;let Q=X(),{state:K}=Q,$=K.changeByRange((U)=>{var j;let{head:W}=U,G=C0(K).resolveInner(W-1,-1),z;if(G.name=="JSXStartTag")G=G.parent;if(K.doc.sliceString(W-1,W)!=q||G.name=="JSXAttributeValue"&&G.to>W);else if(q==">"&&G.name=="JSXFragmentTag")return{range:U,changes:{from:W,insert:"</>"}};else if(q=="/"&&G.name=="JSXStartCloseTag"){let O=G.parent,_=O.parent;if(_&&O.from==W-2&&((z=aj(K.doc,_.firstChild,W))||((j=_.firstChild)===null||j===void 0?void 0:j.name)=="JSXFragmentTag")){let N=`${z}>`;return{range:L.cursor(W+N.length,-1),changes:{from:W,insert:N}}}}else if(q==">"){let O=JD(G);if(O&&O.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(K.doc.sliceString(W,W+2))&&(z=aj(K.doc,O,W)))return{range:U,changes:{from:W,insert:`</${z}>`}}}return{range:U}});if($.changes.empty)return!1;return J.dispatch([Q,K.update($,{userEvent:"input.complete",scrollIntoView:!0})]),!0});var qD=new Set(["new","class","async","await","var","this","super","extends","implements","interface","type","yield","import","export","require","throw"]),XD=f.mark({class:"cm-ajs-forbidden"});function QD(J){let Z=[],Y=J.length,q=0;while(q<Y){let X=J[q],Q=J[q+1];if(X==="/"&&Q==="/"){let K=q;q+=2;while(q<Y&&J[q]!==`
`)q++;Z.push([K,q]);continue}if(X==="/"&&Q==="*"){let K=q;q+=2;while(q<Y-1&&!(J[q]==="*"&&J[q+1]==="/"))q++;q+=2,Z.push([K,q]);continue}if(X==="`"){let K=q;q++;while(q<Y){if(J[q]==="\\"){q+=2;continue}if(J[q]==="`"){Z.push([K,q+1]),q++;break}if(J[q]==="$"&&J[q+1]==="{"){Z.push([K,q]),q+=2;let $=1;while(q<Y&&$>0){if(J[q]==="{")$++;else if(J[q]==="}")$--;if($>0)q++}q++,K=q;continue}q++}continue}if(X==='"'||X==="'"){let K=X,$=q;q++;while(q<Y){if(J[q]==="\\"){q+=2;continue}if(J[q]===K){q++;break}if(J[q]===`
`)break;q++}Z.push([$,q]);continue}q++}return Z}function KD(J,Z){for(let[Y,q]of Z){if(J>=Y&&J<q)return!0;if(Y>J)break}return!1}var $D=N0.fromClass(class{decorations;constructor(J){this.decorations=this.buildDecorations(J)}update(J){if(J.docChanged||J.viewportChanged)this.decorations=this.buildDecorations(J.view)}buildDecorations(J){let Z=new J1,Y=J.state.doc.toString(),q=QD(Y),X=new RegExp(`\\b(${Array.from(qD).join("|")})\\b`,"g"),Q;while((Q=X.exec(Y))!==null)if(!KD(Q.index,q))Z.add(Q.index,Q.index+Q[0].length,XD);return Z.finish()}},{decorations:(J)=>J.decorations}),UD=C.theme({".cm-ajs-forbidden":{color:"#dc2626",textDecoration:"wavy underline #dc2626",backgroundColor:"rgba(220, 38, 38, 0.1)"}}),WD=y4.define([]);function XG(J={}){return[qG({jsx:J.jsx,typescript:J.typescript}),$D,UD,b4(WD)]}var ZJ=[{name:"Hello World",description:"Simple greeting with template",code:`function greet({ name = 'World' }) {
  let message = template({ tmpl: 'Hello, {{name}}!', vars: { name } })
  return { message }
}`},{name:"Math Operations",description:"Basic arithmetic and Math built-ins",code:`function calculate({ a = 10, b = 5 }) {
  let sum = a + b
  let product = a * b
  let power = a ** b
  let sqrt = Math.sqrt(a)
  let max = Math.max(a, b)
  let rounded = Math.floor(a / b)
  return { sum, product, power, sqrt, max, rounded }
}`},{name:"Conditional Logic",description:"If/else branching",code:`function checkAge({ age = 25 }) {
  if (age >= 18) {
    let status = 'adult'
    return { status, canVote: true }
  } else {
    let status = 'minor'
    return { status, canVote: false }
  }
}`},{name:"Loop & Filter",description:"Process arrays with array methods",code:`function processNumbers({ numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10] }) {
  let evens = numbers.filter(x => x % 2 == 0)
  let doubled = evens.map(x => x * 2)
  let total = doubled.reduce((acc, x) => acc + x, 0)
  return { evens, doubled, total }
}`},{name:"String Processing",description:"Work with text",code:`function processText({ text = 'Hello World' }) {
  let upper = text.toUpperCase()
  let lower = text.toLowerCase()
  let words = text.split(' ')
  let wordCount = words.length
  return { upper, lower, words, wordCount }
}`},{name:"JSON Processing",description:"Parse and stringify JSON",code:`function jsonRoundTrip({ data = { name: 'Alice', age: 30 } }) {
  let jsonStr = JSON.stringify(data)
  let parsed = JSON.parse(jsonStr)
  let name = parsed.name
  return { jsonStr, parsed, name }
}`},{name:"Error Handling",description:"Try/catch with Error()",code:`function safeDivide({ a = 10, b = 0 }) {
  try {
    if (b == 0) {
      Error('Division by zero!')
    }
    let result = a / b
    return { result }
  } catch (err) {
    return { error: err }
  }
}`},{name:"Weather API",description:"Fetch weather data (no API key needed)",code:`function getWeather({ lat = 37.7749, lon = -122.4194 }) {
  let url = \`https://api.open-meteo.com/v1/forecast?latitude=\${lat}&longitude=\${lon}&current_weather=true\`
  let response = httpFetch({ url, cache: 1800 })
  let weather = response.current_weather
  return { weather }
}`},{name:"iTunes Search",description:"Search Apple iTunes catalog",code:`function searchMusic({ query = 'Beatles', limit = 5 }) {
  let url = \`https://itunes.apple.com/search?term=\${query}&limit=\${limit}&media=music\`
  let response = httpFetch({ url, cache: 3600 })
  let tracks = response.results.map(x => ({ 
    artist: x.artistName, 
    track: x.trackName, 
    album: x.collectionName 
  }))
  return { tracks }
}`},{name:"GitHub Repos",description:"Search GitHub repositories",code:`function searchRepos({ query = 'tosijs', perPage = 5 }) {
  let url = \`https://api.github.com/search/repositories?q=\${query}&per_page=\${perPage}&sort=stars\`
  let response = httpFetch({ url, cache: 300 })
  let repos = response.items.map(x => ({ 
    name: x.full_name, 
    stars: x.stargazers_count, 
    description: x.description 
  }))
  return { repos }
}`},{name:"LLM Chat",description:"Chat with AI (requires llm capability)",requiresApi:!0,code:`function chat({ message = 'What is the capital of France?' }) {
  // Requires llm.predict capability to be configured
  let response = llmPredict({ prompt: message })
  return { response }
}`},{name:"LLM Summarizer",description:"Fetch and summarize text (requires llm capability)",requiresApi:!0,code:`function summarize({ source = 'coffee-origins' }) {
  // Fetch text from our sample documents
  // Options: 'coffee-origins', 'ai-history', 'renewable-energy'
  let url = \`/texts/\${source}.txt\`
  let text = httpFetch({ url })
  
  let prompt = \`Summarize the following text in 2-3 sentences:

\${text}\`
  let summary = llmPredict({ prompt })
  return { source, summary }
}`},{name:"LLM Structured Output",description:"Get structured JSON from LLM (requires llm capability)",requiresApi:!0,code:`function extractInfo({ text = 'John Smith is a 35-year-old software engineer from San Francisco who loves hiking and photography.' }) {
  // Define JSON schema for structured output
  let schema = {
    type: 'json_schema',
    json_schema: {
      name: 'person_info',
      strict: true,
      schema: {
        type: 'object',
        properties: {
          name: { type: 'string' },
          age: { type: 'number' },
          occupation: { type: 'string' },
          location: { type: 'string' },
          hobbies: { type: 'array', items: { type: 'string' } }
        },
        required: ['name', 'age', 'occupation', 'location', 'hobbies'],
        additionalProperties: false
      }
    }
  }
  
  let prompt = \`Extract person info from this text: \${text}\`
  let response = llmPredict({ prompt, options: { responseFormat: schema } })
  let person = JSON.parse(response)
  return { person }
}`},{name:"LLM + API Data",description:"LLM analyzes API data (requires llm capability)",requiresApi:!0,code:`function findCovers({ song = 'Yesterday', artist = 'Beatles' }) {
  // Search iTunes for the song
  let query = song + ' ' + artist
  let url = \`https://itunes.apple.com/search?term=\${query}&limit=25&media=music\`
  let response = httpFetch({ url, cache: 3600 })
  
  // Format results for LLM analysis
  let results = response.results || []
  let tracks = results.map(x => \`"\${x.trackName}" by \${x.artistName} (\${x.collectionName})\`)
  let trackList = tracks.join('\\n')
  
  // Define schema for structured array output
  let schema = {
    type: 'json_schema',
    json_schema: {
      name: 'cover_versions',
      strict: true,
      schema: {
        type: 'object',
        properties: {
          covers: {
            type: 'array',
            items: {
              type: 'object',
              properties: {
                track: { type: 'string' },
                artist: { type: 'string' },
                album: { type: 'string' }
              },
              required: ['track', 'artist', 'album'],
              additionalProperties: false
            }
          }
        },
        required: ['covers'],
        additionalProperties: false
      }
    }
  }
  
  let prompt = \`Search results for "\${song}" by \${artist}:

\${trackList}

List cover versions (tracks NOT by \${artist}).\`

  let llmResponse = llmPredict({ prompt, options: { responseFormat: schema } })
  let parsed = JSON.parse(llmResponse)
  return { originalArtist: artist, song, covers: parsed.covers }
}`},{name:"LLM with Tool",description:"LLM uses a calculator tool (requires llm capability)",requiresApi:!0,code:`function mathAssistant({ question = 'What is 23 * 47 + 156?' }) {
  // First, ask LLM to extract the calculation
  let extractPrompt = \`Extract the math expression from this question. Return ONLY the expression, nothing else.
Question: \${question}\`
  let expression = llmPredict({ prompt: extractPrompt })
  
  // Evaluate the expression (simple eval simulation)
  let calcPrompt = \`Calculate: \${expression}
Return ONLY the numeric result.\`
  let calcResult = llmPredict({ prompt: calcPrompt })
  
  // Format the answer
  let answerPrompt = \`The user asked: "\${question}"
The calculated result is: \${calcResult}
Write a brief, friendly response with the answer.\`
  let answer = llmPredict({ prompt: answerPrompt })
  
  return { question, expression: expression.trim(), result: calcResult.trim(), answer }
}`},{name:"Multi-Agent Pipeline",description:"Two agents collaborate on a task (requires llm capability)",requiresApi:!0,code:`function collaborativeWriting({ topic = 'the future of renewable energy' }) {
  // Agent 1: Research Agent - generates key points
  let researchPrompt = \`You are a research agent. Generate 3 key facts or points about: \${topic}
Format as a numbered list. Be concise.\`
  let research = llmPredict({ prompt: researchPrompt })
  
  // Agent 2: Writer Agent - creates content from research
  let writerPrompt = \`You are a writer agent. Using these research points:

\${research}

Write a short, engaging paragraph (2-3 sentences) about \${topic}.
Make it informative and accessible.\`
  let article = llmPredict({ prompt: writerPrompt })
  
  // Agent 3: Editor Agent - reviews and improves
  let editorPrompt = \`You are an editor agent. Review this draft:

"\${article}"

Suggest one specific improvement. Then provide the improved version.
Format: "Suggestion: [your suggestion]\\n\\nImproved: [improved text]"\`
  let edited = llmPredict({ prompt: editorPrompt })
  
  return { 
    topic,
    researchPoints: research,
    firstDraft: article,
    editedVersion: edited
  }
}`},{name:"Fuel Exhaustion",description:"Demonstrates running out of fuel",code:`function infiniteLoop({ limit = 1000000 }) {
  // This will run out of fuel before completing
  let counter = 0
  let i = 0
  while (i < limit) {
    counter = counter + 1
    i = i + 1
  }
  return { counter }
}`}];var V7={};E7(V7,{xmlParse:()=>sG,whileLoop:()=>UG,vectorSearch:()=>pG,varsLet:()=>NG,varsImport:()=>HG,varsExport:()=>RG,varSet:()=>zG,varGet:()=>_G,uuid:()=>tG,typeToString:()=>s6,tryCatch:()=>jG,transpile:()=>s4,transformFunction:()=>o6,template:()=>wG,storeSet:()=>fG,storeQuery:()=>lG,storeGet:()=>gG,split:()=>SG,seq:()=>w1,scope:()=>AG,ret:()=>WG,resolveValue:()=>S,regexMatch:()=>xG,reduce:()=>CG,random:()=>oG,push:()=>yG,preprocess:()=>Rq,pick:()=>hG,parseReturnType:()=>Aq,parseParameter:()=>r6,parse:()=>i6,or:()=>LG,not:()=>BG,neq:()=>MG,merge:()=>vG,memoize:()=>aG,map:()=>PG,lt:()=>IG,lookupVariable:()=>HO,llmPredict:()=>dG,len:()=>bG,keys:()=>uG,jsonStringify:()=>iG,jsonParse:()=>nG,join:()=>kG,isAgentError:()=>GD,inferTypeFromValue:()=>Z5,iff:()=>$G,hash:()=>y6,gt:()=>VG,getToolDefinitions:()=>lL,getStoreCapabilityDefault:()=>l4,getStandardCapabilities:()=>kD,getLocation:()=>I0,getLLMCapability:()=>tY,getBatteries:()=>Pz,find:()=>TG,filter:()=>EG,fetch:()=>mG,extractLiteralValue:()=>nJ,evaluateExpr:()=>T0,errorAtom:()=>GG,eq:()=>FG,defineAtom:()=>d,createChildScope:()=>YJ,createChildContext:()=>I1,createAgent:()=>fL,coreAtoms:()=>j7,constSet:()=>OG,checkType:()=>a6,cache:()=>rG,builtins:()=>R5,batteryAtoms:()=>AD,batteries:()=>wD,and:()=>DG,ajs:()=>gL,agentRun:()=>cG,TypedBuilder:()=>d0,TypeError:()=>_O,TranspileError:()=>A0,SyntaxError:()=>O1,LocalModels:()=>x6,AgentVM:()=>p4,AgentError:()=>A5,Agent:()=>Xz,A99:()=>RD});var q0=(J)=>({schema:J,_type:null,validate:(Z,Y)=>C6(Z,J,Y),get optional(){return q0({...J,type:Array.isArray(J.type)?[...J.type,"null"]:[J.type,"null"]})},title:(Z)=>q0({...J,title:Z}),describe:(Z)=>q0({...J,description:Z}),default:(Z)=>q0({...J,default:Z}),meta:(Z)=>q0({...J,...Z}),min:(Z)=>{let Y=J.type==="string"?"minLength":J.type==="array"?"minItems":J.type==="object"?"minProperties":"minimum";return q0({...J,[Y]:Z})},max:(Z)=>{let Y=J.type==="string"?"maxLength":J.type==="array"?"maxItems":J.type==="object"?"maxProperties":"maximum";return q0({...J,[Y]:Z})},pattern:(Z)=>q0({...J,pattern:typeof Z==="string"?Z:Z.source}),get email(){return q0({...J,format:"email"})},get uuid(){return q0({...J,format:"uuid"})},get ipv4(){return q0({...J,format:"ipv4"})},get url(){return q0({...J,format:"uri"})},get datetime(){return q0({...J,format:"date-time"})},get emoji(){return q0({...J,pattern:"^\\p{Extended_Pictographic}+$",format:"emoji"})},get int(){return q0({...J,type:"integer"})},step:(Z)=>q0({...J,multipleOf:Z})}),jD={get email(){return q0({type:"string",format:"email"})},get uuid(){return q0({type:"string",format:"uuid"})},get ipv4(){return q0({type:"string",format:"ipv4"})},get url(){return q0({type:"string",format:"uri"})},get datetime(){return q0({type:"string",format:"date-time"})},get emoji(){return q0({type:"string",pattern:"^\\p{Extended_Pictographic}+$",format:"emoji"})},get any(){return q0({})},pattern:(J)=>q0({type:"string",pattern:typeof J==="string"?J:J.source}),union:(J)=>q0({anyOf:J.map((Z)=>Z.schema)}),enum:(J)=>{if(J.length===0)return console.warn("s.enum() called with empty array - schema will never match"),q0({enum:[]});return q0({type:typeof J[0],enum:J})},const:(J)=>q0({const:J}),array:(J)=>q0({type:"array",items:J.schema}),tuple:(J)=>q0({type:"array",items:J.map((Z)=>Z.schema),minItems:J.length,maxItems:J.length}),object:(J)=>{let Z={},Y=[];for(let q in J)if(Z[q]=J[q].schema,!Array.isArray(Z[q].type)||!Z[q].type.includes("null"))Y.push(q);return q0({type:"object",properties:Z,required:Y,additionalProperties:!1})},record:(J)=>q0({type:"object",additionalProperties:J.schema})},R=new Proxy(jD,{get(J,Z){if(Z in J)return J[Z];if(Z==="string"||Z==="number"||Z==="boolean"||Z==="integer"){let Y=q0({type:Z});return J[Z]=Y,Y}return}}),E6={email:(J)=>/^\S+@\S+\.\S+$/.test(J),uuid:(J)=>/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(J),uri:(J)=>{try{return new URL(J),!0}catch{return!1}},ipv4:(J)=>/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(J),"date-time":(J)=>!isNaN(Date.parse(J)),emoji:(J)=>new RegExp("\\p{Extended_Pictographic}","u").test(J)};function C6(J,Z,Y){let q=Z?.schema||Z,X=typeof Y==="function"?Y:Y?.onError,Q=typeof Y==="object"?Y?.fullScan:!1,K=[],$=(j)=>{if(X)X(K.join(".")||"root",j);return!1},U=(j,W)=>{if(W.anyOf){for(let z of W.anyOf)if(C6(j,z))return!0;return $("Union mismatch")}if(W.const!==void 0)return j===W.const||$("Const mismatch");if(j===null||j===void 0)return!W.type||Array.isArray(W.type)&&W.type.includes("null")||$("Expected value");let G=Array.isArray(W.type)?W.type[0]:W.type;if(W.enum&&!W.enum.includes(j))return $("Enum mismatch");if(G==="integer"){if(typeof j!=="number"||!Number.isInteger(j))return $("Expected integer")}else if(G==="array"){if(!Array.isArray(j))return $("Expected array")}else if(G==="object"){if(typeof j!=="object"||Array.isArray(j))return $("Expected object")}else if(G&&typeof j!==G)return $(`Expected ${G}`);if(typeof j==="number"){if(W.minimum!==void 0&&j<W.minimum)return $("Value < min");if(W.maximum!==void 0&&j>W.maximum)return $("Value > max");if(W.multipleOf!==void 0&&j%W.multipleOf!==0)return $("Value not step")}if(typeof j==="string"){if(W.minLength!==void 0&&j.length<W.minLength)return $("Len < min");if(W.maxLength!==void 0&&j.length>W.maxLength)return $("Len > max");if(W.pattern&&!new RegExp(W.pattern,W.format==="emoji"?"u":"").test(j))return $("Pattern mismatch");if(W.format&&E6[W.format]&&!E6[W.format](j))return $("Format invalid")}if(G==="object"){if(W.minProperties!==void 0){let z=0;for(let O in j)if(Object.prototype.hasOwnProperty.call(j,O))z++;if(z<W.minProperties)return $("Too few props")}if(W.required){for(let z of W.required)if(!(z in j))return $(`Missing ${z}`)}if(W.properties){for(let z in W.properties)if(z in j){K.push(z);let O=U(j[z],W.properties[z]);if(K.pop(),!O)return!1}}if(W.additionalProperties===!1)for(let z in j){if(W.properties&&z in W.properties)continue;return $(`Extra prop ${z}`)}else if(W.additionalProperties){let z=0;for(let O in j){if(W.properties&&O in W.properties)continue;if(!Q){if(z++,z%97!==0)continue}K.push(O);let _=U(j[O],W.additionalProperties);if(K.pop(),!_)return!1}}return!0}if(G==="array"&&W.items){let z=j.length;if(W.minItems!==void 0&&z<W.minItems)return $("Array too short");if(W.maxItems!==void 0&&z>W.maxItems)return $("Array too long");if(Array.isArray(W.items)){for(let _=0;_<W.items.length;_++){if(K.push(String(_)),!U(j[_],W.items[_]))return K.pop(),!1;K.pop()}return!0}let O=Q||z<=97?1:Math.floor(z/97);for(let _=0;_<z;_+=O){let N=O>1&&_>z-1-O?z-1:_;K.push(String(N));let A=U(j[N],W.items);if(K.pop(),!A)return!1;if(N===z-1)break}return!0}return!0};return U(J,q)}function aY(J,Z){let Y=Z?.schema||Z,q=[],X=(Q,K)=>{let $=q.join(".")||"root";if(K.anyOf){for(let j of K.anyOf){let W=X(Q,j);if(!(W instanceof Error))return W}return Error(`Union mismatch at ${$}`)}if(K.const!==void 0)return Q===K.const?Q:Error(`Const mismatch at ${$}`);if(Q===null||Q===void 0){if(!K.type||Array.isArray(K.type)&&K.type.includes("null"))return Q;return Error(`Expected value at ${$}`)}let U=Array.isArray(K.type)?K.type[0]:K.type;if(K.enum&&!K.enum.includes(Q))return Error(`Enum mismatch at ${$}`);if(U==="integer"){if(typeof Q!=="number"||!Number.isInteger(Q))return Error(`Expected integer at ${$}`)}else if(U==="array"){if(!Array.isArray(Q))return Error(`Expected array at ${$}`)}else if(U==="object"){if(typeof Q!=="object"||Array.isArray(Q))return Error(`Expected object at ${$}`)}else if(U&&typeof Q!==U)return Error(`Expected ${U} at ${$}`);if(typeof Q==="number"){if(K.minimum!==void 0&&Q<K.minimum)return Error(`Value < min at ${$}`);if(K.maximum!==void 0&&Q>K.maximum)return Error(`Value > max at ${$}`);if(K.multipleOf!==void 0&&Q%K.multipleOf!==0)return Error(`Value not step at ${$}`)}if(typeof Q==="string"){if(K.minLength!==void 0&&Q.length<K.minLength)return Error(`Len < min at ${$}`);if(K.maxLength!==void 0&&Q.length>K.maxLength)return Error(`Len > max at ${$}`);if(K.pattern&&!new RegExp(K.pattern,K.format==="emoji"?"u":"").test(Q))return Error(`Pattern mismatch at ${$}`);if(K.format&&E6[K.format]&&!E6[K.format](Q))return Error(`Format invalid at ${$}`)}if(U==="object"){let j={};if(K.minProperties!==void 0){let W=0;for(let G in Q)if(Object.prototype.hasOwnProperty.call(Q,G))W++;if(W<K.minProperties)return Error(`Too few props at ${$}`)}if(K.required){for(let W of K.required)if(!(W in Q))return Error(`Missing ${W} at ${$}`)}if(K.properties){for(let W in K.properties)if(W in Q){q.push(W);let G=X(Q[W],K.properties[W]);if(q.pop(),G instanceof Error)return G;j[W]=G}}if(K.additionalProperties&&typeof K.additionalProperties==="object")for(let W in Q){if(K.properties&&W in K.properties)continue;q.push(W);let G=X(Q[W],K.additionalProperties);if(q.pop(),G instanceof Error)return G;j[W]=G}return j}if(U==="array"&&K.items){let j=Q.length;if(K.minItems!==void 0&&j<K.minItems)return Error(`Array too short at ${$}`);if(K.maxItems!==void 0&&j>K.maxItems)return Error(`Array too long at ${$}`);if(Array.isArray(K.items)){let G=[];for(let z=0;z<K.items.length;z++){q.push(String(z));let O=X(Q[z],K.items[z]);if(q.pop(),O instanceof Error)return O;G.push(O)}return G}let W=[];for(let G=0;G<j;G++){q.push(String(G));let z=X(Q[G],K.items);if(q.pop(),z instanceof Error)return z;W.push(z)}return W}return Q};return X(J,Y)}class A5{$error=!0;message;op;cause;constructor(J,Z,Y){this.message=J,this.op=Z,this.cause=Y}toString(){return`AgentError[${this.op}]: ${this.message}`}toJSON(){return{$error:!0,message:this.message,op:this.op}}}function GD(J){return J instanceof A5||J&&J.$error===!0}var KG=new Set(["__proto__","constructor","prototype"]);function QG(J){if(KG.has(J))throw Error(`Security Error: Access to '${J}' is forbidden`)}function YJ(J){return{...J,state:Object.create(J.state)}}function zD(J,Z){let Y={},q=new Set([...Object.keys(J),...Object.keys(Z)]);for(let X of q){let Q=J[X],K=Z[X];if(K!==Q)Y[X]=K}return Y}function S(J,Z){if(J&&typeof J==="object"&&J.$kind==="arg")return Z.args[J.path];if(J&&typeof J==="object"&&J.$expr)return T0(J,Z);if(typeof J==="string"){if(J.startsWith("args."))return Z.args[J.replace("args.","")];if(J.includes(".")){let Y=J.split(".");for(let X of Y)if(KG.has(X))throw Error(`Security Error: Access to '${X}' is forbidden`);let q=Z.state[Y[0]];if(q!==void 0){for(let X=1;X<Y.length;X++)q=q?.[Y[X]];return q}}if(J in Z.state)return Z.state[J];return J}if(J&&typeof J==="object"&&!Array.isArray(J)&&J.constructor===Object){let Y={};for(let q of Object.keys(J))Y[q]=S(J[q],Z);return Y}if(Array.isArray(J))return J.map((Y)=>S(Y,Z));return J}function dJ(J,Z,Y){return new Proxy(Z,{get(q,X){if(X in q)return q[X];let Q=Y?.[X];if(Q)throw Error(`${J}.${X} is not available. ${Q}`);throw Error(`${J}.${X} is not supported in AsyncJS. Check docs for available ${J} methods.`)}})}function rY(J){if(J===null)return{type:"null"};if(J===void 0)return{};if(typeof J==="object"&&J!==null&&"type"in J&&typeof J.type==="string")return J;if(typeof J==="object"&&J!==null&&"schema"in J&&typeof J.schema==="object")return J.schema;let Z=typeof J;if(Z==="string")return{type:"string"};if(Z==="number")return Number.isInteger(J)?{type:"integer"}:{type:"number"};if(Z==="boolean")return{type:"boolean"};if(Array.isArray(J)){if(J.length===0)return{type:"array"};return{type:"array",items:rY(J[0])}}if(Z==="object"){let Y={},q=[];for(let[X,Q]of Object.entries(J))Y[X]=rY(Q),q.push(X);return{type:"object",properties:Y,required:q}}return{}}var R5={Math:dJ("Math",{PI:Math.PI,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,SQRT2:Math.SQRT2,SQRT1_2:Math.SQRT1_2,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:Math.trunc,sign:Math.sign,sqrt:Math.sqrt,cbrt:Math.cbrt,pow:Math.pow,exp:Math.exp,expm1:Math.expm1,log:Math.log,log2:Math.log2,log10:Math.log10,log1p:Math.log1p,sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,atan2:Math.atan2,sinh:Math.sinh,cosh:Math.cosh,tanh:Math.tanh,asinh:Math.asinh,acosh:Math.acosh,atanh:Math.atanh,hypot:Math.hypot,min:Math.min,max:Math.max,clz32:Math.clz32,imul:Math.imul,fround:Math.fround,random:()=>{if(typeof crypto<"u"&&crypto.getRandomValues){let J=new Uint32Array(1);return crypto.getRandomValues(J),J[0]/4294967296}return Math.random()}}),JSON:dJ("JSON",{parse:(J)=>JSON.parse(J),stringify:(J,Z,Y)=>JSON.stringify(J,Z,Y)}),console:dJ("console",{log:(...J)=>{return},warn:(...J)=>{return},error:(...J)=>{return},info:(...J)=>{return}},{table:"Use console.log with JSON.stringify for structured data.",dir:"Use console.log instead.",trace:"Stack traces are not available in AsyncJS."}),Array:dJ("Array",{isArray:(J)=>Array.isArray(J),from:(J,Z,Y)=>Array.from(J,Z,Y),of:(...J)=>Array.of(...J)},{prototype:"Prototype access is not allowed."}),Object:dJ("Object",{keys:(J)=>Object.keys(J),values:(J)=>Object.values(J),entries:(J)=>Object.entries(J),fromEntries:(J)=>Object.fromEntries(J),assign:(J,...Z)=>Object.assign({},J,...Z),hasOwn:(J,Z)=>Object.hasOwn(J,Z)},{prototype:"Prototype access is not allowed.",create:"Use object literals instead.",defineProperty:"Property descriptors are not supported.",getPrototypeOf:"Prototype access is not allowed.",setPrototypeOf:"Prototype modification is not allowed."}),String:dJ("String",{fromCharCode:(...J)=>String.fromCharCode(...J),fromCodePoint:(...J)=>String.fromCodePoint(...J)}),Number:dJ("Number",{isNaN:Number.isNaN,isFinite:Number.isFinite,isInteger:Number.isInteger,isSafeInteger:Number.isSafeInteger,parseFloat,parseInt,MAX_VALUE:Number.MAX_VALUE,MIN_VALUE:Number.MIN_VALUE,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,POSITIVE_INFINITY:Number.POSITIVE_INFINITY,NEGATIVE_INFINITY:Number.NEGATIVE_INFINITY,NaN:Number.NaN,EPSILON:Number.EPSILON}),parseInt,parseFloat,isNaN,isFinite,encodeURI,decodeURI,encodeURIComponent,decodeURIComponent,undefined:void 0,null:null,NaN:NaN,Infinity:1/0,filter:(J,Z)=>{let Y=rY(Z),q=aY(J,Y);if(q instanceof Error)throw q;return q},Set:(J=[])=>{let Z=[...new globalThis.Set(J)];return{add(Y){if(!Z.includes(Y))Z.push(Y);return this},remove(Y){let q=Z.indexOf(Y);if(q!==-1)Z.splice(q,1);return this},clear(){return Z.length=0,this},has(Y){return Z.includes(Y)},get size(){return Z.length},toArray(){return[...Z]},union(Y){let q=Y?.toArray?.()??Y??[];return R5.Set([...Z,...q])},intersection(Y){let q=Y?.toArray?.()??Y??[];return R5.Set(Z.filter((X)=>q.includes(X)))},diff(Y){let q=Y?.toArray?.()??Y??[];return R5.Set(Z.filter((X)=>!q.includes(X)))},forEach(Y){Z.forEach(Y)},map(Y){return R5.Set(Z.map(Y))},filter(Y){return R5.Set(Z.filter(Y))},toJSON(){return[...Z]}}},Date:(()=>{let J=(Y)=>({get value(){return Y.toISOString()},get timestamp(){return Y.getTime()},get year(){return Y.getFullYear()},get month(){return Y.getMonth()+1},get day(){return Y.getDate()},get hours(){return Y.getHours()},get minutes(){return Y.getMinutes()},get seconds(){return Y.getSeconds()},get dayOfWeek(){return Y.getDay()},add({years:q=0,months:X=0,days:Q=0,hours:K=0,minutes:$=0,seconds:U=0,ms:j=0}={}){let W=new globalThis.Date(Y.getTime());if(q)W.setFullYear(W.getFullYear()+q);if(X)W.setMonth(W.getMonth()+X);if(Q)W.setDate(W.getDate()+Q);if(K)W.setHours(W.getHours()+K);if($)W.setMinutes(W.getMinutes()+$);if(U)W.setSeconds(W.getSeconds()+U);if(j)W.setMilliseconds(W.getMilliseconds()+j);return J(W)},diff(q,X="ms"){let Q=typeof q==="object"&&q.timestamp?q.timestamp:new globalThis.Date(q).getTime(),K=Y.getTime()-Q;switch(X){case"seconds":return K/1000;case"minutes":return K/60000;case"hours":return K/3600000;case"days":return K/86400000;default:return K}},format(q="ISO"){if(q==="ISO")return Y.toISOString();if(q==="date")return Y.toISOString().split("T")[0];if(q==="time")return Y.toISOString().split("T")[1].split(".")[0];return q.replace("YYYY",String(Y.getFullYear())).replace("MM",String(Y.getMonth()+1).padStart(2,"0")).replace("DD",String(Y.getDate()).padStart(2,"0")).replace("HH",String(Y.getHours()).padStart(2,"0")).replace("mm",String(Y.getMinutes()).padStart(2,"0")).replace("ss",String(Y.getSeconds()).padStart(2,"0"))},isBefore(q){let X=typeof q==="object"&&q.timestamp?q.timestamp:new globalThis.Date(q).getTime();return Y.getTime()<X},isAfter(q){let X=typeof q==="object"&&q.timestamp?q.timestamp:new globalThis.Date(q).getTime();return Y.getTime()>X},toString(){return Y.toISOString()},toJSON(){return Y.toISOString()}}),Z=(Y)=>{let q=Y!==void 0?new globalThis.Date(Y):new globalThis.Date;if(isNaN(q.getTime()))throw Error(`Invalid date: ${Y}`);return J(q)};return Z.now=()=>globalThis.Date.now(),Z.parse=(Y)=>J(new globalThis.Date(Y)),Z})()},T6={RegExp:"RegExp is not available. Use string methods or the regexMatch atom.",Promise:"Promise is not needed. All operations are implicitly async.",Map:"Map is not available. Use plain objects instead.",WeakSet:"WeakSet is not available.",WeakMap:"WeakMap is not available.",Symbol:"Symbol is not available.",Proxy:"Proxy is not available.",Reflect:"Reflect is not available.",Function:"Function constructor is not available. Define functions normally.",eval:"eval is not available. Code is compiled, not evaluated.",setTimeout:"setTimeout is not available. Use the delay atom.",setInterval:"setInterval is not available. Use while loops with delay.",fetch:"fetch is not available. Use the httpFetch atom.",require:"require is not available. Atoms must be registered with the VM.",import:"import is not available. Atoms must be registered with the VM.",process:"process is not available. AsyncJS runs in a sandboxed environment.",window:"window is not available. AsyncJS runs in a sandboxed environment.",document:"document is not available. AsyncJS runs in a sandboxed environment.",global:"global is not available. AsyncJS runs in a sandboxed environment.",globalThis:"globalThis is not available. Use builtins directly."},OD=0.01;function T0(J,Z){if(J===null||J===void 0)return J;if(typeof J!=="object"||!("$expr"in J))return J;if(Z.fuel){if(Z.fuel.current-=OD,Z.fuel.current<=0)throw Error("Out of Fuel")}switch(J.$expr){case"literal":return J.value;case"ident":{if(J.name in Z.state)return Z.state[J.name];if(J.name in Z.args)return Z.args[J.name];if(J.name in R5)return R5[J.name];if(J.name in T6)throw Error(T6[J.name]);return}case"member":{let Y=T0(J.object,Z);if(J.optional&&(Y===null||Y===void 0))return;let q=J.property;return QG(q),Y?.[q]}case"binary":{let Y=T0(J.left,Z),q=T0(J.right,Z);switch(J.op){case"+":return Y+q;case"-":return Y-q;case"*":return Y*q;case"/":return Y/q;case"%":return Y%q;case"**":return Y**q;case">":return Y>q;case"<":return Y<q;case">=":return Y>=q;case"<=":return Y<=q;case"==":return Y==q;case"!=":return Y!=q;case"===":return Y===q;case"!==":return Y!==q;default:throw Error(`Unknown binary operator: ${J.op}`)}}case"unary":{let Y=T0(J.argument,Z);switch(J.op){case"!":return!Y;case"-":return-Y;case"+":return+Y;case"typeof":return typeof Y;default:throw Error(`Unknown unary operator: ${J.op}`)}}case"logical":{let Y=T0(J.left,Z);if(J.op==="&&")return Y?T0(J.right,Z):Y;else return Y?Y:T0(J.right,Z)}case"conditional":return T0(J.test,Z)?T0(J.consequent,Z):T0(J.alternate,Z);case"array":return J.elements.map((Y)=>T0(Y,Z));case"object":{let Y={};for(let q of J.properties)Y[q.key]=T0(q.value,Z);return Y}case"call":{if(J.callee==="Error"){let q=J.arguments.map((Q)=>T0(Q,Z)),X=typeof q[0]==="string"?q[0]:"Error";Z.error=new A5(X,"Error");return}if(J.callee in R5){let q=R5[J.callee];if(typeof q==="function"){let X=J.arguments.map((Q)=>T0(Q,Z));return q(...X)}}if(!Z.resolver(J.callee)){if(J.callee in T6)throw Error(T6[J.callee]);throw Error(`Unknown function: ${J.callee}`)}throw Error(`Atom calls in expressions not yet supported: ${J.callee}`)}case"methodCall":{let Y=T0(J.object,Z);if(J.optional&&(Y===null||Y===void 0))return;let q=J.method;if(QG(q),Y===null||Y===void 0)throw Error(`Cannot call method '${q}' on ${Y}`);let X=Y[q];if(typeof X!=="function")throw Error(`'${q}' is not a function`);let Q=J.arguments.map((K)=>T0(K,Z));return X.apply(Y,Q)}default:throw Error(`Unknown expression type: ${J.$expr}`)}}function d(J,Z,Y,q,X={}){let{docs:Q="",timeoutMs:K=1000,cost:$=1}=typeof X==="string"?{docs:X}:X;return{op:J,inputSchema:Z,outputSchema:Y,exec:async(j,W)=>{let{op:G,result:z,...O}=j;if(W.error)return;if(Z&&!C6(Z,O)){W.error=new A5(`Validation failed: ${JSON.stringify(O)}`,J);return}let _=W.trace?{...W.state}:null,N=W.fuel.current,A,M;try{let V=W.costOverrides?.[J],D=V!==void 0?V:$,P=typeof D==="function"?D(O,W):D;if((W.fuel.current-=P)<=0){W.error=new A5("Out of Fuel",J);return}let E,u=async()=>q(j,W);if(A=K>0?await Promise.race([u(),new Promise((x,s)=>{E=setTimeout(()=>s(Error(`Atom '${J}' timed out`)),K)})]).finally(()=>clearTimeout(E)):await u(),j.result&&A!==void 0){if(W.consts.has(j.result))throw Error(`Cannot reassign const variable '${j.result}'`);if(W.state[j.result]=A,j.resultConst)W.consts.add(j.result)}}catch(V){M=V.message||String(V),W.error=new A5(M,J,V)}finally{if(W.trace&&_){let V=zD(_,W.state);W.trace.push({op:J,input:O,stateDiff:V,result:A,error:M,fuelBefore:N,fuelAfter:W.fuel.current,timestamp:new Date().toISOString()})}}},docs:Q,timeoutMs:K,cost:$,create:(j)=>({op:J,...j})}}var w1=d("seq",R.object({steps:R.array(R.any)}),void 0,async({steps:J},Z)=>{for(let Y of J){if(Z.output!==void 0)return;if(Z.error)return;let q=Z.resolver(Y.op);if(!q)throw Error(`Unknown Atom: ${Y.op}`);await q.exec(Y,Z)}},{docs:"Sequence",timeoutMs:0,cost:0.1}),$G=d("if",R.object({condition:R.any,then:R.array(R.any),else:R.array(R.any).optional}),void 0,async(J,Z)=>{if(T0(J.condition,Z))await w1.exec({op:"seq",steps:J.then},Z);else if(J.else)await w1.exec({op:"seq",steps:J.else},Z)},{docs:"If/Else",timeoutMs:0,cost:0.1}),UG=d("while",R.object({condition:R.any,body:R.array(R.any)}),void 0,async(J,Z)=>{while(T0(J.condition,Z)){if(Z.signal?.aborted)throw Error("Execution aborted");if((Z.fuel.current-=0.1)<=0)throw Error("Out of Fuel");if(await w1.exec({op:"seq",steps:J.body},Z),Z.output!==void 0)return}},{docs:"While Loop",timeoutMs:0,cost:0.1}),WG=d("return",void 0,R.any,async(J,Z)=>{if(Z.error)return Z.output=Z.error,Z.error;let Y={};if(J.schema?.properties){for(let q of Object.keys(J.schema.properties))Y[q]=Z.state[q];if(J.filter!==!1){let q=aY(Y,J.schema);if(!(q instanceof Error))Y=q}}return Z.output=Y,Y},{docs:"Return",cost:0.1}),jG=d("try",R.object({try:R.array(R.any),catch:R.array(R.any).optional,catchParam:R.string.optional}),void 0,async(J,Z)=>{if(await w1.exec({op:"seq",steps:J.try},Z),Z.error&&J.catch){let Y=J.catchParam||"error";Z.state[Y]=Z.error.message,Z.state.errorOp=Z.error.op,Z.error=void 0,await w1.exec({op:"seq",steps:J.catch},Z)}},{docs:"Try/Catch",timeoutMs:0,cost:0.1}),GG=d("Error",R.object({args:R.array(R.any).optional}),void 0,async(J,Z)=>{let Y=J.args?.[0]??"Error";Z.error=new A5(String(Y),"Error")},{docs:"Trigger error flow",cost:0.1}),zG=d("varSet",R.object({key:R.string,value:R.any}),void 0,async({key:J,value:Z},Y)=>{if(Y.consts.has(J))throw Error(`Cannot reassign const variable '${J}'`);Y.state[J]=S(Z,Y)},{docs:"Set Variable",cost:0.1}),OG=d("constSet",R.object({key:R.string,value:R.any}),void 0,async({key:J,value:Z},Y)=>{if(Y.consts.has(J))throw Error(`Cannot reassign const variable '${J}'`);if(J in Y.state)throw Error(`Cannot redeclare variable '${J}' as const`);Y.state[J]=S(Z,Y),Y.consts.add(J)},{docs:"Set Const Variable (immutable)",cost:0.1}),_G=d("varGet",R.object({key:R.string}),R.any,async({key:J},Z)=>{return S(J,Z)},{docs:"Get Variable",cost:0.1}),HG=d("varsImport",R.object({keys:R.union([R.array(R.string),R.record(R.string)])}),void 0,async({keys:J},Z)=>{if(Array.isArray(J))for(let Y of J)Z.state[Y]=S({$kind:"arg",path:Y},Z);else for(let[Y,q]of Object.entries(J))Z.state[Y]=S({$kind:"arg",path:q},Z)},{docs:"Import variables from args into the current scope, with optional renaming.",cost:0.2}),NG=d("varsLet",R.record(R.any),void 0,async(J,Z)=>{for(let Y of Object.keys(J)){if(Y==="op"||Y==="result")continue;Z.state[Y]=S(J[Y],Z)}},{docs:"Initialize a set of variables in the current scope from the step object properties.",cost:0.1}),RG=d("varsExport",R.object({keys:R.union([R.array(R.string),R.record(R.string)])}),R.record(R.any),async({keys:J},Z)=>{let Y={};if(Array.isArray(J))for(let q of J)Y[q]=S(q,Z);else for(let[q,X]of Object.entries(J))Y[q]=S(X,Z);return Y},{docs:"Export variables from the current scope, with optional renaming.",cost:0.2}),AG=d("scope",R.object({steps:R.array(R.any)}),void 0,async({steps:J},Z)=>{let Y=YJ(Z);if(await w1.exec({op:"seq",steps:J},Y),Y.output!==void 0)Z.output=Y.output},{docs:"Create new scope",timeoutMs:0,cost:0.1}),f4=(J,Z)=>d(J,R.object({a:R.any,b:R.any}),R.boolean,async({a:Y,b:q},X)=>Z(S(Y,X),S(q,X)),{docs:"Logic",cost:0.1}),FG=f4("eq",(J,Z)=>J==Z),MG=f4("neq",(J,Z)=>J!=Z),VG=f4("gt",(J,Z)=>J>Z),IG=f4("lt",(J,Z)=>J<Z),DG=f4("and",(J,Z)=>!!(J&&Z)),LG=f4("or",(J,Z)=>!!(J||Z)),BG=d("not",R.object({value:R.any}),R.boolean,async({value:J},Z)=>!S(J,Z),{docs:"Not",cost:0.1}),PG=d("map",R.object({items:R.array(R.any),as:R.string,steps:R.array(R.any)}),R.array(R.any),async({items:J,as:Z,steps:Y},q)=>{let X=[],Q=S(J,q);if(!Array.isArray(Q))throw Error("map: items is not an array");for(let K of Q){if(q.signal?.aborted)throw Error("Execution aborted");let $=YJ(q);$.state[Z]=K,await w1.exec({op:"seq",steps:Y},$),X.push($.state.result??null)}return X},{docs:"Map Array",timeoutMs:0,cost:1}),EG=d("filter",R.object({items:R.array(R.any),as:R.string,condition:R.any}),R.array(R.any),async({items:J,as:Z,condition:Y},q)=>{let X=[],Q=S(J,q);if(!Array.isArray(Q))throw Error("filter: items is not an array");for(let K of Q){if(q.signal?.aborted)throw Error("Execution aborted");let $=YJ(q);if($.state[Z]=K,T0(Y,$))X.push(K)}return X},{docs:"Filter Array",timeoutMs:0,cost:1}),CG=d("reduce",R.object({items:R.array(R.any),as:R.string,accumulator:R.string,initial:R.any,steps:R.array(R.any)}),R.any,async({items:J,as:Z,accumulator:Y,initial:q,steps:X},Q)=>{let K=S(J,Q),$=S(q,Q);if(!Array.isArray(K))throw Error("reduce: items is not an array");let U=$;for(let j of K){if(Q.signal?.aborted)throw Error("Execution aborted");let W=YJ(Q);W.state[Z]=j,W.state[Y]=U,await w1.exec({op:"seq",steps:X},W),U=W.state.result??U}return U},{docs:"Reduce Array",timeoutMs:0,cost:1}),TG=d("find",R.object({items:R.array(R.any),as:R.string,condition:R.any}),R.any,async({items:J,as:Z,condition:Y},q)=>{let X=S(J,q);if(!Array.isArray(X))throw Error("find: items is not an array");for(let Q of X){if(q.signal?.aborted)throw Error("Execution aborted");let K=YJ(q);if(K.state[Z]=Q,T0(Y,K))return Q}return null},{docs:"Find in Array",timeoutMs:0,cost:1}),yG=d("push",R.object({list:R.array(R.any),item:R.any}),R.array(R.any),async({list:J,item:Z},Y)=>{let q=S(J,Y),X=S(Z,Y);if(Array.isArray(q))q.push(X);return q},{docs:"Push to Array",cost:1}),bG=d("len",R.object({list:R.any}),R.number,async({list:J},Z)=>{let Y=S(J,Z);return Array.isArray(Y)||typeof Y==="string"?Y.length:0},{docs:"Length",cost:1}),SG=d("split",R.object({str:R.string,sep:R.string}),R.array(R.string),async({str:J,sep:Z},Y)=>S(J,Y).split(S(Z,Y)),{docs:"Split String",cost:1}),kG=d("join",R.object({list:R.array(R.string),sep:R.string}),R.string,async({list:J,sep:Z},Y)=>S(J,Y).join(S(Z,Y)),{docs:"Join String",cost:1}),wG=d("template",R.object({tmpl:R.string,vars:R.record(R.any)}),R.string,async({tmpl:J,vars:Z},Y)=>{return S(J,Y).replace(/\{\{(\w+)\}\}/g,(X,Q)=>String(S(Z[Q],Y)??""))},{docs:"String Template",cost:1}),xG=d("regexMatch",R.object({pattern:R.string,value:R.any}),R.boolean,async({pattern:J,value:Z},Y)=>{let q=S(Z,Y);return new RegExp(J).test(q)},{docs:"Returns true if the value matches the regex pattern.",cost:2}),hG=d("pick",R.object({obj:R.record(R.any),keys:R.array(R.string)}),R.record(R.any),async({obj:J,keys:Z},Y)=>{let q=S(J,Y),X=S(Z,Y),Q={};if(q&&Array.isArray(X))X.forEach((K)=>Q[K]=q[K]);return Q},{docs:"Pick Keys",cost:1}),vG=d("merge",R.object({a:R.record(R.any),b:R.record(R.any)}),R.record(R.any),async({a:J,b:Z},Y)=>({...S(J,Y),...S(Z,Y)}),{docs:"Merge Objects",cost:1}),uG=d("keys",R.object({obj:R.record(R.any)}),R.array(R.string),async({obj:J},Z)=>Object.keys(S(J,Z)??{}),{docs:"Object Keys",cost:1}),mG=d("httpFetch",R.object({url:R.string,method:R.string.optional,headers:R.record(R.string).optional,body:R.any.optional}),R.any,async(J,Z)=>{let Y=S(J.url,Z),q=S(J.method,Z),X=S(J.headers,Z),Q=S(J.body,Z);if(Z.capabilities.fetch)return Z.capabilities.fetch(Y,{method:q,headers:X,body:Q,signal:Z.signal});if(typeof globalThis.fetch==="function"){let K=await globalThis.fetch(Y,{method:q,headers:X,body:Q?JSON.stringify(Q):void 0,signal:Z.signal}),$=K.headers.get("content-type");if($&&$.includes("application/json"))return K.json();return K.text()}throw Error("Capability 'fetch' missing and no global fetch available")},{docs:"HTTP Fetch",timeoutMs:30000,cost:5}),gG=d("storeGet",R.object({key:R.string}),R.any,async({key:J},Z)=>{let Y=S(J,Z);return Z.capabilities.store?.get(Y)},{docs:"Store Get",cost:5}),fG=d("storeSet",R.object({key:R.string,value:R.any}),void 0,async({key:J,value:Z},Y)=>{let q=S(J,Y),X=S(Z,Y);return Y.capabilities.store?.set(q,X)},{docs:"Store Set",cost:5}),lG=d("storeQuery",R.object({query:R.any}),R.array(R.any),async({query:J},Z)=>Z.capabilities.store?.query?.(S(J,Z))??[],{docs:"Store Query",cost:5}),pG=d("storeVectorSearch",R.object({collection:R.string,vector:R.array(R.number),k:R.number.optional}),R.array(R.any),async({collection:J,vector:Z,k:Y},q)=>q.capabilities.store?.vectorSearch?.(S(J,q),S(Z,q),S(Y,q))??[],{docs:"Vector Search",cost:(J,Z)=>5+(S(J.k,Z)??5)}),dG=d("llmPredict",R.object({prompt:R.string,options:R.any.optional}),R.string,async({prompt:J,options:Z},Y)=>{if(!Y.capabilities.llm?.predict)throw Error("Capability 'llm.predict' missing");return Y.capabilities.llm.predict(S(J,Y),S(Z,Y))},{docs:"LLM Predict",timeoutMs:120000,cost:1}),cG=d("agentRun",R.object({agentId:R.string,input:R.any}),R.any,async({agentId:J,input:Z},Y)=>{if(!Y.capabilities.agent?.run)throw Error("Capability 'agent.run' missing");let q=S(J,Y),X=S(Z,Y),Q=X;if(X&&typeof X==="object"&&!Array.isArray(X)){Q={};for(let $ in X)Q[$]=S(X[$],Y)}let K=await Y.capabilities.agent.run(q,Q);if(K&&typeof K==="object"&&"fuelUsed"in K&&typeof K.fuelUsed==="number"){if(K.error)throw Error(K.error.message||"Sub-agent failed");return K.result}return K},{docs:"Run Sub-Agent",cost:1}),nG=d("jsonParse",R.object({str:R.string}),R.any,async({str:J},Z)=>JSON.parse(S(J,Z)),{docs:"Parse JSON",cost:1}),iG=d("jsonStringify",R.object({value:R.any}),R.string,async({value:J},Z)=>JSON.stringify(S(J,Z)),{docs:"Stringify JSON",cost:1}),sG=d("xmlParse",R.object({str:R.string}),R.any,async({str:J},Z)=>{if(!Z.capabilities.xml?.parse)throw Error("Capability 'xml.parse' missing");return Z.capabilities.xml.parse(S(J,Z))},{docs:"Parse XML",cost:1}),aG=d("memoize",R.object({key:R.string.optional,steps:R.array(R.any)}),R.any,async({key:J,steps:Z},Y)=>{if(!Y.memo)Y.memo=new Map;let q=S(J,Y)??await y6.exec({value:Z,algorithm:"SHA-256"},Y);if(Y.memo.has(q))return Y.memo.get(q);let X=YJ(Y);await w1.exec({op:"seq",steps:Z},X);let Q=X.output??X.state.result;return Y.memo.set(q,Q),Q},{docs:"Memoize steps result in memory",cost:1}),rG=d("cache",R.object({key:R.string.optional,steps:R.array(R.any),ttlMs:R.number.optional}),R.any,async({key:J,steps:Z,ttlMs:Y},q)=>{if(!q.capabilities.store)throw Error("Capability 'store' missing for caching");let Q=`cache:${S(J,q)??await y6.exec({value:Z,algorithm:"SHA-256"},q)}`,K=await q.capabilities.store.get(Q);if(K)if(typeof K==="object"&&K._exp){if(Date.now()<K._exp)return K.val}else return K;let $=YJ(q);await w1.exec({op:"seq",steps:Z},$);let U=$.output??$.state.result,j=Date.now()+(Y??86400000);if((q.fuel.current-=5)<=0)throw Error("Out of Fuel");return await q.capabilities.store.set(Q,{val:U,_exp:j}),U},{docs:"Cache steps result in store with TTL",cost:5}),oG=d("random",R.object({min:R.number.optional,max:R.number.optional,format:R.string.optional,length:R.number.optional}),R.any,async({min:J,max:Z,format:Y,length:q},X)=>{let Q=S(Y,X)??"float",K=S(q,X)??10,$=S(J,X)??0,U=S(Z,X)??1;if(Q==="base36"){let O="";if(typeof crypto<"u"&&crypto.getRandomValues){let _=new Uint8Array(K);crypto.getRandomValues(_);for(let N=0;N<K;N++)O+="0123456789abcdefghijklmnopqrstuvwxyz"[_[N]%36]}else for(let _=0;_<K;_++)O+="0123456789abcdefghijklmnopqrstuvwxyz".charAt(Math.floor(Math.random()*36));return O}let j;if(typeof crypto<"u"&&crypto.getRandomValues){let z=new Uint32Array(1);crypto.getRandomValues(z),j=z[0]/4294967296}else j=Math.random();let W=U-$,G=j*W+$;if(Q==="integer")return Math.floor(G);return G},{docs:"Generate Random",cost:1}),tG=d("uuid",void 0,R.string,async()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();if(typeof crypto<"u"&&crypto.getRandomValues){let J=new Uint8Array(16);crypto.getRandomValues(J),J[6]=J[6]&15|64,J[8]=J[8]&63|128;let Z=Array.from(J,(Y)=>Y.toString(16).padStart(2,"0")).join("");return`${Z.slice(0,8)}-${Z.slice(8,12)}-${Z.slice(12,16)}-${Z.slice(16,20)}-${Z.slice(20)}`}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(J)=>{let Z=Math.random()*16|0;return(J==="x"?Z:Z&3|8).toString(16)})},{docs:"Generate UUID",cost:1}),y6=d("hash",R.object({value:R.any,algorithm:R.string.optional}),R.string,async({value:J,algorithm:Z},Y)=>{let q=typeof J==="string"?J:JSON.stringify(S(J,Y)),X=S(Z,Y)||"SHA-256";if(typeof crypto<"u"&&crypto.subtle){let $=new TextEncoder().encode(q),U=await crypto.subtle.digest(X,$);return Array.from(new Uint8Array(U)).map((W)=>W.toString(16).padStart(2,"0")).join("")}let Q=0;for(let K=0;K<q.length;K++){let $=q.charCodeAt(K);Q=(Q<<5)-Q+$,Q|=0}return String(Q)},{docs:"Hash a value",cost:1}),j7={seq:w1,if:$G,while:UG,return:WG,try:jG,Error:GG,varSet:zG,constSet:OG,varGet:_G,varsImport:HG,varsLet:NG,varsExport:RG,scope:AG,eq:FG,neq:MG,gt:VG,lt:IG,and:DG,or:LG,not:BG,map:PG,filter:EG,reduce:CG,find:TG,push:yG,len:bG,split:SG,join:kG,template:wG,regexMatch:xG,pick:hG,merge:vG,keys:uG,httpFetch:mG,storeGet:gG,storeSet:fG,storeQuery:lG,storeVectorSearch:pG,llmPredict:dG,agentRun:cG,jsonParse:nG,jsonStringify:iG,xmlParse:sG,memoize:aG,cache:rG,random:oG,uuid:tG,hash:y6};function b6(J,Z){let Y=_D(J),q=qz(Y,0,Z);if(q.pos<Y.length){let X=Y.slice(q.pos).join(" ");throw Error(`Unsupported condition syntax near '${X}' in: ${J}
Supported: comparisons, &&, ||, !, arithmetic, member access (a.b), literals`)}return q.node}function _D(J){let Z=[],Y=0;while(Y<J.length){while(Y<J.length&&/\s/.test(J[Y]))Y++;if(Y>=J.length)break;if(J[Y]==='"'||J[Y]==="'"){let q=J[Y++],X="";while(Y<J.length&&J[Y]!==q)if(J[Y]==="\\"&&Y+1<J.length)Y++,X+=J[Y++];else X+=J[Y++];Y++,Z.push(JSON.stringify(X));continue}if(J.slice(Y,Y+2).match(/^(&&|\|\||==|!=|>=|<=)$/)){Z.push(J.slice(Y,Y+2)),Y+=2;continue}if("+-*/%><!().?:[]".includes(J[Y])){Z.push(J[Y]),Y++;continue}if(/\d/.test(J[Y])){let q="";while(Y<J.length&&/[\d.]/.test(J[Y]))q+=J[Y++];Z.push(q);continue}if(/[a-zA-Z_]/.test(J[Y])){let q="";while(Y<J.length&&/[a-zA-Z0-9_]/.test(J[Y]))q+=J[Y++];Z.push(q);continue}Y++}return Z}function qz(J,Z,Y){return HD(J,Z,Y)}function HD(J,Z,Y){let{node:q,pos:X}=eG(J,Z,Y);while(J[X]==="||"){X++;let{node:Q,pos:K}=eG(J,X,Y);q={$expr:"logical",op:"||",left:q,right:Q},X=K}return{node:q,pos:X}}function eG(J,Z,Y){let{node:q,pos:X}=Jz(J,Z,Y);while(J[X]==="&&"){X++;let{node:Q,pos:K}=Jz(J,X,Y);q={$expr:"logical",op:"&&",left:q,right:Q},X=K}return{node:q,pos:X}}function Jz(J,Z,Y){let{node:q,pos:X}=Zz(J,Z,Y),Q=["==","!=",">","<",">=","<="];while(Q.includes(J[X])){let K=J[X++],{node:$,pos:U}=Zz(J,X,Y);q={$expr:"binary",op:K,left:q,right:$},X=U}return{node:q,pos:X}}function Zz(J,Z,Y){let{node:q,pos:X}=Yz(J,Z,Y);while(J[X]==="+"||J[X]==="-"){let Q=J[X++],{node:K,pos:$}=Yz(J,X,Y);q={$expr:"binary",op:Q,left:q,right:K},X=$}return{node:q,pos:X}}function Yz(J,Z,Y){let{node:q,pos:X}=oY(J,Z,Y);while(J[X]==="*"||J[X]==="/"||J[X]==="%"){let Q=J[X++],{node:K,pos:$}=oY(J,X,Y);q={$expr:"binary",op:Q,left:q,right:K},X=$}return{node:q,pos:X}}function oY(J,Z,Y){if(J[Z]==="!"||J[Z]==="-"){let q=J[Z++],{node:X,pos:Q}=oY(J,Z,Y);return{node:{$expr:"unary",op:q,argument:X},pos:Q}}return ND(J,Z,Y)}function ND(J,Z,Y){let q=J[Z];if(q==="("){let{node:X,pos:Q}=qz(J,Z+1,Y);return{node:X,pos:Q+1}}if(q&&q.startsWith('"'))return{node:{$expr:"literal",value:JSON.parse(q)},pos:Z+1};if(q&&/^\d/.test(q))return{node:{$expr:"literal",value:parseFloat(q)},pos:Z+1};if(q==="true")return{node:{$expr:"literal",value:!0},pos:Z+1};if(q==="false")return{node:{$expr:"literal",value:!1},pos:Z+1};if(q==="null")return{node:{$expr:"literal",value:null},pos:Z+1};if(q&&/^[a-zA-Z_]/.test(q)){let X={$expr:"ident",name:q},Q=Z+1;while(J[Q]==="."){Q++;let K=J[Q++];X={$expr:"member",object:X,property:K}}return{node:X,pos:Q}}return{node:{$expr:"literal",value:null},pos:Z+1}}class d0{steps=[];atoms;proxy;constructor(J){return this.atoms=J,this.proxy=new Proxy(this,{get:(Z,Y,q)=>{if(Y in Z)return Z[Y];if(typeof Y==="string"&&Y in Z.atoms)return(X)=>{let Q=Z.atoms[Y];return Z.add(Q.create(X)),q};return}}),this.proxy}add(J){return this.steps.push(J),this.proxy}as(J){if(this.steps.length===0)throw Error("No step to capture");let Z=this.steps[this.steps.length-1];return Z.result=J,this.proxy}step(J){return this.add(J)}return(J){let Z=this.atoms.return;if(!Z)throw Error("Atom 'return' not found");let Y=J.schema??J;return this.add(Z.create({schema:Y}))}toJSON(){return{op:"seq",steps:[...this.steps]}}varsImport(J){return this.add(this.atoms.varsImport.create({keys:J}))}varsExport(J){return this.add(this.atoms.varsExport.create({keys:J}))}if(J,Z,Y,q){let X=new d0(this.atoms);Y(X);let Q;if(q){let U=new d0(this.atoms);q(U),Q=U.steps}let K=b6(J,Z),$=this.atoms.if;return this.add($.create({condition:K,then:X.steps,else:Q}))}while(J,Z,Y){let q=new d0(this.atoms);Y(q);let X=b6(J,Z),Q=this.atoms.while;return this.add(Q.create({condition:X,body:q.steps}))}scope(J){let Z=new d0(this.atoms);J(Z);let Y=this.atoms.scope;return this.add(Y.create({steps:Z.steps}))}map(J,Z,Y){let q=new d0(this.atoms);Y(q);let X=this.atoms.map;return this.add(X.create({items:J,as:Z,steps:q.steps}))}filter(J,Z,Y,q={}){let X=b6(Y,q),Q=this.atoms.filter;return this.add(Q.create({items:J,as:Z,condition:X}))}find(J,Z,Y,q={}){let X=b6(Y,q),Q=this.atoms.find;return this.add(Q.create({items:J,as:Z,condition:X}))}reduce(J,Z,Y,q,X){let Q=new d0(this.atoms);X(Q);let K=this.atoms.reduce;return this.add(K.create({items:J,as:Z,accumulator:Y,initial:q,steps:Q.steps}))}memoize(J,Z){let Y=new d0(this.atoms);J(Y);let q=this.atoms.memoize;return this.add(q.create({key:Z,steps:Y.steps}))}cache(J,Z,Y){let q=new d0(this.atoms);J(q);let X=this.atoms.cache;return this.add(X.create({key:Z,steps:q.steps,ttlMs:Y}))}try(J){let Z=new d0(this.atoms);J.try(Z);let Y;if(J.catch){let X=new d0(this.atoms);J.catch(X),Y=X.steps}let q=this.atoms.try;return this.add(q.create({try:Z.steps,catch:Y}))}}var Xz={take(J){return new d0(j7)},custom(J){return new d0(J)},args(J){return{$kind:"arg",path:J}},val(J){return J}},RD=Xz;var Qz=d("storeVectorize",R.object({text:R.string,model:R.string.optional}),R.array(R.number),async({text:J},Z)=>{let Y=Z.capabilities.vector;if(!Y)throw Error("Capability 'vector' missing. Ensure vector battery is loaded.");let q=S(J,Z);return Y.embed(q)},{docs:"Generate embeddings using vector battery",cost:20}),Kz=d("storeCreateCollection",R.object({collection:R.string,dimension:R.number.optional}),void 0,async({collection:J,dimension:Z},Y)=>{let q=Y.capabilities.store;if(!q?.createCollection)throw Error("Capability 'store' missing or does not support createCollection.");let X=S(J,Y),Q=S(Z,Y);return q.createCollection(X,void 0,Q)},{docs:"Create a vector store collection",cost:5}),$z=d("storeVectorAdd",R.object({collection:R.string,doc:R.any}),void 0,async({collection:J,doc:Z},Y)=>{let q=Y.capabilities.store;if(!q?.vectorAdd)throw Error("Capability 'store' missing or does not support vectorAdd.");let X=S(J,Y),Q=S(Z,Y);return q.vectorAdd(X,Q)},{docs:"Add a document to a vector store collection",cost:5}),Uz=d("storeSearch",R.object({collection:R.string,queryVector:R.array(R.number),k:R.number.optional,filter:R.record(R.any).optional}),R.array(R.any),async({collection:J,queryVector:Z,k:Y,filter:q},X)=>{let Q=X.capabilities.store;if(!Q?.vectorSearch)throw Error("Capability 'store' missing or does not support vectorSearch.");let K=S(J,X),$=S(Z,X),U=S(Y,X)??5,j=S(q,X);return Q.vectorSearch(K,$,U,j)},{docs:"Search vector store",cost:(J,Z)=>5+(S(J.k,Z)??5)}),Wz=d("llmPredictBattery",R.object({system:R.string.optional,user:R.string,tools:R.array(R.any).optional,responseFormat:R.any.optional}),R.object({content:R.string.optional,tool_calls:R.array(R.any).optional}),async({system:J,user:Z,tools:Y,responseFormat:q},X)=>{let Q=X.capabilities.llmBattery;if(!Q?.predict)throw Error("Capability 'llmBattery' missing or invalid.");let K=S(J,X)??"You are a helpful agent.",$=S(Z,X),U=S(Y,X),j=S(q,X);return Q.predict(K,$,U,j)},{docs:"Generate completion using LLM battery",cost:100});var AD={storeCreateCollection:Kz,storeSearch:Uz,storeVectorAdd:$z,storeVectorize:Qz,llmPredictBattery:Wz};var jz=new Map,S6=new Map;function FD(J,Z){if(J.length!==Z.length)throw Error("Vectors must have the same length for cosine similarity.");let Y=0,q=0,X=0;for(let Q=0;Q<J.length;Q++)Y+=J[Q]*Z[Q],q+=J[Q]*J[Q],X+=Z[Q]*Z[Q];if(q=Math.sqrt(q),X=Math.sqrt(X),q===0||X===0)return 0;return Y/(q*X)}function l4(){return{async get(J){return jz.get(J)},async set(J,Z){jz.set(J,Z)},async createCollection(J,Z,Y){if(S6.has(J))console.warn(`Collection '${J}' already exists. Overwriting.`);S6.set(J,[])},async vectorAdd(J,Z){let Y=S6.get(J);if(!Y)throw Error(`Collection '${J}' not found. Create it first.`);if(!Z.embedding||!Array.isArray(Z.embedding))throw Error("Document must have an 'embedding' property that is an array of numbers.");Y.push(Z)},async vectorSearch(J,Z,Y=5){let q=S6.get(J);if(!q)throw Error(`Collection '${J}' not found. Create it first.`);let X=q.map((Q)=>({doc:Q,score:FD(Z,Q.embedding)}));return X.sort((Q,K)=>K.score-Q.score),X.slice(0,Y).map((Q)=>Q.doc)}}}var MD="http://localhost:1234/v1";function tY(J,Z=MD){return{async predict(Y,q,X,Q){try{let K=Q?J.getStructuredLLM():J.getLLM(),$=[{role:"system",content:Y},{role:"user",content:q}],U=await fetch(`${Z}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:K.id,messages:$,temperature:0.7,tools:X,response_format:Q})});if(!U.ok)throw Error(`LLM Error: ${U.status} ${U.statusText}`);return(await U.json()).choices[0]?.message??{content:""}}catch(K){if(K.cause?.code==="ECONNREFUSED")throw Error("No LLM provider configured. Please start LM Studio or provide an API key.");throw K}},async embed(Y){try{let q=J.getEmbedding(),X=await fetch(`${Z}/embeddings`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:q.id,input:Y})});if(!X.ok)throw Error(`Embedding Error: ${X.status}`);return(await X.json()).data[0]?.embedding??[]}catch(q){if(q.cause?.code==="ECONNREFUSED")throw Error("No LLM provider configured. Please start LM Studio or provide an API key.");throw q}}}}var G7=typeof window<"u"&&typeof window.localStorage<"u";async function DD(J){try{if(G7){let Z=window.localStorage.getItem(".models.cache.json");if(!Z)return null;let Y=JSON.parse(Z);if(Y.baseUrl!==J)return null;if(Date.now()-Y.timestamp>86400000)return null;return Y.models}else{let Z=await import("node:fs/promises"),q=(await Promise.resolve().then(() => (Zq(),Jq))).join(process.cwd(),".models.cache.json");try{let X=await Z.readFile(q,"utf-8"),Q=JSON.parse(X);if(Q.baseUrl!==J)return null;if(Date.now()-Q.timestamp>86400000)return null;return Q.models}catch{return null}}}catch(Z){return console.warn(" Error reading model cache:",Z),null}}async function LD(J,Z){let Y={timestamp:Date.now(),baseUrl:J,models:Z};try{if(G7)window.localStorage.setItem(".models.cache.json",JSON.stringify(Y));else{let q=await import("node:fs/promises"),Q=(await Promise.resolve().then(() => (Zq(),Jq))).join(process.cwd(),".models.cache.json");await q.writeFile(Q,JSON.stringify(Y,null,2))}}catch(q){console.error(" Error writing model cache:",q)}}var w6=async(J,Z)=>{let Y=new AbortController,q=setTimeout(()=>Y.abort(),60000);try{let X=await fetch(J,{...Z,signal:Y.signal});return clearTimeout(q),X}catch(X){throw clearTimeout(q),X}};async function BD(J,Z){try{let Y={type:"json_schema",json_schema:{name:"test",strict:!1,schema:{type:"object",properties:{status:{type:"string"}}}}},q=await w6(`${J}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:Z,messages:[{role:"system",content:"You respond in JSON."},{role:"user",content:'Return JSON: {"status": "ok"}'}],response_format:Y,max_tokens:20})});if(!q.ok){if(q.status===400)return PD(J,Z);return{ok:!1,msg:`HTTP ${q.status}`}}let X=await q.json();return JSON.parse(X.choices[0].message.content),{ok:!0,msg:"OK (Schema)"}}catch(Y){return{ok:!1,msg:Y.message||"Error"}}}async function PD(J,Z){try{if((await w6(`${J}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:Z,messages:[{role:"user",content:'JSON: {"a":1}'}],response_format:{type:"json_object"},max_tokens:10})})).ok)return{ok:!0,msg:"OK (Legacy Mode)"};return{ok:!1,msg:"Not Supported"}}catch{return{ok:!1,msg:"Legacy Fail"}}}async function ED(J,Z){try{return(await w6(`${J}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:Z,messages:[{role:"user",content:"hi"}],max_tokens:1})})).ok}catch{return!1}}async function CD(J,Z){try{let Y=await w6(`${J}/embeddings`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:Z,input:"test"})});if(!Y.ok)return null;return(await Y.json()).data[0]?.embedding?.length??null}catch{return null}}async function Lz(J){let Z=await DD(J),Y=[];try{let K=await fetch(`${J}/models`);if(!K.ok)throw Error("Could not connect");Y=(await K.json()).data.map((U)=>U.id).sort()}catch(K){if(Z)return console.log(" LM Studio unavailable, using cached model audit."),Z;return console.error(" Failed to connect to LM Studio."),[]}if(Z){let K=Z.map(($)=>$.id).sort();if(JSON.stringify(Y)===JSON.stringify(K))return console.log(" Using cached model audit."),Z;console.log("\uD83D\uDD0D Model list changed. Re-running audit...")}console.log("\uD83D\uDD0D Scanning models (this may take a moment)...");let q=[],X=Y.map((K)=>({id:K})),Q;if(!G7)Q=await import("node:readline");for(let K of X){if(!G7&&Q)Q.cursorTo(process.stdout,0),process.stdout.write(`\uD83D\uDC49 Testing: ${K.id}...`),Q.clearLine(process.stdout,1);let $="Unknown",U=!1,j="",W=void 0,G=await ED(J,K.id),z=await CD(J,K.id);if(z)W=z;if(G){$="LLM";let O=await BD(J,K.id);U=O.ok,j=U?O.msg:`Fail: ${O.msg}`}else if(z)$="Embedding",j=`OK (Dim: ${z})`;else j="LLM Fail";q.push({id:K.id,type:$,structuredOutput:U,dimension:W,status:j})}if(!G7&&Q)Q.cursorTo(process.stdout,0),Q.clearLine(process.stdout,0);return console.log(`
`),console.table(q),await LD(J,q),console.log("\uD83D\uDCDD Audit results saved to cache."),q}var TD="http://localhost:1234/v1";class x6{baseUrl;models=[];defaultLLM=null;defaultEmbedding=null;defaultStructuredLLM=null;constructor(J=TD){this.baseUrl=J}async audit(){this.models=await Lz(this.baseUrl),this.selectDefaults()}selectDefaults(){if(this.defaultEmbedding=this.models.find((J)=>J.type==="Embedding")||null,this.defaultLLM=this.models.find((J)=>J.type==="LLM")||null,this.defaultStructuredLLM=this.models.find((J)=>J.type==="LLM"&&J.structuredOutput)||null,!this.defaultEmbedding)console.warn(" No embedding model found.");if(!this.defaultLLM)console.warn(" No LLM found.");if(!this.defaultStructuredLLM)console.warn(" No LLM with structured output support found.")}getModels(){return this.models}_setDefaultModel(J,Z,Y,q){let X=this.models.find((Q)=>Q.id===J&&Y(Q));if(!X)throw Error(`Model '${J}' not found or is not ${q}.`);this[Z]=X}setDefaultLLM(J){this._setDefaultModel(J,"defaultLLM",(Z)=>Z.type==="LLM","an LLM")}setDefaultEmbedding(J){this._setDefaultModel(J,"defaultEmbedding",(Z)=>Z.dimension!==void 0,"an embedding model")}setDefaultStructuredLLM(J){this._setDefaultModel(J,"defaultStructuredLLM",(Z)=>Z.type==="LLM"&&Z.structuredOutput,"a structured-output LLM")}getLLM(){if(!this.defaultLLM)throw Error("No LLM available.");return this.defaultLLM}getEmbedding(){if(!this.defaultEmbedding)throw Error("No embedding model available.");return this.defaultEmbedding}getStructuredLLM(){if(!this.defaultStructuredLLM)throw Error("No structured-output LLM available.");return this.defaultStructuredLLM}}var yD=typeof window<"u",bD=yD&&window.location.protocol==="https:",z7=null,Yq=null,Bz=!1;async function SD(){if(Bz)return{localModels:z7,llm:Yq};if(Bz=!0,bD)return console.log("\uD83D\uDCE1 HTTPS detected - local LLM endpoints disabled. Use HTTP for local LLM support."),{localModels:null,llm:null};try{z7=new x6,await z7.audit(),Yq=tY(z7)}catch(J){console.warn(" Could not connect to local LLM:",J)}return{localModels:z7,llm:Yq}}async function Pz(){let{localModels:J,llm:Z}=await SD();return{vector:Z?{embed:Z.embed}:void 0,store:l4(),llmBattery:Z,models:J}}async function kD(){return Pz()}var wD={store:l4(),llmBattery:null,vector:void 0,models:null};var xD=10;class p4{atoms;constructor(J={}){this.atoms={...j7,...J}}get builder(){return new d0(this.atoms)}get Agent(){return new d0(this.atoms)}get A99(){return this.Agent}resolve(J){return this.atoms[J]}getTools(J="all"){let Z=Object.values(this.atoms);if(Array.isArray(J))Z=Z.filter((Y)=>J.includes(Y.op));else if(J==="flow"){let Y=["seq","if","while","return","try","varSet","varGet","scope"];Z=Z.filter((q)=>Y.includes(q.op))}return Z.map((Y)=>({type:"function",function:{name:Y.op,description:Y.docs,parameters:Y.inputSchema?.schema??{}}}))}async run(J,Z={},Y={}){let q=Y.fuel??1000,X=Y.timeoutMs??q*xD,Q=Y.capabilities??{};if(!Q.store){let j=new Map;Q.store={get:async(W)=>j.get(W),set:async(W,G)=>{j.set(W,G)}}}let K=new AbortController,$=setTimeout(()=>K.abort(),X);if(Y.signal)Y.signal.addEventListener("abort",()=>K.abort());let U={fuel:{current:q},args:Z,state:{},consts:new Set,capabilities:Q,resolver:(j)=>this.resolve(j),output:void 0,signal:K.signal,costOverrides:Y.costOverrides,context:Y.context};if(Y.trace)U.trace=[];if(J.op!=="seq")throw Error("Root AST must be 'seq'");try{await Promise.race([this.resolve("seq")?.exec(J,U),new Promise((j,W)=>{if(K.signal.addEventListener("abort",()=>{W(Error("Execution timeout: fuel budget exceeded"))}),K.signal.aborted)W(Error("Execution timeout: fuel budget exceeded"))})])}catch(j){if(j.message?.includes("timeout")||j.message?.includes("aborted")||K.signal.aborted)U.error=new A5("Execution timeout: fuel budget exceeded","vm.run");else throw j}finally{clearTimeout($)}if(U.error&&U.output===void 0)U.output=U.error;return{result:U.output,error:U.error,fuelUsed:q-U.fuel.current,trace:U.trace}}}var hD=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239],bz=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],vD="-----------------------------------------------------------------------------------------------------------------------------------------------------",Sz="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",qq={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},Xq="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",uD={5:Xq,"5module":Xq+" export import",6:Xq+" const class extends export import super"},mD=/^in(stanceof)?$/,gD=new RegExp("["+Sz+"]"),fD=new RegExp("["+Sz+vD+"]");function Qq(J,Z){var Y=65536;for(var q=0;q<Z.length;q+=2){if(Y+=Z[q],Y>J)return!1;if(Y+=Z[q+1],Y>=J)return!0}return!1}function M5(J,Z){if(J<65)return J===36;if(J<91)return!0;if(J<97)return J===95;if(J<123)return!0;if(J<=65535)return J>=170&&gD.test(String.fromCharCode(J));if(Z===!1)return!1;return Qq(J,bz)}function XJ(J,Z){if(J<48)return J===36;if(J<58)return!0;if(J<65)return!1;if(J<91)return!0;if(J<97)return J===95;if(J<123)return!0;if(J<=65535)return J>=170&&fD.test(String.fromCharCode(J));if(Z===!1)return!1;return Qq(J,bz)||Qq(J,hD)}var X0=function(Z,Y){if(Y===void 0)Y={};this.label=Z,this.keyword=Y.keyword,this.beforeExpr=!!Y.beforeExpr,this.startsExpr=!!Y.startsExpr,this.isLoop=!!Y.isLoop,this.isAssign=!!Y.isAssign,this.prefix=!!Y.prefix,this.postfix=!!Y.postfix,this.binop=Y.binop||null,this.updateContext=null};function x1(J,Z){return new X0(J,{beforeExpr:!0,binop:Z})}var h1={beforeExpr:!0},G1={startsExpr:!0},jq={};function Y0(J,Z){if(Z===void 0)Z={};return Z.keyword=J,jq[J]=new X0(J,Z)}var H={num:new X0("num",G1),regexp:new X0("regexp",G1),string:new X0("string",G1),name:new X0("name",G1),privateId:new X0("privateId",G1),eof:new X0("eof"),bracketL:new X0("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new X0("]"),braceL:new X0("{",{beforeExpr:!0,startsExpr:!0}),braceR:new X0("}"),parenL:new X0("(",{beforeExpr:!0,startsExpr:!0}),parenR:new X0(")"),comma:new X0(",",h1),semi:new X0(";",h1),colon:new X0(":",h1),dot:new X0("."),question:new X0("?",h1),questionDot:new X0("?."),arrow:new X0("=>",h1),template:new X0("template"),invalidTemplate:new X0("invalidTemplate"),ellipsis:new X0("...",h1),backQuote:new X0("`",G1),dollarBraceL:new X0("${",{beforeExpr:!0,startsExpr:!0}),eq:new X0("=",{beforeExpr:!0,isAssign:!0}),assign:new X0("_=",{beforeExpr:!0,isAssign:!0}),incDec:new X0("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new X0("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:x1("||",1),logicalAND:x1("&&",2),bitwiseOR:x1("|",3),bitwiseXOR:x1("^",4),bitwiseAND:x1("&",5),equality:x1("==/!=/===/!==",6),relational:x1("</>/<=/>=",7),bitShift:x1("<</>>/>>>",8),plusMin:new X0("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:x1("%",10),star:x1("*",10),slash:x1("/",10),starstar:new X0("**",{beforeExpr:!0}),coalesce:x1("??",1),_break:Y0("break"),_case:Y0("case",h1),_catch:Y0("catch"),_continue:Y0("continue"),_debugger:Y0("debugger"),_default:Y0("default",h1),_do:Y0("do",{isLoop:!0,beforeExpr:!0}),_else:Y0("else",h1),_finally:Y0("finally"),_for:Y0("for",{isLoop:!0}),_function:Y0("function",G1),_if:Y0("if"),_return:Y0("return",h1),_switch:Y0("switch"),_throw:Y0("throw",h1),_try:Y0("try"),_var:Y0("var"),_const:Y0("const"),_while:Y0("while",{isLoop:!0}),_with:Y0("with"),_new:Y0("new",{beforeExpr:!0,startsExpr:!0}),_this:Y0("this",G1),_super:Y0("super",G1),_class:Y0("class",G1),_extends:Y0("extends",h1),_export:Y0("export"),_import:Y0("import",G1),_null:Y0("null",G1),_true:Y0("true",G1),_false:Y0("false",G1),_in:Y0("in",{beforeExpr:!0,binop:7}),_instanceof:Y0("instanceof",{beforeExpr:!0,binop:7}),_typeof:Y0("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:Y0("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:Y0("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},z1=/\r\n?|\n|\u2028|\u2029/,lD=new RegExp(z1.source,"g");function d4(J){return J===10||J===13||J===8232||J===8233}function kz(J,Z,Y){if(Y===void 0)Y=J.length;for(var q=Z;q<Y;q++){var X=J.charCodeAt(q);if(d4(X))return q<Y-1&&X===13&&J.charCodeAt(q+1)===10?q+2:q+1}return-1}var wz=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,r0=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,xz=Object.prototype,pD=xz.hasOwnProperty,dD=xz.toString,c4=Object.hasOwn||function(J,Z){return pD.call(J,Z)},Ez=Array.isArray||function(J){return dD.call(J)==="[object Array]"},Cz=Object.create(null);function qJ(J){return Cz[J]||(Cz[J]=new RegExp("^(?:"+J.replace(/ /g,"|")+")$"))}function k5(J){if(J<=65535)return String.fromCharCode(J);return J-=65536,String.fromCharCode((J>>10)+55296,(J&1023)+56320)}var cD=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,H7=function(Z,Y){this.line=Z,this.column=Y};H7.prototype.offset=function(Z){return new H7(this.line,this.column+Z)};var f6=function(Z,Y,q){if(this.start=Y,this.end=q,Z.sourceFile!==null)this.source=Z.sourceFile};function hz(J,Z){for(var Y=1,q=0;;){var X=kz(J,q,Z);if(X<0)return new H7(Y,Z-q);++Y,q=X}}var Kq={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},Tz=!1;function nD(J){var Z={};for(var Y in Kq)Z[Y]=J&&c4(J,Y)?J[Y]:Kq[Y];if(Z.ecmaVersion==="latest")Z.ecmaVersion=1e8;else if(Z.ecmaVersion==null){if(!Tz&&typeof console==="object"&&console.warn)Tz=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`);Z.ecmaVersion=11}else if(Z.ecmaVersion>=2015)Z.ecmaVersion-=2009;if(Z.allowReserved==null)Z.allowReserved=Z.ecmaVersion<5;if(!J||J.allowHashBang==null)Z.allowHashBang=Z.ecmaVersion>=14;if(Ez(Z.onToken)){var q=Z.onToken;Z.onToken=function(X){return q.push(X)}}if(Ez(Z.onComment))Z.onComment=iD(Z,Z.onComment);return Z}function iD(J,Z){return function(Y,q,X,Q,K,$){var U={type:Y?"Block":"Line",value:q,start:X,end:Q};if(J.locations)U.loc=new f6(this,K,$);if(J.ranges)U.range=[X,Q];Z.push(U)}}var N7=1,n4=2,Gq=4,vz=8,zq=16,uz=32,l6=64,mz=128,cJ=256,R7=512,p6=N7|n4|cJ;function Oq(J,Z){return n4|(J?Gq:0)|(Z?vz:0)}var v6=0,_q=1,x5=2,gz=3,fz=4,lz=5,w0=function(Z,Y,q){this.options=Z=nD(Z),this.sourceFile=Z.sourceFile,this.keywords=qJ(uD[Z.ecmaVersion>=6?6:Z.sourceType==="module"?"5module":5]);var X="";if(Z.allowReserved!==!0){if(X=qq[Z.ecmaVersion>=6?6:Z.ecmaVersion===5?5:3],Z.sourceType==="module")X+=" await"}this.reservedWords=qJ(X);var Q=(X?X+" ":"")+qq.strict;if(this.reservedWordsStrict=qJ(Q),this.reservedWordsStrictBind=qJ(Q+" "+qq.strictBind),this.input=String(Y),this.containsEsc=!1,q)this.pos=q,this.lineStart=this.input.lastIndexOf(`
`,q-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(z1).length;else this.pos=this.lineStart=0,this.curLine=1;if(this.type=H.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=Z.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&Z.allowHashBang&&this.input.slice(0,2)==="#!")this.skipLineComment(2);this.scopeStack=[],this.enterScope(N7),this.regexpState=null,this.privateNameStack=[]},V5={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};w0.prototype.parse=function(){var Z=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(Z)};V5.inFunction.get=function(){return(this.currentVarScope().flags&n4)>0};V5.inGenerator.get=function(){return(this.currentVarScope().flags&vz)>0};V5.inAsync.get=function(){return(this.currentVarScope().flags&Gq)>0};V5.canAwait.get=function(){for(var J=this.scopeStack.length-1;J>=0;J--){var Z=this.scopeStack[J],Y=Z.flags;if(Y&(cJ|R7))return!1;if(Y&n4)return(Y&Gq)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};V5.allowSuper.get=function(){var J=this.currentThisScope(),Z=J.flags;return(Z&l6)>0||this.options.allowSuperOutsideMethod};V5.allowDirectSuper.get=function(){return(this.currentThisScope().flags&mz)>0};V5.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};V5.allowNewDotTarget.get=function(){for(var J=this.scopeStack.length-1;J>=0;J--){var Z=this.scopeStack[J],Y=Z.flags;if(Y&(cJ|R7)||Y&n4&&!(Y&zq))return!0}return!1};V5.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&cJ)>0};w0.extend=function(){var Z=[],Y=arguments.length;while(Y--)Z[Y]=arguments[Y];var q=this;for(var X=0;X<Z.length;X++)q=Z[X](q);return q};w0.parse=function(Z,Y){return new this(Y,Z).parse()};w0.parseExpressionAt=function(Z,Y,q){var X=new this(q,Z,Y);return X.nextToken(),X.parseExpression()};w0.tokenizer=function(Z,Y){return new this(Y,Z)};Object.defineProperties(w0.prototype,V5);var X1=w0.prototype,sD=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;X1.strictDirective=function(J){if(this.options.ecmaVersion<5)return!1;for(;;){r0.lastIndex=J,J+=r0.exec(this.input)[0].length;var Z=sD.exec(this.input.slice(J));if(!Z)return!1;if((Z[1]||Z[2])==="use strict"){r0.lastIndex=J+Z[0].length;var Y=r0.exec(this.input),q=Y.index+Y[0].length,X=this.input.charAt(q);return X===";"||X==="}"||z1.test(Y[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(X)||X==="!"&&this.input.charAt(q+1)==="=")}if(J+=Z[0].length,r0.lastIndex=J,J+=r0.exec(this.input)[0].length,this.input[J]===";")J++}};X1.eat=function(J){if(this.type===J)return this.next(),!0;else return!1};X1.isContextual=function(J){return this.type===H.name&&this.value===J&&!this.containsEsc};X1.eatContextual=function(J){if(!this.isContextual(J))return!1;return this.next(),!0};X1.expectContextual=function(J){if(!this.eatContextual(J))this.unexpected()};X1.canInsertSemicolon=function(){return this.type===H.eof||this.type===H.braceR||z1.test(this.input.slice(this.lastTokEnd,this.start))};X1.insertSemicolon=function(){if(this.canInsertSemicolon()){if(this.options.onInsertedSemicolon)this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc);return!0}};X1.semicolon=function(){if(!this.eat(H.semi)&&!this.insertSemicolon())this.unexpected()};X1.afterTrailingComma=function(J,Z){if(this.type===J){if(this.options.onTrailingComma)this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc);if(!Z)this.next();return!0}};X1.expect=function(J){this.eat(J)||this.unexpected()};X1.unexpected=function(J){this.raise(J!=null?J:this.start,"Unexpected token")};var d6=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};X1.checkPatternErrors=function(J,Z){if(!J)return;if(J.trailingComma>-1)this.raiseRecoverable(J.trailingComma,"Comma is not permitted after the rest element");var Y=Z?J.parenthesizedAssign:J.parenthesizedBind;if(Y>-1)this.raiseRecoverable(Y,Z?"Assigning to rvalue":"Parenthesized pattern")};X1.checkExpressionErrors=function(J,Z){if(!J)return!1;var{shorthandAssign:Y,doubleProto:q}=J;if(!Z)return Y>=0||q>=0;if(Y>=0)this.raise(Y,"Shorthand property assignments are valid only in destructuring patterns");if(q>=0)this.raiseRecoverable(q,"Redefinition of __proto__ property")};X1.checkYieldAwaitInDefaultParams=function(){if(this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos))this.raise(this.yieldPos,"Yield expression cannot be a default value");if(this.awaitPos)this.raise(this.awaitPos,"Await expression cannot be a default value")};X1.isSimpleAssignTarget=function(J){if(J.type==="ParenthesizedExpression")return this.isSimpleAssignTarget(J.expression);return J.type==="Identifier"||J.type==="MemberExpression"};var g=w0.prototype;g.parseTopLevel=function(J){var Z=Object.create(null);if(!J.body)J.body=[];while(this.type!==H.eof){var Y=this.parseStatement(null,!0,Z);J.body.push(Y)}if(this.inModule)for(var q=0,X=Object.keys(this.undefinedExports);q<X.length;q+=1){var Q=X[q];this.raiseRecoverable(this.undefinedExports[Q].start,"Export '"+Q+"' is not defined")}return this.adaptDirectivePrologue(J.body),this.next(),J.sourceType=this.options.sourceType,this.finishNode(J,"Program")};var Hq={kind:"loop"},aD={kind:"switch"};g.isLet=function(J){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;r0.lastIndex=this.pos;var Z=r0.exec(this.input),Y=this.pos+Z[0].length,q=this.input.charCodeAt(Y);if(q===91||q===92)return!0;if(J)return!1;if(q===123||q>55295&&q<56320)return!0;if(M5(q,!0)){var X=Y+1;while(XJ(q=this.input.charCodeAt(X),!0))++X;if(q===92||q>55295&&q<56320)return!0;var Q=this.input.slice(Y,X);if(!mD.test(Q))return!0}return!1};g.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;r0.lastIndex=this.pos;var J=r0.exec(this.input),Z=this.pos+J[0].length,Y;return!z1.test(this.input.slice(this.pos,Z))&&this.input.slice(Z,Z+8)==="function"&&(Z+8===this.input.length||!(XJ(Y=this.input.charCodeAt(Z+8))||Y>55295&&Y<56320))};g.isUsingKeyword=function(J,Z){if(this.options.ecmaVersion<17||!this.isContextual(J?"await":"using"))return!1;r0.lastIndex=this.pos;var Y=r0.exec(this.input),q=this.pos+Y[0].length;if(z1.test(this.input.slice(this.pos,q)))return!1;if(J){var X=q+5,Q;if(this.input.slice(q,X)!=="using"||X===this.input.length||XJ(Q=this.input.charCodeAt(X))||Q>55295&&Q<56320)return!1;r0.lastIndex=X;var K=r0.exec(this.input);if(K&&z1.test(this.input.slice(X,X+K[0].length)))return!1}if(Z){var $=q+2,U;if(this.input.slice(q,$)==="of"){if($===this.input.length||!XJ(U=this.input.charCodeAt($))&&!(U>55295&&U<56320))return!1}}var j=this.input.charCodeAt(q);return M5(j,!0)||j===92};g.isAwaitUsing=function(J){return this.isUsingKeyword(!0,J)};g.isUsing=function(J){return this.isUsingKeyword(!1,J)};g.parseStatement=function(J,Z,Y){var q=this.type,X=this.startNode(),Q;if(this.isLet(J))q=H._var,Q="let";switch(q){case H._break:case H._continue:return this.parseBreakContinueStatement(X,q.keyword);case H._debugger:return this.parseDebuggerStatement(X);case H._do:return this.parseDoStatement(X);case H._for:return this.parseForStatement(X);case H._function:if(J&&(this.strict||J!=="if"&&J!=="label")&&this.options.ecmaVersion>=6)this.unexpected();return this.parseFunctionStatement(X,!1,!J);case H._class:if(J)this.unexpected();return this.parseClass(X,!0);case H._if:return this.parseIfStatement(X);case H._return:return this.parseReturnStatement(X);case H._switch:return this.parseSwitchStatement(X);case H._throw:return this.parseThrowStatement(X);case H._try:return this.parseTryStatement(X);case H._const:case H._var:if(Q=Q||this.value,J&&Q!=="var")this.unexpected();return this.parseVarStatement(X,Q);case H._while:return this.parseWhileStatement(X);case H._with:return this.parseWithStatement(X);case H.braceL:return this.parseBlock(!0,X);case H.semi:return this.parseEmptyStatement(X);case H._export:case H._import:if(this.options.ecmaVersion>10&&q===H._import){r0.lastIndex=this.pos;var K=r0.exec(this.input),$=this.pos+K[0].length,U=this.input.charCodeAt($);if(U===40||U===46)return this.parseExpressionStatement(X,this.parseExpression())}if(!this.options.allowImportExportEverywhere){if(!Z)this.raise(this.start,"'import' and 'export' may only appear at the top level");if(!this.inModule)this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")}return q===H._import?this.parseImport(X):this.parseExport(X,Y);default:if(this.isAsyncFunction()){if(J)this.unexpected();return this.next(),this.parseFunctionStatement(X,!0,!J)}var j=this.isAwaitUsing(!1)?"await using":this.isUsing(!1)?"using":null;if(j){if(Z&&this.options.sourceType==="script")this.raise(this.start,"Using declaration cannot appear in the top level when source type is `script`");if(j==="await using"){if(!this.canAwait)this.raise(this.start,"Await using cannot appear outside of async function");this.next()}return this.next(),this.parseVar(X,!1,j),this.semicolon(),this.finishNode(X,"VariableDeclaration")}var W=this.value,G=this.parseExpression();if(q===H.name&&G.type==="Identifier"&&this.eat(H.colon))return this.parseLabeledStatement(X,W,G,J);else return this.parseExpressionStatement(X,G)}};g.parseBreakContinueStatement=function(J,Z){var Y=Z==="break";if(this.next(),this.eat(H.semi)||this.insertSemicolon())J.label=null;else if(this.type!==H.name)this.unexpected();else J.label=this.parseIdent(),this.semicolon();var q=0;for(;q<this.labels.length;++q){var X=this.labels[q];if(J.label==null||X.name===J.label.name){if(X.kind!=null&&(Y||X.kind==="loop"))break;if(J.label&&Y)break}}if(q===this.labels.length)this.raise(J.start,"Unsyntactic "+Z);return this.finishNode(J,Y?"BreakStatement":"ContinueStatement")};g.parseDebuggerStatement=function(J){return this.next(),this.semicolon(),this.finishNode(J,"DebuggerStatement")};g.parseDoStatement=function(J){if(this.next(),this.labels.push(Hq),J.body=this.parseStatement("do"),this.labels.pop(),this.expect(H._while),J.test=this.parseParenExpression(),this.options.ecmaVersion>=6)this.eat(H.semi);else this.semicolon();return this.finishNode(J,"DoWhileStatement")};g.parseForStatement=function(J){this.next();var Z=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(Hq),this.enterScope(0),this.expect(H.parenL),this.type===H.semi){if(Z>-1)this.unexpected(Z);return this.parseFor(J,null)}var Y=this.isLet();if(this.type===H._var||this.type===H._const||Y){var q=this.startNode(),X=Y?"let":this.value;return this.next(),this.parseVar(q,!0,X),this.finishNode(q,"VariableDeclaration"),this.parseForAfterInit(J,q,Z)}var Q=this.isContextual("let"),K=!1,$=this.isUsing(!0)?"using":this.isAwaitUsing(!0)?"await using":null;if($){var U=this.startNode();if(this.next(),$==="await using")this.next();return this.parseVar(U,!0,$),this.finishNode(U,"VariableDeclaration"),this.parseForAfterInit(J,U,Z)}var j=this.containsEsc,W=new d6,G=this.start,z=Z>-1?this.parseExprSubscripts(W,"await"):this.parseExpression(!0,W);if(this.type===H._in||(K=this.options.ecmaVersion>=6&&this.isContextual("of"))){if(Z>-1){if(this.type===H._in)this.unexpected(Z);J.await=!0}else if(K&&this.options.ecmaVersion>=8){if(z.start===G&&!j&&z.type==="Identifier"&&z.name==="async")this.unexpected();else if(this.options.ecmaVersion>=9)J.await=!1}if(Q&&K)this.raise(z.start,"The left-hand side of a for-of loop may not start with 'let'.");return this.toAssignable(z,!1,W),this.checkLValPattern(z),this.parseForIn(J,z)}else this.checkExpressionErrors(W,!0);if(Z>-1)this.unexpected(Z);return this.parseFor(J,z)};g.parseForAfterInit=function(J,Z,Y){if((this.type===H._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&Z.declarations.length===1){if(this.options.ecmaVersion>=9)if(this.type===H._in){if(Y>-1)this.unexpected(Y)}else J.await=Y>-1;return this.parseForIn(J,Z)}if(Y>-1)this.unexpected(Y);return this.parseFor(J,Z)};g.parseFunctionStatement=function(J,Z,Y){return this.next(),this.parseFunction(J,_7|(Y?0:$q),!1,Z)};g.parseIfStatement=function(J){return this.next(),J.test=this.parseParenExpression(),J.consequent=this.parseStatement("if"),J.alternate=this.eat(H._else)?this.parseStatement("if"):null,this.finishNode(J,"IfStatement")};g.parseReturnStatement=function(J){if(!this.inFunction&&!this.options.allowReturnOutsideFunction)this.raise(this.start,"'return' outside of function");if(this.next(),this.eat(H.semi)||this.insertSemicolon())J.argument=null;else J.argument=this.parseExpression(),this.semicolon();return this.finishNode(J,"ReturnStatement")};g.parseSwitchStatement=function(J){this.next(),J.discriminant=this.parseParenExpression(),J.cases=[],this.expect(H.braceL),this.labels.push(aD),this.enterScope(0);var Z;for(var Y=!1;this.type!==H.braceR;)if(this.type===H._case||this.type===H._default){var q=this.type===H._case;if(Z)this.finishNode(Z,"SwitchCase");if(J.cases.push(Z=this.startNode()),Z.consequent=[],this.next(),q)Z.test=this.parseExpression();else{if(Y)this.raiseRecoverable(this.lastTokStart,"Multiple default clauses");Y=!0,Z.test=null}this.expect(H.colon)}else{if(!Z)this.unexpected();Z.consequent.push(this.parseStatement(null))}if(this.exitScope(),Z)this.finishNode(Z,"SwitchCase");return this.next(),this.labels.pop(),this.finishNode(J,"SwitchStatement")};g.parseThrowStatement=function(J){if(this.next(),z1.test(this.input.slice(this.lastTokEnd,this.start)))this.raise(this.lastTokEnd,"Illegal newline after throw");return J.argument=this.parseExpression(),this.semicolon(),this.finishNode(J,"ThrowStatement")};var rD=[];g.parseCatchClauseParam=function(){var J=this.parseBindingAtom(),Z=J.type==="Identifier";return this.enterScope(Z?uz:0),this.checkLValPattern(J,Z?fz:x5),this.expect(H.parenR),J};g.parseTryStatement=function(J){if(this.next(),J.block=this.parseBlock(),J.handler=null,this.type===H._catch){var Z=this.startNode();if(this.next(),this.eat(H.parenL))Z.param=this.parseCatchClauseParam();else{if(this.options.ecmaVersion<10)this.unexpected();Z.param=null,this.enterScope(0)}Z.body=this.parseBlock(!1),this.exitScope(),J.handler=this.finishNode(Z,"CatchClause")}if(J.finalizer=this.eat(H._finally)?this.parseBlock():null,!J.handler&&!J.finalizer)this.raise(J.start,"Missing catch or finally clause");return this.finishNode(J,"TryStatement")};g.parseVarStatement=function(J,Z,Y){return this.next(),this.parseVar(J,!1,Z,Y),this.semicolon(),this.finishNode(J,"VariableDeclaration")};g.parseWhileStatement=function(J){return this.next(),J.test=this.parseParenExpression(),this.labels.push(Hq),J.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(J,"WhileStatement")};g.parseWithStatement=function(J){if(this.strict)this.raise(this.start,"'with' in strict mode");return this.next(),J.object=this.parseParenExpression(),J.body=this.parseStatement("with"),this.finishNode(J,"WithStatement")};g.parseEmptyStatement=function(J){return this.next(),this.finishNode(J,"EmptyStatement")};g.parseLabeledStatement=function(J,Z,Y,q){for(var X=0,Q=this.labels;X<Q.length;X+=1){var K=Q[X];if(K.name===Z)this.raise(Y.start,"Label '"+Z+"' is already declared")}var $=this.type.isLoop?"loop":this.type===H._switch?"switch":null;for(var U=this.labels.length-1;U>=0;U--){var j=this.labels[U];if(j.statementStart===J.start)j.statementStart=this.start,j.kind=$;else break}return this.labels.push({name:Z,kind:$,statementStart:this.start}),J.body=this.parseStatement(q?q.indexOf("label")===-1?q+"label":q:"label"),this.labels.pop(),J.label=Y,this.finishNode(J,"LabeledStatement")};g.parseExpressionStatement=function(J,Z){return J.expression=Z,this.semicolon(),this.finishNode(J,"ExpressionStatement")};g.parseBlock=function(J,Z,Y){if(J===void 0)J=!0;if(Z===void 0)Z=this.startNode();if(Z.body=[],this.expect(H.braceL),J)this.enterScope(0);while(this.type!==H.braceR){var q=this.parseStatement(null);Z.body.push(q)}if(Y)this.strict=!1;if(this.next(),J)this.exitScope();return this.finishNode(Z,"BlockStatement")};g.parseFor=function(J,Z){return J.init=Z,this.expect(H.semi),J.test=this.type===H.semi?null:this.parseExpression(),this.expect(H.semi),J.update=this.type===H.parenR?null:this.parseExpression(),this.expect(H.parenR),J.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(J,"ForStatement")};g.parseForIn=function(J,Z){var Y=this.type===H._in;if(this.next(),Z.type==="VariableDeclaration"&&Z.declarations[0].init!=null&&(!Y||this.options.ecmaVersion<8||this.strict||Z.kind!=="var"||Z.declarations[0].id.type!=="Identifier"))this.raise(Z.start,(Y?"for-in":"for-of")+" loop variable declaration may not have an initializer");return J.left=Z,J.right=Y?this.parseExpression():this.parseMaybeAssign(),this.expect(H.parenR),J.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(J,Y?"ForInStatement":"ForOfStatement")};g.parseVar=function(J,Z,Y,q){J.declarations=[],J.kind=Y;for(;;){var X=this.startNode();if(this.parseVarId(X,Y),this.eat(H.eq))X.init=this.parseMaybeAssign(Z);else if(!q&&Y==="const"&&!(this.type===H._in||this.options.ecmaVersion>=6&&this.isContextual("of")))this.unexpected();else if(!q&&(Y==="using"||Y==="await using")&&this.options.ecmaVersion>=17&&this.type!==H._in&&!this.isContextual("of"))this.raise(this.lastTokEnd,"Missing initializer in "+Y+" declaration");else if(!q&&X.id.type!=="Identifier"&&!(Z&&(this.type===H._in||this.isContextual("of"))))this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value");else X.init=null;if(J.declarations.push(this.finishNode(X,"VariableDeclarator")),!this.eat(H.comma))break}return J};g.parseVarId=function(J,Z){J.id=Z==="using"||Z==="await using"?this.parseIdent():this.parseBindingAtom(),this.checkLValPattern(J.id,Z==="var"?_q:x5,!1)};var _7=1,$q=2,pz=4;g.parseFunction=function(J,Z,Y,q,X){if(this.initFunction(J),this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!q){if(this.type===H.star&&Z&$q)this.unexpected();J.generator=this.eat(H.star)}if(this.options.ecmaVersion>=8)J.async=!!q;if(Z&_7){if(J.id=Z&pz&&this.type!==H.name?null:this.parseIdent(),J.id&&!(Z&$q))this.checkLValSimple(J.id,this.strict||J.generator||J.async?this.treatFunctionsAsVar?_q:x5:gz)}var Q=this.yieldPos,K=this.awaitPos,$=this.awaitIdentPos;if(this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Oq(J.async,J.generator)),!(Z&_7))J.id=this.type===H.name?this.parseIdent():null;return this.parseFunctionParams(J),this.parseFunctionBody(J,Y,!1,X),this.yieldPos=Q,this.awaitPos=K,this.awaitIdentPos=$,this.finishNode(J,Z&_7?"FunctionDeclaration":"FunctionExpression")};g.parseFunctionParams=function(J){this.expect(H.parenL),J.params=this.parseBindingList(H.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};g.parseClass=function(J,Z){this.next();var Y=this.strict;this.strict=!0,this.parseClassId(J,Z),this.parseClassSuper(J);var q=this.enterClassBody(),X=this.startNode(),Q=!1;X.body=[],this.expect(H.braceL);while(this.type!==H.braceR){var K=this.parseClassElement(J.superClass!==null);if(K){if(X.body.push(K),K.type==="MethodDefinition"&&K.kind==="constructor"){if(Q)this.raiseRecoverable(K.start,"Duplicate constructor in the same class");Q=!0}else if(K.key&&K.key.type==="PrivateIdentifier"&&oD(q,K))this.raiseRecoverable(K.key.start,"Identifier '#"+K.key.name+"' has already been declared")}}return this.strict=Y,this.next(),J.body=this.finishNode(X,"ClassBody"),this.exitClassBody(),this.finishNode(J,Z?"ClassDeclaration":"ClassExpression")};g.parseClassElement=function(J){if(this.eat(H.semi))return null;var Z=this.options.ecmaVersion,Y=this.startNode(),q="",X=!1,Q=!1,K="method",$=!1;if(this.eatContextual("static")){if(Z>=13&&this.eat(H.braceL))return this.parseClassStaticBlock(Y),Y;if(this.isClassElementNameStart()||this.type===H.star)$=!0;else q="static"}if(Y.static=$,!q&&Z>=8&&this.eatContextual("async"))if((this.isClassElementNameStart()||this.type===H.star)&&!this.canInsertSemicolon())Q=!0;else q="async";if(!q&&(Z>=9||!Q)&&this.eat(H.star))X=!0;if(!q&&!Q&&!X){var U=this.value;if(this.eatContextual("get")||this.eatContextual("set"))if(this.isClassElementNameStart())K=U;else q=U}if(q)Y.computed=!1,Y.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),Y.key.name=q,this.finishNode(Y.key,"Identifier");else this.parseClassElementName(Y);if(Z<13||this.type===H.parenL||K!=="method"||X||Q){var j=!Y.static&&u6(Y,"constructor"),W=j&&J;if(j&&K!=="method")this.raise(Y.key.start,"Constructor can't have get/set modifier");Y.kind=j?"constructor":K,this.parseClassMethod(Y,X,Q,W)}else this.parseClassField(Y);return Y};g.isClassElementNameStart=function(){return this.type===H.name||this.type===H.privateId||this.type===H.num||this.type===H.string||this.type===H.bracketL||this.type.keyword};g.parseClassElementName=function(J){if(this.type===H.privateId){if(this.value==="constructor")this.raise(this.start,"Classes can't have an element named '#constructor'");J.computed=!1,J.key=this.parsePrivateIdent()}else this.parsePropertyName(J)};g.parseClassMethod=function(J,Z,Y,q){var X=J.key;if(J.kind==="constructor"){if(Z)this.raise(X.start,"Constructor can't be a generator");if(Y)this.raise(X.start,"Constructor can't be an async method")}else if(J.static&&u6(J,"prototype"))this.raise(X.start,"Classes may not have a static property named prototype");var Q=J.value=this.parseMethod(Z,Y,q);if(J.kind==="get"&&Q.params.length!==0)this.raiseRecoverable(Q.start,"getter should have no params");if(J.kind==="set"&&Q.params.length!==1)this.raiseRecoverable(Q.start,"setter should have exactly one param");if(J.kind==="set"&&Q.params[0].type==="RestElement")this.raiseRecoverable(Q.params[0].start,"Setter cannot use rest params");return this.finishNode(J,"MethodDefinition")};g.parseClassField=function(J){if(u6(J,"constructor"))this.raise(J.key.start,"Classes can't have a field named 'constructor'");else if(J.static&&u6(J,"prototype"))this.raise(J.key.start,"Classes can't have a static field named 'prototype'");if(this.eat(H.eq))this.enterScope(R7|l6),J.value=this.parseMaybeAssign(),this.exitScope();else J.value=null;return this.semicolon(),this.finishNode(J,"PropertyDefinition")};g.parseClassStaticBlock=function(J){J.body=[];var Z=this.labels;this.labels=[],this.enterScope(cJ|l6);while(this.type!==H.braceR){var Y=this.parseStatement(null);J.body.push(Y)}return this.next(),this.exitScope(),this.labels=Z,this.finishNode(J,"StaticBlock")};g.parseClassId=function(J,Z){if(this.type===H.name){if(J.id=this.parseIdent(),Z)this.checkLValSimple(J.id,x5,!1)}else{if(Z===!0)this.unexpected();J.id=null}};g.parseClassSuper=function(J){J.superClass=this.eat(H._extends)?this.parseExprSubscripts(null,!1):null};g.enterClassBody=function(){var J={declared:Object.create(null),used:[]};return this.privateNameStack.push(J),J.declared};g.exitClassBody=function(){var J=this.privateNameStack.pop(),Z=J.declared,Y=J.used;if(!this.options.checkPrivateFields)return;var q=this.privateNameStack.length,X=q===0?null:this.privateNameStack[q-1];for(var Q=0;Q<Y.length;++Q){var K=Y[Q];if(!c4(Z,K.name))if(X)X.used.push(K);else this.raiseRecoverable(K.start,"Private field '#"+K.name+"' must be declared in an enclosing class")}};function oD(J,Z){var Y=Z.key.name,q=J[Y],X="true";if(Z.type==="MethodDefinition"&&(Z.kind==="get"||Z.kind==="set"))X=(Z.static?"s":"i")+Z.kind;if(q==="iget"&&X==="iset"||q==="iset"&&X==="iget"||q==="sget"&&X==="sset"||q==="sset"&&X==="sget")return J[Y]="true",!1;else if(!q)return J[Y]=X,!1;else return!0}function u6(J,Z){var{computed:Y,key:q}=J;return!Y&&(q.type==="Identifier"&&q.name===Z||q.type==="Literal"&&q.value===Z)}g.parseExportAllDeclaration=function(J,Z){if(this.options.ecmaVersion>=11)if(this.eatContextual("as"))J.exported=this.parseModuleExportName(),this.checkExport(Z,J.exported,this.lastTokStart);else J.exported=null;if(this.expectContextual("from"),this.type!==H.string)this.unexpected();if(J.source=this.parseExprAtom(),this.options.ecmaVersion>=16)J.attributes=this.parseWithClause();return this.semicolon(),this.finishNode(J,"ExportAllDeclaration")};g.parseExport=function(J,Z){if(this.next(),this.eat(H.star))return this.parseExportAllDeclaration(J,Z);if(this.eat(H._default))return this.checkExport(Z,"default",this.lastTokStart),J.declaration=this.parseExportDefaultDeclaration(),this.finishNode(J,"ExportDefaultDeclaration");if(this.shouldParseExportStatement()){if(J.declaration=this.parseExportDeclaration(J),J.declaration.type==="VariableDeclaration")this.checkVariableExport(Z,J.declaration.declarations);else this.checkExport(Z,J.declaration.id,J.declaration.id.start);if(J.specifiers=[],J.source=null,this.options.ecmaVersion>=16)J.attributes=[]}else{if(J.declaration=null,J.specifiers=this.parseExportSpecifiers(Z),this.eatContextual("from")){if(this.type!==H.string)this.unexpected();if(J.source=this.parseExprAtom(),this.options.ecmaVersion>=16)J.attributes=this.parseWithClause()}else{for(var Y=0,q=J.specifiers;Y<q.length;Y+=1){var X=q[Y];if(this.checkUnreserved(X.local),this.checkLocalExport(X.local),X.local.type==="Literal")this.raise(X.local.start,"A string literal cannot be used as an exported binding without `from`.")}if(J.source=null,this.options.ecmaVersion>=16)J.attributes=[]}this.semicolon()}return this.finishNode(J,"ExportNamedDeclaration")};g.parseExportDeclaration=function(J){return this.parseStatement(null)};g.parseExportDefaultDeclaration=function(){var J;if(this.type===H._function||(J=this.isAsyncFunction())){var Z=this.startNode();if(this.next(),J)this.next();return this.parseFunction(Z,_7|pz,!1,J)}else if(this.type===H._class){var Y=this.startNode();return this.parseClass(Y,"nullableID")}else{var q=this.parseMaybeAssign();return this.semicolon(),q}};g.checkExport=function(J,Z,Y){if(!J)return;if(typeof Z!=="string")Z=Z.type==="Identifier"?Z.name:Z.value;if(c4(J,Z))this.raiseRecoverable(Y,"Duplicate export '"+Z+"'");J[Z]=!0};g.checkPatternExport=function(J,Z){var Y=Z.type;if(Y==="Identifier")this.checkExport(J,Z,Z.start);else if(Y==="ObjectPattern")for(var q=0,X=Z.properties;q<X.length;q+=1){var Q=X[q];this.checkPatternExport(J,Q)}else if(Y==="ArrayPattern")for(var K=0,$=Z.elements;K<$.length;K+=1){var U=$[K];if(U)this.checkPatternExport(J,U)}else if(Y==="Property")this.checkPatternExport(J,Z.value);else if(Y==="AssignmentPattern")this.checkPatternExport(J,Z.left);else if(Y==="RestElement")this.checkPatternExport(J,Z.argument)};g.checkVariableExport=function(J,Z){if(!J)return;for(var Y=0,q=Z;Y<q.length;Y+=1){var X=q[Y];this.checkPatternExport(J,X.id)}};g.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};g.parseExportSpecifier=function(J){var Z=this.startNode();return Z.local=this.parseModuleExportName(),Z.exported=this.eatContextual("as")?this.parseModuleExportName():Z.local,this.checkExport(J,Z.exported,Z.exported.start),this.finishNode(Z,"ExportSpecifier")};g.parseExportSpecifiers=function(J){var Z=[],Y=!0;this.expect(H.braceL);while(!this.eat(H.braceR)){if(!Y){if(this.expect(H.comma),this.afterTrailingComma(H.braceR))break}else Y=!1;Z.push(this.parseExportSpecifier(J))}return Z};g.parseImport=function(J){if(this.next(),this.type===H.string)J.specifiers=rD,J.source=this.parseExprAtom();else J.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),J.source=this.type===H.string?this.parseExprAtom():this.unexpected();if(this.options.ecmaVersion>=16)J.attributes=this.parseWithClause();return this.semicolon(),this.finishNode(J,"ImportDeclaration")};g.parseImportSpecifier=function(){var J=this.startNode();if(J.imported=this.parseModuleExportName(),this.eatContextual("as"))J.local=this.parseIdent();else this.checkUnreserved(J.imported),J.local=J.imported;return this.checkLValSimple(J.local,x5),this.finishNode(J,"ImportSpecifier")};g.parseImportDefaultSpecifier=function(){var J=this.startNode();return J.local=this.parseIdent(),this.checkLValSimple(J.local,x5),this.finishNode(J,"ImportDefaultSpecifier")};g.parseImportNamespaceSpecifier=function(){var J=this.startNode();return this.next(),this.expectContextual("as"),J.local=this.parseIdent(),this.checkLValSimple(J.local,x5),this.finishNode(J,"ImportNamespaceSpecifier")};g.parseImportSpecifiers=function(){var J=[],Z=!0;if(this.type===H.name){if(J.push(this.parseImportDefaultSpecifier()),!this.eat(H.comma))return J}if(this.type===H.star)return J.push(this.parseImportNamespaceSpecifier()),J;this.expect(H.braceL);while(!this.eat(H.braceR)){if(!Z){if(this.expect(H.comma),this.afterTrailingComma(H.braceR))break}else Z=!1;J.push(this.parseImportSpecifier())}return J};g.parseWithClause=function(){var J=[];if(!this.eat(H._with))return J;this.expect(H.braceL);var Z={},Y=!0;while(!this.eat(H.braceR)){if(!Y){if(this.expect(H.comma),this.afterTrailingComma(H.braceR))break}else Y=!1;var q=this.parseImportAttribute(),X=q.key.type==="Identifier"?q.key.name:q.key.value;if(c4(Z,X))this.raiseRecoverable(q.key.start,"Duplicate attribute key '"+X+"'");Z[X]=!0,J.push(q)}return J};g.parseImportAttribute=function(){var J=this.startNode();if(J.key=this.type===H.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never"),this.expect(H.colon),this.type!==H.string)this.unexpected();return J.value=this.parseExprAtom(),this.finishNode(J,"ImportAttribute")};g.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===H.string){var J=this.parseLiteral(this.value);if(cD.test(J.value))this.raise(J.start,"An export name cannot include a lone surrogate.");return J}return this.parseIdent(!0)};g.adaptDirectivePrologue=function(J){for(var Z=0;Z<J.length&&this.isDirectiveCandidate(J[Z]);++Z)J[Z].directive=J[Z].expression.raw.slice(1,-1)};g.isDirectiveCandidate=function(J){return this.options.ecmaVersion>=5&&J.type==="ExpressionStatement"&&J.expression.type==="Literal"&&typeof J.expression.value==="string"&&(this.input[J.start]==='"'||this.input[J.start]==="'")};var u1=w0.prototype;u1.toAssignable=function(J,Z,Y){if(this.options.ecmaVersion>=6&&J)switch(J.type){case"Identifier":if(this.inAsync&&J.name==="await")this.raise(J.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":if(J.type="ObjectPattern",Y)this.checkPatternErrors(Y,!0);for(var q=0,X=J.properties;q<X.length;q+=1){var Q=X[q];if(this.toAssignable(Q,Z),Q.type==="RestElement"&&(Q.argument.type==="ArrayPattern"||Q.argument.type==="ObjectPattern"))this.raise(Q.argument.start,"Unexpected token")}break;case"Property":if(J.kind!=="init")this.raise(J.key.start,"Object pattern can't contain getter or setter");this.toAssignable(J.value,Z);break;case"ArrayExpression":if(J.type="ArrayPattern",Y)this.checkPatternErrors(Y,!0);this.toAssignableList(J.elements,Z);break;case"SpreadElement":if(J.type="RestElement",this.toAssignable(J.argument,Z),J.argument.type==="AssignmentPattern")this.raise(J.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":if(J.operator!=="=")this.raise(J.left.end,"Only '=' operator can be used for specifying default value.");J.type="AssignmentPattern",delete J.operator,this.toAssignable(J.left,Z);break;case"ParenthesizedExpression":this.toAssignable(J.expression,Z,Y);break;case"ChainExpression":this.raiseRecoverable(J.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!Z)break;default:this.raise(J.start,"Assigning to rvalue")}else if(Y)this.checkPatternErrors(Y,!0);return J};u1.toAssignableList=function(J,Z){var Y=J.length;for(var q=0;q<Y;q++){var X=J[q];if(X)this.toAssignable(X,Z)}if(Y){var Q=J[Y-1];if(this.options.ecmaVersion===6&&Z&&Q&&Q.type==="RestElement"&&Q.argument.type!=="Identifier")this.unexpected(Q.argument.start)}return J};u1.parseSpread=function(J){var Z=this.startNode();return this.next(),Z.argument=this.parseMaybeAssign(!1,J),this.finishNode(Z,"SpreadElement")};u1.parseRestBinding=function(){var J=this.startNode();if(this.next(),this.options.ecmaVersion===6&&this.type!==H.name)this.unexpected();return J.argument=this.parseBindingAtom(),this.finishNode(J,"RestElement")};u1.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case H.bracketL:var J=this.startNode();return this.next(),J.elements=this.parseBindingList(H.bracketR,!0,!0),this.finishNode(J,"ArrayPattern");case H.braceL:return this.parseObj(!0)}return this.parseIdent()};u1.parseBindingList=function(J,Z,Y,q){var X=[],Q=!0;while(!this.eat(J)){if(Q)Q=!1;else this.expect(H.comma);if(Z&&this.type===H.comma)X.push(null);else if(Y&&this.afterTrailingComma(J))break;else if(this.type===H.ellipsis){var K=this.parseRestBinding();if(this.parseBindingListItem(K),X.push(K),this.type===H.comma)this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");this.expect(J);break}else X.push(this.parseAssignableListItem(q))}return X};u1.parseAssignableListItem=function(J){var Z=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(Z),Z};u1.parseBindingListItem=function(J){return J};u1.parseMaybeDefault=function(J,Z,Y){if(Y=Y||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(H.eq))return Y;var q=this.startNodeAt(J,Z);return q.left=Y,q.right=this.parseMaybeAssign(),this.finishNode(q,"AssignmentPattern")};u1.checkLValSimple=function(J,Z,Y){if(Z===void 0)Z=v6;var q=Z!==v6;switch(J.type){case"Identifier":if(this.strict&&this.reservedWordsStrictBind.test(J.name))this.raiseRecoverable(J.start,(q?"Binding ":"Assigning to ")+J.name+" in strict mode");if(q){if(Z===x5&&J.name==="let")this.raiseRecoverable(J.start,"let is disallowed as a lexically bound name");if(Y){if(c4(Y,J.name))this.raiseRecoverable(J.start,"Argument name clash");Y[J.name]=!0}if(Z!==lz)this.declareName(J.name,Z,J.start)}break;case"ChainExpression":this.raiseRecoverable(J.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(q)this.raiseRecoverable(J.start,"Binding member expression");break;case"ParenthesizedExpression":if(q)this.raiseRecoverable(J.start,"Binding parenthesized expression");return this.checkLValSimple(J.expression,Z,Y);default:this.raise(J.start,(q?"Binding":"Assigning to")+" rvalue")}};u1.checkLValPattern=function(J,Z,Y){if(Z===void 0)Z=v6;switch(J.type){case"ObjectPattern":for(var q=0,X=J.properties;q<X.length;q+=1){var Q=X[q];this.checkLValInnerPattern(Q,Z,Y)}break;case"ArrayPattern":for(var K=0,$=J.elements;K<$.length;K+=1){var U=$[K];if(U)this.checkLValInnerPattern(U,Z,Y)}break;default:this.checkLValSimple(J,Z,Y)}};u1.checkLValInnerPattern=function(J,Z,Y){if(Z===void 0)Z=v6;switch(J.type){case"Property":this.checkLValInnerPattern(J.value,Z,Y);break;case"AssignmentPattern":this.checkLValPattern(J.left,Z,Y);break;case"RestElement":this.checkLValPattern(J.argument,Z,Y);break;default:this.checkLValPattern(J,Z,Y)}};var J5=function(Z,Y,q,X,Q){this.token=Z,this.isExpr=!!Y,this.preserveSpace=!!q,this.override=X,this.generator=!!Q},V0={b_stat:new J5("{",!1),b_expr:new J5("{",!0),b_tmpl:new J5("${",!1),p_stat:new J5("(",!1),p_expr:new J5("(",!0),q_tmpl:new J5("`",!0,!0,function(J){return J.tryReadTemplateToken()}),f_stat:new J5("function",!1),f_expr:new J5("function",!0),f_expr_gen:new J5("function",!0,!1,null,!0),f_gen:new J5("function",!1,!1,null,!0)},i4=w0.prototype;i4.initialContext=function(){return[V0.b_stat]};i4.curContext=function(){return this.context[this.context.length-1]};i4.braceIsBlock=function(J){var Z=this.curContext();if(Z===V0.f_expr||Z===V0.f_stat)return!0;if(J===H.colon&&(Z===V0.b_stat||Z===V0.b_expr))return!Z.isExpr;if(J===H._return||J===H.name&&this.exprAllowed)return z1.test(this.input.slice(this.lastTokEnd,this.start));if(J===H._else||J===H.semi||J===H.eof||J===H.parenR||J===H.arrow)return!0;if(J===H.braceL)return Z===V0.b_stat;if(J===H._var||J===H._const||J===H.name)return!1;return!this.exprAllowed};i4.inGeneratorContext=function(){for(var J=this.context.length-1;J>=1;J--){var Z=this.context[J];if(Z.token==="function")return Z.generator}return!1};i4.updateContext=function(J){var Z,Y=this.type;if(Y.keyword&&J===H.dot)this.exprAllowed=!1;else if(Z=Y.updateContext)Z.call(this,J);else this.exprAllowed=Y.beforeExpr};i4.overrideContext=function(J){if(this.curContext()!==J)this.context[this.context.length-1]=J};H.parenR.updateContext=H.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var J=this.context.pop();if(J===V0.b_stat&&this.curContext().token==="function")J=this.context.pop();this.exprAllowed=!J.isExpr};H.braceL.updateContext=function(J){this.context.push(this.braceIsBlock(J)?V0.b_stat:V0.b_expr),this.exprAllowed=!0};H.dollarBraceL.updateContext=function(){this.context.push(V0.b_tmpl),this.exprAllowed=!0};H.parenL.updateContext=function(J){var Z=J===H._if||J===H._for||J===H._with||J===H._while;this.context.push(Z?V0.p_stat:V0.p_expr),this.exprAllowed=!0};H.incDec.updateContext=function(){};H._function.updateContext=H._class.updateContext=function(J){if(J.beforeExpr&&J!==H._else&&!(J===H.semi&&this.curContext()!==V0.p_stat)&&!(J===H._return&&z1.test(this.input.slice(this.lastTokEnd,this.start)))&&!((J===H.colon||J===H.braceL)&&this.curContext()===V0.b_stat))this.context.push(V0.f_expr);else this.context.push(V0.f_stat);this.exprAllowed=!1};H.colon.updateContext=function(){if(this.curContext().token==="function")this.context.pop();this.exprAllowed=!0};H.backQuote.updateContext=function(){if(this.curContext()===V0.q_tmpl)this.context.pop();else this.context.push(V0.q_tmpl);this.exprAllowed=!1};H.star.updateContext=function(J){if(J===H._function){var Z=this.context.length-1;if(this.context[Z]===V0.f_expr)this.context[Z]=V0.f_expr_gen;else this.context[Z]=V0.f_gen}this.exprAllowed=!0};H.name.updateContext=function(J){var Z=!1;if(this.options.ecmaVersion>=6&&J!==H.dot){if(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())Z=!0}this.exprAllowed=Z};var n=w0.prototype;n.checkPropClash=function(J,Z,Y){if(this.options.ecmaVersion>=9&&J.type==="SpreadElement")return;if(this.options.ecmaVersion>=6&&(J.computed||J.method||J.shorthand))return;var q=J.key,X;switch(q.type){case"Identifier":X=q.name;break;case"Literal":X=String(q.value);break;default:return}var Q=J.kind;if(this.options.ecmaVersion>=6){if(X==="__proto__"&&Q==="init"){if(Z.proto)if(Y){if(Y.doubleProto<0)Y.doubleProto=q.start}else this.raiseRecoverable(q.start,"Redefinition of __proto__ property");Z.proto=!0}return}X="$"+X;var K=Z[X];if(K){var $;if(Q==="init")$=this.strict&&K.init||K.get||K.set;else $=K.init||K[Q];if($)this.raiseRecoverable(q.start,"Redefinition of property")}else K=Z[X]={init:!1,get:!1,set:!1};K[Q]=!0};n.parseExpression=function(J,Z){var Y=this.start,q=this.startLoc,X=this.parseMaybeAssign(J,Z);if(this.type===H.comma){var Q=this.startNodeAt(Y,q);Q.expressions=[X];while(this.eat(H.comma))Q.expressions.push(this.parseMaybeAssign(J,Z));return this.finishNode(Q,"SequenceExpression")}return X};n.parseMaybeAssign=function(J,Z,Y){if(this.isContextual("yield"))if(this.inGenerator)return this.parseYield(J);else this.exprAllowed=!1;var q=!1,X=-1,Q=-1,K=-1;if(Z)X=Z.parenthesizedAssign,Q=Z.trailingComma,K=Z.doubleProto,Z.parenthesizedAssign=Z.trailingComma=-1;else Z=new d6,q=!0;var $=this.start,U=this.startLoc;if(this.type===H.parenL||this.type===H.name)this.potentialArrowAt=this.start,this.potentialArrowInForAwait=J==="await";var j=this.parseMaybeConditional(J,Z);if(Y)j=Y.call(this,j,$,U);if(this.type.isAssign){var W=this.startNodeAt($,U);if(W.operator=this.value,this.type===H.eq)j=this.toAssignable(j,!1,Z);if(!q)Z.parenthesizedAssign=Z.trailingComma=Z.doubleProto=-1;if(Z.shorthandAssign>=j.start)Z.shorthandAssign=-1;if(this.type===H.eq)this.checkLValPattern(j);else this.checkLValSimple(j);if(W.left=j,this.next(),W.right=this.parseMaybeAssign(J),K>-1)Z.doubleProto=K;return this.finishNode(W,"AssignmentExpression")}else if(q)this.checkExpressionErrors(Z,!0);if(X>-1)Z.parenthesizedAssign=X;if(Q>-1)Z.trailingComma=Q;return j};n.parseMaybeConditional=function(J,Z){var Y=this.start,q=this.startLoc,X=this.parseExprOps(J,Z);if(this.checkExpressionErrors(Z))return X;if(this.eat(H.question)){var Q=this.startNodeAt(Y,q);return Q.test=X,Q.consequent=this.parseMaybeAssign(),this.expect(H.colon),Q.alternate=this.parseMaybeAssign(J),this.finishNode(Q,"ConditionalExpression")}return X};n.parseExprOps=function(J,Z){var Y=this.start,q=this.startLoc,X=this.parseMaybeUnary(Z,!1,!1,J);if(this.checkExpressionErrors(Z))return X;return X.start===Y&&X.type==="ArrowFunctionExpression"?X:this.parseExprOp(X,Y,q,-1,J)};n.parseExprOp=function(J,Z,Y,q,X){var Q=this.type.binop;if(Q!=null&&(!X||this.type!==H._in)){if(Q>q){var K=this.type===H.logicalOR||this.type===H.logicalAND,$=this.type===H.coalesce;if($)Q=H.logicalAND.binop;var U=this.value;this.next();var j=this.start,W=this.startLoc,G=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,X),j,W,Q,X),z=this.buildBinary(Z,Y,J,G,U,K||$);if(K&&this.type===H.coalesce||$&&(this.type===H.logicalOR||this.type===H.logicalAND))this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses");return this.parseExprOp(z,Z,Y,q,X)}}return J};n.buildBinary=function(J,Z,Y,q,X,Q){if(q.type==="PrivateIdentifier")this.raise(q.start,"Private identifier can only be left side of binary expression");var K=this.startNodeAt(J,Z);return K.left=Y,K.operator=X,K.right=q,this.finishNode(K,Q?"LogicalExpression":"BinaryExpression")};n.parseMaybeUnary=function(J,Z,Y,q){var X=this.start,Q=this.startLoc,K;if(this.isContextual("await")&&this.canAwait)K=this.parseAwait(q),Z=!0;else if(this.type.prefix){var $=this.startNode(),U=this.type===H.incDec;if($.operator=this.value,$.prefix=!0,this.next(),$.argument=this.parseMaybeUnary(null,!0,U,q),this.checkExpressionErrors(J,!0),U)this.checkLValSimple($.argument);else if(this.strict&&$.operator==="delete"&&dz($.argument))this.raiseRecoverable($.start,"Deleting local variable in strict mode");else if($.operator==="delete"&&Uq($.argument))this.raiseRecoverable($.start,"Private fields can not be deleted");else Z=!0;K=this.finishNode($,U?"UpdateExpression":"UnaryExpression")}else if(!Z&&this.type===H.privateId){if((q||this.privateNameStack.length===0)&&this.options.checkPrivateFields)this.unexpected();if(K=this.parsePrivateIdent(),this.type!==H._in)this.unexpected()}else{if(K=this.parseExprSubscripts(J,q),this.checkExpressionErrors(J))return K;while(this.type.postfix&&!this.canInsertSemicolon()){var j=this.startNodeAt(X,Q);j.operator=this.value,j.prefix=!1,j.argument=K,this.checkLValSimple(K),this.next(),K=this.finishNode(j,"UpdateExpression")}}if(!Y&&this.eat(H.starstar))if(Z)this.unexpected(this.lastTokStart);else return this.buildBinary(X,Q,K,this.parseMaybeUnary(null,!1,!1,q),"**",!1);else return K};function dz(J){return J.type==="Identifier"||J.type==="ParenthesizedExpression"&&dz(J.expression)}function Uq(J){return J.type==="MemberExpression"&&J.property.type==="PrivateIdentifier"||J.type==="ChainExpression"&&Uq(J.expression)||J.type==="ParenthesizedExpression"&&Uq(J.expression)}n.parseExprSubscripts=function(J,Z){var Y=this.start,q=this.startLoc,X=this.parseExprAtom(J,Z);if(X.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return X;var Q=this.parseSubscripts(X,Y,q,!1,Z);if(J&&Q.type==="MemberExpression"){if(J.parenthesizedAssign>=Q.start)J.parenthesizedAssign=-1;if(J.parenthesizedBind>=Q.start)J.parenthesizedBind=-1;if(J.trailingComma>=Q.start)J.trailingComma=-1}return Q};n.parseSubscripts=function(J,Z,Y,q,X){var Q=this.options.ecmaVersion>=8&&J.type==="Identifier"&&J.name==="async"&&this.lastTokEnd===J.end&&!this.canInsertSemicolon()&&J.end-J.start===5&&this.potentialArrowAt===J.start,K=!1;while(!0){var $=this.parseSubscript(J,Z,Y,q,Q,K,X);if($.optional)K=!0;if($===J||$.type==="ArrowFunctionExpression"){if(K){var U=this.startNodeAt(Z,Y);U.expression=$,$=this.finishNode(U,"ChainExpression")}return $}J=$}};n.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(H.arrow)};n.parseSubscriptAsyncArrow=function(J,Z,Y,q){return this.parseArrowExpression(this.startNodeAt(J,Z),Y,!0,q)};n.parseSubscript=function(J,Z,Y,q,X,Q,K){var $=this.options.ecmaVersion>=11,U=$&&this.eat(H.questionDot);if(q&&U)this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var j=this.eat(H.bracketL);if(j||U&&this.type!==H.parenL&&this.type!==H.backQuote||this.eat(H.dot)){var W=this.startNodeAt(Z,Y);if(W.object=J,j)W.property=this.parseExpression(),this.expect(H.bracketR);else if(this.type===H.privateId&&J.type!=="Super")W.property=this.parsePrivateIdent();else W.property=this.parseIdent(this.options.allowReserved!=="never");if(W.computed=!!j,$)W.optional=U;J=this.finishNode(W,"MemberExpression")}else if(!q&&this.eat(H.parenL)){var G=new d6,z=this.yieldPos,O=this.awaitPos,_=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var N=this.parseExprList(H.parenR,this.options.ecmaVersion>=8,!1,G);if(X&&!U&&this.shouldParseAsyncArrow()){if(this.checkPatternErrors(G,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0)this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function");return this.yieldPos=z,this.awaitPos=O,this.awaitIdentPos=_,this.parseSubscriptAsyncArrow(Z,Y,N,K)}this.checkExpressionErrors(G,!0),this.yieldPos=z||this.yieldPos,this.awaitPos=O||this.awaitPos,this.awaitIdentPos=_||this.awaitIdentPos;var A=this.startNodeAt(Z,Y);if(A.callee=J,A.arguments=N,$)A.optional=U;J=this.finishNode(A,"CallExpression")}else if(this.type===H.backQuote){if(U||Q)this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var M=this.startNodeAt(Z,Y);M.tag=J,M.quasi=this.parseTemplate({isTagged:!0}),J=this.finishNode(M,"TaggedTemplateExpression")}return J};n.parseExprAtom=function(J,Z,Y){if(this.type===H.slash)this.readRegexp();var q,X=this.potentialArrowAt===this.start;switch(this.type){case H._super:if(!this.allowSuper)this.raise(this.start,"'super' keyword outside a method");if(q=this.startNode(),this.next(),this.type===H.parenL&&!this.allowDirectSuper)this.raise(q.start,"super() call outside constructor of a subclass");if(this.type!==H.dot&&this.type!==H.bracketL&&this.type!==H.parenL)this.unexpected();return this.finishNode(q,"Super");case H._this:return q=this.startNode(),this.next(),this.finishNode(q,"ThisExpression");case H.name:var Q=this.start,K=this.startLoc,$=this.containsEsc,U=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!$&&U.name==="async"&&!this.canInsertSemicolon()&&this.eat(H._function))return this.overrideContext(V0.f_expr),this.parseFunction(this.startNodeAt(Q,K),0,!1,!0,Z);if(X&&!this.canInsertSemicolon()){if(this.eat(H.arrow))return this.parseArrowExpression(this.startNodeAt(Q,K),[U],!1,Z);if(this.options.ecmaVersion>=8&&U.name==="async"&&this.type===H.name&&!$&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc)){if(U=this.parseIdent(!1),this.canInsertSemicolon()||!this.eat(H.arrow))this.unexpected();return this.parseArrowExpression(this.startNodeAt(Q,K),[U],!0,Z)}}return U;case H.regexp:var j=this.value;return q=this.parseLiteral(j.value),q.regex={pattern:j.pattern,flags:j.flags},q;case H.num:case H.string:return this.parseLiteral(this.value);case H._null:case H._true:case H._false:return q=this.startNode(),q.value=this.type===H._null?null:this.type===H._true,q.raw=this.type.keyword,this.next(),this.finishNode(q,"Literal");case H.parenL:var W=this.start,G=this.parseParenAndDistinguishExpression(X,Z);if(J){if(J.parenthesizedAssign<0&&!this.isSimpleAssignTarget(G))J.parenthesizedAssign=W;if(J.parenthesizedBind<0)J.parenthesizedBind=W}return G;case H.bracketL:return q=this.startNode(),this.next(),q.elements=this.parseExprList(H.bracketR,!0,!0,J),this.finishNode(q,"ArrayExpression");case H.braceL:return this.overrideContext(V0.b_expr),this.parseObj(!1,J);case H._function:return q=this.startNode(),this.next(),this.parseFunction(q,0);case H._class:return this.parseClass(this.startNode(),!1);case H._new:return this.parseNew();case H.backQuote:return this.parseTemplate();case H._import:if(this.options.ecmaVersion>=11)return this.parseExprImport(Y);else return this.unexpected();default:return this.parseExprAtomDefault()}};n.parseExprAtomDefault=function(){this.unexpected()};n.parseExprImport=function(J){var Z=this.startNode();if(this.containsEsc)this.raiseRecoverable(this.start,"Escape sequence in keyword import");if(this.next(),this.type===H.parenL&&!J)return this.parseDynamicImport(Z);else if(this.type===H.dot){var Y=this.startNodeAt(Z.start,Z.loc&&Z.loc.start);return Y.name="import",Z.meta=this.finishNode(Y,"Identifier"),this.parseImportMeta(Z)}else this.unexpected()};n.parseDynamicImport=function(J){if(this.next(),J.source=this.parseMaybeAssign(),this.options.ecmaVersion>=16)if(!this.eat(H.parenR))if(this.expect(H.comma),!this.afterTrailingComma(H.parenR)){if(J.options=this.parseMaybeAssign(),!this.eat(H.parenR)){if(this.expect(H.comma),!this.afterTrailingComma(H.parenR))this.unexpected()}}else J.options=null;else J.options=null;else if(!this.eat(H.parenR)){var Z=this.start;if(this.eat(H.comma)&&this.eat(H.parenR))this.raiseRecoverable(Z,"Trailing comma is not allowed in import()");else this.unexpected(Z)}return this.finishNode(J,"ImportExpression")};n.parseImportMeta=function(J){this.next();var Z=this.containsEsc;if(J.property=this.parseIdent(!0),J.property.name!=="meta")this.raiseRecoverable(J.property.start,"The only valid meta property for import is 'import.meta'");if(Z)this.raiseRecoverable(J.start,"'import.meta' must not contain escaped characters");if(this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere)this.raiseRecoverable(J.start,"Cannot use 'import.meta' outside a module");return this.finishNode(J,"MetaProperty")};n.parseLiteral=function(J){var Z=this.startNode();if(Z.value=J,Z.raw=this.input.slice(this.start,this.end),Z.raw.charCodeAt(Z.raw.length-1)===110)Z.bigint=Z.value!=null?Z.value.toString():Z.raw.slice(0,-1).replace(/_/g,"");return this.next(),this.finishNode(Z,"Literal")};n.parseParenExpression=function(){this.expect(H.parenL);var J=this.parseExpression();return this.expect(H.parenR),J};n.shouldParseArrow=function(J){return!this.canInsertSemicolon()};n.parseParenAndDistinguishExpression=function(J,Z){var Y=this.start,q=this.startLoc,X,Q=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var K=this.start,$=this.startLoc,U=[],j=!0,W=!1,G=new d6,z=this.yieldPos,O=this.awaitPos,_;this.yieldPos=0,this.awaitPos=0;while(this.type!==H.parenR)if(j?j=!1:this.expect(H.comma),Q&&this.afterTrailingComma(H.parenR,!0)){W=!0;break}else if(this.type===H.ellipsis){if(_=this.start,U.push(this.parseParenItem(this.parseRestBinding())),this.type===H.comma)this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else U.push(this.parseMaybeAssign(!1,G,this.parseParenItem));var N=this.lastTokEnd,A=this.lastTokEndLoc;if(this.expect(H.parenR),J&&this.shouldParseArrow(U)&&this.eat(H.arrow))return this.checkPatternErrors(G,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=z,this.awaitPos=O,this.parseParenArrowList(Y,q,U,Z);if(!U.length||W)this.unexpected(this.lastTokStart);if(_)this.unexpected(_);if(this.checkExpressionErrors(G,!0),this.yieldPos=z||this.yieldPos,this.awaitPos=O||this.awaitPos,U.length>1)X=this.startNodeAt(K,$),X.expressions=U,this.finishNodeAt(X,"SequenceExpression",N,A);else X=U[0]}else X=this.parseParenExpression();if(this.options.preserveParens){var M=this.startNodeAt(Y,q);return M.expression=X,this.finishNode(M,"ParenthesizedExpression")}else return X};n.parseParenItem=function(J){return J};n.parseParenArrowList=function(J,Z,Y,q){return this.parseArrowExpression(this.startNodeAt(J,Z),Y,!1,q)};var tD=[];n.parseNew=function(){if(this.containsEsc)this.raiseRecoverable(this.start,"Escape sequence in keyword new");var J=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===H.dot){var Z=this.startNodeAt(J.start,J.loc&&J.loc.start);Z.name="new",J.meta=this.finishNode(Z,"Identifier"),this.next();var Y=this.containsEsc;if(J.property=this.parseIdent(!0),J.property.name!=="target")this.raiseRecoverable(J.property.start,"The only valid meta property for new is 'new.target'");if(Y)this.raiseRecoverable(J.start,"'new.target' must not contain escaped characters");if(!this.allowNewDotTarget)this.raiseRecoverable(J.start,"'new.target' can only be used in functions and class static block");return this.finishNode(J,"MetaProperty")}var q=this.start,X=this.startLoc;if(J.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),q,X,!0,!1),this.eat(H.parenL))J.arguments=this.parseExprList(H.parenR,this.options.ecmaVersion>=8,!1);else J.arguments=tD;return this.finishNode(J,"NewExpression")};n.parseTemplateElement=function(J){var Z=J.isTagged,Y=this.startNode();if(this.type===H.invalidTemplate){if(!Z)this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal");Y.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}}else Y.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value};return this.next(),Y.tail=this.type===H.backQuote,this.finishNode(Y,"TemplateElement")};n.parseTemplate=function(J){if(J===void 0)J={};var Z=J.isTagged;if(Z===void 0)Z=!1;var Y=this.startNode();this.next(),Y.expressions=[];var q=this.parseTemplateElement({isTagged:Z});Y.quasis=[q];while(!q.tail){if(this.type===H.eof)this.raise(this.pos,"Unterminated template literal");this.expect(H.dollarBraceL),Y.expressions.push(this.parseExpression()),this.expect(H.braceR),Y.quasis.push(q=this.parseTemplateElement({isTagged:Z}))}return this.next(),this.finishNode(Y,"TemplateLiteral")};n.isAsyncProp=function(J){return!J.computed&&J.key.type==="Identifier"&&J.key.name==="async"&&(this.type===H.name||this.type===H.num||this.type===H.string||this.type===H.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===H.star)&&!z1.test(this.input.slice(this.lastTokEnd,this.start))};n.parseObj=function(J,Z){var Y=this.startNode(),q=!0,X={};Y.properties=[],this.next();while(!this.eat(H.braceR)){if(!q){if(this.expect(H.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(H.braceR))break}else q=!1;var Q=this.parseProperty(J,Z);if(!J)this.checkPropClash(Q,X,Z);Y.properties.push(Q)}return this.finishNode(Y,J?"ObjectPattern":"ObjectExpression")};n.parseProperty=function(J,Z){var Y=this.startNode(),q,X,Q,K;if(this.options.ecmaVersion>=9&&this.eat(H.ellipsis)){if(J){if(Y.argument=this.parseIdent(!1),this.type===H.comma)this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");return this.finishNode(Y,"RestElement")}if(Y.argument=this.parseMaybeAssign(!1,Z),this.type===H.comma&&Z&&Z.trailingComma<0)Z.trailingComma=this.start;return this.finishNode(Y,"SpreadElement")}if(this.options.ecmaVersion>=6){if(Y.method=!1,Y.shorthand=!1,J||Z)Q=this.start,K=this.startLoc;if(!J)q=this.eat(H.star)}var $=this.containsEsc;if(this.parsePropertyName(Y),!J&&!$&&this.options.ecmaVersion>=8&&!q&&this.isAsyncProp(Y))X=!0,q=this.options.ecmaVersion>=9&&this.eat(H.star),this.parsePropertyName(Y);else X=!1;return this.parsePropertyValue(Y,J,q,X,Q,K,Z,$),this.finishNode(Y,"Property")};n.parseGetterSetter=function(J){var Z=J.key.name;this.parsePropertyName(J),J.value=this.parseMethod(!1),J.kind=Z;var Y=J.kind==="get"?0:1;if(J.value.params.length!==Y){var q=J.value.start;if(J.kind==="get")this.raiseRecoverable(q,"getter should have no params");else this.raiseRecoverable(q,"setter should have exactly one param")}else if(J.kind==="set"&&J.value.params[0].type==="RestElement")this.raiseRecoverable(J.value.params[0].start,"Setter cannot use rest params")};n.parsePropertyValue=function(J,Z,Y,q,X,Q,K,$){if((Y||q)&&this.type===H.colon)this.unexpected();if(this.eat(H.colon))J.value=Z?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,K),J.kind="init";else if(this.options.ecmaVersion>=6&&this.type===H.parenL){if(Z)this.unexpected();J.method=!0,J.value=this.parseMethod(Y,q),J.kind="init"}else if(!Z&&!$&&this.options.ecmaVersion>=5&&!J.computed&&J.key.type==="Identifier"&&(J.key.name==="get"||J.key.name==="set")&&(this.type!==H.comma&&this.type!==H.braceR&&this.type!==H.eq)){if(Y||q)this.unexpected();this.parseGetterSetter(J)}else if(this.options.ecmaVersion>=6&&!J.computed&&J.key.type==="Identifier"){if(Y||q)this.unexpected();if(this.checkUnreserved(J.key),J.key.name==="await"&&!this.awaitIdentPos)this.awaitIdentPos=X;if(Z)J.value=this.parseMaybeDefault(X,Q,this.copyNode(J.key));else if(this.type===H.eq&&K){if(K.shorthandAssign<0)K.shorthandAssign=this.start;J.value=this.parseMaybeDefault(X,Q,this.copyNode(J.key))}else J.value=this.copyNode(J.key);J.kind="init",J.shorthand=!0}else this.unexpected()};n.parsePropertyName=function(J){if(this.options.ecmaVersion>=6)if(this.eat(H.bracketL))return J.computed=!0,J.key=this.parseMaybeAssign(),this.expect(H.bracketR),J.key;else J.computed=!1;return J.key=this.type===H.num||this.type===H.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};n.initFunction=function(J){if(J.id=null,this.options.ecmaVersion>=6)J.generator=J.expression=!1;if(this.options.ecmaVersion>=8)J.async=!1};n.parseMethod=function(J,Z,Y){var q=this.startNode(),X=this.yieldPos,Q=this.awaitPos,K=this.awaitIdentPos;if(this.initFunction(q),this.options.ecmaVersion>=6)q.generator=J;if(this.options.ecmaVersion>=8)q.async=!!Z;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Oq(Z,q.generator)|l6|(Y?mz:0)),this.expect(H.parenL),q.params=this.parseBindingList(H.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(q,!1,!0,!1),this.yieldPos=X,this.awaitPos=Q,this.awaitIdentPos=K,this.finishNode(q,"FunctionExpression")};n.parseArrowExpression=function(J,Z,Y,q){var X=this.yieldPos,Q=this.awaitPos,K=this.awaitIdentPos;if(this.enterScope(Oq(Y,!1)|zq),this.initFunction(J),this.options.ecmaVersion>=8)J.async=!!Y;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,J.params=this.toAssignableList(Z,!0),this.parseFunctionBody(J,!0,!1,q),this.yieldPos=X,this.awaitPos=Q,this.awaitIdentPos=K,this.finishNode(J,"ArrowFunctionExpression")};n.parseFunctionBody=function(J,Z,Y,q){var X=Z&&this.type!==H.braceL,Q=this.strict,K=!1;if(X)J.body=this.parseMaybeAssign(q),J.expression=!0,this.checkParams(J,!1);else{var $=this.options.ecmaVersion>=7&&!this.isSimpleParamList(J.params);if(!Q||$){if(K=this.strictDirective(this.end),K&&$)this.raiseRecoverable(J.start,"Illegal 'use strict' directive in function with non-simple parameter list")}var U=this.labels;if(this.labels=[],K)this.strict=!0;if(this.checkParams(J,!Q&&!K&&!Z&&!Y&&this.isSimpleParamList(J.params)),this.strict&&J.id)this.checkLValSimple(J.id,lz);J.body=this.parseBlock(!1,void 0,K&&!Q),J.expression=!1,this.adaptDirectivePrologue(J.body.body),this.labels=U}this.exitScope()};n.isSimpleParamList=function(J){for(var Z=0,Y=J;Z<Y.length;Z+=1){var q=Y[Z];if(q.type!=="Identifier")return!1}return!0};n.checkParams=function(J,Z){var Y=Object.create(null);for(var q=0,X=J.params;q<X.length;q+=1){var Q=X[q];this.checkLValInnerPattern(Q,_q,Z?null:Y)}};n.parseExprList=function(J,Z,Y,q){var X=[],Q=!0;while(!this.eat(J)){if(!Q){if(this.expect(H.comma),Z&&this.afterTrailingComma(J))break}else Q=!1;var K=void 0;if(Y&&this.type===H.comma)K=null;else if(this.type===H.ellipsis){if(K=this.parseSpread(q),q&&this.type===H.comma&&q.trailingComma<0)q.trailingComma=this.start}else K=this.parseMaybeAssign(!1,q);X.push(K)}return X};n.checkUnreserved=function(J){var{start:Z,end:Y,name:q}=J;if(this.inGenerator&&q==="yield")this.raiseRecoverable(Z,"Cannot use 'yield' as identifier inside a generator");if(this.inAsync&&q==="await")this.raiseRecoverable(Z,"Cannot use 'await' as identifier inside an async function");if(!(this.currentThisScope().flags&p6)&&q==="arguments")this.raiseRecoverable(Z,"Cannot use 'arguments' in class field initializer");if(this.inClassStaticBlock&&(q==="arguments"||q==="await"))this.raise(Z,"Cannot use "+q+" in class static initialization block");if(this.keywords.test(q))this.raise(Z,"Unexpected keyword '"+q+"'");if(this.options.ecmaVersion<6&&this.input.slice(Z,Y).indexOf("\\")!==-1)return;var X=this.strict?this.reservedWordsStrict:this.reservedWords;if(X.test(q)){if(!this.inAsync&&q==="await")this.raiseRecoverable(Z,"Cannot use keyword 'await' outside an async function");this.raiseRecoverable(Z,"The keyword '"+q+"' is reserved")}};n.parseIdent=function(J){var Z=this.parseIdentNode();if(this.next(!!J),this.finishNode(Z,"Identifier"),!J){if(this.checkUnreserved(Z),Z.name==="await"&&!this.awaitIdentPos)this.awaitIdentPos=Z.start}return Z};n.parseIdentNode=function(){var J=this.startNode();if(this.type===H.name)J.name=this.value;else if(this.type.keyword){if(J.name=this.type.keyword,(J.name==="class"||J.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46))this.context.pop();this.type=H.name}else this.unexpected();return J};n.parsePrivateIdent=function(){var J=this.startNode();if(this.type===H.privateId)J.name=this.value;else this.unexpected();if(this.next(),this.finishNode(J,"PrivateIdentifier"),this.options.checkPrivateFields)if(this.privateNameStack.length===0)this.raise(J.start,"Private field '#"+J.name+"' must be declared in an enclosing class");else this.privateNameStack[this.privateNameStack.length-1].used.push(J);return J};n.parseYield=function(J){if(!this.yieldPos)this.yieldPos=this.start;var Z=this.startNode();if(this.next(),this.type===H.semi||this.canInsertSemicolon()||this.type!==H.star&&!this.type.startsExpr)Z.delegate=!1,Z.argument=null;else Z.delegate=this.eat(H.star),Z.argument=this.parseMaybeAssign(J);return this.finishNode(Z,"YieldExpression")};n.parseAwait=function(J){if(!this.awaitPos)this.awaitPos=this.start;var Z=this.startNode();return this.next(),Z.argument=this.parseMaybeUnary(null,!0,!1,J),this.finishNode(Z,"AwaitExpression")};var m6=w0.prototype;m6.raise=function(J,Z){var Y=hz(this.input,J);if(Z+=" ("+Y.line+":"+Y.column+")",this.sourceFile)Z+=" in "+this.sourceFile;var q=SyntaxError(Z);throw q.pos=J,q.loc=Y,q.raisedAt=this.pos,q};m6.raiseRecoverable=m6.raise;m6.curPosition=function(){if(this.options.locations)return new H7(this.curLine,this.pos-this.lineStart)};var QJ=w0.prototype,eD=function(Z){this.flags=Z,this.var=[],this.lexical=[],this.functions=[]};QJ.enterScope=function(J){this.scopeStack.push(new eD(J))};QJ.exitScope=function(){this.scopeStack.pop()};QJ.treatFunctionsAsVarInScope=function(J){return J.flags&n4||!this.inModule&&J.flags&N7};QJ.declareName=function(J,Z,Y){var q=!1;if(Z===x5){var X=this.currentScope();if(q=X.lexical.indexOf(J)>-1||X.functions.indexOf(J)>-1||X.var.indexOf(J)>-1,X.lexical.push(J),this.inModule&&X.flags&N7)delete this.undefinedExports[J]}else if(Z===fz){var Q=this.currentScope();Q.lexical.push(J)}else if(Z===gz){var K=this.currentScope();if(this.treatFunctionsAsVar)q=K.lexical.indexOf(J)>-1;else q=K.lexical.indexOf(J)>-1||K.var.indexOf(J)>-1;K.functions.push(J)}else for(var $=this.scopeStack.length-1;$>=0;--$){var U=this.scopeStack[$];if(U.lexical.indexOf(J)>-1&&!(U.flags&uz&&U.lexical[0]===J)||!this.treatFunctionsAsVarInScope(U)&&U.functions.indexOf(J)>-1){q=!0;break}if(U.var.push(J),this.inModule&&U.flags&N7)delete this.undefinedExports[J];if(U.flags&p6)break}if(q)this.raiseRecoverable(Y,"Identifier '"+J+"' has already been declared")};QJ.checkLocalExport=function(J){if(this.scopeStack[0].lexical.indexOf(J.name)===-1&&this.scopeStack[0].var.indexOf(J.name)===-1)this.undefinedExports[J.name]=J};QJ.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};QJ.currentVarScope=function(){for(var J=this.scopeStack.length-1;;J--){var Z=this.scopeStack[J];if(Z.flags&(p6|R7|cJ))return Z}};QJ.currentThisScope=function(){for(var J=this.scopeStack.length-1;;J--){var Z=this.scopeStack[J];if(Z.flags&(p6|R7|cJ)&&!(Z.flags&zq))return Z}};var c6=function(Z,Y,q){if(this.type="",this.start=Y,this.end=0,Z.options.locations)this.loc=new f6(Z,q);if(Z.options.directSourceFile)this.sourceFile=Z.options.directSourceFile;if(Z.options.ranges)this.range=[Y,0]},A7=w0.prototype;A7.startNode=function(){return new c6(this,this.start,this.startLoc)};A7.startNodeAt=function(J,Z){return new c6(this,J,Z)};function cz(J,Z,Y,q){if(J.type=Z,J.end=Y,this.options.locations)J.loc.end=q;if(this.options.ranges)J.range[1]=Y;return J}A7.finishNode=function(J,Z){return cz.call(this,J,Z,this.lastTokEnd,this.lastTokEndLoc)};A7.finishNodeAt=function(J,Z,Y,q){return cz.call(this,J,Z,Y,q)};A7.copyNode=function(J){var Z=new c6(this,J.start,this.startLoc);for(var Y in J)Z[Y]=J[Y];return Z};var JL="Gara Garay Gukh Gurung_Khema Hrkt Katakana_Or_Hiragana Kawi Kirat_Rai Krai Nag_Mundari Nagm Ol_Onal Onao Sunu Sunuwar Todhri Todr Tulu_Tigalari Tutg Unknown Zzzz",nz="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",iz=nz+" Extended_Pictographic",sz=iz,az=sz+" EBase EComp EMod EPres ExtPict",rz=az,ZL=rz,YL={9:nz,10:iz,11:sz,12:az,13:rz,14:ZL},qL="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",XL={9:"",10:"",11:"",12:"",13:"",14:qL},yz="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",oz="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",tz=oz+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",ez=tz+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",JO=ez+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",ZO=JO+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",QL=ZO+" "+JL,KL={9:oz,10:tz,11:ez,12:JO,13:ZO,14:QL},YO={};function $L(J){var Z=YO[J]={binary:qJ(YL[J]+" "+yz),binaryOfStrings:qJ(XL[J]),nonBinary:{General_Category:qJ(yz),Script:qJ(KL[J])}};Z.nonBinary.Script_Extensions=Z.nonBinary.Script,Z.nonBinary.gc=Z.nonBinary.General_Category,Z.nonBinary.sc=Z.nonBinary.Script,Z.nonBinary.scx=Z.nonBinary.Script_Extensions}for(O7=0,h6=[9,10,11,12,13,14];O7<h6.length;O7+=1)Wq=h6[O7],$L(Wq);var Wq,O7,h6,m=w0.prototype,g6=function(Z,Y){this.parent=Z,this.base=Y||this};g6.prototype.separatedFrom=function(Z){for(var Y=this;Y;Y=Y.parent)for(var q=Z;q;q=q.parent)if(Y.base===q.base&&Y!==q)return!0;return!1};g6.prototype.sibling=function(){return new g6(this.parent,this.base)};var I5=function(Z){this.parser=Z,this.validFlags="gim"+(Z.options.ecmaVersion>=6?"uy":"")+(Z.options.ecmaVersion>=9?"s":"")+(Z.options.ecmaVersion>=13?"d":"")+(Z.options.ecmaVersion>=15?"v":""),this.unicodeProperties=YO[Z.options.ecmaVersion>=14?14:Z.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};I5.prototype.reset=function(Z,Y,q){var X=q.indexOf("v")!==-1,Q=q.indexOf("u")!==-1;if(this.start=Z|0,this.source=Y+"",this.flags=q,X&&this.parser.options.ecmaVersion>=15)this.switchU=!0,this.switchV=!0,this.switchN=!0;else this.switchU=Q&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=Q&&this.parser.options.ecmaVersion>=9};I5.prototype.raise=function(Z){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+Z)};I5.prototype.at=function(Z,Y){if(Y===void 0)Y=!1;var q=this.source,X=q.length;if(Z>=X)return-1;var Q=q.charCodeAt(Z);if(!(Y||this.switchU)||Q<=55295||Q>=57344||Z+1>=X)return Q;var K=q.charCodeAt(Z+1);return K>=56320&&K<=57343?(Q<<10)+K-56613888:Q};I5.prototype.nextIndex=function(Z,Y){if(Y===void 0)Y=!1;var q=this.source,X=q.length;if(Z>=X)return X;var Q=q.charCodeAt(Z),K;if(!(Y||this.switchU)||Q<=55295||Q>=57344||Z+1>=X||(K=q.charCodeAt(Z+1))<56320||K>57343)return Z+1;return Z+2};I5.prototype.current=function(Z){if(Z===void 0)Z=!1;return this.at(this.pos,Z)};I5.prototype.lookahead=function(Z){if(Z===void 0)Z=!1;return this.at(this.nextIndex(this.pos,Z),Z)};I5.prototype.advance=function(Z){if(Z===void 0)Z=!1;this.pos=this.nextIndex(this.pos,Z)};I5.prototype.eat=function(Z,Y){if(Y===void 0)Y=!1;if(this.current(Y)===Z)return this.advance(Y),!0;return!1};I5.prototype.eatChars=function(Z,Y){if(Y===void 0)Y=!1;var q=this.pos;for(var X=0,Q=Z;X<Q.length;X+=1){var K=Q[X],$=this.at(q,Y);if($===-1||$!==K)return!1;q=this.nextIndex(q,Y)}return this.pos=q,!0};m.validateRegExpFlags=function(J){var{validFlags:Z,flags:Y}=J,q=!1,X=!1;for(var Q=0;Q<Y.length;Q++){var K=Y.charAt(Q);if(Z.indexOf(K)===-1)this.raise(J.start,"Invalid regular expression flag");if(Y.indexOf(K,Q+1)>-1)this.raise(J.start,"Duplicate regular expression flag");if(K==="u")q=!0;if(K==="v")X=!0}if(this.options.ecmaVersion>=15&&q&&X)this.raise(J.start,"Invalid regular expression flag")};function UL(J){for(var Z in J)return!0;return!1}m.validateRegExpPattern=function(J){if(this.regexp_pattern(J),!J.switchN&&this.options.ecmaVersion>=9&&UL(J.groupNames))J.switchN=!0,this.regexp_pattern(J)};m.regexp_pattern=function(J){if(J.pos=0,J.lastIntValue=0,J.lastStringValue="",J.lastAssertionIsQuantifiable=!1,J.numCapturingParens=0,J.maxBackReference=0,J.groupNames=Object.create(null),J.backReferenceNames.length=0,J.branchID=null,this.regexp_disjunction(J),J.pos!==J.source.length){if(J.eat(41))J.raise("Unmatched ')'");if(J.eat(93)||J.eat(125))J.raise("Lone quantifier brackets")}if(J.maxBackReference>J.numCapturingParens)J.raise("Invalid escape");for(var Z=0,Y=J.backReferenceNames;Z<Y.length;Z+=1){var q=Y[Z];if(!J.groupNames[q])J.raise("Invalid named capture referenced")}};m.regexp_disjunction=function(J){var Z=this.options.ecmaVersion>=16;if(Z)J.branchID=new g6(J.branchID,null);this.regexp_alternative(J);while(J.eat(124)){if(Z)J.branchID=J.branchID.sibling();this.regexp_alternative(J)}if(Z)J.branchID=J.branchID.parent;if(this.regexp_eatQuantifier(J,!0))J.raise("Nothing to repeat");if(J.eat(123))J.raise("Lone quantifier brackets")};m.regexp_alternative=function(J){while(J.pos<J.source.length&&this.regexp_eatTerm(J));};m.regexp_eatTerm=function(J){if(this.regexp_eatAssertion(J)){if(J.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(J)){if(J.switchU)J.raise("Invalid quantifier")}return!0}if(J.switchU?this.regexp_eatAtom(J):this.regexp_eatExtendedAtom(J))return this.regexp_eatQuantifier(J),!0;return!1};m.regexp_eatAssertion=function(J){var Z=J.pos;if(J.lastAssertionIsQuantifiable=!1,J.eat(94)||J.eat(36))return!0;if(J.eat(92)){if(J.eat(66)||J.eat(98))return!0;J.pos=Z}if(J.eat(40)&&J.eat(63)){var Y=!1;if(this.options.ecmaVersion>=9)Y=J.eat(60);if(J.eat(61)||J.eat(33)){if(this.regexp_disjunction(J),!J.eat(41))J.raise("Unterminated group");return J.lastAssertionIsQuantifiable=!Y,!0}}return J.pos=Z,!1};m.regexp_eatQuantifier=function(J,Z){if(Z===void 0)Z=!1;if(this.regexp_eatQuantifierPrefix(J,Z))return J.eat(63),!0;return!1};m.regexp_eatQuantifierPrefix=function(J,Z){return J.eat(42)||J.eat(43)||J.eat(63)||this.regexp_eatBracedQuantifier(J,Z)};m.regexp_eatBracedQuantifier=function(J,Z){var Y=J.pos;if(J.eat(123)){var q=0,X=-1;if(this.regexp_eatDecimalDigits(J)){if(q=J.lastIntValue,J.eat(44)&&this.regexp_eatDecimalDigits(J))X=J.lastIntValue;if(J.eat(125)){if(X!==-1&&X<q&&!Z)J.raise("numbers out of order in {} quantifier");return!0}}if(J.switchU&&!Z)J.raise("Incomplete quantifier");J.pos=Y}return!1};m.regexp_eatAtom=function(J){return this.regexp_eatPatternCharacters(J)||J.eat(46)||this.regexp_eatReverseSolidusAtomEscape(J)||this.regexp_eatCharacterClass(J)||this.regexp_eatUncapturingGroup(J)||this.regexp_eatCapturingGroup(J)};m.regexp_eatReverseSolidusAtomEscape=function(J){var Z=J.pos;if(J.eat(92)){if(this.regexp_eatAtomEscape(J))return!0;J.pos=Z}return!1};m.regexp_eatUncapturingGroup=function(J){var Z=J.pos;if(J.eat(40)){if(J.eat(63)){if(this.options.ecmaVersion>=16){var Y=this.regexp_eatModifiers(J),q=J.eat(45);if(Y||q){for(var X=0;X<Y.length;X++){var Q=Y.charAt(X);if(Y.indexOf(Q,X+1)>-1)J.raise("Duplicate regular expression modifiers")}if(q){var K=this.regexp_eatModifiers(J);if(!Y&&!K&&J.current()===58)J.raise("Invalid regular expression modifiers");for(var $=0;$<K.length;$++){var U=K.charAt($);if(K.indexOf(U,$+1)>-1||Y.indexOf(U)>-1)J.raise("Duplicate regular expression modifiers")}}}}if(J.eat(58)){if(this.regexp_disjunction(J),J.eat(41))return!0;J.raise("Unterminated group")}}J.pos=Z}return!1};m.regexp_eatCapturingGroup=function(J){if(J.eat(40)){if(this.options.ecmaVersion>=9)this.regexp_groupSpecifier(J);else if(J.current()===63)J.raise("Invalid group");if(this.regexp_disjunction(J),J.eat(41))return J.numCapturingParens+=1,!0;J.raise("Unterminated group")}return!1};m.regexp_eatModifiers=function(J){var Z="",Y=0;while((Y=J.current())!==-1&&WL(Y))Z+=k5(Y),J.advance();return Z};function WL(J){return J===105||J===109||J===115}m.regexp_eatExtendedAtom=function(J){return J.eat(46)||this.regexp_eatReverseSolidusAtomEscape(J)||this.regexp_eatCharacterClass(J)||this.regexp_eatUncapturingGroup(J)||this.regexp_eatCapturingGroup(J)||this.regexp_eatInvalidBracedQuantifier(J)||this.regexp_eatExtendedPatternCharacter(J)};m.regexp_eatInvalidBracedQuantifier=function(J){if(this.regexp_eatBracedQuantifier(J,!0))J.raise("Nothing to repeat");return!1};m.regexp_eatSyntaxCharacter=function(J){var Z=J.current();if(qO(Z))return J.lastIntValue=Z,J.advance(),!0;return!1};function qO(J){return J===36||J>=40&&J<=43||J===46||J===63||J>=91&&J<=94||J>=123&&J<=125}m.regexp_eatPatternCharacters=function(J){var Z=J.pos,Y=0;while((Y=J.current())!==-1&&!qO(Y))J.advance();return J.pos!==Z};m.regexp_eatExtendedPatternCharacter=function(J){var Z=J.current();if(Z!==-1&&Z!==36&&!(Z>=40&&Z<=43)&&Z!==46&&Z!==63&&Z!==91&&Z!==94&&Z!==124)return J.advance(),!0;return!1};m.regexp_groupSpecifier=function(J){if(J.eat(63)){if(!this.regexp_eatGroupName(J))J.raise("Invalid group");var Z=this.options.ecmaVersion>=16,Y=J.groupNames[J.lastStringValue];if(Y)if(Z)for(var q=0,X=Y;q<X.length;q+=1){var Q=X[q];if(!Q.separatedFrom(J.branchID))J.raise("Duplicate capture group name")}else J.raise("Duplicate capture group name");if(Z)(Y||(J.groupNames[J.lastStringValue]=[])).push(J.branchID);else J.groupNames[J.lastStringValue]=!0}};m.regexp_eatGroupName=function(J){if(J.lastStringValue="",J.eat(60)){if(this.regexp_eatRegExpIdentifierName(J)&&J.eat(62))return!0;J.raise("Invalid capture group name")}return!1};m.regexp_eatRegExpIdentifierName=function(J){if(J.lastStringValue="",this.regexp_eatRegExpIdentifierStart(J)){J.lastStringValue+=k5(J.lastIntValue);while(this.regexp_eatRegExpIdentifierPart(J))J.lastStringValue+=k5(J.lastIntValue);return!0}return!1};m.regexp_eatRegExpIdentifierStart=function(J){var Z=J.pos,Y=this.options.ecmaVersion>=11,q=J.current(Y);if(J.advance(Y),q===92&&this.regexp_eatRegExpUnicodeEscapeSequence(J,Y))q=J.lastIntValue;if(jL(q))return J.lastIntValue=q,!0;return J.pos=Z,!1};function jL(J){return M5(J,!0)||J===36||J===95}m.regexp_eatRegExpIdentifierPart=function(J){var Z=J.pos,Y=this.options.ecmaVersion>=11,q=J.current(Y);if(J.advance(Y),q===92&&this.regexp_eatRegExpUnicodeEscapeSequence(J,Y))q=J.lastIntValue;if(GL(q))return J.lastIntValue=q,!0;return J.pos=Z,!1};function GL(J){return XJ(J,!0)||J===36||J===95||J===8204||J===8205}m.regexp_eatAtomEscape=function(J){if(this.regexp_eatBackReference(J)||this.regexp_eatCharacterClassEscape(J)||this.regexp_eatCharacterEscape(J)||J.switchN&&this.regexp_eatKGroupName(J))return!0;if(J.switchU){if(J.current()===99)J.raise("Invalid unicode escape");J.raise("Invalid escape")}return!1};m.regexp_eatBackReference=function(J){var Z=J.pos;if(this.regexp_eatDecimalEscape(J)){var Y=J.lastIntValue;if(J.switchU){if(Y>J.maxBackReference)J.maxBackReference=Y;return!0}if(Y<=J.numCapturingParens)return!0;J.pos=Z}return!1};m.regexp_eatKGroupName=function(J){if(J.eat(107)){if(this.regexp_eatGroupName(J))return J.backReferenceNames.push(J.lastStringValue),!0;J.raise("Invalid named reference")}return!1};m.regexp_eatCharacterEscape=function(J){return this.regexp_eatControlEscape(J)||this.regexp_eatCControlLetter(J)||this.regexp_eatZero(J)||this.regexp_eatHexEscapeSequence(J)||this.regexp_eatRegExpUnicodeEscapeSequence(J,!1)||!J.switchU&&this.regexp_eatLegacyOctalEscapeSequence(J)||this.regexp_eatIdentityEscape(J)};m.regexp_eatCControlLetter=function(J){var Z=J.pos;if(J.eat(99)){if(this.regexp_eatControlLetter(J))return!0;J.pos=Z}return!1};m.regexp_eatZero=function(J){if(J.current()===48&&!n6(J.lookahead()))return J.lastIntValue=0,J.advance(),!0;return!1};m.regexp_eatControlEscape=function(J){var Z=J.current();if(Z===116)return J.lastIntValue=9,J.advance(),!0;if(Z===110)return J.lastIntValue=10,J.advance(),!0;if(Z===118)return J.lastIntValue=11,J.advance(),!0;if(Z===102)return J.lastIntValue=12,J.advance(),!0;if(Z===114)return J.lastIntValue=13,J.advance(),!0;return!1};m.regexp_eatControlLetter=function(J){var Z=J.current();if(XO(Z))return J.lastIntValue=Z%32,J.advance(),!0;return!1};function XO(J){return J>=65&&J<=90||J>=97&&J<=122}m.regexp_eatRegExpUnicodeEscapeSequence=function(J,Z){if(Z===void 0)Z=!1;var Y=J.pos,q=Z||J.switchU;if(J.eat(117)){if(this.regexp_eatFixedHexDigits(J,4)){var X=J.lastIntValue;if(q&&X>=55296&&X<=56319){var Q=J.pos;if(J.eat(92)&&J.eat(117)&&this.regexp_eatFixedHexDigits(J,4)){var K=J.lastIntValue;if(K>=56320&&K<=57343)return J.lastIntValue=(X-55296)*1024+(K-56320)+65536,!0}J.pos=Q,J.lastIntValue=X}return!0}if(q&&J.eat(123)&&this.regexp_eatHexDigits(J)&&J.eat(125)&&zL(J.lastIntValue))return!0;if(q)J.raise("Invalid unicode escape");J.pos=Y}return!1};function zL(J){return J>=0&&J<=1114111}m.regexp_eatIdentityEscape=function(J){if(J.switchU){if(this.regexp_eatSyntaxCharacter(J))return!0;if(J.eat(47))return J.lastIntValue=47,!0;return!1}var Z=J.current();if(Z!==99&&(!J.switchN||Z!==107))return J.lastIntValue=Z,J.advance(),!0;return!1};m.regexp_eatDecimalEscape=function(J){J.lastIntValue=0;var Z=J.current();if(Z>=49&&Z<=57){do J.lastIntValue=10*J.lastIntValue+(Z-48),J.advance();while((Z=J.current())>=48&&Z<=57);return!0}return!1};var QO=0,w5=1,v1=2;m.regexp_eatCharacterClassEscape=function(J){var Z=J.current();if(OL(Z))return J.lastIntValue=-1,J.advance(),w5;var Y=!1;if(J.switchU&&this.options.ecmaVersion>=9&&((Y=Z===80)||Z===112)){J.lastIntValue=-1,J.advance();var q;if(J.eat(123)&&(q=this.regexp_eatUnicodePropertyValueExpression(J))&&J.eat(125)){if(Y&&q===v1)J.raise("Invalid property name");return q}J.raise("Invalid property name")}return QO};function OL(J){return J===100||J===68||J===115||J===83||J===119||J===87}m.regexp_eatUnicodePropertyValueExpression=function(J){var Z=J.pos;if(this.regexp_eatUnicodePropertyName(J)&&J.eat(61)){var Y=J.lastStringValue;if(this.regexp_eatUnicodePropertyValue(J)){var q=J.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(J,Y,q),w5}}if(J.pos=Z,this.regexp_eatLoneUnicodePropertyNameOrValue(J)){var X=J.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(J,X)}return QO};m.regexp_validateUnicodePropertyNameAndValue=function(J,Z,Y){if(!c4(J.unicodeProperties.nonBinary,Z))J.raise("Invalid property name");if(!J.unicodeProperties.nonBinary[Z].test(Y))J.raise("Invalid property value")};m.regexp_validateUnicodePropertyNameOrValue=function(J,Z){if(J.unicodeProperties.binary.test(Z))return w5;if(J.switchV&&J.unicodeProperties.binaryOfStrings.test(Z))return v1;J.raise("Invalid property name")};m.regexp_eatUnicodePropertyName=function(J){var Z=0;J.lastStringValue="";while(KO(Z=J.current()))J.lastStringValue+=k5(Z),J.advance();return J.lastStringValue!==""};function KO(J){return XO(J)||J===95}m.regexp_eatUnicodePropertyValue=function(J){var Z=0;J.lastStringValue="";while(_L(Z=J.current()))J.lastStringValue+=k5(Z),J.advance();return J.lastStringValue!==""};function _L(J){return KO(J)||n6(J)}m.regexp_eatLoneUnicodePropertyNameOrValue=function(J){return this.regexp_eatUnicodePropertyValue(J)};m.regexp_eatCharacterClass=function(J){if(J.eat(91)){var Z=J.eat(94),Y=this.regexp_classContents(J);if(!J.eat(93))J.raise("Unterminated character class");if(Z&&Y===v1)J.raise("Negated character class may contain strings");return!0}return!1};m.regexp_classContents=function(J){if(J.current()===93)return w5;if(J.switchV)return this.regexp_classSetExpression(J);return this.regexp_nonEmptyClassRanges(J),w5};m.regexp_nonEmptyClassRanges=function(J){while(this.regexp_eatClassAtom(J)){var Z=J.lastIntValue;if(J.eat(45)&&this.regexp_eatClassAtom(J)){var Y=J.lastIntValue;if(J.switchU&&(Z===-1||Y===-1))J.raise("Invalid character class");if(Z!==-1&&Y!==-1&&Z>Y)J.raise("Range out of order in character class")}}};m.regexp_eatClassAtom=function(J){var Z=J.pos;if(J.eat(92)){if(this.regexp_eatClassEscape(J))return!0;if(J.switchU){var Y=J.current();if(Y===99||WO(Y))J.raise("Invalid class escape");J.raise("Invalid escape")}J.pos=Z}var q=J.current();if(q!==93)return J.lastIntValue=q,J.advance(),!0;return!1};m.regexp_eatClassEscape=function(J){var Z=J.pos;if(J.eat(98))return J.lastIntValue=8,!0;if(J.switchU&&J.eat(45))return J.lastIntValue=45,!0;if(!J.switchU&&J.eat(99)){if(this.regexp_eatClassControlLetter(J))return!0;J.pos=Z}return this.regexp_eatCharacterClassEscape(J)||this.regexp_eatCharacterEscape(J)};m.regexp_classSetExpression=function(J){var Z=w5,Y;if(this.regexp_eatClassSetRange(J));else if(Y=this.regexp_eatClassSetOperand(J)){if(Y===v1)Z=v1;var q=J.pos;while(J.eatChars([38,38])){if(J.current()!==38&&(Y=this.regexp_eatClassSetOperand(J))){if(Y!==v1)Z=w5;continue}J.raise("Invalid character in character class")}if(q!==J.pos)return Z;while(J.eatChars([45,45])){if(this.regexp_eatClassSetOperand(J))continue;J.raise("Invalid character in character class")}if(q!==J.pos)return Z}else J.raise("Invalid character in character class");for(;;){if(this.regexp_eatClassSetRange(J))continue;if(Y=this.regexp_eatClassSetOperand(J),!Y)return Z;if(Y===v1)Z=v1}};m.regexp_eatClassSetRange=function(J){var Z=J.pos;if(this.regexp_eatClassSetCharacter(J)){var Y=J.lastIntValue;if(J.eat(45)&&this.regexp_eatClassSetCharacter(J)){var q=J.lastIntValue;if(Y!==-1&&q!==-1&&Y>q)J.raise("Range out of order in character class");return!0}J.pos=Z}return!1};m.regexp_eatClassSetOperand=function(J){if(this.regexp_eatClassSetCharacter(J))return w5;return this.regexp_eatClassStringDisjunction(J)||this.regexp_eatNestedClass(J)};m.regexp_eatNestedClass=function(J){var Z=J.pos;if(J.eat(91)){var Y=J.eat(94),q=this.regexp_classContents(J);if(J.eat(93)){if(Y&&q===v1)J.raise("Negated character class may contain strings");return q}J.pos=Z}if(J.eat(92)){var X=this.regexp_eatCharacterClassEscape(J);if(X)return X;J.pos=Z}return null};m.regexp_eatClassStringDisjunction=function(J){var Z=J.pos;if(J.eatChars([92,113])){if(J.eat(123)){var Y=this.regexp_classStringDisjunctionContents(J);if(J.eat(125))return Y}else J.raise("Invalid escape");J.pos=Z}return null};m.regexp_classStringDisjunctionContents=function(J){var Z=this.regexp_classString(J);while(J.eat(124))if(this.regexp_classString(J)===v1)Z=v1;return Z};m.regexp_classString=function(J){var Z=0;while(this.regexp_eatClassSetCharacter(J))Z++;return Z===1?w5:v1};m.regexp_eatClassSetCharacter=function(J){var Z=J.pos;if(J.eat(92)){if(this.regexp_eatCharacterEscape(J)||this.regexp_eatClassSetReservedPunctuator(J))return!0;if(J.eat(98))return J.lastIntValue=8,!0;return J.pos=Z,!1}var Y=J.current();if(Y<0||Y===J.lookahead()&&HL(Y))return!1;if(NL(Y))return!1;return J.advance(),J.lastIntValue=Y,!0};function HL(J){return J===33||J>=35&&J<=38||J>=42&&J<=44||J===46||J>=58&&J<=64||J===94||J===96||J===126}function NL(J){return J===40||J===41||J===45||J===47||J>=91&&J<=93||J>=123&&J<=125}m.regexp_eatClassSetReservedPunctuator=function(J){var Z=J.current();if(RL(Z))return J.lastIntValue=Z,J.advance(),!0;return!1};function RL(J){return J===33||J===35||J===37||J===38||J===44||J===45||J>=58&&J<=62||J===64||J===96||J===126}m.regexp_eatClassControlLetter=function(J){var Z=J.current();if(n6(Z)||Z===95)return J.lastIntValue=Z%32,J.advance(),!0;return!1};m.regexp_eatHexEscapeSequence=function(J){var Z=J.pos;if(J.eat(120)){if(this.regexp_eatFixedHexDigits(J,2))return!0;if(J.switchU)J.raise("Invalid escape");J.pos=Z}return!1};m.regexp_eatDecimalDigits=function(J){var Z=J.pos,Y=0;J.lastIntValue=0;while(n6(Y=J.current()))J.lastIntValue=10*J.lastIntValue+(Y-48),J.advance();return J.pos!==Z};function n6(J){return J>=48&&J<=57}m.regexp_eatHexDigits=function(J){var Z=J.pos,Y=0;J.lastIntValue=0;while($O(Y=J.current()))J.lastIntValue=16*J.lastIntValue+UO(Y),J.advance();return J.pos!==Z};function $O(J){return J>=48&&J<=57||J>=65&&J<=70||J>=97&&J<=102}function UO(J){if(J>=65&&J<=70)return 10+(J-65);if(J>=97&&J<=102)return 10+(J-97);return J-48}m.regexp_eatLegacyOctalEscapeSequence=function(J){if(this.regexp_eatOctalDigit(J)){var Z=J.lastIntValue;if(this.regexp_eatOctalDigit(J)){var Y=J.lastIntValue;if(Z<=3&&this.regexp_eatOctalDigit(J))J.lastIntValue=Z*64+Y*8+J.lastIntValue;else J.lastIntValue=Z*8+Y}else J.lastIntValue=Z;return!0}return!1};m.regexp_eatOctalDigit=function(J){var Z=J.current();if(WO(Z))return J.lastIntValue=Z-48,J.advance(),!0;return J.lastIntValue=0,!1};function WO(J){return J>=48&&J<=55}m.regexp_eatFixedHexDigits=function(J,Z){var Y=J.pos;J.lastIntValue=0;for(var q=0;q<Z;++q){var X=J.current();if(!$O(X))return J.pos=Y,!1;J.lastIntValue=16*J.lastIntValue+UO(X),J.advance()}return!0};var Nq=function(Z){if(this.type=Z.type,this.value=Z.value,this.start=Z.start,this.end=Z.end,Z.options.locations)this.loc=new f6(Z,Z.startLoc,Z.endLoc);if(Z.options.ranges)this.range=[Z.start,Z.end]},J0=w0.prototype;J0.next=function(J){if(!J&&this.type.keyword&&this.containsEsc)this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword);if(this.options.onToken)this.options.onToken(new Nq(this));this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};J0.getToken=function(){return this.next(),new Nq(this)};if(typeof Symbol<"u")J0[Symbol.iterator]=function(){var J=this;return{next:function(){var Z=J.getToken();return{done:Z.type===H.eof,value:Z}}}};J0.nextToken=function(){var J=this.curContext();if(!J||!J.preserveSpace)this.skipSpace();if(this.start=this.pos,this.options.locations)this.startLoc=this.curPosition();if(this.pos>=this.input.length)return this.finishToken(H.eof);if(J.override)return J.override(this);else this.readToken(this.fullCharCodeAtPos())};J0.readToken=function(J){if(M5(J,this.options.ecmaVersion>=6)||J===92)return this.readWord();return this.getTokenFromCode(J)};J0.fullCharCodeAtPos=function(){var J=this.input.charCodeAt(this.pos);if(J<=55295||J>=56320)return J;var Z=this.input.charCodeAt(this.pos+1);return Z<=56319||Z>=57344?J:(J<<10)+Z-56613888};J0.skipBlockComment=function(){var J=this.options.onComment&&this.curPosition(),Z=this.pos,Y=this.input.indexOf("*/",this.pos+=2);if(Y===-1)this.raise(this.pos-2,"Unterminated comment");if(this.pos=Y+2,this.options.locations)for(var q=void 0,X=Z;(q=kz(this.input,X,this.pos))>-1;)++this.curLine,X=this.lineStart=q;if(this.options.onComment)this.options.onComment(!0,this.input.slice(Z+2,Y),Z,this.pos,J,this.curPosition())};J0.skipLineComment=function(J){var Z=this.pos,Y=this.options.onComment&&this.curPosition(),q=this.input.charCodeAt(this.pos+=J);while(this.pos<this.input.length&&!d4(q))q=this.input.charCodeAt(++this.pos);if(this.options.onComment)this.options.onComment(!1,this.input.slice(Z+J,this.pos),Z,this.pos,Y,this.curPosition())};J0.skipSpace=function(){J:while(this.pos<this.input.length){var J=this.input.charCodeAt(this.pos);switch(J){case 32:case 160:++this.pos;break;case 13:if(this.input.charCodeAt(this.pos+1)===10)++this.pos;case 10:case 8232:case 8233:if(++this.pos,this.options.locations)++this.curLine,this.lineStart=this.pos;break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break J}break;default:if(J>8&&J<14||J>=5760&&wz.test(String.fromCharCode(J)))++this.pos;else break J}}};J0.finishToken=function(J,Z){if(this.end=this.pos,this.options.locations)this.endLoc=this.curPosition();var Y=this.type;this.type=J,this.value=Z,this.updateContext(Y)};J0.readToken_dot=function(){var J=this.input.charCodeAt(this.pos+1);if(J>=48&&J<=57)return this.readNumber(!0);var Z=this.input.charCodeAt(this.pos+2);if(this.options.ecmaVersion>=6&&J===46&&Z===46)return this.pos+=3,this.finishToken(H.ellipsis);else return++this.pos,this.finishToken(H.dot)};J0.readToken_slash=function(){var J=this.input.charCodeAt(this.pos+1);if(this.exprAllowed)return++this.pos,this.readRegexp();if(J===61)return this.finishOp(H.assign,2);return this.finishOp(H.slash,1)};J0.readToken_mult_modulo_exp=function(J){var Z=this.input.charCodeAt(this.pos+1),Y=1,q=J===42?H.star:H.modulo;if(this.options.ecmaVersion>=7&&J===42&&Z===42)++Y,q=H.starstar,Z=this.input.charCodeAt(this.pos+2);if(Z===61)return this.finishOp(H.assign,Y+1);return this.finishOp(q,Y)};J0.readToken_pipe_amp=function(J){var Z=this.input.charCodeAt(this.pos+1);if(Z===J){if(this.options.ecmaVersion>=12){var Y=this.input.charCodeAt(this.pos+2);if(Y===61)return this.finishOp(H.assign,3)}return this.finishOp(J===124?H.logicalOR:H.logicalAND,2)}if(Z===61)return this.finishOp(H.assign,2);return this.finishOp(J===124?H.bitwiseOR:H.bitwiseAND,1)};J0.readToken_caret=function(){var J=this.input.charCodeAt(this.pos+1);if(J===61)return this.finishOp(H.assign,2);return this.finishOp(H.bitwiseXOR,1)};J0.readToken_plus_min=function(J){var Z=this.input.charCodeAt(this.pos+1);if(Z===J){if(Z===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||z1.test(this.input.slice(this.lastTokEnd,this.pos))))return this.skipLineComment(3),this.skipSpace(),this.nextToken();return this.finishOp(H.incDec,2)}if(Z===61)return this.finishOp(H.assign,2);return this.finishOp(H.plusMin,1)};J0.readToken_lt_gt=function(J){var Z=this.input.charCodeAt(this.pos+1),Y=1;if(Z===J){if(Y=J===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+Y)===61)return this.finishOp(H.assign,Y+1);return this.finishOp(H.bitShift,Y)}if(Z===33&&J===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45)return this.skipLineComment(4),this.skipSpace(),this.nextToken();if(Z===61)Y=2;return this.finishOp(H.relational,Y)};J0.readToken_eq_excl=function(J){var Z=this.input.charCodeAt(this.pos+1);if(Z===61)return this.finishOp(H.equality,this.input.charCodeAt(this.pos+2)===61?3:2);if(J===61&&Z===62&&this.options.ecmaVersion>=6)return this.pos+=2,this.finishToken(H.arrow);return this.finishOp(J===61?H.eq:H.prefix,1)};J0.readToken_question=function(){var J=this.options.ecmaVersion;if(J>=11){var Z=this.input.charCodeAt(this.pos+1);if(Z===46){var Y=this.input.charCodeAt(this.pos+2);if(Y<48||Y>57)return this.finishOp(H.questionDot,2)}if(Z===63){if(J>=12){var q=this.input.charCodeAt(this.pos+2);if(q===61)return this.finishOp(H.assign,3)}return this.finishOp(H.coalesce,2)}}return this.finishOp(H.question,1)};J0.readToken_numberSign=function(){var J=this.options.ecmaVersion,Z=35;if(J>=13){if(++this.pos,Z=this.fullCharCodeAtPos(),M5(Z,!0)||Z===92)return this.finishToken(H.privateId,this.readWord1())}this.raise(this.pos,"Unexpected character '"+k5(Z)+"'")};J0.getTokenFromCode=function(J){switch(J){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(H.parenL);case 41:return++this.pos,this.finishToken(H.parenR);case 59:return++this.pos,this.finishToken(H.semi);case 44:return++this.pos,this.finishToken(H.comma);case 91:return++this.pos,this.finishToken(H.bracketL);case 93:return++this.pos,this.finishToken(H.bracketR);case 123:return++this.pos,this.finishToken(H.braceL);case 125:return++this.pos,this.finishToken(H.braceR);case 58:return++this.pos,this.finishToken(H.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(H.backQuote);case 48:var Z=this.input.charCodeAt(this.pos+1);if(Z===120||Z===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(Z===111||Z===79)return this.readRadixNumber(8);if(Z===98||Z===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(J);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(J);case 124:case 38:return this.readToken_pipe_amp(J);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(J);case 60:case 62:return this.readToken_lt_gt(J);case 61:case 33:return this.readToken_eq_excl(J);case 63:return this.readToken_question();case 126:return this.finishOp(H.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+k5(J)+"'")};J0.finishOp=function(J,Z){var Y=this.input.slice(this.pos,this.pos+Z);return this.pos+=Z,this.finishToken(J,Y)};J0.readRegexp=function(){var J,Z,Y=this.pos;for(;;){if(this.pos>=this.input.length)this.raise(Y,"Unterminated regular expression");var q=this.input.charAt(this.pos);if(z1.test(q))this.raise(Y,"Unterminated regular expression");if(!J){if(q==="[")Z=!0;else if(q==="]"&&Z)Z=!1;else if(q==="/"&&!Z)break;J=q==="\\"}else J=!1;++this.pos}var X=this.input.slice(Y,this.pos);++this.pos;var Q=this.pos,K=this.readWord1();if(this.containsEsc)this.unexpected(Q);var $=this.regexpState||(this.regexpState=new I5(this));$.reset(Y,X,K),this.validateRegExpFlags($),this.validateRegExpPattern($);var U=null;try{U=new RegExp(X,K)}catch(j){}return this.finishToken(H.regexp,{pattern:X,flags:K,value:U})};J0.readInt=function(J,Z,Y){var q=this.options.ecmaVersion>=12&&Z===void 0,X=Y&&this.input.charCodeAt(this.pos)===48,Q=this.pos,K=0,$=0;for(var U=0,j=Z==null?1/0:Z;U<j;++U,++this.pos){var W=this.input.charCodeAt(this.pos),G=void 0;if(q&&W===95){if(X)this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals");if($===95)this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore");if(U===0)this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits");$=W;continue}if(W>=97)G=W-97+10;else if(W>=65)G=W-65+10;else if(W>=48&&W<=57)G=W-48;else G=1/0;if(G>=J)break;$=W,K=K*J+G}if(q&&$===95)this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits");if(this.pos===Q||Z!=null&&this.pos-Q!==Z)return null;return K};function AL(J,Z){if(Z)return parseInt(J,8);return parseFloat(J.replace(/_/g,""))}function jO(J){if(typeof BigInt!=="function")return null;return BigInt(J.replace(/_/g,""))}J0.readRadixNumber=function(J){var Z=this.pos;this.pos+=2;var Y=this.readInt(J);if(Y==null)this.raise(this.start+2,"Expected number in radix "+J);if(this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110)Y=jO(this.input.slice(Z,this.pos)),++this.pos;else if(M5(this.fullCharCodeAtPos()))this.raise(this.pos,"Identifier directly after number");return this.finishToken(H.num,Y)};J0.readNumber=function(J){var Z=this.pos;if(!J&&this.readInt(10,void 0,!0)===null)this.raise(Z,"Invalid number");var Y=this.pos-Z>=2&&this.input.charCodeAt(Z)===48;if(Y&&this.strict)this.raise(Z,"Invalid number");var q=this.input.charCodeAt(this.pos);if(!Y&&!J&&this.options.ecmaVersion>=11&&q===110){var X=jO(this.input.slice(Z,this.pos));if(++this.pos,M5(this.fullCharCodeAtPos()))this.raise(this.pos,"Identifier directly after number");return this.finishToken(H.num,X)}if(Y&&/[89]/.test(this.input.slice(Z,this.pos)))Y=!1;if(q===46&&!Y)++this.pos,this.readInt(10),q=this.input.charCodeAt(this.pos);if((q===69||q===101)&&!Y){if(q=this.input.charCodeAt(++this.pos),q===43||q===45)++this.pos;if(this.readInt(10)===null)this.raise(Z,"Invalid number")}if(M5(this.fullCharCodeAtPos()))this.raise(this.pos,"Identifier directly after number");var Q=AL(this.input.slice(Z,this.pos),Y);return this.finishToken(H.num,Q)};J0.readCodePoint=function(){var J=this.input.charCodeAt(this.pos),Z;if(J===123){if(this.options.ecmaVersion<6)this.unexpected();var Y=++this.pos;if(Z=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,Z>1114111)this.invalidStringToken(Y,"Code point out of bounds")}else Z=this.readHexChar(4);return Z};J0.readString=function(J){var Z="",Y=++this.pos;for(;;){if(this.pos>=this.input.length)this.raise(this.start,"Unterminated string constant");var q=this.input.charCodeAt(this.pos);if(q===J)break;if(q===92)Z+=this.input.slice(Y,this.pos),Z+=this.readEscapedChar(!1),Y=this.pos;else if(q===8232||q===8233){if(this.options.ecmaVersion<10)this.raise(this.start,"Unterminated string constant");if(++this.pos,this.options.locations)this.curLine++,this.lineStart=this.pos}else{if(d4(q))this.raise(this.start,"Unterminated string constant");++this.pos}}return Z+=this.input.slice(Y,this.pos++),this.finishToken(H.string,Z)};var GO={};J0.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(J){if(J===GO)this.readInvalidTemplateToken();else throw J}this.inTemplateElement=!1};J0.invalidStringToken=function(J,Z){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw GO;else this.raise(J,Z)};J0.readTmplToken=function(){var J="",Z=this.pos;for(;;){if(this.pos>=this.input.length)this.raise(this.start,"Unterminated template");var Y=this.input.charCodeAt(this.pos);if(Y===96||Y===36&&this.input.charCodeAt(this.pos+1)===123){if(this.pos===this.start&&(this.type===H.template||this.type===H.invalidTemplate))if(Y===36)return this.pos+=2,this.finishToken(H.dollarBraceL);else return++this.pos,this.finishToken(H.backQuote);return J+=this.input.slice(Z,this.pos),this.finishToken(H.template,J)}if(Y===92)J+=this.input.slice(Z,this.pos),J+=this.readEscapedChar(!0),Z=this.pos;else if(d4(Y)){switch(J+=this.input.slice(Z,this.pos),++this.pos,Y){case 13:if(this.input.charCodeAt(this.pos)===10)++this.pos;case 10:J+=`
`;break;default:J+=String.fromCharCode(Y);break}if(this.options.locations)++this.curLine,this.lineStart=this.pos;Z=this.pos}else++this.pos}};J0.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(H.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":if(this.input[this.pos+1]===`
`)++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")};J0.readEscapedChar=function(J){var Z=this.input.charCodeAt(++this.pos);switch(++this.pos,Z){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return k5(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:if(this.input.charCodeAt(this.pos)===10)++this.pos;case 10:if(this.options.locations)this.lineStart=this.pos,++this.curLine;return"";case 56:case 57:if(this.strict)this.invalidStringToken(this.pos-1,"Invalid escape sequence");if(J){var Y=this.pos-1;this.invalidStringToken(Y,"Invalid escape sequence in template string")}default:if(Z>=48&&Z<=55){var q=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],X=parseInt(q,8);if(X>255)q=q.slice(0,-1),X=parseInt(q,8);if(this.pos+=q.length-1,Z=this.input.charCodeAt(this.pos),(q!=="0"||Z===56||Z===57)&&(this.strict||J))this.invalidStringToken(this.pos-1-q.length,J?"Octal literal in template string":"Octal literal in strict mode");return String.fromCharCode(X)}if(d4(Z)){if(this.options.locations)this.lineStart=this.pos,++this.curLine;return""}return String.fromCharCode(Z)}};J0.readHexChar=function(J){var Z=this.pos,Y=this.readInt(16,J);if(Y===null)this.invalidStringToken(Z,"Bad character escape sequence");return Y};J0.readWord1=function(){this.containsEsc=!1;var J="",Z=!0,Y=this.pos,q=this.options.ecmaVersion>=6;while(this.pos<this.input.length){var X=this.fullCharCodeAtPos();if(XJ(X,q))this.pos+=X<=65535?1:2;else if(X===92){this.containsEsc=!0,J+=this.input.slice(Y,this.pos);var Q=this.pos;if(this.input.charCodeAt(++this.pos)!==117)this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX");++this.pos;var K=this.readCodePoint();if(!(Z?M5:XJ)(K,q))this.invalidStringToken(Q,"Invalid Unicode escape");J+=k5(K),Y=this.pos}else break;Z=!1}return J+this.input.slice(Y,this.pos)};J0.readWord=function(){var J=this.readWord1(),Z=H.name;if(this.keywords.test(J))Z=jq[J];return this.finishToken(Z,J)};var FL="8.15.0";w0.acorn={Parser:w0,version:FL,defaultOptions:Kq,Position:H7,SourceLocation:f6,getLineInfo:hz,Node:c6,TokenType:X0,tokTypes:H,keywordTypes:jq,TokContext:J5,tokContexts:V0,isIdentifierChar:XJ,isIdentifierStart:M5,Token:Nq,isNewLine:d4,lineBreak:z1,lineBreakG:lD,nonASCIIwhitespace:wz};function zO(J,Z){return w0.parse(J,Z)}function OO(J,Z,Y){return w0.parseExpressionAt(J,Z,Y)}class A0 extends Error{line;column;source;filename;constructor(J,Z,Y,q){let X=`${q||"<source>"}:${Z.line}:${Z.column}`;super(`${J} at ${X}`);this.name="TranspileError",this.line=Z.line,this.column=Z.column,this.source=Y,this.filename=q}}class O1 extends A0{constructor(J,Z,Y,q){super(J,Z,Y,q);this.name="SyntaxError"}}class _O extends A0{expected;received;suggestion;constructor(J,Z,Y){super(J,Z,Y?.source,Y?.filename);this.name="TypeError",this.expected=Y?.expected,this.received=Y?.received,this.suggestion=Y?.suggestion}}function I1(J){return{depth:J.depth+1,locals:new Map,parent:J,parameters:J.parameters,atoms:J.atoms,warnings:J.warnings,source:J.source,filename:J.filename,options:J.options}}function HO(J,Z){if(Z.locals.has(J))return Z.locals.get(J);if(Z.parameters.has(J))return Z.parameters.get(J)?.type;if(Z.parent)return HO(J,Z.parent);return}function I0(J){if(J.loc)return{line:J.loc.start.line,column:J.loc.start.column};return{line:1,column:0}}function Rq(J){let Z=J,Y,q=new Set,X=J.match(/\)\s*->\s*(\{[\s\S]*?\}|\[[^\]]*\]|'[^']*'|\d+|true|false)\s*\{(?!\s*\w+:)/);if(X){Y=X[1];let Q=/\)\s*->\s*(?:\{[\s\S]*?\}|\[[^\]]*\]|'[^']*'|\d+|true|false)\s*(\{)(?!\s*\w+:)/;J=J.replace(Q,") $1")}return J=J.replace(/function\s+(\w+)\s*\(([^)]*)\)/g,(Q,K,$)=>{if(!$.trim())return Q;let U=new Set,j=!1,W=VL($).map((G)=>{if(G=G.trim(),G.startsWith("{"))return G;let z=G.match(/^(\w+)\s*:\s*(.+)$/);if(z){let[,N,A]=z;if(U.has(N))throw new O1(`Duplicate parameter name '${N}'`,{line:1,column:0},Z);if(U.add(N),!A.includes("=")){if(j)throw new O1(`Required parameter '${N}' cannot follow optional parameter`,{line:1,column:0},Z);return q.add(N),`${N} = ${A}`}}let O=G.match(/^(\w+)\s*=/);if(O){let N=O[1];if(U.has(N))throw new O1(`Duplicate parameter name '${N}'`,{line:1,column:0},Z);U.add(N),j=!0}let _=G.match(/^(\w+)$/);if(_){let N=_[1];if(U.has(N))throw new O1(`Duplicate parameter name '${N}'`,{line:1,column:0},Z);if(U.add(N),j)throw new O1(`Required parameter '${N}' cannot follow optional parameter`,{line:1,column:0},Z)}return G}).join(", ");return`function ${K}(${W})`}),{source:J,returnType:Y,originalSource:Z,requiredParams:q}}function VL(J){let Z=[],Y="",q=0;for(let X of J)if(X==="("||X==="{"||X==="[")q++,Y+=X;else if(X===")"||X==="}"||X==="]")q--,Y+=X;else if(X===","&&q===0)Z.push(Y),Y="";else Y+=X;if(Y.trim())Z.push(Y);return Z}function i6(J,Z={}){let{filename:Y="<source>",colonShorthand:q=!0}=Z,{source:X,returnType:Q,originalSource:K,requiredParams:$}=q?Rq(J):{source:J,returnType:void 0,originalSource:J,requiredParams:new Set};try{return{ast:zO(X,{ecmaVersion:2022,sourceType:"module",locations:!0,allowReturnOutsideFunction:!1}),returnType:Q,originalSource:K,requiredParams:$}}catch(U){let j=U.loc||{line:1,column:0};throw new O1(U.message.replace(/\s*\(\d+:\d+\)$/,""),j,K,Y)}}function NO(J,Z){for(let q of J.body){if(q.type==="ImportDeclaration")throw new O1("Imports are not supported. All atoms must be registered with the VM.",q.loc?.start||{line:1,column:0},void 0,Z);if(q.type==="ExportNamedDeclaration"||q.type==="ExportDefaultDeclaration")throw new O1("Exports are not supported. The function is automatically exported.",q.loc?.start||{line:1,column:0},void 0,Z);if(q.type==="ClassDeclaration")throw new O1("Classes are not supported. Agent99 uses functional composition.",q.loc?.start||{line:1,column:0},void 0,Z)}let Y=J.body.filter((q)=>q.type==="FunctionDeclaration");if(Y.length===0)throw new O1("Source must contain a function declaration",{line:1,column:0},void 0,Z);if(Y.length>1){let q=Y[1];throw new O1("Only a single function per agent is allowed",q.loc?.start||{line:1,column:0},void 0,Z)}return Y[0]}function RO(J,Z){let Y={params:{}};if(!Z.loc)return Y;let X=J.substring(0,Z.start).match(/\/\*\*[\s\S]*?\*\/\s*$/);if(!X)return Y;let Q=X[0],K=Q.match(/\/\*\*\s*\n?\s*\*?\s*([^@\n][^\n]*)/m);if(K)Y.description=K[1].trim();let $=/@param\s+(?:\{[^}]+\}\s+)?(\w+)\s*-?\s*(.*)/g,U;while((U=$.exec(Q))!==null)Y.params[U[1]]=U[2].trim();return Y}function Z5(J){switch(J.type){case"Literal":{let Z=J.value;if(Z===null)return{kind:"null"};if(typeof Z==="string")return{kind:"string"};if(typeof Z==="number")return{kind:"number"};if(typeof Z==="boolean")return{kind:"boolean"};return{kind:"any"}}case"ArrayExpression":{let Z=J.elements;if(Z.length===0)return{kind:"array",items:{kind:"any"}};return{kind:"array",items:Z5(Z[0])}}case"ObjectExpression":{let Z=J.properties,Y={};for(let q of Z)if(q.type==="Property"&&q.key.type==="Identifier"){let X=q.key.name;Y[X]=Z5(q.value)}return{kind:"object",shape:Y}}case"LogicalExpression":{let{operator:Z,left:Y,right:q}=J;if(Z==="||"){let X=Z5(Y),Q=Z5(q);if(Q.kind==="null")return{...X,nullable:!0};if(X.kind==="null")return{...Q,nullable:!0};return{kind:"union",members:[X,Q]}}if(Z==="&&")return Z5(q);return{kind:"any"}}case"Identifier":return{kind:"any"};case"UnaryExpression":{if(J.operator==="-"&&J.argument.type==="Literal"){if(typeof J.argument.value==="number")return{kind:"number"}}return{kind:"any"}}default:return{kind:"any"}}}function r6(J,Z){if(J.type==="Identifier")return{name:J.name,type:{kind:"any"},required:!0};if(J.type==="AssignmentPattern"){let{left:Y,right:q}=J;if(Y.type!=="Identifier")throw new A0("Only simple parameter names are supported",I0(J));let X=Y.name,Q=Z?.has(X)??!1,K=Z5(q),$=nJ(q);return{name:X,type:K,required:Q,default:Q?null:$}}if(J.type==="ObjectPattern"){let Y=J.properties,q={},X={};for(let Q of Y)if(Q.type==="Property"){let K=Q.key.type==="Identifier"?Q.key.name:String(Q.key.value);if(Q.value.type==="Identifier")q[K]={kind:"any"},X[K]={name:K,type:{kind:"any"},required:!0};else if(Q.value.type==="AssignmentPattern"){let $=r6(Q.value);q[K]=$.type,X[K]={name:K,type:$.type,required:!1,default:$.default}}}return{name:"__destructured__",type:{kind:"object",shape:q,destructuredParams:X},required:!0}}throw new A0(`Unsupported parameter pattern: ${J.type}`,I0(J))}function nJ(J){switch(J.type){case"Literal":return J.value;case"ArrayExpression":return J.elements.map((Z)=>Z?nJ(Z):null);case"ObjectExpression":{let Z={};for(let Y of J.properties)if(Y.type==="Property"&&Y.key.type==="Identifier")Z[Y.key.name]=nJ(Y.value);return Z}case"UnaryExpression":if(J.operator==="-"){let Z=nJ(J.argument);return typeof Z==="number"?-Z:void 0}return;case"LogicalExpression":{let{operator:Z,left:Y,right:q}=J;if(Z==="&&"){if(Y.type==="Literal"&&Y.value===null)return null}if(Z==="||")return nJ(Y)??nJ(q);return}default:return}}function Aq(J){try{let Z=OO(J,0,{ecmaVersion:2022});return Z5(Z)}catch{return{kind:"any"}}}function s6(J){switch(J.kind){case"string":return J.nullable?"string | null":"string";case"number":return J.nullable?"number | null":"number";case"boolean":return J.nullable?"boolean | null":"boolean";case"null":return"null";case"any":return"any";case"array":{let Z=J.items?s6(J.items):"any";return J.nullable?`${Z}[] | null`:`${Z}[]`}case"object":{if(!J.shape||Object.keys(J.shape).length===0)return J.nullable?"object | null":"object";let Z=Object.entries(J.shape).map(([Y,q])=>`${Y}: ${s6(q)}`).join(", ");return J.nullable?`{ ${Z} } | null`:`{ ${Z} }`}case"union":return J.members?.map(s6).join(" | ")||"any";default:return"any"}}function a6(J,Z){if(J===null||J===void 0)return Z.nullable||Z.kind==="null"||Z.kind==="any";switch(Z.kind){case"any":return!0;case"null":return J===null;case"string":return typeof J==="string";case"number":return typeof J==="number";case"boolean":return typeof J==="boolean";case"array":if(!Array.isArray(J))return!1;if(!Z.items)return!0;return J.every((Y)=>a6(Y,Z.items));case"object":if(typeof J!=="object"||J===null||Array.isArray(J))return!1;if(!Z.shape)return!0;for(let[Y,q]of Object.entries(Z.shape))if(!a6(J[Y],q))return!1;return!0;case"union":if(!Z.members)return!0;return Z.members.some((Y)=>a6(J,Y));default:return!0}}function o6(J,Z,Y,q={},X){let Q=RO(Z,J),K=new Map;for(let _ of J.params){let N=r6(_,X);if(N.name==="__destructured__"&&N.type.kind==="object"&&N.type.destructuredParams)for(let[A,M]of Object.entries(N.type.destructuredParams))K.set(A,{...M,description:Q.params[A]});else N.description=Q.params[N.name],K.set(N.name,N)}let $;if(Y)$=Aq(Y);let U={depth:0,locals:new Map,parameters:K,atoms:new Set(Object.keys(q.atoms||{})),warnings:[],source:Z,filename:q.filename||"<source>",options:q},j=D5(J.body,U),W=[],G=[],z=[];for(let[_,N]of K.entries())if(N.required)G.push(_);else if(N.default!==void 0)z.push({name:_,defaultValue:N.default});else G.push(_);if(G.length>0)W.push({op:"varsImport",keys:G});for(let{name:_,defaultValue:N}of z)W.push({op:"varsImport",keys:[_]}),W.push({op:"if",condition:{$expr:"binary",op:"==",left:{$expr:"ident",name:_},right:{$expr:"literal",value:null}},then:[{op:"varSet",key:_,value:N}]});W.push(...j);let O={name:J.id?.name||"anonymous",description:Q.description,parameters:Object.fromEntries(K),returns:$};return{ast:{op:"seq",steps:W},signature:O,warnings:U.warnings}}function D5(J,Z){let Y=[];for(let q of J.body){let X=F7(q,Z);if(X)if(Array.isArray(X))Y.push(...X);else Y.push(X)}return Y}function F7(J,Z){switch(J.type){case"VariableDeclaration":return IL(J,Z);case"ExpressionStatement":return DL(J,Z);case"IfStatement":return BL(J,Z);case"WhileStatement":return PL(J,Z);case"ForOfStatement":return EL(J,Z);case"TryStatement":return CL(J,Z);case"ReturnStatement":return TL(J,Z);case"ThrowStatement":throw new A0("'throw' is not supported in AsyncJS. Use Error('message') to trigger error flow",I0(J),Z.source,Z.filename);case"BlockStatement":return{op:"scope",steps:D5(J,I1(Z))};case"EmptyStatement":return null;default:throw new A0(`Unsupported statement type: ${J.type}`,I0(J),Z.source,Z.filename)}}function IL(J,Z){let Y=[],q=J.kind==="const",X=q?"constSet":"varSet";for(let Q of J.declarations){if(Q.id.type!=="Identifier")throw new A0("Only simple variable names are supported",I0(Q),Z.source,Z.filename);let K=Q.id.name;if(Q.init){let{step:$,resultVar:U}=iJ(Q.init,Z,K,q);if($)Y.push($);else if(U!==K)Y.push({op:X,key:K,value:U});let j=Z5(Q.init);Z.locals.set(K,j)}else{if(q)throw new A0("const declarations must be initialized",I0(Q),Z.source,Z.filename);Y.push({op:"varSet",key:K,value:null}),Z.locals.set(K,{kind:"any",nullable:!0})}}return Y}function DL(J,Z){let Y=J.expression;if(Y.type==="AssignmentExpression")return LL(Y,Z);if(Y.type==="CallExpression"){let{step:q,resultVar:X}=iJ(Y,Z);if(q)return q;if(X)return{op:"varSet",key:"_",value:X};return null}return Z.warnings.push({message:"Expression statement has no effect",line:I0(J).line,column:I0(J).column}),null}function LL(J,Z){if(J.left.type!=="Identifier")throw new A0("Only simple variable assignment is supported",I0(J),Z.source,Z.filename);let Y=J.left.name,{step:q,resultVar:X}=iJ(J.right,Z,Y);if(q)return q;return{op:"varSet",key:Y,value:X}}function BL(J,Z){let Y=F0(J.test,Z),q=J.consequent.type==="BlockStatement"?D5(J.consequent,I1(Z)):[F7(J.consequent,Z)].filter(Boolean),X;if(J.alternate)X=J.alternate.type==="BlockStatement"?D5(J.alternate,I1(Z)):[F7(J.alternate,Z)].filter(Boolean);return{op:"if",condition:Y,then:q,...X&&{else:X}}}function PL(J,Z){let Y=F0(J.test,Z),q=J.body.type==="BlockStatement"?D5(J.body,I1(Z)):[F7(J.body,Z)].filter(Boolean);return{op:"while",condition:Y,body:q}}function EL(J,Z){let Y;if(J.left.type==="VariableDeclaration"){let K=J.left.declarations[0];if(K.id.type!=="Identifier")throw new A0("Only simple variable names are supported in for...of",I0(J.left),Z.source,Z.filename);Y=K.id.name}else if(J.left.type==="Identifier")Y=J.left.name;else throw new A0("Unsupported for...of left-hand side",I0(J.left),Z.source,Z.filename);let q=c0(J.right,Z),X=I1(Z);X.locals.set(Y,{kind:"any"});let Q=J.body.type==="BlockStatement"?D5(J.body,X):[F7(J.body,X)].filter(Boolean);return{op:"map",items:q,as:Y,steps:Q}}function CL(J,Z){let Y=D5(J.block,I1(Z)),q,X;if(J.handler){let Q=I1(Z);if(J.handler.param?.type==="Identifier")X=J.handler.param.name,Q.locals.set(X,{kind:"any"});q=D5(J.handler.body,Q)}return{op:"try",try:Y,...q&&{catch:q},...X&&{catchParam:X}}}function TL(J,Z){if(!J.argument)return{op:"return",schema:{}};if(J.argument.type==="ObjectExpression"){let K=J.argument,$=[],U={};for(let j of K.properties)if(j.type==="Property"){let W=j.key.type==="Identifier"?j.key.name:String(j.key.value);U[W]={};let G=j.value;if(j.shorthand||G.type==="Identifier"&&G.name===W)continue;let z=c0(G,Z);if(typeof z==="string"&&z!==W)$.push({op:"varSet",key:W,value:z});else if(typeof z!=="string")$.push({op:"varSet",key:W,value:z})}if($.push({op:"return",schema:{type:"object",properties:U}}),$.length===1)return $[0];return{op:"seq",steps:$}}let Y=mL(J.argument,Z),{step:q,resultVar:X}=iJ(J.argument,Z,"__result__"),Q=[];if(q)Q.push(q);else if(X!=="__result__")Q.push({op:"varSet",key:"__result__",value:X});if(Q.push({op:"return",schema:{__result__:{}}}),Q.length===1)return Q[0];return{op:"seq",steps:Q}}var FO=new Set(["Math","JSON","Array","Object","String","Number","console","Date"]),yL=new Set(["parseInt","parseFloat","isNaN","isFinite","encodeURI","decodeURI","encodeURIComponent","decodeURIComponent","Set","Date","filter"]),M7=new Set(["RegExp","Promise","Map","WeakSet","WeakMap","Symbol","Proxy","Reflect","Function","eval","setTimeout","setInterval","fetch","require","import","process","window","document","global","globalThis"]),bL=new Set(["toUpperCase","toLowerCase","trim","trimStart","trimEnd","charAt","charCodeAt","codePointAt","concat","includes","indexOf","lastIndexOf","startsWith","endsWith","slice","substring","substr","replace","replaceAll","match","search","padStart","padEnd","repeat","normalize","localeCompare","toString","valueOf","at","reverse","sort","fill","copyWithin","flat","flatMap","every","some","forEach","add","remove","has","clear","toArray","union","intersection","diff","format","isBefore","isAfter"]);function SL(J){if(J.callee.type==="Identifier"){let Z=J.callee.name;return yL.has(Z)||M7.has(Z)}if(J.callee.type==="MemberExpression"){let Z=J.callee;if(Z.object.type==="Identifier"){let Y=Z.object.name;if(FO.has(Y)||M7.has(Y))return!0}if(Z.property.type==="Identifier"){let Y=Z.property.name;if(bL.has(Y))return!0}}return!1}function kL(J){if(J.object.type==="Identifier"){let Z=J.object.name;return FO.has(Z)||M7.has(Z)}return!1}var AO={RegExp:"RegExp is not available. Use string methods or the regexMatch atom.",Promise:"Promise is not needed. All operations are implicitly async.",Map:"Map is not available. Use plain objects instead.",WeakSet:"WeakSet is not available.",WeakMap:"WeakMap is not available.",Symbol:"Symbol is not available.",Proxy:"Proxy is not available.",Reflect:"Reflect is not available.",Function:"Function constructor is not available. Define functions normally.",eval:"eval is not available. Code is compiled, not evaluated.",setTimeout:"setTimeout is not available. Use the delay atom.",setInterval:"setInterval is not available. Use while loops with delay.",fetch:"fetch is not available. Use the httpFetch atom.",require:"require is not available. Atoms must be registered with the VM.",import:"import is not available. Atoms must be registered with the VM.",process:"process is not available. AsyncJS runs in a sandboxed environment.",window:"window is not available. AsyncJS runs in a sandboxed environment.",document:"document is not available. AsyncJS runs in a sandboxed environment.",global:"global is not available. AsyncJS runs in a sandboxed environment.",globalThis:"globalThis is not available. Use builtins directly."};function wL(J){if(J.callee.type==="Identifier"){let Z=J.callee.name;if(M7.has(Z))return AO[Z]||`${Z} is not available in AsyncJS.`}if(J.callee.type==="MemberExpression"){let Z=J.callee;if(Z.object.type==="Identifier"){let Y=Z.object.name;if(M7.has(Y))return AO[Y]||`${Y} is not available in AsyncJS.`}}return null}function MO(J){return{Date:" Use Date() or Date('2024-01-15') instead - no 'new' needed.",Set:" Use Set([items]) instead - no 'new' needed.",Map:" Use plain objects instead of Map.",Array:" Use array literals like [1, 2, 3] instead.",Object:" Use object literals like { key: value } instead.",Error:" Return an error object like { error: 'message' } instead.",RegExp:" Use string methods or the regexMatch atom.",Promise:" Not needed - all operations are implicitly async.",WeakSet:" WeakSet is not available.",WeakMap:" WeakMap is not available."}[J]||" Use factory functions or object literals instead."}function iJ(J,Z,Y,q){let X=q?"constSet":"varSet";if(J.type==="ChainExpression")return iJ(J.expression,Z,Y,q);if(J.type==="NewExpression"){let K=J,$="constructor";if(K.callee.type==="Identifier")$=K.callee.name;let U=MO($);throw new A0(`The 'new' keyword is not supported in AsyncJS.${U}`,I0(J),Z.source,Z.filename)}if(J.type==="CallExpression"){let K=wL(J);if(K)throw new A0(K,I0(J),Z.source,Z.filename)}if(J.type==="CallExpression"&&SL(J)){let K=F0(J,Z);if(Y)return{step:{op:X,key:Y,value:K},resultVar:Y};return{step:null,resultVar:K}}if(J.type==="MemberExpression"&&kL(J)){let K=F0(J,Z);if(Y)return{step:{op:X,key:Y,value:K},resultVar:Y};return{step:null,resultVar:K}}if(J.type==="CallExpression")return xL(J,Z,Y,q);if(J.type==="TemplateLiteral")return vL(J,Z,Y,q);if(J.type==="BinaryExpression"||J.type==="LogicalExpression"||J.type==="UnaryExpression"){let K=F0(J,Z);if(Y)return{step:{op:X,key:Y,value:K},resultVar:Y};return{step:null,resultVar:K}}return{step:null,resultVar:c0(J,Z)}}function xL(J,Z,Y,q){let X,Q=!1,K;if(J.callee.type==="Identifier")X=J.callee.name;else if(J.callee.type==="MemberExpression"){let U=J.callee;if(U.property.type==="Identifier")X=U.property.name,Q=!0,K=c0(U.object,Z);else throw new A0("Computed method names are not supported",I0(J),Z.source,Z.filename)}else throw new A0("Only named function calls are supported",I0(J),Z.source,Z.filename);if(Q)return hL(X,K,J.arguments,Z,Y,q);if(X==="console"&&J.callee.type==="MemberExpression");let $=uL(J,Z);return{step:{op:X,...$,...Y&&{result:Y},...Y&&q&&{resultConst:!0}},resultVar:Y}}function hL(J,Z,Y,q,X,Q){switch(J){case"map":if(Y.length>0&&(Y[0].type==="ArrowFunctionExpression"||Y[0].type==="FunctionExpression")){let K=Y[0],$=K.params[0],U=$?.type==="Identifier"?$.name:"item",j=I1(q);j.locals.set(U,{kind:"any"});let W;if(K.body.type==="BlockStatement")W=D5(K.body,j);else{let{step:G,resultVar:z}=iJ(K.body,j,"result");W=G?[G]:[{op:"varSet",key:"result",value:z}]}return{step:{op:"map",items:Z,as:U,steps:W,...X&&{result:X},...X&&Q&&{resultConst:!0}},resultVar:X}}break;case"filter":if(Y.length>0&&(Y[0].type==="ArrowFunctionExpression"||Y[0].type==="FunctionExpression")){let K=Y[0],$=K.params[0],U=$?.type==="Identifier"?$.name:"item",j=I1(q);j.locals.set(U,{kind:"any"});let W;if(K.body.type==="BlockStatement")throw new A0("filter callback must be an expression, not a block",I0(Y[0]),q.source,q.filename);else W=F0(K.body,j);return{step:{op:"filter",items:Z,as:U,condition:W,...X&&{result:X},...X&&Q&&{resultConst:!0}},resultVar:X}}break;case"find":if(Y.length>0&&(Y[0].type==="ArrowFunctionExpression"||Y[0].type==="FunctionExpression")){let K=Y[0],$=K.params[0],U=$?.type==="Identifier"?$.name:"item",j=I1(q);j.locals.set(U,{kind:"any"});let W;if(K.body.type==="BlockStatement")throw new A0("find callback must be an expression, not a block",I0(Y[0]),q.source,q.filename);else W=F0(K.body,j);return{step:{op:"find",items:Z,as:U,condition:W,...X&&{result:X},...X&&Q&&{resultConst:!0}},resultVar:X}}break;case"reduce":if(Y.length>=2&&(Y[0].type==="ArrowFunctionExpression"||Y[0].type==="FunctionExpression")){let K=Y[0],$=K.params[0],U=K.params[1],j=$?.type==="Identifier"?$.name:"acc",W=U?.type==="Identifier"?U.name:"item",G=I1(q);G.locals.set(j,{kind:"any"}),G.locals.set(W,{kind:"any"});let z;if(K.body.type==="BlockStatement")z=D5(K.body,G);else{let{step:_,resultVar:N}=iJ(K.body,G,"result");z=_?[_]:[{op:"varSet",key:"result",value:N}]}let O=c0(Y[1],q);return{step:{op:"reduce",items:Z,as:W,accumulator:j,initial:O,steps:z,...X&&{result:X},...X&&Q&&{resultConst:!0}},resultVar:X}}break;case"slice":break;case"push":return{step:{op:"push",list:Z,item:c0(Y[0],q),...X&&{result:X},...X&&Q&&{resultConst:!0}},resultVar:X};case"join":return{step:{op:"join",list:Z,sep:Y.length>0?c0(Y[0],q):"",...X&&{result:X},...X&&Q&&{resultConst:!0}},resultVar:X};case"split":return{step:{op:"split",str:Z,sep:Y.length>0?c0(Y[0],q):"",...X&&{result:X},...X&&Q&&{resultConst:!0}},resultVar:X}}return q.warnings.push({message:`Unknown method '${J}' - treating as atom call`,line:0,column:0}),{step:{op:J,receiver:Z,args:Y.map((K)=>c0(K,q)),...X&&{result:X},...X&&Q&&{resultConst:!0}},resultVar:X}}function vL(J,Z,Y,q){let X="",Q={};for(let K=0;K<J.quasis.length;K++)if(X+=J.quasis[K].value.cooked||J.quasis[K].value.raw,K<J.expressions.length){let $=J.expressions[K],U=`_${K}`;Q[U]=c0($,Z),X+=`{{${U}}}`}return{step:{op:"template",tmpl:X,vars:Q,...Y&&{result:Y},...Y&&q&&{resultConst:!0}},resultVar:Y}}function F0(J,Z){switch(J.type){case"Literal":return{$expr:"literal",value:J.value};case"Identifier":return{$expr:"ident",name:J.name};case"MemberExpression":{let Y=J,q=F0(Y.object,Z),X=Y.optional===!0;if(Y.computed){let K=Y.property;if(K.type==="Literal")return{$expr:"member",object:q,property:String(K.value),computed:!0,...X&&{optional:!0}};throw new A0("Computed member access with variables not yet supported",I0(J),Z.source,Z.filename)}let Q=Y.property.name;return{$expr:"member",object:q,property:Q,...X&&{optional:!0}}}case"ChainExpression":return F0(J.expression,Z);case"BinaryExpression":{let Y=J;return{$expr:"binary",op:Y.operator,left:F0(Y.left,Z),right:F0(Y.right,Z)}}case"LogicalExpression":{let Y=J;return{$expr:"logical",op:Y.operator,left:F0(Y.left,Z),right:F0(Y.right,Z)}}case"UnaryExpression":{let Y=J;return{$expr:"unary",op:Y.operator,argument:F0(Y.argument,Z)}}case"ConditionalExpression":{let Y=J;return{$expr:"conditional",test:F0(Y.test,Z),consequent:F0(Y.consequent,Z),alternate:F0(Y.alternate,Z)}}case"ArrayExpression":return{$expr:"array",elements:J.elements.filter((q)=>q!==null).map((q)=>F0(q,Z))};case"ObjectExpression":{let Y=J,q=[];for(let X of Y.properties)if(X.type==="Property"){let Q=X.key.type==="Identifier"?X.key.name:String(X.key.value);q.push({key:Q,value:F0(X.value,Z)})}return{$expr:"object",properties:q}}case"CallExpression":{let Y=J;if(Y.callee.type==="MemberExpression"){let q=Y.callee,X=q.property.type==="Identifier"?q.property.name:String(q.property.value),Q=q.optional===!0||Y.optional===!0;return{$expr:"methodCall",object:F0(q.object,Z),method:X,arguments:Y.arguments.map((K)=>F0(K,Z)),...Q&&{optional:!0}}}if(Y.callee.type==="Identifier")return{$expr:"call",callee:Y.callee.name,arguments:Y.arguments.map((X)=>F0(X,Z))};throw new A0("Complex function calls in expressions should be lifted to statements",I0(J),Z.source,Z.filename)}case"NewExpression":{let Y=J,q="constructor";if(Y.callee.type==="Identifier")q=Y.callee.name;let X=MO(q);throw new A0(`The 'new' keyword is not supported in AsyncJS.${X}`,I0(J),Z.source,Z.filename)}default:throw new A0(`Unsupported expression type in condition: ${J.type}`,I0(J),Z.source,Z.filename)}}function c0(J,Z){switch(J.type){case"Literal":return J.value;case"Identifier":return J.name;case"MemberExpression":{let Y=J;if(Y.optional===!0)return F0(J,Z);let X=c0(Y.object,Z);if(X&&typeof X==="object"&&X.$expr){let K=Y.computed?String(Y.property.value):Y.property.name;return{$expr:"member",object:X,property:K,...Y.computed&&{computed:!0}}}if(Y.computed)return`${X}[${c0(Y.property,Z)}]`;let Q=Y.property.name;if(typeof X==="string")return`${X}.${Q}`;if(X&&X.$kind==="arg")return{$kind:"arg",path:`${X.path}.${Q}`};return`${X}.${Q}`}case"ChainExpression":return c0(J.expression,Z);case"ArrayExpression":return J.elements.map((Y)=>Y?c0(Y,Z):null);case"ObjectExpression":{let Y={};for(let q of J.properties)if(q.type==="Property"){let X=q.key.type==="Identifier"?q.key.name:String(q.key.value);Y[X]=c0(q.value,Z)}return Y}case"TemplateLiteral":return"__template__";case"CallExpression":return F0(J,Z);case"BinaryExpression":case"LogicalExpression":case"UnaryExpression":case"ConditionalExpression":return F0(J,Z);default:return null}}function uL(J,Z){if(J.arguments.length===1&&J.arguments[0].type==="ObjectExpression"){let Y=J.arguments[0],q={};for(let X of Y.properties)if(X.type==="Property"){let Q=X.key.type==="Identifier"?X.key.name:String(X.key.value);q[Q]=c0(X.value,Z)}return q}return{args:J.arguments.map((Y)=>c0(Y,Z))}}function mL(J,Z){if(J.type==="ObjectExpression"){let q={type:"object",properties:{}};for(let X of J.properties)if(X.type==="Property"&&X.key.type==="Identifier")q.properties[X.key.name]={};return q}return{type:Z5(J).kind}}function s4(J,Z={}){let{ast:Y,returnType:q,originalSource:X,requiredParams:Q}=i6(J,{filename:Z.filename,colonShorthand:!0}),K=NO(Y,Z.filename),{ast:$,signature:U,warnings:j}=o6(K,X,q,Z,Q);return{ast:$,signature:U,warnings:j}}function gL(J,...Z){if(typeof J==="string")return s4(J).ast;let Y=J.reduce((q,X,Q)=>q+X+(Z[Q]!==void 0?String(Z[Q]):""),"");return s4(Y).ast}function fL(J,Z,Y){let{ast:q,signature:X}=s4(J),Q=async(K)=>{return(await Z.run(q,K,Y)).result};return Q.signature=X,Q.ast=q,Q}function lL(J){return Object.entries(J).map(([Z,Y])=>{let q=Y.signature,X={},Q=[];for(let[K,$]of Object.entries(q.parameters)){if(X[K]=t6($.type),$.description)X[K].description=$.description;if($.required)Q.push(K)}return{type:"function",function:{name:q.name||Z,description:q.description,parameters:{type:"object",properties:X,required:Q}}}})}function t6(J){switch(J.kind){case"string":return{type:"string"};case"number":return{type:"number"};case"boolean":return{type:"boolean"};case"null":return{type:"null"};case"array":return{type:"array",items:J.items?t6(J.items):{}};case"object":if(!J.shape)return{type:"object"};return{type:"object",properties:Object.fromEntries(Object.entries(J.shape).map(([Z,Y])=>[Z,t6(Y)]))};case"union":if(!J.members)return{};return{anyOf:J.members.map(t6)};case"any":default:return{}}}function I7(){return{preferredProvider:localStorage.getItem("preferredProvider")||"auto",openaiKey:localStorage.getItem("openaiKey")||"",anthropicKey:localStorage.getItem("anthropicKey")||"",deepseekKey:localStorage.getItem("deepseekKey")||"",customLlmUrl:localStorage.getItem("customLlmUrl")||""}}function Fq(J){let{preferredProvider:Z,openaiKey:Y,anthropicKey:q,deepseekKey:X,customLlmUrl:Q}=J,K=Q&&Q.trim()!=="",$=Y&&Y.trim()!=="",U=q&&q.trim()!=="",j=X&&X.trim()!=="";if(!K&&!$&&!U&&!j)return null;let W=async(_,N)=>{let A={model:N?.model||"local-model",messages:[{role:"user",content:_}],temperature:N?.temperature??0.7};if(N?.responseFormat)A.response_format=N.responseFormat;try{let M=await fetch(`${Q}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(A)});if(!M.ok)throw Error(`LLM Error: ${M.status} - Check that LM Studio is running at ${Q}`);return(await M.json()).choices?.[0]?.message?.content??""}catch(M){if(M.message?.includes("Failed to fetch")||M.name==="TypeError")throw Error(`Cannot connect to LM Studio at ${Q}. Make sure LM Studio is running and CORS is enabled (Server settings  Enable CORS).`);throw M}},G=async(_,N)=>{let A={model:N?.model||"gpt-4o-mini",messages:[{role:"user",content:_}],temperature:N?.temperature??0.7};if(N?.responseFormat)A.response_format=N.responseFormat;let M=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Y}`},body:JSON.stringify(A)});if(!M.ok){let D=await M.json().catch(()=>({}));throw Error(`OpenAI Error: ${M.status} - ${D.error?.message||"Check your API key"}`)}return(await M.json()).choices?.[0]?.message?.content??""},z=async(_,N)=>{let A=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":q,"anthropic-version":"2023-06-01","anthropic-dangerous-direct-browser-access":"true"},body:JSON.stringify({model:N?.model||"claude-3-haiku-20240307",max_tokens:N?.maxTokens||1024,messages:[{role:"user",content:_}]})});if(!A.ok){let V=await A.json().catch(()=>({}));throw Error(`Anthropic Error: ${A.status} - ${V.error?.message||"Check your API key"}`)}return(await A.json()).content?.[0]?.text??""},O=async(_,N)=>{let A={model:N?.model||"deepseek-chat",messages:[{role:"user",content:_}],temperature:N?.temperature??0.7};if(N?.responseFormat)A.response_format=N.responseFormat;let M=await fetch("https://api.deepseek.com/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${X}`},body:JSON.stringify(A)});if(!M.ok){let D=await M.json().catch(()=>({}));throw Error(`Deepseek Error: ${M.status} - ${D.error?.message||"Check your API key"}`)}return(await M.json()).choices?.[0]?.message?.content??""};return{async predict(_,N){if(Z==="custom"&&K)return W(_,N);if(Z==="openai"&&$)return G(_,N);if(Z==="anthropic"&&U)return z(_,N);if(Z==="deepseek"&&j)return O(_,N);if(Z!=="auto")throw Error(`${{custom:"Custom Endpoint",openai:"OpenAI",anthropic:"Anthropic",deepseek:"Deepseek"}[Z]} is selected but not configured. Add your API key in Settings.`);if(K)return W(_,N);if($)return G(_,N);if(U)return z(_,N);if(j)return O(_,N);throw Error("No LLM provider configured")}}}function Mq(J){let{preferredProvider:Z,openaiKey:Y,anthropicKey:q,deepseekKey:X,customLlmUrl:Q}=J,K=Q&&Q.trim()!=="",$=Y&&Y.trim()!=="",U=q&&q.trim()!=="",j=X&&X.trim()!=="";if(!K&&!$&&!U&&!j)return null;let W=async(_,N,A,M)=>{let V=[{role:"system",content:_},{role:"user",content:N}];try{let D=await fetch(`${Q}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"local-model",messages:V,temperature:0.7,tools:A,response_format:M})});if(!D.ok)throw Error(`LLM Error: ${D.status} - Check that LM Studio is running`);return(await D.json()).choices?.[0]?.message??{content:""}}catch(D){if(D.message?.includes("Failed to fetch")||D.name==="TypeError")throw Error(`Cannot connect to LM Studio at ${Q}. Make sure LM Studio is running and CORS is enabled.`);throw D}},G=async(_,N,A,M)=>{let D={model:"gpt-4o-mini",messages:[{role:"system",content:_},{role:"user",content:N}],temperature:0.7};if(A?.length)D.tools=A;if(M)D.response_format=M;let P=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Y}`},body:JSON.stringify(D)});if(!P.ok){let u=await P.json().catch(()=>({}));throw Error(`OpenAI Error: ${P.status} - ${u.error?.message||"Check your API key"}`)}return(await P.json()).choices?.[0]?.message??{content:""}},z=async(_,N,A,M)=>{let V=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":q,"anthropic-version":"2023-06-01","anthropic-dangerous-direct-browser-access":"true"},body:JSON.stringify({model:"claude-3-haiku-20240307",max_tokens:1024,system:_,messages:[{role:"user",content:N}]})});if(!V.ok){let P=await V.json().catch(()=>({}));throw Error(`Anthropic Error: ${V.status} - ${P.error?.message||"Check your API key"}`)}return{content:(await V.json()).content?.[0]?.text??""}},O=async(_,N,A,M)=>{let D={model:"deepseek-chat",messages:[{role:"system",content:_},{role:"user",content:N}],temperature:0.7};if(A?.length)D.tools=A;if(M)D.response_format=M;let P=await fetch("https://api.deepseek.com/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${X}`},body:JSON.stringify(D)});if(!P.ok){let u=await P.json().catch(()=>({}));throw Error(`Deepseek Error: ${P.status} - ${u.error?.message||"Check your API key"}`)}return(await P.json()).choices?.[0]?.message??{content:""}};return{async predict(_,N,A,M){if(Z==="custom"&&K)return W(_,N,A,M);if(Z==="openai"&&$)return G(_,N,A,M);if(Z==="anthropic"&&U)return z(_,N,A,M);if(Z==="deepseek"&&j)return O(_,N,A,M);if(Z!=="auto")throw Error(`${{custom:"Custom Endpoint",openai:"OpenAI",anthropic:"Anthropic",deepseek:"Deepseek"}[Z]} is selected but not configured. Add your API key in Settings.`);if(K)return W(_,N,A,M);if($)return G(_,N,A,M);if(U)return z(_,N,A,M);if(j)return O(_,N,A,M);throw Error("No LLM provider configured")},async embed(_){if(K)try{let N=await fetch(`${Q}/embeddings`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"text-embedding-model",input:_})});if(!N.ok)throw Error(`Embedding Error: ${N.status}`);return(await N.json()).data?.[0]?.embedding??[]}catch{throw Error("Embedding not available")}throw Error("Embedding requires LM Studio endpoint")}}}function VO(J){let Z=J||I7(),Y=Fq(Z),q=Mq(Z);return{llm:Y,llmBattery:q}}var IO="http://localhost:1234/v1";function pL(){let J=localStorage.getItem("customLlmUrl");if(!(J&&J.trim()!=="")&&window.location.protocol==="http:")localStorage.setItem("customLlmUrl",IO),console.log("\uD83E\uDD16 Defaulting to LM Studio endpoint:",IO)}pL();var{div:KJ,button:$J,span:DO,select:dL,option:e6,optgroup:LO,input:vC}=y,PO="agent-playground-examples",Vq=`// Write your AsyncJS code here
function myFunction({ name = 'World' }) {
  let message = template({ tmpl: 'Hello, {{name}}!', vars: { name } })
  return { message }
}`;function cL(){try{let J=localStorage.getItem(PO);return J?JSON.parse(J):[]}catch{return[]}}function BO(J){localStorage.setItem(PO,JSON.stringify(J))}class EO extends k{editor=null;vm=new p4;currentTab="result";lastResult=null;lastAst=null;lastError=null;isRunning=!1;customExamples=cL();currentExampleIndex=-1;static styleSpec={":host":{display:"block",height:"100%",position:"relative"},".playground":{display:"flex",flexDirection:"column",height:"100%",gap:"10px"},".playground-toolbar":{display:"flex",alignItems:"center",gap:"10px",padding:"10px",background:"#f3f4f6",borderRadius:"6px",flexWrap:"wrap"},".run-btn":{display:"flex",alignItems:"center",gap:"4px",padding:"6px 12px",background:"#3d4a6b",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"500"},".playground-main":{display:"flex",flex:"1 1 auto",gap:"10px",minHeight:0},".playground-editor":{flex:"1 1 50%",minWidth:"300px",minHeight:"300px",border:"1px solid #e5e7eb",borderRadius:"6px",overflow:"hidden",position:"relative"},".playground-editor .cm-editor":{height:"100%",position:"absolute",top:0,left:0,right:0,bottom:0},".playground-editor .cm-scroller":{outline:"none",fontFamily:"Menlo, Monaco, Consolas, 'Courier New', monospace"},".playground-output":{flex:"1 1 50%",display:"flex",flexDirection:"column",minWidth:"300px",border:"1px solid #e5e7eb",borderRadius:"6px",overflow:"hidden"},".playground-tabs":{display:"flex",background:"#f3f4f6",borderBottom:"1px solid #e5e7eb",alignItems:"center"},".playground-tabs .elastic":{flex:"1 1 auto"},".copy-btn":{padding:"4px 8px",marginRight:"4px",border:"none",background:"transparent",cursor:"pointer",opacity:0.6,transition:"opacity 0.15s"},".copy-btn:hover":{opacity:1},".copy-btn.copied":{color:"#16a34a"},".playground-tab":{padding:"5px 10px",border:"none",background:"transparent",cursor:"pointer",color:"inherit",opacity:0.7,transition:"opacity 0.15s, background 0.15s"},".playground-tab:hover":{opacity:1,background:"rgba(99, 102, 241, 0.1)"},".playground-tab.active":{opacity:1,borderBottom:"2px solid #3d4a6b",marginBottom:"-1px"},".playground-result":{flex:"1 1 auto",overflow:"auto",padding:"10px",fontFamily:"'SF Mono', Monaco, 'Cascadia Code', Consolas, monospace",fontSize:"13px",whiteSpace:"pre-wrap",wordBreak:"break-word"},".playground-result.error":{color:"#dc2626"},".playground-result.success":{color:"#16a34a"},".loading-spinner":{display:"inline-block",width:"14px",height:"14px",border:"2px solid #e5e7eb",borderTopColor:"#3d4a6b",borderRadius:"50%",animation:"spin 0.8s linear infinite",verticalAlign:"middle",marginRight:"8px"},"@keyframes spin":{to:{transform:"rotate(360deg)"}},".playground-status":{padding:"5px 10px",background:"#f3f4f6",borderTop:"1px solid #e5e7eb",fontSize:"12px",opacity:0.7},"@media (max-width: 768px)":{".playground-main":{flexDirection:"column"},".playground-editor, .playground-output":{flex:"1 1 auto",minHeight:"250px"}}};content=()=>[KJ({class:"playground"},KJ({class:"playground-toolbar"},$J({part:"runBtn",class:"run-btn"},h.play({size:16}),"Run"),$J({part:"newBtn",class:"iconic",title:"New"},h.plus()),$J({part:"saveBtn",class:"iconic",title:"Save Example"},h.save()),$J({part:"deleteBtn",class:"iconic",title:"Delete Custom Example",style:{display:"none"}},h.trash()),DO({style:{flex:"1"}}),dL({part:"exampleSelect",style:{padding:"4px 8px",borderRadius:"4px"}},e6({value:"new"},"-- New --"))),KJ({class:"playground-main"},KJ({part:"editorContainer",class:"playground-editor"}),KJ({class:"playground-output"},KJ({class:"playground-tabs"},$J({part:"tabResult",class:"playground-tab active"},"Result"),$J({part:"tabAst",class:"playground-tab"},"AST"),$J({part:"tabTrace",class:"playground-tab"},"Trace"),DO({class:"elastic"}),$J({part:"copyBtn",class:"copy-btn",title:"Copy to clipboard"},h.copy({size:16}))),KJ({part:"resultContainer",class:"playground-result"},"// Run code to see results"),KJ({part:"statusBar",class:"playground-status"},"Ready"))))];connectedCallback(){super.connectedCallback(),this.parts.runBtn.addEventListener("click",this.runCode),this.parts.newBtn.addEventListener("click",this.newExample),this.parts.saveBtn.addEventListener("click",this.saveExample),this.parts.deleteBtn.addEventListener("click",this.deleteExample),this.parts.exampleSelect.addEventListener("change",this.loadExample),this.parts.tabResult.addEventListener("click",()=>this.switchTab("result")),this.parts.tabAst.addEventListener("click",()=>this.switchTab("ast")),this.parts.tabTrace.addEventListener("click",()=>this.switchTab("trace")),this.parts.copyBtn.addEventListener("click",this.copyOutput),window.addEventListener("hashchange",this.handleHashChange),this.initEditor(),this.rebuildExampleSelect()}disconnectedCallback(){window.removeEventListener("hashchange",this.handleHashChange)}getAllExamples(){return[...ZJ,...this.customExamples]}rebuildExampleSelect(){let J=this.parts.exampleSelect;J.innerHTML="",J.appendChild(e6({value:"new"},"-- New --"));let Z=LO({label:"Built-in Examples"});if(ZJ.forEach((Y,q)=>{Z.appendChild(e6({value:`builtin:${q}`},Y.requiresApi?`${Y.name} \uD83D\uDD11`:Y.name))}),J.appendChild(Z),this.customExamples.length>0){let Y=LO({label:"My Examples"});this.customExamples.forEach((q,X)=>{Y.appendChild(e6({value:`custom:${X}`},q.name))}),J.appendChild(Y)}}getExampleFromHash(){let J=window.location.hash.slice(1),Y=new URLSearchParams(J).get("example");if(Y===null||Y==="new")return{type:"new",index:-1};let q=decodeURIComponent(Y).toLowerCase(),X=ZJ.findIndex((K)=>K.name.toLowerCase()===q);if(X>=0)return{type:"builtin",index:X};let Q=this.customExamples.findIndex((K)=>K.name.toLowerCase()===q);if(Q>=0)return{type:"custom",index:Q};return{type:"builtin",index:0}}setHashForExample(J,Z){if(J==="new"){history.replaceState(null,"","#example=new");return}let q=(J==="builtin"?ZJ:this.customExamples)[Z];if(q){let X=`example=${encodeURIComponent(q.name)}`;history.replaceState(null,"",`#${X}`)}}handleHashChange=()=>{let{type:J,index:Z}=this.getExampleFromHash();this.loadExampleByTypeAndIndex(J,Z)};initEditor(){let J=this.parts.editorContainer;if(!J)return;let Z=[bj,b4(Q6),XG()],{type:Y,index:q}=this.getExampleFromHash(),X=Vq;if(Y==="builtin"&&q>=0)X=ZJ[q]?.code||X;else if(Y==="custom"&&q>=0)X=this.customExamples[q]?.code||X;if(this.editor=new C({state:o.create({doc:X,extensions:Z}),parent:J}),this.currentExampleIndex=q,this.updateDeleteButtonVisibility(Y,q),!window.location.hash.includes("example="))this.setHashForExample(Y,q)}loadExampleByTypeAndIndex(J,Z){if(!this.editor)return;let Y=Vq;if(J==="builtin"&&Z>=0&&Z<ZJ.length)Y=ZJ[Z].code;else if(J==="custom"&&Z>=0&&Z<this.customExamples.length)Y=this.customExamples[Z].code;this.editor.dispatch({changes:{from:0,to:this.editor.state.doc.length,insert:Y}}),this.currentExampleIndex=Z,this.updateDeleteButtonVisibility(J,Z),this.setHashForExample(J,Z),this.parts.resultContainer.textContent="// Run code to see results",this.parts.statusBar.textContent="Ready"}updateDeleteButtonVisibility(J,Z){let Y=J==="custom"&&Z>=0;this.parts.deleteBtn.style.display=Y?"":"none"}loadExample=(J)=>{let Z=J.target.value;if(Z==="new"){this.loadExampleByTypeAndIndex("new",-1);return}let[Y,q]=Z.split(":"),X=parseInt(q,10);if(Y==="builtin"||Y==="custom")this.loadExampleByTypeAndIndex(Y,X)};newExample=()=>{if(this.editor)this.editor.dispatch({changes:{from:0,to:this.editor.state.doc.length,insert:Vq}});this.currentExampleIndex=-1,this.parts.exampleSelect.value="new",this.updateDeleteButtonVisibility("new",-1),this.setHashForExample("new",-1),this.parts.resultContainer.textContent="// Run code to see results",this.parts.statusBar.textContent="Ready"};saveExample=()=>{if(!this.editor)return;let J=this.editor.state.doc.toString();if(!J.trim()){alert("Cannot save empty example");return}let Z=J.match(/function\s+([a-zA-Z_$][a-zA-Z0-9_$]*)\s*\(/),Y=Z?Z[1]:"My Example",q=prompt("Enter a name for this example:",Y);if(!q)return;let X=this.customExamples.findIndex((K)=>K.name.toLowerCase()===q.toLowerCase());if(X>=0){if(!confirm(`An example named "${q}" already exists. Overwrite it?`))return;this.customExamples[X]={name:q,description:"",code:J}}else this.customExamples.push({name:q,description:"",code:J});BO(this.customExamples),this.rebuildExampleSelect();let Q=X>=0?X:this.customExamples.length-1;this.currentExampleIndex=Q,this.parts.exampleSelect.value=`custom:${Q}`,this.updateDeleteButtonVisibility("custom",Q),this.setHashForExample("custom",Q),this.parts.statusBar.textContent=`Saved "${q}"`};deleteExample=()=>{let J=this.parts.exampleSelect.value;if(!J.startsWith("custom:"))return;let Z=parseInt(J.split(":")[1],10);if(Z<0||Z>=this.customExamples.length)return;let Y=this.customExamples[Z].name;if(!confirm(`Delete "${Y}"?`))return;this.customExamples.splice(Z,1),BO(this.customExamples),this.rebuildExampleSelect(),this.newExample(),this.parts.statusBar.textContent=`Deleted "${Y}"`};copyOutput=async()=>{let J=this.parts.resultContainer.textContent||"";try{await navigator.clipboard.writeText(J),this.parts.copyBtn.classList.add("copied"),setTimeout(()=>{this.parts.copyBtn.classList.remove("copied")},1500)}catch(Z){console.error("Failed to copy:",Z)}};switchTab(J){this.currentTab=J,this.parts.tabResult.classList.toggle("active",J==="result"),this.parts.tabAst.classList.toggle("active",J==="ast"),this.parts.tabTrace.classList.toggle("active",J==="trace"),this.updateOutput()}updateOutput(){let J=this.parts.resultContainer;if(J.className="playground-result",this.lastError){J.className+=" error",J.textContent=this.lastError;return}switch(this.currentTab){case"ast":J.textContent=this.lastAst?JSON.stringify(this.lastAst.ast,null,2):"// Run code to see AST";break;case"trace":J.textContent=this.lastResult?.trace?this.lastResult.trace.map((Z)=>`${Z.op}: ${JSON.stringify(Z.result)}`).join(`
`):"// Run code with tracing enabled to see execution trace";break;case"result":default:if(this.lastResult){J.className+=this.lastResult.error?" error":" success";let Z=this.lastResult.error||this.lastResult.result;J.textContent=typeof Z==="string"?Z:JSON.stringify(Z,null,2)}else J.textContent="// Run code to see results";break}}runCode=async()=>{if(console.log("runCode called",{isRunning:this.isRunning,editor:this.editor}),this.isRunning||!this.editor)return;this.isRunning=!0,this.lastError=null,this.lastAst=null,this.lastResult=null;let J=this.editor.state.doc.toString(),Z=performance.now();this.parts.resultContainer.className="playground-result",this.parts.resultContainer.innerHTML='<span class="loading-spinner"></span> Running...',this.parts.statusBar.textContent="Transpiling...";let Y=setInterval(()=>{let q=((performance.now()-Z)/1000).toFixed(1);this.parts.statusBar.textContent=`Running... ${q}s`},100);try{let q=s4(J);this.lastAst=q,this.parts.statusBar.textContent="Running...";let X={};if(q.signature?.parameters){for(let[G,z]of Object.entries(q.signature.parameters))if("default"in z)X[G]=z.default}let Q=I7(),K=Fq(Q),$=Mq(Q),U=()=>{if(window.location.protocol==="https:")throw Error("No LLM configured. Go to Settings () > API Keys to add an OpenAI or Anthropic API key. Note: Local LLM endpoints require HTTP.");else throw Error("No LLM configured. Go to Settings () > API Keys to add an OpenAI key, Anthropic key, or LM Studio endpoint (default: http://localhost:1234/v1).")},j=await this.vm.run(q.ast,X,{trace:!0,fuel:1e4,capabilities:{fetch:async(G,z)=>{let O=await fetch(G,z),_=O.headers.get("content-type");if(_&&_.includes("application/json"))return O.json();return O.text()},store:l4(),llm:{predict:async(G,z)=>{if(!K)U();return K.predict(G,z)}},llmBattery:$||{predict:()=>U(),embed:()=>U()}}});this.lastResult=j,clearInterval(Y);let W=((performance.now()-Z)/1000).toFixed(2);this.parts.statusBar.textContent=`Done in ${W}s (${j.fuelUsed.toFixed(1)} fuel)`}catch(q){clearInterval(Y);let X=((performance.now()-Z)/1000).toFixed(2);this.lastError=q.message||String(q),this.parts.statusBar.textContent=`Error after ${X}s`}this.updateOutput(),this.isRunning=!1};render(){super.render()}}console.log("Registering agent-playground component");var CO=EO.elementCreator({tag:"agent-playground"});var{div:o0,button:Iq,span:nL,label:D7,input:J8,h2:iL,p:sL,select:aL,option:L7}=y;_J("settings-styles",{".settings-overlay":{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1000},".settings-dialog":{background:F.background,borderRadius:F.borderRadius,padding:F.spacing200,maxWidth:"500px",width:"90%",maxHeight:"80vh",overflow:"auto",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.3)"},".settings-header":{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:F.spacing},".settings-header h2":{margin:0,fontSize:"1.25em"},".settings-section":{marginBottom:F.spacing200},".settings-section h3":{fontSize:"1em",marginBottom:F.spacing,color:F.brandColor},".settings-field":{marginBottom:F.spacing},".settings-field label":{display:"block",marginBottom:"4px",fontSize:"0.9em",fontWeight:500},".settings-field input":{width:"100%",padding:"8px 12px",border:`1px solid ${F.codeBorder}`,borderRadius:F.borderRadius,background:F.background,color:F.textColor,fontSize:"inherit"},".settings-field input:focus":{outline:"none",borderColor:F.brandColor,boxShadow:"0 0 0 2px rgba(99, 102, 241, 0.2)"},".settings-field .hint":{fontSize:"0.8em",color:F.textColor,opacity:0.7,marginTop:"4px"},".settings-actions":{display:"flex",justifyContent:"flex-end",gap:F.spacing,marginTop:F.spacing200,paddingTop:F.spacing,borderTop:`1px solid ${F.codeBorder}`},".settings-btn":{padding:"8px 16px",borderRadius:F.borderRadius,border:"none",cursor:"pointer",fontWeight:500},".settings-btn.primary":{background:F.brandColor,color:"white"},".settings-btn.secondary":{background:F.codeBackground,color:F.textColor}});function TO(J,Z){let Y=o0({class:"settings-overlay"}),q=aL({style:{width:"100%",padding:"8px 12px",borderRadius:"6px"}},L7({value:"auto",selected:J.preferredProvider==="auto"},"First Available"),L7({value:"custom",selected:J.preferredProvider==="custom"},"Custom Endpoint (LM Studio, Ollama)"),L7({value:"openai",selected:J.preferredProvider==="openai"},"OpenAI"),L7({value:"anthropic",selected:J.preferredProvider==="anthropic"},"Anthropic"),L7({value:"deepseek",selected:J.preferredProvider==="deepseek"},"Deepseek")),X=J8({type:"password",placeholder:"sk-...",value:J.openaiKey,autocomplete:"off"}),Q=J8({type:"password",placeholder:"sk-ant-...",value:J.anthropicKey,autocomplete:"off"}),K=J8({type:"password",placeholder:"sk-...",value:J.deepseekKey,autocomplete:"off"}),$=J8({type:"url",placeholder:"http://localhost:1234/v1",value:J.customLlmUrl}),U=()=>{Y.remove()},j=()=>{Z({preferredProvider:q.value,openaiKey:X.value,anthropicKey:Q.value,deepseekKey:K.value,customLlmUrl:$.value}),U()};Y.append(o0({class:"settings-dialog"},o0({class:"settings-header"},iL("Settings"),Iq({class:"iconic",onClick:U},h.x())),o0({class:"settings-section"},o0({style:{fontWeight:600,marginBottom:"10px"}},"LLM Settings"),sL({style:{fontSize:"0.85em",opacity:0.8,marginBottom:"15px"}},"API keys are stored locally in your browser and never sent to any server except the respective API provider."),o0({class:"settings-field"},D7("Preferred Provider"),q,o0({class:"hint"},'"First Available" uses the first configured provider in order below')),o0({class:"settings-field"},D7("Custom LLM Endpoint"),$,o0({class:"hint"},"OpenAI-compatible endpoint (e.g., LM Studio, Ollama). ",window.location.protocol==="https:"?nL({style:{color:"#dc2626"}},"Note: Local endpoints require HTTP."):"")),o0({class:"settings-field"},D7("OpenAI API Key"),X,o0({class:"hint"},"For GPT-4, GPT-3.5, etc.")),o0({class:"settings-field"},D7("Anthropic API Key"),Q,o0({class:"hint"},"For Claude models")),o0({class:"settings-field"},D7("Deepseek API Key"),K,o0({class:"hint"},"For Deepseek models (cheap & capable)"))),o0({class:"settings-actions"},Iq({class:"settings-btn secondary",onClick:U},"Cancel"),Iq({class:"settings-btn primary",onClick:j},"Save")))),Y.addEventListener("click",(G)=>{if(G.target===Y)U()});let W=(G)=>{if(G.key==="Escape")U(),document.removeEventListener("keydown",W)};document.addEventListener("keydown",W),document.body.append(Y)}var yO=[{text:`<!--{"pin": "top"}-->

# tosijs-agent

[github](https://github.com/tonioloewald/tosijs-agent#readme) | [npm](https://www.npmjs.com/package/tosijs-agent) | [discord](https://discord.gg/ramJ9rgky5)

![tosijs-agent logo](/tosijs-agent.svg)

A **type-safe-by-design, cost-limited virtual machine** that enables the **safe execution of untrusted code** anywhere.

It's **safe eval** in the cloud.

And it's **tiny**, ![bundlejs bundle including dependencies](https://deno.bundlejs.com/badge?q=tosijs-agent).

tosijs-agent allows you to define complex logic chains, agents, and data pipelines_computer programs_using a fluent TypeScript builder. These definitions compile to a safe, JSON-serializable AST ([Abstract Syntax Tree](https://en.wikipedia.org/wiki/Abstract_syntax_tree)) that can be executed in the browser, on the server, or at the edge.

For a deeper dive into the architecture and security model, see the [Technical Context](./CONTEXT.md).

### Why do you care?

- **Service-as-a-Service:** Define a complete backend serviceincluding database fetches, API calls, and logicentirely as data, and execute it safely on a server.
- **Agents-as-Data:** Build AI agents entirely as JSON objects. Send them to a server to run instantlyno deployment, no build steps, no spin-up time.
- **Universal Runtime:** Run your agent logic in the browser for zero-latency UI updates, or move it to the server for heavy lifting. Because the AST is strongly typed JSON, it is easy to build a runtime for any language or hardware stack, or even compile it directly to LLVM.

### The Holy Grail

tosijs-agent solves fundamental problems in distributed computing:

- **Safe "Useful Mining":** Allows distributed nodes to execute productive, arbitrary work safely (sandboxed & gas-limited)  e.g. replacing Proof-of-Work with distributed data processing.
- **Code is Data:** Logic is defined as a portable AST, making execution language-agnostic and portable.
- **True Network Agents:** Write code that travels to the data, rather than moving petabytes of data to the code.
- **Type-Safe Composition:** Build robust pipelines where inputs and outputs are strictly validated at every step.

## Comparison: tosijs-agent vs LangChain

Consider building a "Research Agent" that searches for a topic, summarizes it, critiques the summary, and refines the search if needed.

### LangChain

Requires defining Tools, PromptTemplates, Chains (or Graph nodes), and wiring them up with complex state management classes. To refine the logic, you must redeploy the application code.

### tosijs-agent

The entire logic is a single, fluent expression that compiles to JSON. You can refine the agent's behavior by simply sending a new JSON payload to the serverno deployment required.

\`\`\`typescript
// Research Agent: Search -> Summarize -> Critique -> Loop
const agent = Agent.take(s.object({ topic: s.string })).while(
  '!good && tries < 3',
  {},
  (loop) =>
    loop
      .storeSearch({ query: 'topic' })
      .as('results')
      .llmPredict({ system: 'Summarize', user: 'results' })
      .as('summary')
      .llmPredict({ system: 'Critique', user: 'summary' })
      .as('feedback')
      .if(
        'feedback == "OK"',
        {},
        (yes) => yes.varSet({ key: 'good', value: true }),
        (no) => no.llmPredict({ system: 'Refine', user: 'topic' }).as('topic')
      )
)
\`\`\`

## Interactive Example: Cover Version Finder

This example shows the complete loop: a UI form captures user input, AsyncJS code processes it (calling an API and using an LLM to analyze results), and displays the output.

\`\`\`html
<!-- HTML: Simple search form -->
<form id="cover-search">
  <input type="text" id="song" placeholder="Song name" value="Yesterday" />
  <input type="text" id="artist" placeholder="Original artist" value="Beatles" />
  <button type="submit">Find Covers</button>
</form>
<div id="results"></div>
\`\`\`
\`\`\`js
// Wire up the form to AsyncJS
// Uses demoRuntime which gets LLM settings from the Settings dialog
import { ajs } from 'tosijs-agent'

// The AsyncJS code - searches iTunes and uses LLM to find covers
const findCovers = ajs\`
  function findCovers({ song, artist }) {
    let query = song + ' ' + artist
    let url = \\\`https://itunes.apple.com/search?term=\\\${query}&limit=25&media=music\\\`
    let response = httpFetch({ url, cache: 3600 })
    
    let results = response.results || []
    let tracks = results.map(x => \\\`"\\\${x.trackName}" by \\\${x.artistName} (\\\${x.collectionName})\\\`)
    let trackList = tracks.join('\\\\n')
    
    // Define schema for structured output - guarantees valid JSON
    let schema = {
      type: 'json_schema',
      json_schema: {
        name: 'cover_versions',
        strict: true,
        schema: {
          type: 'object',
          properties: {
            covers: {
              type: 'array',
              items: {
                type: 'object',
                properties: {
                  track: { type: 'string' },
                  artist: { type: 'string' },
                  album: { type: 'string' }
                },
                required: ['track', 'artist', 'album'],
                additionalProperties: false
              }
            }
          },
          required: ['covers'],
          additionalProperties: false
        }
      }
    }
    
    let prompt = \\\`Search results for "\\\${song}" by \\\${artist}:

\\\${trackList}

List cover versions (tracks NOT by \\\${artist}).\\\`

    let llmResponse = llmPredict({ prompt, options: { responseFormat: schema } })
    let parsed = JSON.parse(llmResponse)
    return { song, artist, covers: parsed.covers }
  }
\`

// Handle form submission
document.getElementById('cover-search').onsubmit = async (e) => {
  e.preventDefault()
  const resultsDiv = document.getElementById('results')
  resultsDiv.textContent = 'Searching...'

  // demoRuntime uses API keys from Settings dialog
  const { result, error } = await demoRuntime.run(
    findCovers,
    {
      song: document.getElementById('song').value,
      artist: document.getElementById('artist').value,
    },
    { fuel: 1000 }
  )

  if (error) {
    resultsDiv.textContent = \`Error: \${error.message}\`
  } else if (result.covers.length === 0) {
    resultsDiv.textContent = 'No cover versions found.'
  } else {
    resultsDiv.innerHTML = \`<h3>Cover versions of "\${result.song}":</h3><ul>\` +
      result.covers.map(c => \`<li>"\${c.track}" by \${c.artist} (\${c.album})</li>\`).join('') +
      '</ul>'
  }
}
\`\`\`

This demonstrates:
- **Safe execution**: The AsyncJS code runs in a sandboxed VM with fuel limits
- **Capability injection**: LLM access is provided by the host, not the untrusted code
- **Portable logic**: The \`findCovers\` AST could be sent to a server for execution instead

## Example Project

To see a complete, working example of how to build an agent with a simple UI, check out the official playground project:

**[https://github.com/brainsnorkel/agent99-playground](https://github.com/brainsnorkel/agent99-playground)**

## Installation

\`\`\`bash
bun add tosijs-agent
# or
npm install tosijs-agent
\`\`\`

## Quick Start

### 1. Define Logic (The Builder)

Use the fluent builder to create a logic chain.

\`\`\`typescript
import { Agent, s } from 'tosijs-agent'

// Define a simple calculation agent
const calculateTotal = Agent.take(
  s.object({
    price: s.number,
    taxRate: s.number,
  })
)
  // Use varSet with expression nodes for arithmetic
  .varSet({
    key: 'total',
    value: {
      $expr: 'binary',
      op: '*',
      left: Agent.args('price'),
      right: {
        $expr: 'binary',
        op: '+',
        left: { $expr: 'literal', value: 1 },
        right: Agent.args('taxRate'),
      },
    },
  })
  .return(s.object({ total: s.number }))

// Compile to JSON AST
const ast = calculateTotal.toJSON()
console.log(JSON.stringify(ast, null, 2))
\`\`\`

### 2. Execute (The VM)

Run the AST in the VM. The VM is stateless and isolated.

\`\`\`typescript
import { AgentVM } from 'tosijs-agent'

const vm = new AgentVM()

const result = await vm.run(
  ast,
  { price: 100, taxRate: 0.2 }, // Input Args
  { fuel: 1000 } // Execution Options
)

console.log(result.result) // { total: 120 }
console.log(result.fuelUsed) // Gas consumed
\`\`\`

## Tracing and Debugging

For debugging and testing, you can enable trace mode to get a detailed log of the agent's execution path.

\`\`\`typescript
const { result, trace } = await vm.run(
  ast,
  { price: 100, taxRate: 0.2 },
  { trace: true } // Enable trace mode
)

console.log(trace)
\`\`\`

The \`trace\` output is an array of \`TraceEvent\` objects, where each event records the state of the agent before and after an atom's execution, along with the inputs, outputs, and fuel consumption.

\`\`\`typescript
interface TraceEvent {
  op: string
  input: any
  stateBefore: any
  stateAfter: any
  result?: any
  error?: string
  fuelBefore: number
  fuelAfter: number
  timestamp: string
}
\`\`\`

## Core Atoms

The standard library includes essential primitives:

| Category         | Atoms                                                              | Description                                                                                                           |
| ---------------- | ------------------------------------------------------------------ | --------------------------------------------------------------------------------------------------------------------- |
| **Flow**         | \`seq\`, \`if\`, \`while\`, \`return\`, \`try\`                              | Control flow and loops.                                                                                               |
| **State**        | \`varSet\`, \`varGet\`, \`varsLet\`, \`varsImport\`, \`varsExport\`, \`scope\` | Variable management, including batch operations for importing variables from arguments and exporting them as results. |
| **Expressions**  | ExprNode (\`$expr\`)                                                 | Safe expression evaluation via AST nodes (binary, unary, member, etc.).                                               |
| **Logic**        | \`eq\`, \`gt\`, \`and\`, \`not\`, ...                                      | Boolean logic.                                                                                                        |
| **IO**           | \`httpFetch\`                                                        | HTTP requests.                                                                                                        |
| **Store**        | \`storeGet\`, \`storeSet\`                                             | Key-Value storage.                                                                                                    |
| **AI**           | \`llmPredict\`, \`agentRun\`                                           | LLM calls and sub-agent recursion.                                                                                    |
| **Utils**        | \`random\`, \`uuid\`, \`hash\`                                           | Random generation, UUIDs, and hashing.                                                                                |
| **Optimization** | \`memoize\`, \`cache\`                                                 | In-memory memoization and persistent caching. Keys are optional and will be auto-generated if not provided.           |

## Capabilities & Security

tosijs-agent uses a **[Capability-Based Security](https://en.wikipedia.org/wiki/Capability-based_security)** model. The VM cannot access the network, file system, or database unless provided with a Capability.

**Zero Config Defaults:** The runtime provides sensible defaults for local development:

- \`httpFetch\` uses the global \`fetch\`.
- \`store\` uses an in-memory \`Map\` (ephemeral).
- \`random\`/\`uuid\` use \`crypto\` or \`Math\`.

In production, you should inject secure, instrumented, or cloud-native implementations (e.g., restricted fetch, Postgres, Redis).

### Execution Timeout

The VM enforces a hard timeout to prevent hung agentssafeguarding against code that effectively halts by waiting on slow or non-responsive IO.

- **Automatic Safety Net:** Defaults to \`fuel  10ms\` (e.g., 1000 fuel  10s budget). _Note: For IO-heavy agents with low fuel costs, explicitly set \`timeoutMs\` to prevent premature timeouts._
- **Explicit Control:** Pass \`timeoutMs\` to enforce a strict Service Level Agreement (SLA).
- **Cancellation:** Pass an \`AbortSignal\` to integrate with external cancellation controllers (e.g., user cancellation buttons or HTTP request timeouts).

**Resource Cleanup:** When a timeout occurs, the VM passes the abort signal to the currently executing atom (via \`ctx.signal\`). Atoms implementing cancellation (like \`httpFetch\`) will abort their network requests immediately.

\`\`\`typescript
// 1. Default Safety Net (good for compute-heavy logic)
await vm.run(ast, args, { fuel: 1000 })

// 2. SLA Enforcement: "This agent must finish in 5s or we drop it"
await vm.run(ast, args, { fuel: 5000, timeoutMs: 5000 })

// 3. User Cancellation: connect UI "Stop" button to the Agent
const controller = new AbortController()
stopButton.onClick(() => controller.abort())
await vm.run(ast, args, { signal: controller.signal })
\`\`\`

**Fuel vs Timeout:** Fuel protects against CPU-bound abuse (tight loops). Timeout protects against IO-bound abuse (slow network calls). Together they ensure the VM cannot be held hostage.

### Cost Overrides

Default fuel costs are context-agnostic guesses. In production, you'll want to tune costs for your specific deploymentan LLM call to a local model vs OpenAI has very different resource implications.

\`\`\`typescript
// Static overrides
await vm.run(ast, args, {
  fuel: 1000,
  costOverrides: {
    httpFetch: 50, // We pay per API request
    llmPredict: 500, // LLM calls are expensive
    storeGet: 0.5, // Redis is cheap
  },
})

// Dynamic overrides based on input
await vm.run(ast, args, {
  costOverrides: {
    llmPredict: (input) => (input.model?.includes('gpt-4') ? 1000 : 100),
    storeSet: (input) => JSON.stringify(input.value).length * 0.001,
  },
})
\`\`\`

This lets operators tune fuel costs for their reality rather than relying on universal defaults.

### Request Context

For production deployments, you often need to pass request-scoped metadata (auth, permissions, request IDs) to atoms. The \`context\` option provides a clean mechanism for this.

\`\`\`typescript
// Pass auth/permissions from your request handler
await vm.run(ast, args, {
  context: {
    userId: 'user-123',
    permissions: ['read:data', 'fetch:external'],
    requestId: crypto.randomUUID(),
  },
})
\`\`\`

Atoms access context via \`ctx.context\`:

\`\`\`typescript
const secureFetch = defineAtom(
  'secureFetch',
  s.object({ url: s.string }),
  s.any,
  async (input, ctx) => {
    const permissions = ctx.context?.permissions ?? []
    if (!permissions.includes('fetch:external')) {
      throw new Error('Not authorized for external fetch')
    }
    return ctx.capabilities.fetch(input.url)
  }
)
\`\`\`

Use cases:

- **Authorization:** Check user permissions before executing sensitive operations
- **Multi-tenancy:** Route storage/database calls to tenant-specific resources
- **Audit logging:** Include request IDs in all log entries
- **Dynamic costs:** Combine with \`costOverrides\` for user-tier-based pricing

**Security Note:** The sandbox protects against malicious _agents_, not malicious _atom implementations_. Atoms are registered by the host and are trusted to be non-blocking and to respect \`ctx.signal\` for cancellation.

## Batteries Included (Zero-Dependency Local AI)

For local AI development, Agent99 provides a "Batteries Included" setup that runs out-of-the-box with **zero external dependencies or API keys**. It features a built-in vector search and connects to [LM Studio](https://lmstudio.ai/) for local model inference.

### 1. Setup LM Studio

To use the batteries, you need to have LM Studio running in the background.

1.  **Download and Install:** Get LM Studio from [lmstudio.ai](https://lmstudio.ai/).
2.  **Download Models:** You'll need at least one LLM and one embedding model. We recommend:
    - **LLM:** Search for a [GGUF](https://github.com/ggerganov/ggml/blob/master/docs/gguf.md) model like \`Meta-Llama-3-8B-Instruct.Q4_K_M.gguf\` for a good balance of performance and size.
    - **Embedding:** Search for \`nomic-embed-text-v1.5.Q8_0.gguf\`.
3.  **Start the Server:** Go to the "Local Server" tab (icon: \`<-->\`) and click "Start Server".

### 2. How it Works

When you first import the \`batteries\` from \`tosijs-agent\`, the runtime performs a one-time audit of the models available on your LM Studio server. It automatically detects which models are for embeddings and which are for chat, and caches the results to avoid re-auditing during the same session.

This allows Agent99 to automatically select the correct models for different tasks without any configuration. The cache uses \`localStorage\` if available (in a browser environment), or a simple in-memory cache otherwise.

### 3. Usage

The \`batteries\` export contains the necessary capabilities. To use them, register the \`batteryAtoms\` with the \`AgentVM\` and pass the \`batteries\` object to the \`run\` method's capabilities.

> **Note on Breaking Change:** Previously, battery atoms were exported individually. They are now consolidated into a single \`batteryAtoms\` object. This simplifies registration with the \`AgentVM\`.
>
> **Old Way:**
>
> \`\`\`typescript
> import { AgentVM, batteries, storeVectorize, storeSearch } from 'tosijs-agent'
> const vm = new AgentVM({ storeVectorize, storeSearch, ... })
> \`\`\`
>
> **New Way:**
>
> \`\`\`typescript
> import { AgentVM, batteries, batteryAtoms } from 'tosijs-agent'
> const vm = new AgentVM(batteryAtoms)
> \`\`\`

\`\`\`typescript
import { AgentVM, batteries, batteryAtoms, Agent } from 'tosijs-agent'

// Register the battery atoms
const vm = new AgentVM(batteryAtoms)

// The batteries are audited on import.
const logic = vm.Agent.storeVectorize({ text: 'Hello' }).as('vector')

const { result } = await vm.run(logic.toJSON(), {}, { capabilities: batteries })

console.log(result)
\`\`\`

### 4. Vector Search Performance

The built-in vector search is implemented with a highly optimized **[cosine similarity](https://en.wikipedia.org/wiki/Cosine_similarity) function** that operates directly on arrays. It is designed for serverless and edge environments where low-latency is critical. Benchmarks run on a 2023 M3 Max using \`bun test\` show the following performance characteristics:

| Vector Count | Dimensions | Search Time |
| :----------- | :--------- | :---------- |
| 10,000       | 500        | ~15 ms      |
| 10,000       | 1000       | ~22 ms      |
| 100,000      | 500        | ~101 ms     |

These results demonstrate that the in-memory vector store is suitable for a wide range of real-time applications without requiring a dedicated vector database.

> **cosine similarity** is the most popular algorithm for vector search, but there are many others (along with strategies for dealing with extremely large data-sets). For more information you can start with this Wikipedia article [Vector database](https://en.wikipedia.org/wiki/Vector_database).

### 5. Structured Outputs

You can request structured JSON responses (e.g., JSON Schema) from compatible models using \`responseFormat\`:

\`\`\`typescript
const logic = vm.Agent.llmPredictBattery({
  system: 'Extract data.',
  user: 'John Doe, 30',
  responseFormat: {
    type: 'json_schema',
    json_schema: {
      name: 'person',
      schema: {
        type: 'object',
        properties: {
          name: { type: 'string' },
          age: { type: 'number' },
        },
        required: ['name', 'age'],
      },
    },
  },
})
\`\`\`

### 5. Troubleshooting

- **Connection Error:** If you see an error like \`Failed to connect to LM Studio\`, make sure the LM Studio server is running on the default port (\`1234\`).
- **No Models Found:** Ensure you have downloaded compatible GGUF models and they are loaded in LM Studio. The audit process will warn you if it cannot find suitable LLM or embedding models.

## Self-Documentation for Agents

The VM can describe itself to an LLM, generating an [OpenAI-compatible Tool Schema](https://platform.openai.com/docs/guides/function-calling) for its registered atoms.

\`\`\`typescript
// Get all tools
const tools = vm.getTools()

// Get only flow control tools
const flowTools = vm.getTools('flow')

// Get specific tools
const myTools = vm.getTools(['httpFetch', 'template'])
\`\`\`

## Implementing Real-World Atoms

To enable custom capabilities like Database Access or Web Scraping, you inject them into the \`VM.run\` call.

#### Example: Providing a Database

\`\`\`typescript
import { AgentVM } from 'tosijs-agent'

const vm = new AgentVM()

const capabilities = {
  store: {
    get: async (key) => {
      // Connect to Redis/Postgres here
      return await db.find(key)
    },
    set: async (key, value) => {
      await db.insert(key, value)
    },
  },
}

await vm.run(ast, args, { capabilities })
\`\`\`

#### Example: Web Scraping Agent

You can expose a custom capability or use the standard \`httpFetch\` if trusted.

\`\`\`typescript
const capabilities = {
  fetch: async (url, options) => {
    // Implement secure fetch, possibly with proxy rotation or rate limiting
    return fetch(url, options)
  },
}
\`\`\`

## Custom Atoms

You can extend the runtime with your own atomic operations.

\`\`\`typescript
import { defineAtom, AgentVM, s, Agent } from 'tosijs-agent'

// 1. Define the Atom
const myScraper = defineAtom(
  'scrape', // OpCode
  s.object({ url: s.string }), // Input Schema
  s.string, // Output Schema
  async ({ url }, ctx) => {
    // Implementation logic
    const res = await ctx.capabilities.fetch(url)
    return await res.text()
  },
  { cost: 5 } // Gas cost
)

// 2. Register with Custom VM
const myVM = new AgentVM({ scrape: myScraper })

// 3. Use in Builder (Types are inferred!)
// The \`vm.Agent\` property is the recommended way to get a builder
// that includes any custom atoms you have registered.
const builder = myVM.Agent

const logic = builder
  .scrape({ url: 'https://example.com' })
  .as('html')
  .return(s.object({ html: s.string }))
\`\`\`

## Control Flow

Atoms like \`if\` and \`while\` evaluate expression strings. For security and predictability, these expressions are not granted access to the full agent state. Instead, you must use the \`vars\` parameter to explicitly pass in any state variables that the expression needs.

This mapping allows you to alias variables, making your expressions cleaner and more readable.

### If / Else

\`\`\`typescript
chain.if(
  'p > 100 && itemsLeft > 0',
  { p: 'product.price', itemsLeft: 'inventory.stockCount' }, // Map state to expression variables
  (then) => then.varSet({ key: 'discount', value: true }),
  (elseBranch) => elseBranch.varSet({ key: 'discount', value: false })
)
\`\`\`

### While Loop

\`\`\`typescript
// The \`vars\` map works identically here, creating a scope for the condition.
// Use ExprNode for arithmetic operations
chain.while('n > 0', { n: 'counter' }, (loop) =>
  loop.varSet({
    key: 'counter',
    value: {
      $expr: 'binary',
      op: '-',
      left: { $expr: 'ident', name: 'counter' },
      right: { $expr: 'literal', value: 1 },
    },
  })
)
\`\`\`

### Try / Catch

\`\`\`typescript
chain.try({
  try: (b) => b.httpFetch({ url: '...' }),
  catch: (b) => b.varSet({ key: 'error', value: 'failed' }),
})
\`\`\`

## Editor Support

tosijs-agent includes syntax highlighting for AsyncJS (the JavaScript subset used by \`ajs\` template literals).

### Quick Install

\`\`\`bash
# VS Code
npx ajs-install-vscode

# Cursor
npx ajs-install-cursor
\`\`\`

Features:

- Syntax highlighting for \`.ajs\` files
- Embedded highlighting inside \`ajs\`...\`\` template literals
- Error highlighting for forbidden syntax (\`new\`, \`class\`, \`async\`, etc.)

### Web Editors

**Monaco:**

\`\`\`typescript
import { registerAjsLanguage } from 'tosijs-agent/editors/monaco'
registerAjsLanguage(monaco)
\`\`\`

**CodeMirror 6:**

\`\`\`typescript
import { ajs } from 'tosijs-agent/editors/codemirror'
// Use ajs() in your extensions
\`\`\`

### Tree-sitter Editors (Zed, Nova, Helix)

Associate \`.ajs\` files with JavaScript syntax in your editor config. See [editors/README.md](./editors/README.md) for details.

> **Note:** If you modify AsyncJS syntax (e.g., adding/removing forbidden keywords), update the grammar files in \`editors/\` to match. See [editors/README.md](./editors/README.md) for grammar locations.

## Development

### Testing

The test suite includes performance benchmarks for the in-memory vector search. These benchmarks can be sensitive to the performance of the host machine and may fail in slower CI/CD environments. To avoid this, you can skip the benchmark tests by setting the \`AGENT99_TESTS_SKIP_BENCHMARKS\` environment variable.

\`\`\`bash
# Run tests
bun test

# Skip benchmark tests
AGENT99_TESTS_SKIP_BENCHMARKS=1 bun test

# Type check
bun run typecheck

# Build blueprint
bun run make
\`\`\`
`,title:"tosijs-agent",filename:"README.md",path:"README.md",pin:"top"},{text:`# AsyncJS (.ajs) - A Better JavaScript for AI Agents

AsyncJS is a JavaScript subset designed for writing AI agent logic. It compiles to Agent99's secure JSON AST format, providing familiar syntax with cleaner semantics.

> **For LLM Integration:** See [ASYNCJS_LLM_PROMPT.md](./ASYNCJS_LLM_PROMPT.md) for a system prompt optimized for code generation.

## File Extension

AsyncJS files use the \`.ajs\` extension to distinguish them from standard JavaScript:

\`\`\`
my-agent.ajs
search-tool.ajs
\`\`\`

## Why AsyncJS?

| Problem with JavaScript       | AsyncJS Solution                                |
| ----------------------------- | ----------------------------------------------- |
| \`async/await\` boilerplate     | All calls are implicitly async                  |
| Complex error handling        | Monadic error flow - errors propagate as values |
| No built-in type safety       | Types through example values                    |
| Security concerns with \`eval\` | Compiles to sandboxed VM                        |

## Quick Example

\`\`\`javascript
// search-agent.ajs

/**
 * Search and summarize information about a topic
 * @param topic - The topic to research
 * @param maxResults - Maximum number of results
 */
function searchAgent(topic: 'climate change', maxResults = 5) {
  let results = search({ query: topic, limit: maxResults })

  if (results.length == 0) {
    return { summary: 'No results found', sources: [] }
  }

  let summary = llmPredict({
    system: 'Summarize these search results concisely',
    user: results,
  })

  return { summary, sources: results }
}
\`\`\`

## Core Differences from JavaScript

### 1. Implicit Async

All function calls that invoke atoms are automatically awaited. No \`async/await\` keywords needed.

\`\`\`javascript
// AsyncJS - clean and simple
function agent(topic: 'machine learning') {
  let results = search({ query: topic })
  let summary = summarize({ text: results })
  return { summary }
}

// Equivalent JavaScript would require:
// async function agent(topic) {
//   let results = await search({ query: topic })
//   let summary = await summarize({ text: results })
//   return { summary }
// }
\`\`\`

### 2. Types Through Example Values

Types are inferred from example values. The example shows both the type AND a realistic value:

\`\`\`javascript
function greet(
  name: 'Anne Example', // required string
  age: 21, // required number
  greeting = 'Hello' // optional string, defaults to 'Hello'
) {
  // ...
}
\`\`\`

- **Colon (\`:\`)** = required parameter, example shows the type
- **Equals (\`=\`)** = optional parameter with default value

The example value IS the type. \`age: 21\` means "required number". \`name: 'Anne'\` means "required string".

### 3. Monadic Error Flow

Errors propagate automatically as values. When an atom fails, subsequent steps are skipped and the error flows through to the result.

\`\`\`javascript
function pipeline(topic: 'quantum computing') {
  let results = search({ query: topic }) // might fail
  let summary = summarize({ text: results }) // skipped if search fails
  let formatted = format({ content: summary }) // skipped if any above fails
  return { formatted }
}
// If search() fails, the error flows through without executing subsequent steps
// The result will have an \`error\` property containing the AgentError
\`\`\`

The VM returns a \`RunResult\` with both \`result\` and \`error\` fields:

\`\`\`typescript
const { result, error, fuelUsed } = await vm.run(ast, args)

if (error) {
  console.log('Failed:', error.message)
  console.log('Failed at atom:', error.op)
} else {
  console.log('Success:', result)
}
\`\`\`

Use \`try/catch\` to recover from errors:

\`\`\`javascript
function resilientPipeline(topic: 'neural networks') {
  let data = null
  try {
    data = fetchData({ topic })
  } catch (e) {
    data = fallbackData({ topic })
  }
  return { data }
}
\`\`\`

### 4. Function Introspection

Every function has a \`.signature\` property for self-documentation:

\`\`\`javascript
/**
 * Search the knowledge base
 * @param query - The search query
 * @param limit - Max results to return
 */
function search(
  query: 'example query',
  limit = 10
) -> [{ title: 'Example Title', url: 'https://example.com' }] {
  // implementation
}

// Automatically gets:
search.signature = {
  name: 'search',
  description: 'Search the knowledge base',
  parameters: {
    query: { type: 'string', required: true, description: 'The search query' },
    limit: { type: 'number', required: false, default: 10, description: 'Max results to return' }
  },
  returns: { type: 'array', items: { type: 'object', shape: { title: 'string', url: 'string' } } }
}
\`\`\`

## Type System Reference

### Parameter Types

| Syntax                  | Meaning          | Example                          |
| ----------------------- | ---------------- | -------------------------------- |
| \`name: 'Anne'\`          | Required string  | The example value shows the type |
| \`age: 21\`               | Required number  |                                  |
| \`active: true\`          | Required boolean |                                  |
| \`tags: ['a', 'b']\`      | Required array   |                                  |
| \`user: { name: 'Bob' }\` | Required object  |                                  |
| \`limit = 10\`            | Optional number  | Defaults to 10                   |
| \`query = 'default'\`     | Optional string  | Defaults to 'default'            |

### Destructured Parameter Defaults

AsyncJS supports default values in destructured object parameters. Unlike JavaScript/TypeScript where destructuring defaults can be tricky, AsyncJS makes them work reliably:

\`\`\`javascript
function calculate({ a = 10, b = 5 }) {
  return { sum: a + b, product: a * b }
}

// Called with no arguments - uses defaults
calculate({})  // { sum: 15, product: 50 }

// Called with partial arguments - missing ones use defaults
calculate({ a: 20 })  // { sum: 25, product: 100 }

// Called with all arguments - no defaults used
calculate({ a: 3, b: 7 })  // { sum: 10, product: 21 }
\`\`\`

This works seamlessly with type annotations too:

\`\`\`javascript
function greet({ name: 'World', greeting = 'Hello' }) {
  return { message: \`\${greeting}, \${name}!\` }
}

greet({})  // { message: "Hello, World!" }
greet({ name: 'Alice' })  // { message: "Hello, Alice!" }
greet({ greeting: 'Hi' })  // { message: "Hi, World!" }
\`\`\`

### Return Types

Return types can be specified with arrow syntax:

\`\`\`javascript
function search(query: 'search term') -> { results: [], count: 0 } {
  // Must return object with results array and count number
}
\`\`\`

Or inferred from the return statement:

\`\`\`javascript
function search(query: 'search term') {
  return { results: [], count: 0 } // Return type inferred
}
\`\`\`

## Supported Constructs

### Variables

\`\`\`javascript
let x = 5 // Variable declaration
x = 10 // Assignment
let { a, b } = obj // Destructuring (limited)
\`\`\`

### Control Flow

\`\`\`javascript
// Conditionals
if (condition) {
  // ...
} else {
  // ...
}

// Loops
while (condition) {
  // ...
}

for (const item of items) {
  // Becomes a map operation
}

// Error handling
try {
  // ...
} catch (e) {
  // ...
}
\`\`\`

### Expressions

\`\`\`javascript
// Arithmetic
a + b, a - b, a * b, a / b, a % b

// Comparison
a == b, a != b, a < b, a > b, a <= b, a >= b

// Logical
a && b, a || b, !a

// Member access
obj.property
obj.nested.property
arr[0]

// Optional chaining (safe access)
obj?.property
obj?.nested?.value
arr?.[0]

// Template literals
\`Hello \${name}!\`

// Function calls
atomName({ param1: value1, param2: value2 })
\`\`\`

### Built-in Objects

AsyncJS provides safe implementations of common JavaScript built-in objects:

#### Math

All standard Math methods and constants are available:

\`\`\`javascript
let floor = Math.floor(3.7) // 3
let ceil = Math.ceil(3.2) // 4
let abs = Math.abs(-5) // 5
let max = Math.max(1, 5, 3) // 5
let sqrt = Math.sqrt(16) // 4
let pi = Math.PI // 3.14159...
let random = Math.random() // Cryptographically secure when available
\`\`\`

**Note:** \`Math.random()\` uses \`crypto.getRandomValues()\` when available for cryptographically secure random numbers.

#### JSON

\`\`\`javascript
let obj = { name: 'test', value: 42 }
let str = JSON.stringify(obj) // '{"name":"test","value":42}'
let parsed = JSON.parse(str) // { name: 'test', value: 42 }
\`\`\`

#### Array Static Methods

\`\`\`javascript
let isArr = Array.isArray([1, 2, 3]) // true
let arr = Array.from([1, 2, 3]) // Creates new array
let created = Array.of(1, 2, 3) // [1, 2, 3]
\`\`\`

#### Object Static Methods

\`\`\`javascript
let obj = { a: 1, b: 2, c: 3 }
let keys = Object.keys(obj) // ['a', 'b', 'c']
let values = Object.values(obj) // [1, 2, 3]
let entries = Object.entries(obj) // [['a',1], ['b',2], ['c',3]]
\`\`\`

#### Number Static Methods

\`\`\`javascript
let isInt = Number.isInteger(5) // true
let isNan = Number.isNaN(NaN) // true
let max = Number.MAX_SAFE_INTEGER // 9007199254740991
\`\`\`

#### Global Functions

\`\`\`javascript
let n = parseInt('42') // 42
let f = parseFloat('3.14') // 3.14
let encoded = encodeURIComponent('hello world') // 'hello%20world'
\`\`\`

#### String Instance Methods

\`\`\`javascript
let str = 'hello world'
let upper = str.toUpperCase() // 'HELLO WORLD'
let parts = str.split(' ') // ['hello', 'world']
let trimmed = '  padded  '.trim() // 'padded'
let replaced = str.replace('world', 'there') // 'hello there'
\`\`\`

#### Array Instance Methods

\`\`\`javascript
let arr = [3, 1, 4, 1, 5]
let joined = arr.join('-') // '3-1-4-1-5'
let has = arr.includes(4) // true
let idx = arr.indexOf(1) // 1
let sliced = arr.slice(1, 3) // [1, 4]
\`\`\`

### Set and Date Builtins

AsyncJS provides \`Set()\` and \`Date()\` as factory functions - no \`new\` keyword needed.

#### Set

Create sets with \`Set([items])\`. Sets have both mutable operations (modify in place) and immutable set algebra (return new sets):

\`\`\`javascript
// Create a Set
let tags = Set(['javascript', 'typescript', 'rust'])
let empty = Set()

// Mutable operations (modify the set, return this for chaining)
tags.add('go') // Add item
tags.remove('rust') // Remove item
tags.clear() // Remove all items

// Query operations
let has = tags.has('typescript') // true/false
let count = tags.size // Number of items
let arr = tags.toArray() // Convert to array

// Immutable set algebra (return NEW sets)
let a = Set([1, 2, 3])
let b = Set([2, 3, 4])

let union = a.union(b) // Set([1, 2, 3, 4])
let inter = a.intersection(b) // Set([2, 3])
let diff = a.diff(b) // Set([1]) - items in a but not b
\`\`\`

#### Date

Create dates with \`Date()\` or \`Date(initializer)\`. Date objects are **immutable** - methods like \`add()\` return new Date objects:

\`\`\`javascript
// Create a Date
let now = Date() // Current date/time
let specific = Date('2024-06-15') // From ISO string
let fromTs = Date(1718409600000) // From timestamp

// Static methods
let timestamp = Date.now() // Current timestamp (number)
let parsed = Date.parse('2024-06-15T10:30:00Z') // Parse to Date object

// Component accessors (read-only)
let d = Date('2024-06-15T10:30:45Z')
d.year // 2024
d.month // 6 (1-12, not 0-11 like JS!)
d.day // 15
d.hours // 10
d.minutes // 30
d.seconds // 45
d.timestamp // Unix timestamp in ms
d.value // ISO string

// Immutable arithmetic (returns NEW Date)
let later = d.add({ days: 5, hours: 3 })
let earlier = d.add({ months: -1 })
// Supported: years, months, days, hours, minutes, seconds

// Comparison
let before = d.isBefore(later) // true
let after = later.isAfter(d) // true
let diffDays = d.diff(later, 'days') // -5

// Formatting
let formatted = d.format('date') // '2024-06-15'
let iso = d.format('iso') // '2024-06-15T10:30:45.000Z'
let time = d.format('time') // '10:30:45'
\`\`\`

**Note:** Unlike JavaScript's \`Date\`, months are 1-12 (not 0-11), and all methods are immutable.

#### Serialization

Sets and Dates serialize cleanly to JSON:

\`\`\`javascript
let result = {
  tags: Set(['a', 'b', 'c']),
  created: Date('2024-06-15'),
}
// JSON.stringify(result) produces:
// { "tags": ["a", "b", "c"], "created": "2024-06-15T00:00:00.000Z" }
\`\`\`

- **Sets** serialize to arrays
- **Dates** serialize to ISO 8601 strings

### Schema Filtering

The \`filter()\` builtin validates and strips extra properties from objects based on a schema:

\`\`\`javascript
// Strip extra properties from an object
let raw = { name: 'Alice', age: 30, secret: 'password', extra: 123 }
let clean = filter(raw, { name: 'string', age: 0 })
// clean = { name: 'Alice', age: 30 }

// Works with nested objects
let data = {
  user: { name: 'Bob', age: 25, ssn: '123-45-6789' },
  tags: ['a', 'b'],
  internal: 'hidden',
}
let filtered = filter(data, {
  user: { name: 'string', age: 0 },
  tags: ['string'],
})
// filtered = { user: { name: 'Bob', age: 25 }, tags: ['a', 'b'] }

// Throws on validation failure (missing required fields)
let bad = filter({ name: 'Alice' }, { name: 'string', age: 0 })
// Error: Missing age
\`\`\`

**Use cases:**

- Sanitize LLM outputs - strip unexpected properties from JSON responses
- API input validation - accept only the fields you expect
- Data projection - reduce objects to a known shape

**Note:** Return values are automatically filtered when a return type is declared. This makes return types act as projections:

\`\`\`javascript
function getUser(id: 'user-123') -> { name: 'string', email: 'string' } {
  let user = fetchUser({ id })  // might return { name, email, password, ... }
  return { user }               // password automatically stripped
}
\`\`\`

### Array Methods with Lambdas

\`\`\`javascript
// Map - transform each element
items.map((x) => x * 2)
items.map((x) => {
  let doubled = x * 2
  return doubled
})

// Filter - keep elements matching condition
items.filter((x) => x > 5)
items.filter((x) => x % 2 == 0)

// Find - get first matching element
items.find((x) => x.id == targetId)
users.find((u) => u.age >= 18)

// Reduce - accumulate to single value
items.reduce((acc, x) => acc + x, 0)
items.reduce((sum, item) => sum + item.price, 0)

// Other array operations
items.push(newItem) // Add to array
str.split(',') // Split string to array
parts.join('-') // Join array to string
\`\`\`

Lambdas support closures - they can access variables from the outer scope:

\`\`\`javascript
function processItems({ items, threshold }) {
  let above = items.filter((x) => x >= threshold) // threshold from outer scope
  let scaled = above.map((x) => x * threshold) // still accessible
  return { scaled }
}
\`\`\`

## Unsupported Constructs

These JavaScript features are intentionally not supported:

| Feature            | Reason                       | Alternative         |
| ------------------ | ---------------------------- | ------------------- |
| \`class\`            | Use functional composition   | Plain functions     |
| \`this\`             | Implicit state is confusing  | Explicit parameters |
| \`new\`              | Classes not supported        | Factory functions   |
| \`import/require\`   | Atoms must be registered     | Register with VM    |
| \`async/await\`      | Implicit async               | Just call functions |
| \`yield/generators\` | Complex control flow         | Use \`map\`/\`while\`   |
| \`eval\`             | Security (though VM is safe) | Use transpiler      |
| \`with\`             | Deprecated                   | Explicit references |
| \`var\`              | Scoping issues               | Use \`let\`           |

## API Usage

### transpile()

Full transpilation with signature and metadata:

\`\`\`typescript
import { transpile } from 'tosijs-agent'

const { ast, signature, warnings } = transpile(\`
  function greet(name: 'World') {
    let msg = template({ tmpl: 'Hello {{name}}!', vars: { name } })
    return { msg }
  }
\`)

console.log(signature.parameters.name.type) // 'string'
console.log(signature.parameters.name.required) // true
\`\`\`

### ajs()

Convenience function returning just the AST (works as both a function and tagged template literal):

\`\`\`typescript
import { ajs } from 'tosijs-agent'

const ast = ajs(\`
  function add(a: 5, b: 3) {
    let sum = a + b
    return { sum }
  }
\`)

// Execute with VM
const vm = new AgentVM()
const result = await vm.run(ast, { a: 5, b: 3 })
console.log(result.result.sum) // 8
\`\`\`

### agent\\\`\\\`

Tagged template for inline definitions:

\`\`\`typescript
import { agent } from 'tosijs-agent'

const searchAST = agent\`
  function search(query: 'example search', limit = 10) {
    let results = storeSearch({ query, limit })
    return { results }
  }
\`
\`\`\`

### getToolDefinitions()

Generate OpenAI-compatible tool schemas for LLM integration:

\`\`\`typescript
import { getToolDefinitions, transpile } from 'tosijs-agent'

const { signature } = transpile(source)
const tools = getToolDefinitions([signature])

// Returns format compatible with OpenAI/Anthropic tool calling:
// [{
//   type: 'function',
//   function: {
//     name: 'search',
//     description: 'Search the knowledge base',
//     parameters: { type: 'object', properties: {...}, required: [...] }
//   }
// }]
\`\`\`

## Error Handling

### Monadic Error Flow

Agent99 uses monadic error flow - when an atom fails, the error becomes a value that propagates through the pipeline:

\`\`\`typescript
const { result, error, fuelUsed } = await vm.run(ast, args)

if (error) {
  // error is an AgentError with:
  // - message: string - the error message
  // - op: string - the atom that failed
  // - cause?: Error - the original exception
  console.log(\`Error in \${error.op}: \${error.message}\`)
} else {
  // Success - use result
  console.log(result)
}
\`\`\`

### Checking for Errors

\`\`\`typescript
import { isAgentError } from 'tosijs-agent'

const { result, error } = await vm.run(ast, args)

if (isAgentError(result)) {
  // result itself is the error (when error occurs before return)
}
\`\`\`

### Recovery with try/catch

Use \`try/catch\` in your AsyncJS code to handle errors gracefully:

\`\`\`javascript
function resilientAgent({ query }) {
  let result = null

  try {
    result = riskyOperation({ query })
  } catch (e) {
    // e contains the error message
    result = safeDefault({ error: e })
  }

  return { result }
}
\`\`\`

### Triggering Errors with Error()

Use the \`Error()\` built-in to trigger monadic error flow from your AsyncJS code:

\`\`\`javascript
function validateInput({ value }) {
  if (value < 0) {
    Error('Value must be non-negative')
    // Execution stops here - subsequent code is skipped
  }
  
  return { validated: value }
}
\`\`\`

When \`Error()\` is called:
- The error message is stored in the context
- Subsequent operations are skipped (monadic error flow)
- The error can be caught with \`try/catch\` or returned to the caller

\`\`\`javascript
function safeDivide({ a, b }) {
  if (b === 0) {
    Error('Division by zero')
  }
  return { result: a / b }
}

function calculate({ x, y }) {
  let result = null
  
  try {
    result = safeDivide({ a: x, b: y })
  } catch (e) {
    result = { result: 0, error: e }
  }
  
  return result
}
\`\`\`

### Why No \`throw\` Statement?

AsyncJS intentionally does not support the \`throw\` statement. Instead, use \`Error()\`:

\`\`\`javascript
// DON'T DO THIS - throw is not supported:
if (invalid) {
  throw new Error('Something went wrong')  // Transpiler error!
}

// DO THIS INSTEAD:
if (invalid) {
  Error('Something went wrong')  // Triggers monadic error flow
}
\`\`\`

The \`throw\` keyword will show as an error in your editor (red underline) and the transpiler will provide a helpful error message pointing you to use \`Error()\` instead.

## Gotchas and Common Pitfalls

### Unavailable JavaScript Features

These common JavaScript APIs are **not available** in AsyncJS. The transpiler will catch these and provide helpful error messages:

| Feature          | Error Message              | Alternative                            |
| ---------------- | -------------------------- | -------------------------------------- |
| \`setTimeout\`     | Use the \`delay\` atom       | \`delay({ ms: 1000 })\`                  |
| \`setInterval\`    | Use while loops with delay | \`while (cond) { delay({ ms: 1000 }) }\` |
| \`fetch\`          | Use the \`httpFetch\` atom   | \`httpFetch({ url })\`                   |
| \`RegExp\`         | Use string methods         | \`str.match()\`, \`str.replace()\`         |
| \`Promise\`        | Implicit async             | All calls are automatically awaited    |
| \`Map\`            | Use plain objects          | \`{ key: value }\`                       |
| \`require/import\` | Register atoms with VM     | \`new AgentVM({ customAtom })\`          |

### The \`new\` Keyword

The \`new\` keyword is not supported. AsyncJS provides factory functions instead:

\`\`\`javascript
// DON'T DO THIS - the transpiler catches these with helpful errors:
let date = new Date() // Error: Use Date() or Date('2024-01-15') instead
let set = new Set([1, 2]) // Error: Use Set([items]) instead
let arr = new Array(5) // Error: Use array literals like [1, 2, 3] instead

// DO THIS INSTEAD - no 'new' needed:
let date = Date() // Current date/time
let date2 = Date('2024-06-15') // Specific date
let set = Set([1, 2, 3]) // Create a Set
let arr = [1, 2, 3, 4, 5] // Array literal
\`\`\`

See [Set and Date Builtins](#set-and-date-builtins) for full documentation.

### No \`this\` or Classes

AsyncJS is purely functional. There's no \`this\`, no classes, no prototypes:

\`\`\`javascript
// DON'T DO THIS
class Agent {
  constructor(name) {
    this.name = name
  }
}

// DO THIS INSTEAD
function createAgent(name: 'Agent Smith') {
  return { name }
}
\`\`\`

### Equality Semantics

AsyncJS uses JavaScript's standard equality (\`==\` and \`===\`). There is no special deep equality:

\`\`\`javascript
let a = { x: 1 }
let b = { x: 1 }
let same = a == b // false (reference comparison)

// For deep comparison, use JSON.stringify or write a comparison function
let equal = JSON.stringify(a) == JSON.stringify(b) // true
\`\`\`

### Optional Chaining (\`?.\`)

Optional chaining is fully supported for safe property access:

\`\`\`javascript
let x = obj?.nested?.value // Returns null if any step is null/undefined
let result = user?.profile?.name

// Works with method calls too
let len = items?.length
let upper = str?.toUpperCase()
\`\`\`

**Note:** Nullish coalescing (\`??\`) is not yet supported. Use explicit checks:

\`\`\`javascript
let x = obj?.nested?.value
if (x == null) {
  x = 'default'
}
\`\`\`

### Atom Calls vs Built-in Methods

Atoms use object parameter syntax, while built-ins use normal function syntax:

\`\`\`javascript
// Atom call - object parameter
let result = search({ query: 'hello', limit: 10 })

// Built-in method - normal parameters
let floor = Math.floor(3.7)
let upper = str.toUpperCase()
\`\`\`

### Async Is Implicit

All atom calls are automatically awaited. Don't use \`async/await\`:

\`\`\`javascript
// DON'T DO THIS
async function search(query) {
  let result = await fetch(query) // Error: async/await not supported
}

// DO THIS INSTEAD
function search(query: 'https://api.example.com') {
  let result = httpFetch({ url: query }) // Automatically awaited
  return { result }
}
\`\`\`

### Error Propagation

Errors propagate monadically - if one step fails, subsequent steps are skipped:

\`\`\`javascript
function pipeline(input: 'raw data') {
  let a = stepOne({ input }) // If this fails...
  let b = stepTwo({ data: a }) // ...this is skipped
  let c = stepThree({ data: b }) // ...and this too
  return { c } // Result contains the error
}
\`\`\`

Use \`try/catch\` to recover from expected errors:

\`\`\`javascript
function resilient(input: 'user input') {
  let result = null
  try {
    result = riskyStep({ input })
  } catch (e) {
    result = fallback({ error: e })
  }
  return { result }
}
\`\`\`

### Fuel Limits

All operations consume fuel. Complex operations may hit limits:

\`\`\`javascript
// This might run out of fuel for large arrays
function processLarge({ items }) {
  let mapped = items.map((x) => complexOperation({ x }))
  return { mapped }
}

// Run with higher fuel limit
const result = await vm.run(ast, args, { fuel: 10000 })
\`\`\`

## Security Model

AsyncJS compiles to Agent99's JSON AST, which executes in a completely sandboxed VM:

- **No file system access** - unless explicitly provided via atoms
- **No network access** - unless explicitly provided via atoms
- **No global state** - each execution is isolated
- **Fuel-limited execution** - prevents infinite loops and runaway expressions
- **Type-checked at runtime** - invalid operations fail safely
- **Prototype access blocked** - \`__proto__\`, \`constructor\`, \`prototype\` are forbidden

The transpiler is permissive because security is enforced at the VM level, not the language level. Even if malicious code somehow made it through, the VM cannot execute dangerous operations unless atoms for those operations are registered.

### Fuel System

Every operation consumes fuel. When fuel runs out, execution stops with an \`Out of Fuel\` error:

\`\`\`typescript
const result = await vm.run(ast, args, { fuel: 100 })
// Limits total computation to prevent infinite loops
\`\`\`

Expression evaluation also consumes fuel (0.01 per node), preventing deeply nested or recursive expressions from running unchecked.

## Migration from TypedBuilder

If you have existing TypedBuilder code, here's how to convert:

\`\`\`typescript
// Before: TypedBuilder
const ast = Agent.take()
  .varsImport(['topic'])
  .step({ op: 'search', query: 'topic', result: 'results' })
  .if('results.length > 0', { results: 'results' }, (b) =>
    b.step({ op: 'summarize', text: 'results', result: 'summary' })
  )
  .return({ properties: { results: {}, summary: {} } })
  .toJSON()

// After: AsyncJS
const ast = ajs(\`
  function searchAgent(topic: 'climate change') {
    let results = search({ query: topic })
    if (results.length > 0) {
      let summary = summarize({ text: results })
    }
    return { results, summary }
  }
\`)
\`\`\`

## Best Practices

1. **Use descriptive JSDoc comments** - They become part of the function signature for LLM agents
2. **Prefer explicit types** - Even though inference works, explicit types document intent
3. **Keep functions small** - Each function should do one thing
4. **Use meaningful variable names** - The VM state is inspectable during debugging
5. **Return structured objects** - Makes output types clear and composable
6. **Handle errors appropriately** - Use try/catch for expected failures, let others propagate
7. **Set appropriate fuel limits** - Balance between allowing complex operations and preventing abuse
`,title:"AsyncJS (.ajs) - A Better JavaScript for AI Agents",filename:"ASYNCJS.md",path:"ASYNCJS.md"},{text:"# AsyncJS LLM System Prompt\n\n> **Maintenance Note:** This prompt must be updated when [ASYNCJS.md](./ASYNCJS.md) changes.\n> Key areas to sync: type syntax, built-ins (Set/Date), control flow, and forbidden constructs.\n\nUse this system prompt when asking an LLM to generate AsyncJS code.\n\n---\n\n## System Prompt\n\n````\nYou are an expert code generator for **AsyncJS**, a specialized subset of JavaScript for AI Agents.\nAsyncJS looks like JavaScript but has strict differences. You must adhere to these rules:\n\n### 1. SYNTAX & TYPES\n- **Types by Example:** Do NOT use TypeScript types (`x: string`). Use \"Example Types\" where the value implies the type.\n  - WRONG: `function search(query: string, limit?: number)`\n  - RIGHT: `function search(query: 'search term', limit = 10)`\n  - `name: 'value'` means REQUIRED. `name = 'value'` means OPTIONAL.\n- **No Classes:** Do NOT use `class`, `new`, `this`, or `prototype`.\n- **No Async/Await:** Do NOT use `async` or `await`. All functions are implicitly asynchronous.\n  - WRONG: `let x = await fetch(...)`\n  - RIGHT: `let x = httpFetch({ url: '...' })`\n\n### 2. BUILT-INS & FACTORIES\n- **No `new` Keyword:** Never use `new`. Use factory functions.\n  - WRONG: `new Date()`, `new Set()`, `new Array()`\n  - RIGHT: `Date()`, `Set([1,2])`, `['a','b']`\n- **Date Objects:** `Date()` returns an **immutable** object.\n  - Months are 1-indexed (1=Jan, not 0=Jan).\n  - Methods like `.add({ days: 5 })` return a NEW Date object.\n  - Access components: `.year`, `.month`, `.day`, `.hours`, `.minutes`, `.seconds`\n  - Format: `.format('date')`, `.format('iso')`, `.format('YYYY-MM-DD')`\n- **Set Objects:** `Set([items])` returns an object with:\n  - Mutable: `.add(x)`, `.remove(x)`, `.clear()`\n  - Immutable algebra: `.union(other)`, `.intersection(other)`, `.diff(other)` - return NEW Sets\n  - Query: `.has(x)`, `.size`, `.toArray()`\n- **Optional Chaining:** Use `?.` for safe property access: `obj?.nested?.value`\n- **Schema Filtering:** `filter(data, schema)` strips extra properties:\n  - `filter({ a: 1, b: 2, extra: 3 }, { a: 0, b: 0 })` returns `{ a: 1, b: 2 }`\n  - Useful for sanitizing LLM outputs or API responses\n\n### 3. ATOMS VS. BUILT-INS\n- **Atoms (External Tools):** ALWAYS accept a single object argument.\n  - Pattern: `atomName({ param: value })`\n  - Examples: `search({ query: topic })`, `llmPredict({ system: '...', user: '...' })`\n- **Built-ins (Math, JSON, String, Array):** Use standard JS syntax.\n  - `Math.max(1, 2)`, `JSON.parse(str)`, `str.split(',')`, `arr.map(x => x * 2)`\n\n### 4. ERROR HANDLING\n- Errors propagate automatically (Monadic flow). If one step fails, subsequent steps are skipped.\n- Only use `try/catch` if you need to recover from a failure and continue.\n\n### 5. FORBIDDEN CONSTRUCTS\nThese will cause transpile errors:\n- `async`, `await` - not needed, all calls are implicitly async\n- `new` - use factory functions instead\n- `class`, `this` - use plain functions and objects\n- `var` - use `let` instead\n- `import`, `require` - atoms must be registered with the VM\n- `console.log` - use trace capabilities if needed\n\n### EXAMPLE\n**User Task:** Create an agent that searches for a topic and summarizes it.\n\n**AsyncJS Response:**\n```javascript\n/**\n * Search and summarize a topic\n * @param topic - The topic to research\n */\nfunction researchAgent(topic: 'quantum computing') {\n  // 1. Implicit async call to atom\n  let searchResults = search({ query: topic, limit: 5 })\n\n  // 2. Standard JS logic with optional chaining\n  if (searchResults?.length == 0) {\n    return { error: 'No results found' }\n  }\n\n  // 3. Atom call for summarization\n  let summary = summarize({\n    text: JSON.stringify(searchResults),\n    length: 'short'\n  })\n\n  // 4. Factory usage (no 'new')\n  let timestamp = Date()\n  let tags = Set(['ai', 'research'])\n  tags.add(topic)\n\n  return { summary, timestamp, tags }\n}\n````\n\n```\n\n---\n\n## Self-Correction Loop\n\nWhen testing with local LLMs, implement error feedback:\n\n1. Run the LLM with this prompt\n2. If output contains `async`, `await`, `new`, `class`, or `this`, feed back:\n   > \"Error: You used '[keyword]'. AsyncJS forbids '[keyword]'. [Alternative].\"\n3. The model typically fixes it on the second attempt\n\nExample corrections:\n- `new Date()`  \"Use `Date()` factory function instead\"\n- `await fetch()`  \"Remove `await`, use `httpFetch({ url })` - all calls are implicitly async\"\n- `class Agent`  \"Use plain functions, AsyncJS is purely functional\"\n\n---\n\n## Compact Version (for context-limited models)\n\n```\n\nYou generate AsyncJS code. Rules:\n\n1. Types by example: `fn(name: 'string', count = 10)` - colon=required, equals=optional\n2. NO: async/await, new, class, this, var, import\n3. Atoms use object args: `search({ query: x })`. Built-ins normal: `Math.max(1,2)`\n4. Factories: `Date()`, `Set([1,2])` - no `new` keyword\n5. Date is immutable, months 1-12. Set has .add/.remove (mutable) and .union/.diff (immutable)\n6. Use `?.` for optional chaining: `obj?.prop?.value`\n7. Use `filter(data, schema)` to strip extra properties from objects\n\n```\n\n```\n",title:"AsyncJS LLM System Prompt",filename:"ASYNCJS_LLM_PROMPT.md",path:"ASYNCJS_LLM_PROMPT.md"},{text:'# Context: Working with `tosijs-schema`\n\nYou are an expert in `tosijs-schema`, a lightweight, schema-first, LLM-native replacement for Zod. Use this guide to generate correct code, migrate from Zod, and understand the library\'s design philosophy.\n\n## 1. Core Philosophy & Design\n\n- **Schema-First:** The primary artifact is a standard JSON Schema object. `tosijs-schema` is a fluent API to generate these schemas.\n- **LLM-Native:** The generated schemas are optimized for LLM consumption (cleaner, flatter, fewer tokens than Zod-to-JSON-Schema adapters).\n- **Strict by Default:** Objects automatically set `additionalProperties: false` and mark all keys as `required` to satisfy OpenAI Structured Output requirements out-of-the-box.\n- **Performance:** Uses "Ghost Constraints" for expensive checks (like `maxProperties` on large objects) and a "prime-jump" strategy for validating large arrays in O(1) time.\n- **Validation Separation:** Separates "Is this valid?" (fast, boolean return) from "Why is it invalid?" (detailed debugging).\n\n## 2. Basic Setup & Syntax\n\n### Imports\n\n```typescript\nimport { s, type Infer } from \'tosijs-schema\'\n```\n\n### Defining Schemas\n\nUse the `s` proxy to define schemas. The syntax is property-based and chainable.\n\n```typescript\nconst UserSchema = s.object({\n  id: s.string.uuid, // Format shorthand\n  username: s.string.min(3).max(20), // Chainable constraints\n  email: s.email, // First-class email type (no .string wrapper needed)\n  age: s.integer.min(0).optional, // Optional integer\n  tags: s.array(s.string).min(1), // Array with constraints\n  role: s.enum([\'admin\', \'user\']), // Enums\n  meta: s.record(s.string), // Record/Dictionary\n})\n```\n\n### Type Inference\n\nInference works similarly to Zod but exports `Infer` directly.\n\n```typescript\ntype User = Infer<typeof UserSchema>\n```\n\n### Accessing the JSON Schema\n\nYou can access the raw JSON schema object via the `.schema` property.\n\n```typescript\nconsole.log(UserSchema.schema)\n// Outputs standard JSON Schema object: { type: "object", properties: { ... } }\n```\n\n## 3. Validation API\n\n**Crucial Difference from Zod:**\n\n- `tosijs-schema` validation is optimized for speed and returns a **boolean** by default.\n- It does **not** throw errors or return a parsed object like Zod\'s `.parse()`.\n\n```typescript\nconst data = { ... };\n\n// Fast validation (returns true/false)\nif (UserSchema.validate(data)) {\n  // logic here\n} else {\n  // Handle invalid data\n}\n```\n\n## 4. Migration Guide (Zod vs. tosijs-schema)\n\n| Feature         | Zod (`z`)                  | tosijs-schema (`s`)                      |\n| --------------- | -------------------------- | ---------------------------------------- |\n| **String**      | `z.string()`               | `s.string`                               |\n| **Email**       | `z.string().email()`       | `s.email` (First-class citizen)          |\n| **UUID**        | `z.string().uuid()`        | `s.string.uuid` or `s.uuid`              |\n| **Optional**    | `schema.optional()`        | `schema.optional` (Property, not method) |\n| **Objects**     | `z.object({...})`          | `s.object({...})`                        |\n| **Strict Mode** | `z.object({...}).strict()` | **Default** (No method needed)           |\n| **Arrays**      | `z.array(schema)`          | `s.array(schema)`                        |\n| **Enums**       | `z.enum([\'a\', \'b\'])`       | `s.enum([\'a\', \'b\'])`                     |\n| **Unions**      | `z.union([a, b])`          | `s.union([a, b])`                        |\n| **Inference**   | `z.infer<typeof T>`        | `Infer<typeof T>`                        |\n| **Metadata**    | `.describe("...")`         | `.describe("...")` / `.title("...")`     |\n\n## 5. Monadic Pipelines (`M`)\n\n`tosijs-schema` includes a "Railway Oriented Programming" module for building type-safe tool chains. This is especially useful for **AI Agents**, ensuring that hallucinations or bad data are caught immediately at the source (Input vs Output) rather than cascading.\n\n### 1. Guarded Functions (`M.func`)\n\nCreate functions that enforce schemas on both input and output.\n\n```typescript\nimport { M, s } from \'tosijs-schema\'\n\n// M.func(InputSchema, OutputSchema, Implementation)\nconst getSize = M.func(s.string, s.number, (str) => {\n  return str.length\n})\n\n// Usage:\nconst len = getSize(\'hello\') // Returns 5\n// getSize(123) // Throws SchemaError (Input mismatch)\n```\n\n### 2. Execution Contexts (`new M`)\n\nChain multiple functions together. The execution context handles error propagation automatically.\n\n```typescript\nconst pipeline = new M({\n  getSize,\n  isEven: M.func(s.number, s.boolean, (n) => n % 2 === 0),\n})\n\nconst result = pipeline\n  .getSize(\'hello\') // Output: 5\n  .isEven() // Input: 5 -> Output: false\n  .result() // Returns false | Error\n\n// If any step fails schema validation, .result() returns the specific error.\n```\n\n## 6. Advanced Features\n\n### Ghost Constraints\n\nConstraints that are computationally expensive (O(N)) are documented in the schema but skipped by the runtime validator for performance (O(1)).\n\n- **Example:** `.max(n)` on Objects/Records.\n- `minProperties` is strictly validated.\n- `maxProperties` is a "Ghost" constraint (documentation only).\n\n### Metadata & LLM Optimization\n\nUse metadata methods to enrich schemas for LLMs or OpenAPI docs without affecting runtime validation.\n\n```typescript\nconst ApiKey = s.string\n  .min(32)\n  .describe("The user\'s secret API key") // standard JSON schema "description"\n  .title(\'API Key\')\n  .default(\'sk-...\')\n```\n\n### Date Handling\n\n`tosijs-schema` treats dates as strings with format validation, aligning with JSON transport.\n\n```typescript\nconst Timestamp = s.string.datetime // Validates ISO string format\n```\n\n## 6. Common Patterns & Gotchas\n\n1. **Chaining Order:** Primitives (like `s.string`) start the chain. Constraints (`.min()`) and metadata (`.describe()`) follow. The `.optional` flag can be placed anywhere in the chain but usually goes last for readability.\n2. **No Transformers:** Unlike Zod, `tosijs` is a pure validation/schema library. It does not "transform" data (e.g., string to number coercion) during validation.\n3. **Strict Objects:** Remember that `s.object()` disallows unknown keys by default. If you need a flexible object, use `s.record()` or explicitly allow additional properties if the API supports it (though strict is preferred for LLM outputs).\n4. **Tuples:** Use `s.tuple([s.string, s.number])` for fixed-length arrays.\n\n## 7. Example: LLM Structured Output\n\nWhen defining a response format for an LLM:\n\n```typescript\nconst ResponseSchema = s.object({\n  reasoning: s.string.describe(\'Step-by-step thinking process\'),\n  final_answer: s.string.describe(\'The concise final answer\'),\n  confidence: s.number\n    .min(0)\n    .max(1)\n    .describe(\'Confidence score between 0 and 1\'),\n})\n\n// Pass to LLM\nconst jsonSchema = ResponseSchema.schema\n```\n',title:"Context: Working with tosijs-schema",filename:"CTX_TOSIJS_SCHEMA.md",path:"CTX_TOSIJS_SCHEMA.md"},{text:`# tosijs-agent Technical Context

**Note:** This document provides a technical deep-dive into tosijs-agent's architecture and security model. For a general overview, installation instructions, and usage examples, please refer to the main [README.md](./README.md).

**tosijs-agent** is a secure, environment-agnostic runtime for executing AI agents and logic chains defined as JSON ASTs.

**Bundle Size:** ~17KB gzipped. Expressions are evaluated via lightweight AST nodes at runtime, eliminating the need for a parser library (the previous JSEP-based approach was ~50KB gzipped).

## 1. Architecture

### The Builder (\`TypedBuilder\`)

A fluent TypeScript API that generates a portable JSON AST. It uses a \`Proxy\` to dynamically infer methods from the registered Atoms, providing a strongly-typed developer experience.

It is important to understand that the builder is only for constructing the AST; it does not contain any of the actual implementation logic for the atoms. All execution is handled by the Runtime.

**Usage Pattern:**

- All logic chains **must** start with \`Agent.take()\` to define the input schema for the agent.
- Subsequent atom calls are chained together fluently (e.g., \`.varSet(...)\`, \`.httpFetch(...)\`). This creates an implicit \`seq\` (sequence) of operations.
- The chain is terminated by calling \`.toJSON()\` to produce the serializable AST.

You can access the builder via \`Agent\` (for core atoms) or \`vm.Agent\` (the recommended way to access both core and any custom atoms registered with the VM instance).

\`\`\`typescript
import { Agent, s, AgentVM } from 'tosijs-agent'

// Global Builder (Core Atoms)
const logic = Agent.take(s.object({ input: s.string }))
  .varSet({ key: 'sum', value: { $expr: 'binary', op: '+', left: { $expr: 'literal', value: 1 }, right: { $expr: 'literal', value: 1 } } })

// VM Builder (Custom Atoms)
const vm = new AgentVM({ myAtom })
const customLogic = vm.Agent
  .myAtom({ ... })
  .varSet({ ... })
\`\`\`

### The Runtime (\`AgentVM\`)

A stateless Virtual Machine that executes the AST. The runtime contains all the actual implementation logic for the atoms.

- **Sandboxed:** No \`eval()\`. Math/Logic is evaluated safely via AST expression nodes.
- **Resource Limited:** Enforces \`fuel\` (gas) limits and execution timeouts per atom.
- **Capability-Based:** All IO (Network, DB, AI) must be injected via \`capabilities\` object.

\`\`\`typescript
import { AgentVM } from 'tosijs-agent'
const vm = new AgentVM()
const { result, fuelUsed } = await vm.run(ast, args, {
  capabilities,
  fuel: 1000,
})
\`\`\`

## 2. Expression Syntax (ExprNode)

Expressions use AST expression nodes (\`$expr\`) for safe, sandboxed evaluation. Conditions in \`if\` and \`while\` atoms use expression strings that are parsed at transpile time.

For security, expressions are sandboxed and cannot directly access the agent's state. Use the \`vars\` parameter to explicitly pass variables from state into the expression scope.

### ExprNode Types

- **literal:** \`{ $expr: 'literal', value: 5 }\` - A constant value
- **ident:** \`{ $expr: 'ident', name: 'x' }\` - A variable reference
- **member:** \`{ $expr: 'member', object: {...}, property: 'foo' }\` - Property access
- **binary:** \`{ $expr: 'binary', op: '+', left: {...}, right: {...} }\` - Binary operations
- **unary:** \`{ $expr: 'unary', op: '-', argument: {...} }\` - Unary operations
- **conditional:** \`{ $expr: 'conditional', test: {...}, consequent: {...}, alternate: {...} }\` - Ternary

### Supported Operators

- **Binary ops:** \`+\`, \`-\`, \`*\`, \`/\`, \`%\`, \`**\`
- **Logic:** \`&&\`, \`||\`
- **Comparison:** \`==\`, \`!=\`, \`>\`, \`<\`, \`>=\`, \`<=\`
- **Member Access:** \`obj.prop\`, \`arr[0]\`

### Security

- **Forbidden:** Function calls, \`new\`, \`this\`, global access
- **Blocked:** Prototype access (\`__proto__\`, \`constructor\`)

### Fuel Consumption

Each expression node evaluation consumes **0.01 fuel**. This prevents deeply nested or recursive expressions from running unchecked. A simple \`a + b\` costs ~0.03 fuel (two identifiers + one binary op), while complex nested expressions accumulate cost proportionally.

## 3. Security Model

- **Capabilities:** The VM has no default IO. You must provide \`fetch\`, \`store\`, etc., allowing you to mock, proxy, or limit access.
- **Fuel:** Every atom consumes "fuel". Execution aborts if fuel reaches 0.
- **Execution Timeout:** The VM enforces a global timeout based on fuel budget (see below).
- **Atom Timeouts:** Individual atoms have a default timeout (1s) to prevent hangs.
- **State Isolation:** Each run creates a fresh context. Scopes (loops/maps) use prototype inheritance to isolate local variables.

### Execution Timeout

The VM enforces a hard timeout on execution to prevent hung agentssafeguarding against code that effectively halts by waiting on slow or non-responsive IO.

**How it works:**

1. **Automatic Safety Net:** By default, timeout = \`fuel  10ms\`. So 1000 fuel = 10 seconds. _For IO-heavy agents with low fuel costs, explicitly set \`timeoutMs\` to prevent premature timeouts._
2. **Explicit SLA:** Pass \`timeoutMs\` to enforce a strict time limit regardless of fuel.
3. **External Cancellation:** Pass an \`AbortSignal\` to integrate with external controllers (user cancellation, HTTP timeouts, etc.).

\`\`\`typescript
// Default: 1000 fuel = 10 second timeout
await vm.run(ast, args, { fuel: 1000 })

// Explicit timeout: 5 seconds regardless of fuel
await vm.run(ast, args, { fuel: 10000, timeoutMs: 5000 })

// External abort signal
const controller = new AbortController()
setTimeout(() => controller.abort(), 3000) // Cancel after 3s
await vm.run(ast, args, { signal: controller.signal })
\`\`\`

**Resource Cleanup:** When a timeout occurs, the VM passes the abort signal to the currently executing atom via \`ctx.signal\`. Loop atoms (\`while\`, \`map\`, \`filter\`, \`reduce\`, \`find\`) check the signal between iterations. \`httpFetch\` passes the signal to \`fetch\` for immediate request cancellation.

**Timeout vs Fuel:**

- **Fuel** protects against CPU-bound abuse (tight loops burning compute)
- **Timeout** protects against IO-bound abuse (slow network calls, hung promises)

Both work together to ensure the VM cannot be held hostage by untrusted code.

**Trust Boundary:** The sandbox protects against malicious _agents_ (untrusted AST), not malicious _atom implementations_. Atoms are registered by the host and are trusted to:

1. Be non-blocking (no synchronous CPU-heavy work)
2. Respect \`ctx.signal\` for cancellation
3. Clean up resources when aborted

If you write custom atoms, ensure they check \`ctx.signal?.aborted\` in loops and pass \`ctx.signal\` to any async operations like \`fetch\`.

### Cost Overrides

Default atom costs are guesses. Override them per-run to match your deployment reality:

\`\`\`typescript
await vm.run(ast, args, {
  costOverrides: {
    // Static: fixed cost per invocation
    httpFetch: 50,
    llmPredict: 500,

    // Dynamic: cost based on input
    storeSet: (input) => JSON.stringify(input.value).length * 0.001,
    llmPredict: (input) => (input.model?.includes('gpt-4') ? 1000 : 100),
  },
})
\`\`\`

Use cases:

- **API rate limits:** Make external API calls expensive to stay under quota
- **Metered billing:** Reflect actual dollar costs in fuel consumption
- **Resource protection:** Make database writes cost more than reads
- **Testing:** Set all costs to 0 to focus on logic, not budgeting

### Request Context

The \`context\` option passes request-scoped metadata to atoms. Unlike \`args\` (agent input) or \`capabilities\` (IO implementations), context carries ambient data like auth, permissions, and request tracing.

\`\`\`typescript
await vm.run(ast, args, {
  context: {
    userId: 'user-123',
    role: 'admin',
    permissions: ['read:data', 'write:data', 'fetch:external'],
    requestId: 'req-abc-123',
  },
})
\`\`\`

Atoms access it via \`ctx.context\`:

\`\`\`typescript
const secureFetch = defineAtom(
  'secureFetch',
  s.object({ url: s.string }),
  s.any,
  async (input, ctx) => {
    // Check permissions
    if (!ctx.context?.permissions?.includes('fetch:external')) {
      throw new Error('Not authorized for external fetch')
    }
    return ctx.capabilities.fetch(input.url)
  }
)
\`\`\`

**Design rationale:**

- **Immutable:** Context is read-only; agents cannot modify their own permissions
- **Separate from args:** Auth data doesn't pollute the agent's input schema
- **Separate from capabilities:** Same capability implementation, different authorization
- **Composable:** Works with cost overrides for user-tier-based fuel costs

**Production patterns:**

\`\`\`typescript
// Firebase/Express integration
app.post('/run-agent', async (req, res) => {
  const ast = req.body.ast
  const args = req.body.args

  // Extract auth from request
  const user = await verifyToken(req.headers.authorization)

  const result = await vm.run(ast, args, {
    context: {
      userId: user.id,
      role: user.role,
      permissions: user.permissions,
      requestId: req.id,
    },
    // User-tier-based costs
    costOverrides: {
      llmPredict: user.tier === 'premium' ? 10 : 100,
    },
  })

  res.json(result)
})
\`\`\`

## 4. Production Considerations

### Recursive Agent Fuel

When an agent calls sub-agents via \`agentRun\`, each sub-agent gets its own fuel budget (passed via the capability). Fuel is **not shared** across the call tree by default.

**Why:** The \`agentRun\` atom delegates to \`ctx.capabilities.agent.run\`, which the host implements. This gives operators full control over sub-agent resource allocation.

**Patterns for shared fuel:**

\`\`\`typescript
// Option 1: Pass remaining fuel to children
const sharedFuel = { current: 1000 }

const caps = {
  agent: {
    run: async (agentId, input) => {
      if (sharedFuel.current <= 0) throw new Error('Out of shared fuel')
      const result = await vm.run(agents[agentId], input, {
        fuel: sharedFuel.current,
        capabilities: caps,
      })
      sharedFuel.current -= result.fuelUsed
      return result.result
    },
  },
}

// Option 2: Fixed budget per recursion depth
const caps = {
  agent: {
    run: async (agentId, input) => {
      // Each child gets 10% of parent's budget
      return vm.run(agents[agentId], input, {
        fuel: 100, // Fixed small budget
        capabilities: caps,
      })
    },
  },
}
\`\`\`

### Streaming and Long-Running Agents

The VM returns results only after complete execution. For long-running agents:

- Use \`timeoutMs\` to enforce SLAs
- Use \`AbortSignal\` for user-initiated cancellation
- Use \`trace: true\` for post-hoc debugging

**For real-time streaming**, implement a custom atom that emits intermediate results:

\`\`\`typescript
const streamingAtom = defineAtom(
  'streamChunk',
  s.object({ data: s.any }),
  s.null,
  async ({ data }, ctx) => {
    // ctx.context contains your streaming callback
    await ctx.context?.onChunk?.(data)
    return null
  }
)

// Usage
await vm.run(ast, args, {
  context: {
    onChunk: (data) => res.write(JSON.stringify(data) + '\\n'),
  },
})
\`\`\`

### Condition String Syntax

The condition parser in \`if\`/\`while\` atoms supports a subset of expression syntax:

| Supported     | Example                           |
| ------------- | --------------------------------- |
| Comparisons   | \`a > b\`, \`x == 'hello'\`, \`n != 0\` |
| Logical       | \`a && b\`, \`a \\|\\| b\`, \`!a\`        |
| Arithmetic    | \`a + b * c\`, \`(a + b) / c\`        |
| Member access | \`obj.foo.bar\`                     |
| Literals      | \`42\`, \`"string"\`, \`true\`, \`null\`  |

| **Unsupported**        | Alternative                        |
| ---------------------- | ---------------------------------- |
| Ternary \`a ? b : c\`    | Use nested \`if\` atoms              |
| Array index \`a[0]\`     | Use ExprNode with \`computed: true\` |
| Function calls \`fn(x)\` | Use atoms                          |
| Chained \`a > b > c\`    | Use \`a > b && b > c\`               |

Unsupported syntax now throws a clear error at build time with suggestions.

### State Semantics

Agents are **not transactional**. If an atom fails mid-execution:

- Previous state changes persist
- No automatic rollback
- Error is captured in monadic flow (\`ctx.error\`)

This is by designagents are stateful pipelines, not database transactions. If you need atomicity, implement checkpoint/restore in your capabilities:

\`\`\`typescript
const caps = {
  store: {
    set: async (key, value) => {
      await db.runTransaction(async (tx) => {
        await tx.set(key, value)
      })
    },
  },
}
\`\`\`

### Error Handling Granularity

The \`try/catch\` atom catches all errors in the try block. There's no selective catch by error type.

**Pattern for error type handling:**

\`\`\`typescript
Agent.take(s.object({})).try({
  try: (b) => b.httpFetch({ url: '...' }).as('response'),
  catch: (b) =>
    b
      .varSet({ key: 'errorType', value: 'unknown' })
      // Check error message patterns
      .if(
        'msg.includes("timeout")',
        { msg: 'error.message' },
        (then) => then.varSet({ key: 'errorType', value: 'timeout' }),
        (el) =>
          el.if('msg.includes("404")', { msg: 'error.message' }, (then) =>
            then.varSet({ key: 'errorType', value: 'not_found' })
          )
      ),
})
\`\`\`
`,title:"tosijs-agent Technical Context",filename:"CONTEXT.md",path:"CONTEXT.md"}];_J("demo-style",$Q);var xO={async run(J,Z,Y={}){let q=new p4,X=VO(I7());return q.run(J,Z,{...Y,capabilities:{...Y.capabilities,llm:X.llm}})}};Object.assign(window,{agent:V7,tosijs:J4,tosijsui:J9,demoRuntime:xO});var oL={title:" Playground",filename:"playground",text:"",isPlayground:!0,pin:"top"},Y8=[oL,...yO],bO="tosijs-agent",hO="0.1.0",tL=document.location.search!==""?document.location.search.substring(1).split("&")[0]:"README.md",eL=Y8.find((J)=>J.filename===tL)||Y8.find((J)=>J.filename==="README.md")||Y8[0],{app:t0,prefs:D0}=E5({app:{title:bO,version:hO,githubUrl:`https://github.com/tonioloewald/${bO}#readme`,npmUrl:"https://www.npmjs.com/package/tosijs-agent",bundleBadgeUrl:"https://deno.bundlejs.com/?q=tosijs-agent&badge=",bundleUrl:"https://bundlejs.com/?q=tosijs-agent",docs:Y8,currentDoc:eL,compact:!1},prefs:{theme:"system",highContrast:!1,preferredProvider:localStorage.getItem("preferredProvider")||"auto",openaiKey:localStorage.getItem("openaiKey")||"",anthropicKey:localStorage.getItem("anthropicKey")||"",deepseekKey:localStorage.getItem("deepseekKey")||"",customLlmUrl:localStorage.getItem("customLlmUrl")||""}}),JB=()=>{localStorage.setItem("preferredProvider",D0.preferredProvider.valueOf()),localStorage.setItem("openaiKey",D0.openaiKey.valueOf()),localStorage.setItem("anthropicKey",D0.anthropicKey.valueOf()),localStorage.setItem("deepseekKey",D0.deepseekKey.valueOf()),localStorage.setItem("customLlmUrl",D0.customLlmUrl.valueOf())};u5.docLink={toDOM(J,Z){J.setAttribute("href",`?${Z}`)}};u5.current={toDOM(J,Z){let Y=J.getAttribute("href")||"";J.classList.toggle("current",Z===Y.substring(1))}};var{h1:ZB,h2:eC,div:SO,span:Z8,a:B7,img:kO,header:YB,button:wO,template:qB,input:XB}=y;m1(document.body,"prefs.theme",{toDOM(J,Z){if(Z==="system")Z=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";J.classList.toggle("darkmode",Z==="dark")}});m1(document.body,"prefs.highContrast",{toDOM(J,Z){J.classList.toggle("high-contrast",Z.valueOf())}});window.addEventListener("popstate",()=>{let J=window.location.search.substring(1);t0.currentDoc=t0.docs.find((Z)=>Z.filename===J)||t0.docs[0]});var QB=w7(()=>{let J=vO.value.toLocaleLowerCase();t0.docs.forEach((Z)=>{Z.hidden=!Z.title.toLocaleLowerCase().includes(J)&&!Z.text.toLocaleLowerCase().includes(J)}),oJ(t0.docs)},150),vO=XB({slot:"nav",placeholder:"Search docs...",type:"search",style:{width:"calc(100% - 10px)",margin:"5px"},onInput:QB}),Dq=document.querySelector("main");if(Dq)Dq.innerHTML="",Dq.append(YB(wO({class:"iconic",title:"Toggle navigation",bind:{value:t0.compact,binding:{toDOM(J,Z){J.style.display=Z?"":"none"}}},onClick(){let J=document.querySelector(U4.tagName);J.contentVisible=!J.contentVisible}},h.menu()),B7({href:"/",style:{display:"flex",alignItems:"center",gap:"8px"}},kO({src:"/favicon.svg",style:{width:"32px",height:"32px"}}),ZB("tosijs-agent")),Z8({class:"elastic"}),F2({minWidth:600},Z8({class:"badge"},B7({href:t0.bundleUrl,target:"_blank"},kO({alt:"bundle size",src:t0.bundleBadgeUrl}))),Z8({slot:"small"})),B7({class:"iconic",title:"GitHub",target:"_blank",href:t0.githubUrl},h.github()),B7({class:"iconic",title:"npm",target:"_blank",href:t0.npmUrl},h.npm()),wO({class:"iconic",title:"Settings",onClick(J){U5({target:J.target,menuItems:[{caption:"API Keys",icon:"key",action:()=>{TO({preferredProvider:D0.preferredProvider.valueOf(),openaiKey:D0.openaiKey.valueOf(),anthropicKey:D0.anthropicKey.valueOf(),deepseekKey:D0.deepseekKey.valueOf(),customLlmUrl:D0.customLlmUrl.valueOf()},(Z)=>{D0.preferredProvider=Z.preferredProvider,D0.openaiKey=Z.openaiKey,D0.anthropicKey=Z.anthropicKey,D0.deepseekKey=Z.deepseekKey,D0.customLlmUrl=Z.customLlmUrl,JB()})}},{caption:"Color Theme",icon:"rgb",menuItems:[{caption:"System",checked:()=>D0.theme.valueOf()==="system",action:()=>{D0.theme="system"}},{caption:"Dark",checked:()=>D0.theme.valueOf()==="dark",action:()=>{D0.theme="dark"}},{caption:"Light",checked:()=>D0.theme.valueOf()==="light",action:()=>{D0.theme="light"}},null,{caption:"High Contrast",checked:()=>D0.highContrast.valueOf(),action:()=>{D0.highContrast=!D0.highContrast.valueOf()}}]},null,{caption:"GitHub",icon:"github",action:()=>window.open(t0.githubUrl.valueOf(),"_blank")},{caption:"npm",icon:"npm",action:()=>window.open(t0.npmUrl.valueOf(),"_blank")}]})}},h.moreVertical())),R2({name:"Documentation",navSize:200,minSize:600,style:{flex:"1 1 auto",overflow:"hidden"},onChange(){let J=document.querySelector(U4.tagName);t0.compact=J.compact}},vO,SO({slot:"nav",style:{display:"flex",flexDirection:"column",width:"100%",height:"100%",overflowY:"auto",padding:"5px"},bindList:{hiddenProp:"hidden",value:t0.docs}},qB(B7({class:"doc-link",bindCurrent:"app.currentDoc.filename",bindDocLink:"^.filename",onClick(J){J.preventDefault();let Z=OJ(J.target),Y=J.target.closest("xin-sidenav");Y.contentVisible=!0;let q=`?${Z.filename}`;window.history.pushState({href:q},"",q),t0.currentDoc=Z}},Z8({bindText:"^.title"})))),SO({style:{position:"relative",overflowY:"auto",height:"100%"},bind:{value:t0.currentDoc,binding:{toDOM(J,Z){if(J.innerHTML="",Z.isPlayground)J.append(CO({style:{display:"block",height:"100%",padding:10}}));else J.append(j2({class:"markdown-content",style:{display:"block",maxWidth:"48em",margin:"auto",padding:"0 20px 40px"},value:Z.text,didRender(){$4.insertExamples(this,{"tosijs-agent":V7,agent:V7,tosijs:J4,"tosijs-ui":J9,demoRuntime:xO})}}))}}}})));console.log(`%c tosijs-agent %c v${hO} `,"background: #6366f1; color: white; padding: 2px 6px; border-radius: 3px 0 0 3px;","background: #374151; color: white; padding: 2px 6px; border-radius: 0 3px 3px 0;");

//# debugId=164BB21B7DBD404164756E2164756E21
