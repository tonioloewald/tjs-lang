var CO=Object.create;var{getPrototypeOf:TO,defineProperty:t6,getOwnPropertyNames:yO}=Object;var bO=Object.prototype.hasOwnProperty;var e6=(J,Z,Y)=>{Y=J!=null?CO(TO(J)):{};let X=Z||!J||!J.__esModule?t6(Y,"default",{value:J,enumerable:!0}):Y;for(let q of yO(J))if(!bO.call(X,q))t6(X,q,{get:()=>J[q],enumerable:!0});return X};var D7=(J,Z)=>{for(var Y in Z)t6(J,Y,{get:Z[Y],enumerable:!0,configurable:!0,set:(X)=>Z[Y]=()=>X})};var SO=(J,Z)=>()=>(J&&(Z=J(J=0)),Z);var J8=((J)=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(J,{get:(Z,Y)=>(typeof require<"u"?require:Z)[Y]}):J)(function(J){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+J+'" is not supported')});var aY={};D7(aY,{sep:()=>Hz,resolve:()=>T6,relative:()=>Uz,posix:()=>Rz,parse:()=>_z,normalize:()=>sY,join:()=>$z,isAbsolute:()=>Kz,format:()=>Oz,extname:()=>zz,dirname:()=>Gz,delimiter:()=>Nz,default:()=>zD,basename:()=>jz,_makeLong:()=>Wz});function F5(J){if(typeof J!=="string")throw TypeError("Path must be a string. Received "+JSON.stringify(J))}function Qz(J,Z){var Y="",X=0,q=-1,Q=0,K;for(var $=0;$<=J.length;++$){if($<J.length)K=J.charCodeAt($);else if(K===47)break;else K=47;if(K===47){if(q===$-1||Q===1);else if(q!==$-1&&Q===2){if(Y.length<2||X!==2||Y.charCodeAt(Y.length-1)!==46||Y.charCodeAt(Y.length-2)!==46){if(Y.length>2){var U=Y.lastIndexOf("/");if(U!==Y.length-1){if(U===-1)Y="",X=0;else Y=Y.slice(0,U),X=Y.length-1-Y.lastIndexOf("/");q=$,Q=0;continue}}else if(Y.length===2||Y.length===1){Y="",X=0,q=$,Q=0;continue}}if(Z){if(Y.length>0)Y+="/..";else Y="..";X=2}}else{if(Y.length>0)Y+="/"+J.slice(q+1,$);else Y=J.slice(q+1,$);X=$-q-1}q=$,Q=0}else if(K===46&&Q!==-1)++Q;else Q=-1}return Y}function jD(J,Z){var Y=Z.dir||Z.root,X=Z.base||(Z.name||"")+(Z.ext||"");if(!Y)return X;if(Y===Z.root)return Y+X;return Y+J+X}function T6(){var J="",Z=!1,Y;for(var X=arguments.length-1;X>=-1&&!Z;X--){var q;if(X>=0)q=arguments[X];else{if(Y===void 0)Y=process.cwd();q=Y}if(F5(q),q.length===0)continue;J=q+"/"+J,Z=q.charCodeAt(0)===47}if(J=Qz(J,!Z),Z)if(J.length>0)return"/"+J;else return"/";else if(J.length>0)return J;else return"."}function sY(J){if(F5(J),J.length===0)return".";var Z=J.charCodeAt(0)===47,Y=J.charCodeAt(J.length-1)===47;if(J=Qz(J,!Z),J.length===0&&!Z)J=".";if(J.length>0&&Y)J+="/";if(Z)return"/"+J;return J}function Kz(J){return F5(J),J.length>0&&J.charCodeAt(0)===47}function $z(){if(arguments.length===0)return".";var J;for(var Z=0;Z<arguments.length;++Z){var Y=arguments[Z];if(F5(Y),Y.length>0)if(J===void 0)J=Y;else J+="/"+Y}if(J===void 0)return".";return sY(J)}function Uz(J,Z){if(F5(J),F5(Z),J===Z)return"";if(J=T6(J),Z=T6(Z),J===Z)return"";var Y=1;for(;Y<J.length;++Y)if(J.charCodeAt(Y)!==47)break;var X=J.length,q=X-Y,Q=1;for(;Q<Z.length;++Q)if(Z.charCodeAt(Q)!==47)break;var K=Z.length,$=K-Q,U=q<$?q:$,W=-1,G=0;for(;G<=U;++G){if(G===U){if($>U){if(Z.charCodeAt(Q+G)===47)return Z.slice(Q+G+1);else if(G===0)return Z.slice(Q+G)}else if(q>U){if(J.charCodeAt(Y+G)===47)W=G;else if(G===0)W=0}break}var j=J.charCodeAt(Y+G),z=Z.charCodeAt(Q+G);if(j!==z)break;else if(j===47)W=G}var O="";for(G=Y+W+1;G<=X;++G)if(G===X||J.charCodeAt(G)===47)if(O.length===0)O+="..";else O+="/..";if(O.length>0)return O+Z.slice(Q+W);else{if(Q+=W,Z.charCodeAt(Q)===47)++Q;return Z.slice(Q)}}function Wz(J){return J}function Gz(J){if(F5(J),J.length===0)return".";var Z=J.charCodeAt(0),Y=Z===47,X=-1,q=!0;for(var Q=J.length-1;Q>=1;--Q)if(Z=J.charCodeAt(Q),Z===47){if(!q){X=Q;break}}else q=!1;if(X===-1)return Y?"/":".";if(Y&&X===1)return"//";return J.slice(0,X)}function jz(J,Z){if(Z!==void 0&&typeof Z!=="string")throw TypeError('"ext" argument must be a string');F5(J);var Y=0,X=-1,q=!0,Q;if(Z!==void 0&&Z.length>0&&Z.length<=J.length){if(Z.length===J.length&&Z===J)return"";var K=Z.length-1,$=-1;for(Q=J.length-1;Q>=0;--Q){var U=J.charCodeAt(Q);if(U===47){if(!q){Y=Q+1;break}}else{if($===-1)q=!1,$=Q+1;if(K>=0)if(U===Z.charCodeAt(K)){if(--K===-1)X=Q}else K=-1,X=$}}if(Y===X)X=$;else if(X===-1)X=J.length;return J.slice(Y,X)}else{for(Q=J.length-1;Q>=0;--Q)if(J.charCodeAt(Q)===47){if(!q){Y=Q+1;break}}else if(X===-1)q=!1,X=Q+1;if(X===-1)return"";return J.slice(Y,X)}}function zz(J){F5(J);var Z=-1,Y=0,X=-1,q=!0,Q=0;for(var K=J.length-1;K>=0;--K){var $=J.charCodeAt(K);if($===47){if(!q){Y=K+1;break}continue}if(X===-1)q=!1,X=K+1;if($===46){if(Z===-1)Z=K;else if(Q!==1)Q=1}else if(Z!==-1)Q=-1}if(Z===-1||X===-1||Q===0||Q===1&&Z===X-1&&Z===Y+1)return"";return J.slice(Z,X)}function Oz(J){if(J===null||typeof J!=="object")throw TypeError('The "pathObject" argument must be of type Object. Received type '+typeof J);return jD("/",J)}function _z(J){F5(J);var Z={root:"",dir:"",base:"",ext:"",name:""};if(J.length===0)return Z;var Y=J.charCodeAt(0),X=Y===47,q;if(X)Z.root="/",q=1;else q=0;var Q=-1,K=0,$=-1,U=!0,W=J.length-1,G=0;for(;W>=q;--W){if(Y=J.charCodeAt(W),Y===47){if(!U){K=W+1;break}continue}if($===-1)U=!1,$=W+1;if(Y===46){if(Q===-1)Q=W;else if(G!==1)G=1}else if(Q!==-1)G=-1}if(Q===-1||$===-1||G===0||G===1&&Q===$-1&&Q===K+1){if($!==-1)if(K===0&&X)Z.base=Z.name=J.slice(1,$);else Z.base=Z.name=J.slice(K,$)}else{if(K===0&&X)Z.name=J.slice(1,Q),Z.base=J.slice(1,$);else Z.name=J.slice(K,Q),Z.base=J.slice(K,$);Z.ext=J.slice(Q,$)}if(K>0)Z.dir=J.slice(0,K-1);else if(X)Z.dir="/";return Z}var Hz="/",Nz=":",Rz,zD;var rY=SO(()=>{Rz=((J)=>(J.posix=J,J))({resolve:T6,normalize:sY,isAbsolute:Kz,join:$z,relative:Uz,_makeLong:Wz,dirname:Gz,basename:jz,extname:zz,format:Oz,parse:_z,sep:Hz,delimiter:Nz,win32:null,posix:null}),zD=Rz});var eJ={};D7(eJ,{xinValue:()=>q1,xinProxy:()=>rX,xinPath:()=>oJ,xin:()=>w0,version:()=>aX,vars:()=>A,varDefault:()=>B,updates:()=>hO,unobserve:()=>C7,touchElement:()=>A8,touch:()=>rJ,tosi:()=>E5,throttle:()=>e4,svgElements:()=>b7,settings:()=>B7,on:()=>tJ,observe:()=>Y3,mathML:()=>sX,makeComponent:()=>V8,invertLuminance:()=>K_,initVars:()=>Q_,hotReload:()=>I_,getListItem:()=>zJ,getListInstance:()=>_8,getListBinding:()=>O8,getCssVar:()=>lX,elements:()=>y,deleteListItem:()=>oO,debounce:()=>y7,css:()=>J3,boxedProxy:()=>M8,boxed:()=>T7,blueprintLoader:()=>P_,blueprint:()=>B_,bindings:()=>m5,bind:()=>u1,StyleSheet:()=>OJ,MoreMath:()=>Z_,Component:()=>k,Color:()=>r,BlueprintLoader:()=>I8,Blueprint:()=>S7});var B7={debug:!1,perf:!1};function GJ(J){if(J==null||typeof J!=="object")return J;if(J instanceof Set)return new Set(J);else if(Array.isArray(J))return J.map(GJ);let Z={};for(let Y in J){let X=J[Y];if(J!=null&&typeof J==="object")Z[Y]=GJ(X);else Z[Y]=X}return Z}var yX="-xin-data",aJ=`.${yX}`,bX="-xin-event",FX=`.${bX}`,P5="xinPath",a4="xinValue",kO="xinObserve",wO="xinBind",xO="xinOn",Q8=Symbol("list-binding"),K8=Symbol("list-instance"),oJ=(J)=>{return J&&J[P5]||void 0};function q1(J){return typeof J==="object"&&J!==null?J[a4]||J:J}var r4=new WeakMap,jJ=new WeakMap,o4=(J)=>{let Z=J.cloneNode();if(Z instanceof Element){let Y=jJ.get(J),X=r4.get(J);if(Y!=null)jJ.set(Z,GJ(Y));if(X!=null)r4.set(Z,GJ(X))}for(let Y of Array.from(J instanceof HTMLTemplateElement?J.content.childNodes:J.childNodes))if(Y instanceof Element||Y instanceof DocumentFragment)Z.appendChild(o4(Y));else Z.appendChild(Y.cloneNode());return Z},MX=Symbol("observer should be removed"),P7=[],E7=[],$8=!1,U8,W8;class SX{description;test;callback;constructor(J,Z){let Y=typeof Z==="string"?`"${Z}"`:`function ${Z.name}`,X;if(typeof J==="string")this.test=(q)=>typeof q==="string"&&q!==""&&(J.startsWith(q)||q.startsWith(J)),X=`test = "${J}"`;else if(J instanceof RegExp)this.test=J.test.bind(J),X=`test = "${J.toString()}"`;else if(J instanceof Function)this.test=J,X=`test = function ${J.name}`;else throw Error("expect listener test to be a string, RegExp, or test function");if(this.description=`${X}, ${Y}`,typeof Z==="function")this.callback=Z;else throw Error("expect callback to be a path or function");P7.push(this)}}var hO=async()=>{if(U8===void 0)return;await U8},vO=()=>{if(B7.perf)console.time("xin async update");let J=Array.from(E7);for(let Z of J)P7.filter((Y)=>{let X;try{X=Y.test(Z)}catch(q){throw Error(`Listener ${Y.description} threw "${q}" at "${Z}"`)}if(X===MX)return C7(Y),!1;return X}).forEach((Y)=>{let X;try{X=Y.callback(Z)}catch(q){console.error(`Listener ${Y.description} threw "${q}" handling "${Z}"`)}if(X===MX)C7(Y)});if(E7.splice(0),$8=!1,typeof W8==="function")W8();if(B7.perf)console.timeEnd("xin async update")},rJ=(J)=>{let Z=typeof J==="string"?J:oJ(J);if(Z===void 0)throw console.error("touch was called on an invalid target",J),Error("touch was called on an invalid target");if($8===!1)U8=new Promise((Y)=>{W8=Y}),$8=setTimeout(vO);if(E7.find((Y)=>Z.startsWith(Y))==null)E7.push(Z)},kX=(J,Z)=>{return new SX(J,Z)},C7=(J)=>{let Z=P7.indexOf(J);if(Z>-1)P7.splice(Z,1);else throw Error("unobserve failed, listener not found")},mO=(J)=>{try{return JSON.stringify(J)}catch(Z){return"{has circular references}"}},wX=(...J)=>Error(J.map(mO).join(" ")),uO=()=>new Date(parseInt("1000000000",36)+Date.now()).valueOf().toString(36).slice(1),gO=0,fO=()=>(parseInt("10000",36)+ ++gO).toString(36).slice(-5),lO=()=>uO()+fO(),G8=Symbol("delete"),xX=Symbol("new-object"),Z8=Symbol("automatic-index");function hX(J){if(J==="")return[];if(Array.isArray(J))return J;else{let Z=[];while(J.length>0){let Y=J.search(/\[[^\]]+\]/);if(Y===-1){Z.push(J.split("."));break}else{let X=J.slice(0,Y);if(J=J.slice(Y),X!=="")Z.push(X.split("."));if(Y=J.indexOf("]")+1,Z.push(J.slice(1,Y-1)),J.slice(Y,Y+1)===".")Y+=1;J=J.slice(Y)}}return Z}}var B5=new WeakMap;function vX(J,Z){if(B5.get(J)===void 0)B5.set(J,{});if(B5.get(J)[Z]===void 0)B5.get(J)[Z]={};let Y=B5.get(J)[Z];if(Z==="_auto_")J.forEach((X,q)=>{if(X[Z8]===void 0)X[Z8]=lO();Y[X[Z8]+""]=q});else J.forEach((X,q)=>{Y[t4(X,Z)+""]=q});return Y}function pO(J,Z){if(B5.get(J)===void 0||B5.get(J)[Z]===void 0)return vX(J,Z);else return B5.get(J)[Z]}function dO(J,Z,Y){Y=Y+"";let X=pO(J,Z)[Y];if(X===void 0||t4(J[X],Z)+""!==Y)X=vX(J,Z)[Y];return X}function cO(J,Z,Y){if(J[Z]===void 0&&Y!==void 0)J[Z]=Y;return J[Z]}function mX(J,Z,Y,X){let q=Z!==""?dO(J,Z,Y):Y;if(X===G8)return J.splice(q,1),B5.delete(J),Symbol("deleted");else if(X===xX){if(Z===""&&J[q]===void 0)J[q]={}}else if(X!==void 0)if(q!==void 0)J[q]=X;else if(Z!==""&&t4(X,Z)+""===Y+"")J.push(X),q=J.length-1;else throw Error(`byIdPath insert failed at [${Z}=${Y}]`);return J[q]}function VX(J){if(!Array.isArray(J))throw wX("setByPath failed: expected array, found",J)}function IX(J){if(J==null||!(J instanceof Object))throw wX("setByPath failed: expected Object, found",J)}function t4(J,Z){let Y=hX(Z),X=J,q,Q,K,$;for(q=0,Q=Y.length;X!==void 0&&q<Q;q++){let U=Y[q];if(Array.isArray(U))for(K=0,$=U.length;X!==void 0&&K<$;K++){let W=U[K];X=X[W]}else if(X.length===0){if(X=X[Number(U.slice(1))],U[0]!=="=")return}else if(U.includes("=")){let[W,...G]=U.split("=");X=mX(X,W,G.join("="))}else K=parseInt(U,10),X=X[K]}return X}function nO(J,Z,Y){let X=J;if(Z==="")throw Error("setByPath cannot be used to set the root object");let q=hX(Z);while(X!=null&&q.length>0){let Q=q.shift();if(typeof Q==="string"){let K=Q.indexOf("=");if(K>-1){if(K===0)IX(X);else VX(X);let $=Q.slice(0,K),U=Q.slice(K+1);if(X=mX(X,$,U,q.length>0?xX:Y),q.length===0)return!0}else{VX(X);let $=parseInt(Q,10);if(q.length>0)X=X[$];else{if(Y!==G8){if(X[$]===Y)return!1;X[$]=Y}else X.splice($,1);return!0}}}else if(Array.isArray(Q)&&Q.length>0){IX(X);while(Q.length>0){let K=Q.shift();if(Q.length>0||q.length>0)X=cO(X,K,Q.length>0?{}:[]);else{if(Y!==G8){if(X[K]===Y)return!1;X[K]=Y}else{if(!Object.prototype.hasOwnProperty.call(X,K))return!1;delete X[K]}return!0}}}else throw Error(`setByPath failed, bad path ${Z}`)}throw Error(`setByPath(${J}, ${Z}, ${Y}) failed`)}var uX=(J,Z)=>{let Y=new Event(Z);J.dispatchEvent(Y)},gX=(J)=>{if(J instanceof HTMLInputElement)return J.type;else if(J instanceof HTMLSelectElement&&J.hasAttribute("multiple"))return"multi-select";else return"other"},iO=(J,Z)=>{switch(gX(J)){case"radio":J.checked=J.value===Z;break;case"checkbox":J.checked=!!Z;break;case"date":J.valueAsDate=new Date(Z);break;case"multi-select":for(let Y of Array.from(J.querySelectorAll("option")))Y.selected=Z[Y.value];break;default:J.value=Z}},sO=(J)=>{switch(gX(J)){case"radio":{let Z=J.parentElement?.querySelector(`[name="${J.name}"]:checked`);return Z!=null?Z.value:null}case"checkbox":return J.checked;case"date":return J.valueAsDate?.toISOString();case"multi-select":return Array.from(J.querySelectorAll("option")).reduce((Z,Y)=>{return Z[Y.value]=Y.selected,Z},{});default:return J.value}},{ResizeObserver:DX}=globalThis,j8=DX!=null?new DX((J)=>{for(let Z of J){let Y=Z.target;uX(Y,"resize")}}):{observe(){},unobserve(){}},LX=(J,Z,Y=!0)=>{if(J!=null&&Z!=null)if(typeof Z==="string")J.textContent=Z;else if(Array.isArray(Z))Z.forEach((X)=>{J.append(X instanceof Node&&Y?o4(X):X)});else if(Z instanceof Node)J.append(Y?o4(Z):Z);else throw Error("expect text content or document node")},y7=(J,Z=250)=>{let Y;return(...X)=>{if(Y!==void 0)clearTimeout(Y);Y=setTimeout(()=>{J(...X)},Z)}},e4=(J,Z=250)=>{let Y,X=Date.now()-Z,q=!1;return(...Q)=>{if(clearTimeout(Y),Y=setTimeout(()=>{J(...Q),X=Date.now()},Z),!q&&Date.now()-X>=Z){q=!0;try{J(...Q),X=Date.now()}finally{q=!1}}}},aO=16,rO=100;function BX(J,Z){let Y=Array.from(J.querySelectorAll(aJ));if(J.matches(aJ))Y.unshift(J);for(let X of Y){let q=jJ.get(X);for(let Q of q){if(Q.path.startsWith("^"))Q.path=`${Z}${Q.path.substring(1)}`;if(Q.binding.toDOM!=null)Q.binding.toDOM(X,w0[Q.path])}}}class fX{boundElement;listTop;listBottom;template;options;itemToElement;array=[];_update;_previousSlice;static filterBoundObservers=new WeakMap;constructor(J,Z,Y={}){if(this.boundElement=J,this.itemToElement=new WeakMap,J.children.length!==1)throw Error("ListBinding expects an element with exactly one child element");if(J.children[0]instanceof HTMLTemplateElement){let X=J.children[0];if(X.content.children.length!==1)throw Error("ListBinding expects a template with exactly one child element");this.template=o4(X.content.children[0])}else this.template=J.children[0],this.template.remove();if(this.options=Y,this.listTop=document.createElement("div"),this.listBottom=document.createElement("div"),this.listTop.classList.add("virtual-list-padding"),this.listBottom.classList.add("virtual-list-padding"),this.boundElement.append(this.listTop),this.boundElement.append(this.listBottom),Y.virtual!=null)j8.observe(this.boundElement),this._update=e4(()=>{this.update(this.array,!0)},aO),this.boundElement.addEventListener("scroll",this._update),this.boundElement.addEventListener("resize",this._update)}visibleSlice(){let{virtual:J,hiddenProp:Z,visibleProp:Y}=this.options,X=this.array;if(Z!==void 0)X=X.filter((U)=>U[Z]!==!0);if(Y!==void 0)X=X.filter((U)=>U[Y]===!0);if(this.options.filter&&this.needle!==void 0)X=this.options.filter(X,this.needle);let q=0,Q=X.length-1,K=0,$=0;if(J!=null&&this.boundElement instanceof HTMLElement){let U=this.boundElement.offsetWidth,W=this.boundElement.offsetHeight;if(J.visibleColumns==null)J.visibleColumns=J.width!=null?Math.max(1,Math.floor(U/J.width)):1;let G=Math.ceil(W/J.height)+(J.rowChunkSize||1),j=Math.ceil(X.length/J.visibleColumns),z=J.visibleColumns*G,O=Math.floor(this.boundElement.scrollTop/J.height);if(O>j-G+1)O=Math.max(0,j-G+1);if(J.rowChunkSize)O-=O%J.rowChunkSize;q=O*J.visibleColumns,Q=q+z-1,K=O*J.height,$=Math.max((j-G)*J.height-K,0)}return{items:X,firstItem:q,lastItem:Q,topBuffer:K,bottomBuffer:$}}needle;filter=e4((J)=>{if(this.needle!==J)this.needle=J,this.update(this.array)},rO);update(J,Z){if(J==null)J=[];this.array=J;let{hiddenProp:Y,visibleProp:X}=this.options,q=oJ(J),Q=this.visibleSlice();this.boundElement.classList.toggle("-xin-empty-list",Q.items.length===0);let K=this._previousSlice,{firstItem:$,lastItem:U,topBuffer:W,bottomBuffer:G}=Q;if(Y===void 0&&X===void 0&&Z===!0&&K!=null&&$===K.firstItem&&U===K.lastItem)return;this._previousSlice=Q;let j=0,z=0,O=0;for(let M of Array.from(this.boundElement.children)){if(M===this.listTop||M===this.listBottom)continue;let I=M[K8];if(I==null)M.remove();else{let L=Q.items.indexOf(I);if(L<$||L>U)M.remove(),this.itemToElement.delete(I),j++}}this.listTop.style.height=String(W)+"px",this.listBottom.style.height=String(G)+"px";let H=[],{idPath:N}=this.options;for(let M=$;M<=U;M++){let I=Q.items[M];if(I===void 0)continue;let L=this.itemToElement.get(q1(I));if(L==null){if(O++,L=o4(this.template),typeof I==="object")this.itemToElement.set(q1(I),L),L[K8]=q1(I);if(this.boundElement.insertBefore(L,this.listBottom),N!=null){let P=I[N],E=`${q}[${N}=${P}]`;BX(L,E)}else{let P=`${q}[${M}]`;BX(L,P)}}H.push(L)}let F=null;for(let M of H){if(M.previousElementSibling!==F)if(z++,F?.nextElementSibling!=null)this.boundElement.insertBefore(M,F.nextElementSibling);else this.boundElement.insertBefore(M,this.listBottom);F=M}if(B7.perf)console.log(q,"updated",{removed:j,created:O,moved:z})}}var O8=(J,Z,Y)=>{let X=J[Q8];if(Z&&X===void 0)X=new fX(J,Z,Y),J[Q8]=X;return X},_8=(J)=>{let Z;while(!(Z=J[K8])&&J&&J.parentElement)J=J.parentElement;return Z?{element:J,item:Z}:void 0},zJ=(J)=>{let Z=_8(J);return Z?Z.item:void 0},oO=(J)=>{let Z=_8(J);if(!Z)return console.error("deleteListItem failed, element is not part of a list instance",J),!1;let Y=O8(Z.element.parentElement);if(!Y.options.idPath)return console.error("deleteListItem failed, list binding has no idPath",J.parentElement,Y),!1;let X=Y.array.indexOf(Z.item);if(X>-1)return Y.array.splice(X,1),!0;return!1},m5={value:{toDOM:iO,fromDOM(J){return sO(J)}},text:{toDOM(J,Z){J.textContent=Z}},enabled:{toDOM(J,Z){J.disabled=!Z}},disabled:{toDOM(J,Z){J.disabled=Boolean(Z)}},list:{toDOM(J,Z,Y){O8(J,Z,Y).update(Z)}}};function u5(J){return J.replace(/[A-Z]/g,(Z)=>{return`-${Z.toLocaleLowerCase()}`})}function tO(J){return J.replace(/-([a-z])/g,(Z,Y)=>{return Y.toLocaleUpperCase()})}var eO=180/Math.PI,J_=Math.PI/180;function q5(J,Z,Y){return Y<J?NaN:Z<J?J:Z>Y?Y:Z}function h5(J,Z,Y,X=!0){if(X)Y=q5(0,Y,1);return Y*(Z-J)+J}var Z_={RADIANS_TO_DEGREES:eO,DEGREES_TO_RADIANS:J_,clamp:q5,lerp:h5};function lX(J,Z=document.body){let Y=getComputedStyle(Z);if(J.endsWith(")")&&J.startsWith("var("))J=J.slice(4,-1);return Y.getPropertyValue(J).trim()}var Y_=(J,Z,Y)=>{return(0.299*J+0.587*Z+0.114*Y)/255},UJ=(J)=>("00"+Math.round(Number(J)).toString(16)).slice(-2);class pX{h;s;l;constructor(J,Z,Y){J/=255,Z/=255,Y/=255;let X=Math.max(J,Z,Y),q=X-Math.min(J,Z,Y),Q=q!==0?X===J?(Z-Y)/q:X===Z?2+(Y-J)/q:4+(J-Z)/q:0;this.h=60*Q<0?60*Q+360:60*Q,this.s=q!==0?X<=0.5?q/(2*X-q):q/(2-(2*X-q)):0,this.l=(2*X-q)/2}}var sJ=globalThis.document!==void 0?globalThis.document.createElement("span"):void 0;class r{r;g;b;a;static fromVar(J,Z=document.body){return r.fromCss(lX(J,Z))}static fromCss(J){let Z=J;if(sJ instanceof HTMLSpanElement)sJ.style.color="black",sJ.style.color=J,document.body.appendChild(sJ),Z=getComputedStyle(sJ).color,sJ.remove();let[Y,X,q,Q]=Z.match(/[\d.]+/g)||["0","0","0","0"],K=Z.startsWith("color(srgb")?255:1;return new r(Number(Y)*K,Number(X)*K,Number(q)*K,Q==null?1:Number(Q))}static fromHsl(J,Z,Y,X=1){let q,Q,K;if(Z===0)q=Q=K=Y;else{let U=(z,O,H)=>{if(H<0)H+=1;if(H>1)H-=1;if(H<0.16666666666666666)return z+(O-z)*6*H;if(H<0.5)return O;if(H<0.6666666666666666)return z+(O-z)*(0.6666666666666666-H)*6;return z},W=Y<0.5?Y*(1+Z):Y+Z-Y*Z,G=2*Y-W,j=(J%360+360)%360/360;q=U(G,W,j+0.3333333333333333),Q=U(G,W,j),K=U(G,W,j-0.3333333333333333)}let $=new r(q*255,Q*255,K*255,X);return $.hslCached={h:(J%360+360)%360,s:Z,l:Y},$}static black=new r(0,0,0);static white=new r(255,255,255);constructor(J,Z,Y,X=1){this.r=q5(0,J,255),this.g=q5(0,Z,255),this.b=q5(0,Y,255),this.a=q5(0,X,1)}get inverse(){return new r(255-this.r,255-this.g,255-this.b,this.a)}get inverseLuminance(){let{h:J,s:Z,l:Y}=this._hsl;return r.fromHsl(J,Z,1-Y,this.a)}get opaque(){return this.a===1?this:new r(this.r,this.g,this.b,1)}contrasting(J=1){return this.opaque.blend(this.brightness>0.5?r.black:r.white,J)}get rgb(){let{r:J,g:Z,b:Y}=this;return`rgb(${J.toFixed(0)},${Z.toFixed(0)},${Y.toFixed(0)})`}get rgba(){let{r:J,g:Z,b:Y,a:X}=this;return`rgba(${J.toFixed(0)},${Z.toFixed(0)},${Y.toFixed(0)},${X.toFixed(2)})`}get RGBA(){return[this.r/255,this.g/255,this.b/255,this.a]}get ARGB(){return[this.a,this.r/255,this.g/255,this.b/255]}hslCached;get _hsl(){if(this.hslCached==null)this.hslCached=new pX(this.r,this.g,this.b);return this.hslCached}get hsl(){let{h:J,s:Z,l:Y}=this._hsl;return`hsl(${J.toFixed(0)}deg ${(Z*100).toFixed(0)}% ${(Y*100).toFixed(0)}%)`}get hsla(){let{h:J,s:Z,l:Y}=this._hsl;return`hsl(${J.toFixed(0)}deg ${(Z*100).toFixed(0)}% ${(Y*100).toFixed(0)}% / ${(this.a*100).toFixed(0)}%)`}get mono(){let J=this.brightness*255;return new r(J,J,J)}get brightness(){return Y_(this.r,this.g,this.b)}get html(){return this.toString()}toString(){return this.a===1?"#"+UJ(this.r)+UJ(this.g)+UJ(this.b):"#"+UJ(this.r)+UJ(this.g)+UJ(this.b)+UJ(Math.floor(255*this.a))}brighten(J){let{h:Z,s:Y,l:X}=this._hsl,q=q5(0,X+J*(1-X),1);return r.fromHsl(Z,Y,q,this.a)}darken(J){let{h:Z,s:Y,l:X}=this._hsl,q=q5(0,X*(1-J),1);return r.fromHsl(Z,Y,q,this.a)}saturate(J){let{h:Z,s:Y,l:X}=this._hsl,q=q5(0,Y+J*(1-Y),1);return r.fromHsl(Z,q,X,this.a)}desaturate(J){let{h:Z,s:Y,l:X}=this._hsl,q=q5(0,Y*(1-J),1);return r.fromHsl(Z,q,X,this.a)}rotate(J){let{h:Z,s:Y,l:X}=this._hsl,q=(Z+360+J)%360;return r.fromHsl(q,Y,X,this.a)}opacity(J){let{h:Z,s:Y,l:X}=this._hsl;return r.fromHsl(Z,Y,X,J)}swatch(){return console.log(`%c      %c ${this.html}, ${this.rgba}`,`background-color: ${this.html}`,"background-color: transparent"),this}blend(J,Z){return new r(h5(this.r,J.r,Z),h5(this.g,J.g,Z),h5(this.b,J.b,Z),h5(this.a,J.a,Z))}static blendHue(J,Z,Y){let X=(Z-J+720)%360;if(X<180)return J+Y*X;else return J-(360-X)*Y}mix(J,Z){let Y=this._hsl,X=J._hsl;return r.fromHsl(Y.s===0?X.h:X.s===0?Y.h:r.blendHue(Y.h,X.h,Z),h5(Y.s,X.s,Z),h5(Y.l,X.l,Z),h5(this.a,J.a,Z))}colorMix(J,Z){return r.fromCss(`color-mix(in hsl, ${this.html}, ${J.html} ${(Z*100).toFixed(0)}%)`)}}function OJ(J,Z){let Y=y.style(J3(Z));Y.id=J,document.head.append(Y)}var X_=["animation-iteration-count","flex","flex-base","flex-grow","flex-shrink","opacity","order","tab-size","widows","z-index","zoom"],dX=(J,Z)=>{if(typeof Z==="number"&&!X_.includes(J))Z=`${Z}px`;if(J.startsWith("_"))if(J.startsWith("__"))J="--"+J.substring(2),Z=`var(${J}-default, ${Z})`;else J="--"+J.substring(1);return{prop:J,value:String(Z)}},q_=(J,Z,Y)=>{if(Y===void 0)return"";if(Y instanceof r)Y=Y.html;let X=dX(Z,Y);return`${J}  ${X.prop}: ${X.value};`},cX=(J,Z,Y="")=>{let X=u5(J);if(typeof Z==="object"&&!(Z instanceof r)){let q=Object.keys(Z).map((Q)=>cX(Q,Z[Q],`${Y}  `)).join(`
`);return`${Y}  ${J} {
${q}
${Y}  }`}else return q_(Y,X,Z)},J3=(J,Z="")=>{return Object.keys(J).map((Y)=>{let X=J[Y];if(typeof X==="string"){if(Y==="@import")return`@import url('${X}');`;throw Error("top-level string value only allowed for `@import`")}let q=Object.keys(X).map((Q)=>cX(Q,X[Q])).join(`
`);return`${Z}${Y} {
${q}
}`}).join(`

`)},Q_=(J)=>{console.warn("initVars is deprecated. Just use _ and __ prefixes instead.");let Z={};for(let Y of Object.keys(J)){let X=J[Y],q=u5(Y);Z[`--${q}`]=typeof X==="number"&&X!==0?String(X)+"px":X}return Z},K_=(J)=>{let Z={};for(let Y of Object.keys(J)){let X=J[Y];if(X instanceof r)Z[Y]=X.inverseLuminance;else if(typeof X==="string"&&X.match(/^(#[0-9a-fA-F]{3}|rgba?\(|hsla?\()/))Z[Y]=r.fromCss(X).inverseLuminance}return Z},B=new Proxy({},{get(J,Z){if(J[Z]===void 0){let Y="--"+u5(Z);J[Z]=(X)=>`var(${Y}, ${X})`}return J[Z]}}),A=new Proxy({},{get(J,Z){if(Z==="default")return B;if(J[Z]==null){Z=u5(Z);let[,Y,,X,q,Q]=Z.match(/^([-\w]*?)((_)?(\d+)(\w?))?$/)||["",Z],K=`--${Y}`;if(q!=null){let $=X==null?Number(q)/100:-Number(q)/100;switch(Q){case"b":{let U=r.fromVar(K);J[Z]=$>0?U.brighten($).rgba:U.darken(-$).rgba}break;case"s":{let U=r.fromVar(K);J[Z]=$>0?U.saturate($).rgba:U.desaturate(-$).rgba}break;case"h":{let U=r.fromVar(K);J[Z]=U.rotate($*100).rgba}break;case"o":{let U=r.fromVar(K);J[Z]=U.opacity($).rgba}break;case"":J[Z]=`calc(var(${K}) * ${$})`;break;default:throw console.error(Q),Error(`Unrecognized method ${Q} for css variable ${K}`)}}else J[Z]=`var(${K})`}return J[Z]}}),$_="http://www.w3.org/1998/Math/MathML",U_="http://www.w3.org/2000/svg",L7={},nX=(J,Z,Y)=>{let X=dX(u5(Z),Y);if(X.prop.startsWith("--"))J.style.setProperty(X.prop,X.value);else J.style[Z]=X.value},W_=(J)=>{return{toDOM(Z,Y){nX(Z,J,Y)}}},iX=(J,Z,Y)=>{if(Z==="style")if(typeof Y==="object")for(let X of Object.keys(Y))if(oJ(Y[X]))u1(J,Y[X],W_(X));else nX(J,X,Y[X]);else J.setAttribute("style",Y);else if(J[Z]!==void 0){let{MathMLElement:X}=globalThis;if(J instanceof SVGElement||X!==void 0&&J instanceof X)J.setAttribute(Z,Y);else J[Z]=Y}else{let X=u5(Z);if(X==="class")Y.split(" ").forEach((q)=>{J.classList.add(q)});else if(J[X]!==void 0)J[X]=Y;else if(typeof Y==="boolean")Y?J.setAttribute(X,""):J.removeAttribute(X);else J.setAttribute(X,Y)}},G_=(J)=>{return{toDOM(Z,Y){iX(Z,J,Y)}}},j_=(J,Z,Y)=>{if(Z==="apply")Y(J);else if(Z.match(/^on[A-Z]/)!=null){let X=Z.substring(2).toLowerCase();tJ(J,X,Y)}else if(Z==="bind")if((typeof Y.binding==="string"?m5[Y.binding]:Y.binding)!==void 0&&Y.value!==void 0)u1(J,Y.value,Y.binding instanceof Function?{toDOM:Y.binding}:Y.binding);else throw Error("bad binding");else if(Z.match(/^bind[A-Z]/)!=null){let X=Z.substring(4,5).toLowerCase()+Z.substring(5),q=m5[X];if(q!==void 0)u1(J,Y,q);else throw Error(`${Z} is not allowed, bindings.${X} is not defined`)}else if(oJ(Y))u1(J,Y,G_(Z));else iX(J,Z,Y)},H8=(J,...Z)=>{if(L7[J]===void 0){let[q,Q]=J.split("|");if(Q===void 0)L7[J]=globalThis.document.createElement(q);else L7[J]=globalThis.document.createElementNS(Q,q)}let Y=L7[J].cloneNode(),X={};for(let q of Z)if(q instanceof Element||q instanceof DocumentFragment||typeof q==="string"||typeof q==="number")if(Y instanceof HTMLTemplateElement)Y.content.append(q);else Y.append(q);else if(oJ(q))Y.append(y.span({bindText:q}));else Object.assign(X,q);for(let q of Object.keys(X)){let Q=X[q];j_(Y,q,Q)}return Y},N8=(...J)=>{let Z=globalThis.document.createDocumentFragment();for(let Y of J)Z.append(Y);return Z},y=new Proxy({fragment:N8},{get(J,Z){if(Z=Z.replace(/[A-Z]/g,(Y)=>`-${Y.toLocaleLowerCase()}`),J[Z]===void 0)J[Z]=(...Y)=>H8(Z,...Y);return J[Z]},set(){throw Error("You may not add new properties to elements")}}),b7=new Proxy({fragment:N8},{get(J,Z){if(J[Z]===void 0)J[Z]=(...Y)=>H8(`${Z}|${U_}`,...Y);return J[Z]},set(){throw Error("You may not add new properties to elements")}}),sX=new Proxy({fragment:N8},{get(J,Z){if(J[Z]===void 0)J[Z]=(...Y)=>H8(`${Z}|${$_}`,...Y);return J[Z]},set(){throw Error("You may not add new properties to elements")}}),z_=["sort","splice","copyWithin","fill","pop","push","reverse","shift","unshift"],R8={},O_=!0,__=/^\.?([^.[\](),])+(\.[^.[\](),]+|\[\d+\]|\[[^=[\](),]*=[^[\]()]+\])*$/,H_=(J)=>__.test(J),WJ=(J="",Z="")=>{if(J==="")return Z;else if(Z.match(/^\d+$/)!==null||Z.includes("="))return`${J}[${Z}]`;else return`${J}.${Z}`},N_={string(J){return new String(J)},boolean(J){return new Boolean(J)},bigint(J){return J},symbol(J){return J},number(J){return new Number(J)}},z8=Symbol("undefined");function Y8(J,Z){if(J===void 0||J===null)return new Proxy({[z8]:J===null?"null":"undefined"},v5(Z,!0));let Y=typeof J;if(Y==="object"||Y==="function")return J;else return new Proxy(N_[typeof J](J),v5(Z,!0))}var R_=()=>new Proxy({},v5("^",!0)),v5=(J,Z)=>({get(Y,X){switch(X){case P5:case"tosiPath":return J;case a4:case"tosiValue":return Y[z8]?Y[z8]==="null"?null:void 0:Y.valueOf?Y.valueOf():Y;case kO:case"tosiObserve":return(K)=>{let $=kX(J,K);return()=>C7($)};case xO:case"tosiOn":return(K,$)=>tJ(K,$,q1(Y));case wO:case"tosiBind":return(K,$,U)=>{u1(K,J,$,U)};case"tosiBinding":return(K)=>({bind:{value:J,binding:K}});case"tosiListBinding":return(K=({span:U})=>U({bindText:"^"}),$={})=>[{bindList:{value:J,...$}},y.template(K(y,R_()))]}if(typeof X==="symbol")return Y[X];let q=X,Q=q.match(/^([^.[]+)\.(.+)$/)??q.match(/^([^\]]+)(\[.+)/)??q.match(/^(\[[^\]]+\])\.(.+)$/)??q.match(/^(\[[^\]]+\])\[(.+)$/);if(Q!==null){let[,K,$]=Q,U=WJ(J,K),W=t4(Y,K);return W!==null&&typeof W==="object"?new Proxy(W,v5(U,Z))[$]:W}if(q.startsWith("[")&&q.endsWith("]"))q=q.substring(1,q.length-1);if(!Array.isArray(Y)&&Y[q]!==void 0||Array.isArray(Y)&&q.includes("=")){let K;if(q.includes("=")){let[$,U]=q.split("=");K=Y.find((W)=>`${t4(W,$)}`===U)}else K=Y[q];if(K instanceof Object){let $=WJ(J,q);return new Proxy(K instanceof Function?K.bind(Y):K,v5($,Z))}else return Z?Y8(K,WJ(J,q)):K}else if(Array.isArray(Y)){let K=Y[q];return typeof K==="function"?(...$)=>{let U=K.apply(Y,$);if(z_.includes(q))rJ(J);return U}:typeof K==="object"?new Proxy(K,v5(WJ(J,q),Z)):Z?Y8(K,WJ(J,q)):K}else return Z?Y8(Y[q],WJ(J,q)):Y[q]},set(Y,X,q){q=q1(q);let Q=X!==a4?WJ(J,X):J;if(O_&&!H_(Q))throw Error(`setting invalid path ${Q}`);if(q1(w0[Q])!==q&&nO(R8,Q,q))rJ(Q);return!0}}),Y3=(J,Z)=>{let Y=typeof Z==="function"?Z:w0[Z];if(typeof Y!=="function")throw Error(`observe expects a function or path to a function, ${Z} is neither`);return kX(J,Y)},w0=new Proxy(R8,v5("",!1)),T7=new Proxy(R8,v5("",!0)),{document:Z3,MutationObserver:PX}=globalThis,A8=(J,Z)=>{let Y=jJ.get(J);if(Y==null)return;for(let X of Y){let{binding:q,options:Q}=X,{path:K}=X,{toDOM:$}=q;if($!=null){if(K.startsWith("^")){let U=zJ(J);if(U!=null&&U[P5]!=null)K=X.path=`${U[P5]}${K.substring(1)}`;else throw console.error(`Cannot resolve relative binding ${K}`,J,"is not part of a list"),Error(`Cannot resolve relative binding ${K}`)}if(Z==null||K.startsWith(Z))$(J,w0[K],Q)}}};if(PX!=null)new PX((J)=>{J.forEach((Z)=>{Array.from(Z.addedNodes).forEach((Y)=>{if(Y instanceof Element)Array.from(Y.querySelectorAll(aJ)).forEach((X)=>A8(X))})})}).observe(Z3.body,{subtree:!0,childList:!0});Y3(()=>!0,(J)=>{let Z=Array.from(Z3.querySelectorAll(aJ));for(let Y of Z)A8(Y,J)});var EX=(J)=>{let Z=J.target.closest(aJ);while(Z!=null){let Y=jJ.get(Z);for(let X of Y){let{binding:q,path:Q}=X,{fromDOM:K}=q;if(K!=null){let $;try{$=K(Z,X.options)}catch(U){throw console.error("Cannot get value from",Z,"via",X),Error("Cannot obtain value fromDOM")}if($!=null){let U=w0[Q];if(U==null)w0[Q]=$;else{let W=U[P5]!=null?U[a4]:U,G=$[P5]!=null?$[a4]:$;if(W!==G)w0[Q]=G}}}}Z=Z.parentElement.closest(aJ)}};if(globalThis.document!=null)Z3.body.addEventListener("change",EX,!0),Z3.body.addEventListener("input",EX,!0);function u1(J,Z,Y,X){if(J instanceof DocumentFragment)throw Error("bind cannot bind to a DocumentFragment");let q;if(typeof Z==="object"&&Z[P5]===void 0&&X===void 0){let{value:$}=Z;q=typeof $==="string"?$:$[P5],X=Z,delete X.value}else q=typeof Z==="string"?Z:Z[P5];if(q==null)throw Error("bind requires a path or object with xin Proxy");let{toDOM:Q}=Y;J.classList?.add(yX);let K=jJ.get(J);if(K==null)K=[],jJ.set(J,K);if(K.push({path:q,binding:Y,options:X}),Q!=null&&!q.startsWith("^"))rJ(q);if(X?.filter&&X?.needle)u1(J,X.needle,{toDOM($,U){console.log({needle:U}),$[Q8]?.filter(U)}});return J}var CX=new Set,A_=(J)=>{let Z=J?.target.closest(FX),Y=!1,X=new Proxy(J,{get(Q,K){if(K==="stopPropagation")return()=>{J.stopPropagation(),Y=!0};else{let $=Q[K];return typeof $==="function"?$.bind(Q):$}}}),q=new Set;while(!Y&&Z!=null){let Q=r4.get(Z)[J.type]||q;for(let K of Q){if(typeof K==="function")K(X);else{let $=w0[K];if(typeof $==="function")$(X);else throw Error(`no event handler found at path ${K}`)}if(Y)continue}Z=Z.parentElement!=null?Z.parentElement.closest(FX):null}};function tJ(J,Z,Y){let X=r4.get(J);if(J.classList.add(bX),X==null)X={},r4.set(J,X);if(!X[Z])X[Z]=new Set;if(X[Z].add(Y),!CX.has(Z))CX.add(Z),Z3.body.addEventListener(Z,A_,!0);return()=>{X[Z].delete(Y)}}var F_=0;function X8(){return`custom-elt${(F_++).toString(36)}`}var TX=0,s4={};function M_(J,Z){let Y=s4[J],X=J3(Z).replace(/:host\b/g,J);s4[J]=Y?Y+`
`+X:X}function V_(J){if(s4[J])document.head.append(y.style({id:J+"-component"},s4[J]));delete s4[J]}class k extends HTMLElement{static elements=y;static _elementCreator;instanceId;styleNode;static styleSpec;static styleNode;content=y.slot();isSlotted;static _tagName=null;static get tagName(){return this._tagName}static StyleNode(J){return console.warn("StyleNode is deprecated, just assign static styleSpec: XinStyleSheet to the class directly"),y.style(J3(J))}static elementCreator(J={}){let Z=this;if(Z._elementCreator==null){let{tag:Y,styleSpec:X}=J,q=J!=null?Y:null;if(q==null)if(typeof Z.name==="string"&&Z.name!==""){if(q=u5(Z.name),q.startsWith("-"))q=q.slice(1)}else q=X8();if(customElements.get(q)!=null)console.warn(`${q} is already defined`);if(q.match(/\w+(-\w+)+/)==null)console.warn(`${q} is not a legal tag for a custom-element`),q=X8();while(customElements.get(q)!==void 0)q=X8();if(Z._tagName=q,X!==void 0)M_(q,X);window.customElements.define(q,this,J),Z._elementCreator=y[q]}return Z._elementCreator}initAttributes(...J){let Z={},Y={};new MutationObserver((X)=>{let q=!1;if(X.forEach((Q)=>{q=!!(Q.attributeName&&J.includes(tO(Q.attributeName)))}),q&&this.queueRender!==void 0)this.queueRender(!1)}).observe(this,{attributes:!0}),J.forEach((X)=>{Z[X]=GJ(this[X]);let q=u5(X);Object.defineProperty(this,X,{enumerable:!1,get(){if(typeof Z[X]==="boolean")return this.hasAttribute(q);else if(this.hasAttribute(q))return typeof Z[X]==="number"?parseFloat(this.getAttribute(q)):this.getAttribute(q);else if(Y[X]!==void 0)return Y[X];else return Z[X]},set(Q){if(typeof Z[X]==="boolean"){if(Q!==this[X]){if(Q)this.setAttribute(q,"");else this.removeAttribute(q);this.queueRender()}}else if(typeof Z[X]==="number"){if(Q!==parseFloat(this[X]))this.setAttribute(q,Q),this.queueRender()}else if(typeof Q==="object"||`${Q}`!==`${this[X]}`){if(Q===null||Q===void 0||typeof Q==="object")this.removeAttribute(q);else this.setAttribute(q,Q);this.queueRender(),Y[X]=Q}}})})}initValue(){let J=Object.getOwnPropertyDescriptor(this,"value");if(J===void 0||J.get!==void 0||J.set!==void 0)return;let Z=this.hasAttribute("value")?this.getAttribute("value"):GJ(this.value);delete this.value,Object.defineProperty(this,"value",{enumerable:!1,get(){return Z},set(Y){if(Z!==Y)Z=Y,this.queueRender(!0)}})}_parts;get parts(){let J=this.shadowRoot!=null?this.shadowRoot:this;if(this._parts==null)this._parts=new Proxy({},{get(Z,Y){if(Z[Y]===void 0){let X=J.querySelector(`[part="${Y}"]`);if(X==null)X=J.querySelector(Y);if(X==null)throw Error(`elementRef "${Y}" does not exist!`);X.removeAttribute("data-ref"),Z[Y]=X}return Z[Y]}});return this._parts}constructor(){super();TX+=1,this.initAttributes("hidden"),this.instanceId=`${this.tagName.toLocaleLowerCase()}-${TX}`,this._value=GJ(this.defaultValue)}connectedCallback(){if(V_(this.constructor.tagName),this.hydrate(),this.role!=null)this.setAttribute("role",this.role);if(this.onResize!==void 0){if(j8.observe(this),this._onResize==null)this._onResize=this.onResize.bind(this);this.addEventListener("resize",this._onResize)}if(this.value!=null&&this.getAttribute("value")!=null)this._value=this.getAttribute("value");this.queueRender()}disconnectedCallback(){j8.unobserve(this)}_changeQueued=!1;_renderQueued=!1;queueRender(J=!1){if(!this._hydrated)return;if(!this._changeQueued)this._changeQueued=J;if(!this._renderQueued)this._renderQueued=!0,requestAnimationFrame(()=>{if(this._changeQueued)uX(this,"change");this._changeQueued=!1,this._renderQueued=!1,this.render()})}_hydrated=!1;hydrate(){if(!this._hydrated){this.initValue();let J=typeof this.content!=="function",Z=typeof this.content==="function"?this.content(y):this.content,{styleSpec:Y}=this.constructor,{styleNode:X}=this.constructor;if(Y)X=this.constructor.styleNode=y.style(J3(Y)),delete this.constructor.styleNode;if(this.styleNode)console.warn(this,"styleNode is deprecrated, use static styleNode or statc styleSpec instead"),X=this.styleNode;if(X){let q=this.attachShadow({mode:"open"});q.appendChild(X.cloneNode(!0)),LX(q,Z,J)}else if(Z!==null){let q=Array.from(this.childNodes);LX(this,Z,J),this.isSlotted=this.querySelector("slot,xin-slot")!==void 0;let Q=Array.from(this.querySelectorAll("slot"));if(Q.length>0)Q.forEach(F8.replaceSlot);if(q.length>0){let K={"":this};Array.from(this.querySelectorAll("xin-slot")).forEach(($)=>{K[$.name]=$}),q.forEach(($)=>{let U=K[""],W=$ instanceof Element?K[$.slot]:U;(W!==void 0?W:U).append($)})}}this._hydrated=!0}}render(){}}class F8 extends k{name="";content=null;static replaceSlot(J){let Z=document.createElement("xin-slot");if(J.name!=="")Z.setAttribute("name",J.name);J.replaceWith(Z)}constructor(){super();this.initAttributes("name")}}var tL=F8.elementCreator({tag:"xin-slot"}),I_=(J=()=>!0)=>{let Z=localStorage.getItem("xin-state");if(Z!=null){let X=JSON.parse(Z);for(let q of Object.keys(X).filter(J))if(w0[q]!==void 0)Object.assign(w0[q],X[q]);else w0[q]=X[q]}let Y=y7(()=>{let X={},q=q1(w0);for(let Q of Object.keys(q).filter(J))X[Q]=q[Q];localStorage.setItem("xin-state",JSON.stringify(X)),console.log("xin state saved to localStorage")},500);Y3(J,Y)},aX="1.0.10";function E5(J){return Object.assign(T7,J),T7}function M8(J){return console.warn("boxedProxy is deprecated, please use tosi() instead"),E5(J)}function rX(J,Z=!1){if(Z)return console.warn("xinProxy(..., true) is deprecated; use tosi(...) instead"),M8(J);return Object.keys(J).forEach((Y)=>{w0[Y]=J[Y]}),w0}var D_={};async function V8(J,Z){let{type:Y,styleSpec:X}=await Z(J,{Color:r,Component:k,elements:y,svgElements:b7,mathML:sX,varDefault:B,vars:A,xin:w0,boxed:T7,xinProxy:rX,boxedProxy:M8,tosi:E5,makeComponent:V8,bind:u1,on:tJ,version:aX}),q={type:Y,creator:Y.elementCreator({tag:J,styleSpec:X})};return D_[J]=q,q}var q8={},L_=(J)=>import(J);class S7 extends k{tag="anon-elt";src="";property="default";loaded;blueprintLoaded=(J)=>{};async packaged(){let{tag:J,src:Z,property:Y}=this,X=`${J}.${Y}:${Z}`;if(!this.loaded){if(q8[X]===void 0)q8[X]=L_(Z).then((q)=>{let Q=q[Y];return V8(J,Q)});else console.log(`using cached ${J} with signature ${X}`);this.loaded=await q8[X],this.blueprintLoaded(this.loaded)}return this.loaded}constructor(){super();this.initAttributes("tag","src","property")}}var B_=S7.elementCreator({tag:"xin-blueprint",styleSpec:{":host":{display:"none"}}});class I8 extends k{allLoaded=()=>{};constructor(){super()}async load(){let J=Array.from(this.querySelectorAll(S7.tagName)).filter((Z)=>Z.src).map((Z)=>Z.packaged());await Promise.all(J),this.allLoaded()}connectedCallback(){super.connectedCallback(),this.load()}}var P_=I8.elementCreator({tag:"xin-loader",styleSpec:{":host":{display:"none"}}});var r7={};D7(r7,{xrControllersText:()=>wH,xrControllers:()=>kH,xinTagList:()=>NN,xinTag:()=>eq,xinSizer:()=>zN,xinSelect:()=>IJ,xinSegmented:()=>jN,xinRating:()=>eH,xinPasswordStrength:()=>tH,xinNotification:()=>iq,xinMenu:()=>YH,xinLocalized:()=>i7,xinForm:()=>bH,xinFloat:()=>u8,xinField:()=>yH,xinCarousel:()=>p_,version:()=>RN,updateLocalized:()=>i8,trackDrag:()=>l5,tosijs:()=>eJ,tosiMonth:()=>iH,tosiDialog:()=>d7,tabSelector:()=>cq,svgIcon:()=>u_,svg2DataUrl:()=>Lq,styleSheet:()=>Dq,spacer:()=>Q4,sizeBreak:()=>_2,sideNav:()=>z2,setLocale:()=>a_,scriptTag:()=>MJ,richTextWidgets:()=>tq,richText:()=>KN,removeLastMenu:()=>DJ,postNotification:()=>rH,positionFloat:()=>yq,popMenu:()=>U5,popFloat:()=>Tq,menu:()=>vq,markdownViewer:()=>Q2,mapBox:()=>dH,makeSorter:()=>bq,localize:()=>h0,localePicker:()=>t_,liveExample:()=>X2,isBreached:()=>aq,initLocalization:()=>o_,icons:()=>v,i18n:()=>S0,gamepadText:()=>SH,gamepadState:()=>dq,findHighestZ:()=>n7,filterPart:()=>c7,filterBuilder:()=>LH,elastic:()=>XN,editableRect:()=>FH,dragAndDrop:()=>uq,digest:()=>sq,defineIcons:()=>m_,dataTable:()=>jH,createSubMenu:()=>xq,createMenuItem:()=>hq,createMenuAction:()=>wq,commandButton:()=>p1,colorInput:()=>Cq,codeEditor:()=>l7,bringToFront:()=>U3,bodymovinPlayer:()=>f_,blockStyle:()=>W2,b3d:()=>g_,availableFilters:()=>e8,abTest:()=>v_,XinTagList:()=>N2,XinTag:()=>a7,XinSizer:()=>H2,XinSelect:()=>G3,XinSegmented:()=>j2,XinRating:()=>U2,XinPasswordStrength:()=>$2,XinNotification:()=>VJ,XinMenu:()=>r8,XinLocalized:()=>$5,XinForm:()=>W3,XinFloat:()=>p5,XinField:()=>s7,XinCarousel:()=>n8,TosiMonth:()=>K2,TosiDialog:()=>t8,TabSelector:()=>Y2,SvgIcon:()=>d8,SizeBreak:()=>O2,SideNav:()=>$4,RichText:()=>G2,MarkdownViewer:()=>q2,MapBox:()=>FJ,LocalePicker:()=>s8,LiveExample:()=>K4,FilterPart:()=>J2,FilterBuilder:()=>Z2,EditableRect:()=>f1,DataTable:()=>o8,CodeEditor:()=>q4,BodymovinPlayer:()=>X4,B3d:()=>c8,AbTest:()=>Y4});function D8(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var HJ=D8();function Zq(J){HJ=J}var Yq=/[&<>"']/,E_=new RegExp(Yq.source,"g"),Xq=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,C_=new RegExp(Xq.source,"g"),T_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},oX=(J)=>T_[J];function _1(J,Z){if(Z){if(Yq.test(J))return J.replace(E_,oX)}else if(Xq.test(J))return J.replace(C_,oX);return J}var y_=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function b_(J){return J.replace(y_,(Z,Y)=>{if(Y=Y.toLowerCase(),Y==="colon")return":";if(Y.charAt(0)==="#")return Y.charAt(1)==="x"?String.fromCharCode(parseInt(Y.substring(2),16)):String.fromCharCode(+Y.substring(1));return""})}var S_=/(^|[^\[])\^/g;function U0(J,Z){J=typeof J==="string"?J:J.source,Z=Z||"";let Y={replace:(X,q)=>{return q=typeof q==="object"&&"source"in q?q.source:q,q=q.replace(S_,"$1"),J=J.replace(X,q),Y},getRegex:()=>{return new RegExp(J,Z)}};return Y}function tX(J){try{J=encodeURI(J).replace(/%25/g,"%")}catch(Z){return null}return J}var w7={exec:()=>null};function eX(J,Z){let Y=J.replace(/\|/g,(Q,K,$)=>{let U=!1,W=K;while(--W>=0&&$[W]==="\\")U=!U;if(U)return"|";else return" |"}),X=Y.split(/ \|/),q=0;if(!X[0].trim())X.shift();if(X.length>0&&!X[X.length-1].trim())X.pop();if(Z)if(X.length>Z)X.splice(Z);else while(X.length<Z)X.push("");for(;q<X.length;q++)X[q]=X[q].trim().replace(/\\\|/g,"|");return X}function k7(J,Z,Y){let X=J.length;if(X===0)return"";let q=0;while(q<X){let Q=J.charAt(X-q-1);if(Q===Z&&!Y)q++;else if(Q!==Z&&Y)q++;else break}return J.slice(0,X-q)}function k_(J,Z){if(J.indexOf(Z[1])===-1)return-1;let Y=0;for(let X=0;X<J.length;X++)if(J[X]==="\\")X++;else if(J[X]===Z[0])Y++;else if(J[X]===Z[1]){if(Y--,Y<0)return X}return-1}function Jq(J,Z,Y,X){let q=Z.href,Q=Z.title?_1(Z.title):null,K=J[1].replace(/\\([\[\]])/g,"$1");if(J[0].charAt(0)!=="!"){X.state.inLink=!0;let $={type:"link",raw:Y,href:q,title:Q,text:K,tokens:X.inlineTokens(K)};return X.state.inLink=!1,$}return{type:"image",raw:Y,href:q,title:Q,text:_1(K)}}function w_(J,Z){let Y=J.match(/^(\s+)(?:```)/);if(Y===null)return Z;let X=Y[1];return Z.split(`
`).map((q)=>{let Q=q.match(/^\s+/);if(Q===null)return q;let[K]=Q;if(K.length>=X.length)return q.slice(X.length);return q}).join(`
`)}class q3{options;rules;lexer;constructor(J){this.options=J||HJ}space(J){let Z=this.rules.block.newline.exec(J);if(Z&&Z[0].length>0)return{type:"space",raw:Z[0]}}code(J){let Z=this.rules.block.code.exec(J);if(Z){let Y=Z[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:Z[0],codeBlockStyle:"indented",text:!this.options.pedantic?k7(Y,`
`):Y}}}fences(J){let Z=this.rules.block.fences.exec(J);if(Z){let Y=Z[0],X=w_(Y,Z[3]||"");return{type:"code",raw:Y,lang:Z[2]?Z[2].trim().replace(this.rules.inline._escapes,"$1"):Z[2],text:X}}}heading(J){let Z=this.rules.block.heading.exec(J);if(Z){let Y=Z[2].trim();if(/#$/.test(Y)){let X=k7(Y,"#");if(this.options.pedantic)Y=X.trim();else if(!X||/ $/.test(X))Y=X.trim()}return{type:"heading",raw:Z[0],depth:Z[1].length,text:Y,tokens:this.lexer.inline(Y)}}}hr(J){let Z=this.rules.block.hr.exec(J);if(Z)return{type:"hr",raw:Z[0]}}blockquote(J){let Z=this.rules.block.blockquote.exec(J);if(Z){let Y=k7(Z[0].replace(/^ *>[ \t]?/gm,""),`
`),X=this.lexer.state.top;this.lexer.state.top=!0;let q=this.lexer.blockTokens(Y);return this.lexer.state.top=X,{type:"blockquote",raw:Z[0],tokens:q,text:Y}}}list(J){let Z=this.rules.block.list.exec(J);if(Z){let Y=Z[1].trim(),X=Y.length>1,q={type:"list",raw:"",ordered:X,start:X?+Y.slice(0,-1):"",loose:!1,items:[]};if(Y=X?`\\d{1,9}\\${Y.slice(-1)}`:`\\${Y}`,this.options.pedantic)Y=X?Y:"[*+-]";let Q=new RegExp(`^( {0,3}${Y})((?:[	 ][^\\n]*)?(?:\\n|$))`),K="",$="",U=!1;while(J){let W=!1;if(!(Z=Q.exec(J)))break;if(this.rules.block.hr.test(J))break;K=Z[0],J=J.substring(K.length);let G=Z[2].split(`
`,1)[0].replace(/^\t+/,(F)=>" ".repeat(3*F.length)),j=J.split(`
`,1)[0],z=0;if(this.options.pedantic)z=2,$=G.trimStart();else z=Z[2].search(/[^ ]/),z=z>4?1:z,$=G.slice(z),z+=Z[1].length;let O=!1;if(!G&&/^ *$/.test(j))K+=j+`
`,J=J.substring(j.length+1),W=!0;if(!W){let F=new RegExp(`^ {0,${Math.min(3,z-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),M=new RegExp(`^ {0,${Math.min(3,z-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),I=new RegExp(`^ {0,${Math.min(3,z-1)}}(?:\`\`\`|~~~)`),L=new RegExp(`^ {0,${Math.min(3,z-1)}}#`);while(J){let P=J.split(`
`,1)[0];if(j=P,this.options.pedantic)j=j.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ");if(I.test(j))break;if(L.test(j))break;if(F.test(j))break;if(M.test(J))break;if(j.search(/[^ ]/)>=z||!j.trim())$+=`
`+j.slice(z);else{if(O)break;if(G.search(/[^ ]/)>=4)break;if(I.test(G))break;if(L.test(G))break;if(M.test(G))break;$+=`
`+j}if(!O&&!j.trim())O=!0;K+=P+`
`,J=J.substring(P.length+1),G=j.slice(z)}}if(!q.loose){if(U)q.loose=!0;else if(/\n *\n *$/.test(K))U=!0}let H=null,N;if(this.options.gfm){if(H=/^\[[ xX]\] /.exec($),H)N=H[0]!=="[ ] ",$=$.replace(/^\[[ xX]\] +/,"")}q.items.push({type:"list_item",raw:K,task:!!H,checked:N,loose:!1,text:$,tokens:[]}),q.raw+=K}q.items[q.items.length-1].raw=K.trimEnd(),q.items[q.items.length-1].text=$.trimEnd(),q.raw=q.raw.trimEnd();for(let W=0;W<q.items.length;W++)if(this.lexer.state.top=!1,q.items[W].tokens=this.lexer.blockTokens(q.items[W].text,[]),!q.loose){let G=q.items[W].tokens.filter((z)=>z.type==="space"),j=G.length>0&&G.some((z)=>/\n.*\n/.test(z.raw));q.loose=j}if(q.loose)for(let W=0;W<q.items.length;W++)q.items[W].loose=!0;return q}}html(J){let Z=this.rules.block.html.exec(J);if(Z)return{type:"html",block:!0,raw:Z[0],pre:Z[1]==="pre"||Z[1]==="script"||Z[1]==="style",text:Z[0]}}def(J){let Z=this.rules.block.def.exec(J);if(Z){let Y=Z[1].toLowerCase().replace(/\s+/g," "),X=Z[2]?Z[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",q=Z[3]?Z[3].substring(1,Z[3].length-1).replace(this.rules.inline._escapes,"$1"):Z[3];return{type:"def",tag:Y,raw:Z[0],href:X,title:q}}}table(J){let Z=this.rules.block.table.exec(J);if(Z){if(!/[:|]/.test(Z[2]))return;let Y={type:"table",raw:Z[0],header:eX(Z[1]).map((X)=>{return{text:X,tokens:[]}}),align:Z[2].replace(/^\||\| *$/g,"").split("|"),rows:Z[3]&&Z[3].trim()?Z[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(Y.header.length===Y.align.length){let X=Y.align.length,q,Q,K,$;for(q=0;q<X;q++){let U=Y.align[q];if(U)if(/^ *-+: *$/.test(U))Y.align[q]="right";else if(/^ *:-+: *$/.test(U))Y.align[q]="center";else if(/^ *:-+ *$/.test(U))Y.align[q]="left";else Y.align[q]=null}X=Y.rows.length;for(q=0;q<X;q++)Y.rows[q]=eX(Y.rows[q],Y.header.length).map((U)=>{return{text:U,tokens:[]}});X=Y.header.length;for(Q=0;Q<X;Q++)Y.header[Q].tokens=this.lexer.inline(Y.header[Q].text);X=Y.rows.length;for(Q=0;Q<X;Q++){$=Y.rows[Q];for(K=0;K<$.length;K++)$[K].tokens=this.lexer.inline($[K].text)}return Y}}}lheading(J){let Z=this.rules.block.lheading.exec(J);if(Z)return{type:"heading",raw:Z[0],depth:Z[2].charAt(0)==="="?1:2,text:Z[1],tokens:this.lexer.inline(Z[1])}}paragraph(J){let Z=this.rules.block.paragraph.exec(J);if(Z){let Y=Z[1].charAt(Z[1].length-1)===`
`?Z[1].slice(0,-1):Z[1];return{type:"paragraph",raw:Z[0],text:Y,tokens:this.lexer.inline(Y)}}}text(J){let Z=this.rules.block.text.exec(J);if(Z)return{type:"text",raw:Z[0],text:Z[0],tokens:this.lexer.inline(Z[0])}}escape(J){let Z=this.rules.inline.escape.exec(J);if(Z)return{type:"escape",raw:Z[0],text:_1(Z[1])}}tag(J){let Z=this.rules.inline.tag.exec(J);if(Z){if(!this.lexer.state.inLink&&/^<a /i.test(Z[0]))this.lexer.state.inLink=!0;else if(this.lexer.state.inLink&&/^<\/a>/i.test(Z[0]))this.lexer.state.inLink=!1;if(!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(Z[0]))this.lexer.state.inRawBlock=!0;else if(this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(Z[0]))this.lexer.state.inRawBlock=!1;return{type:"html",raw:Z[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:Z[0]}}}link(J){let Z=this.rules.inline.link.exec(J);if(Z){let Y=Z[2].trim();if(!this.options.pedantic&&/^</.test(Y)){if(!/>$/.test(Y))return;let Q=k7(Y.slice(0,-1),"\\");if((Y.length-Q.length)%2===0)return}else{let Q=k_(Z[2],"()");if(Q>-1){let $=(Z[0].indexOf("!")===0?5:4)+Z[1].length+Q;Z[2]=Z[2].substring(0,Q),Z[0]=Z[0].substring(0,$).trim(),Z[3]=""}}let X=Z[2],q="";if(this.options.pedantic){let Q=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(X);if(Q)X=Q[1],q=Q[3]}else q=Z[3]?Z[3].slice(1,-1):"";if(X=X.trim(),/^</.test(X))if(this.options.pedantic&&!/>$/.test(Y))X=X.slice(1);else X=X.slice(1,-1);return Jq(Z,{href:X?X.replace(this.rules.inline._escapes,"$1"):X,title:q?q.replace(this.rules.inline._escapes,"$1"):q},Z[0],this.lexer)}}reflink(J,Z){let Y;if((Y=this.rules.inline.reflink.exec(J))||(Y=this.rules.inline.nolink.exec(J))){let X=(Y[2]||Y[1]).replace(/\s+/g," ");if(X=Z[X.toLowerCase()],!X){let q=Y[0].charAt(0);return{type:"text",raw:q,text:q}}return Jq(Y,X,Y[0],this.lexer)}}emStrong(J,Z,Y=""){let X=this.rules.inline.emStrong.lDelim.exec(J);if(!X)return;if(X[3]&&Y.match(/[\p{L}\p{N}]/u))return;if(!(X[1]||X[2])||!Y||this.rules.inline.punctuation.exec(Y)){let Q=[...X[0]].length-1,K,$,U=Q,W=0,G=X[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;G.lastIndex=0,Z=Z.slice(-1*J.length+Q);while((X=G.exec(Z))!=null){if(K=X[1]||X[2]||X[3]||X[4]||X[5]||X[6],!K)continue;if($=[...K].length,X[3]||X[4]){U+=$;continue}else if(X[5]||X[6]){if(Q%3&&!((Q+$)%3)){W+=$;continue}}if(U-=$,U>0)continue;$=Math.min($,$+U+W);let j=[...X[0]][0].length,z=J.slice(0,Q+X.index+j+$);if(Math.min(Q,$)%2){let H=z.slice(1,-1);return{type:"em",raw:z,text:H,tokens:this.lexer.inlineTokens(H)}}let O=z.slice(2,-2);return{type:"strong",raw:z,text:O,tokens:this.lexer.inlineTokens(O)}}}}codespan(J){let Z=this.rules.inline.code.exec(J);if(Z){let Y=Z[2].replace(/\n/g," "),X=/[^ ]/.test(Y),q=/^ /.test(Y)&&/ $/.test(Y);if(X&&q)Y=Y.substring(1,Y.length-1);return Y=_1(Y,!0),{type:"codespan",raw:Z[0],text:Y}}}br(J){let Z=this.rules.inline.br.exec(J);if(Z)return{type:"br",raw:Z[0]}}del(J){let Z=this.rules.inline.del.exec(J);if(Z)return{type:"del",raw:Z[0],text:Z[2],tokens:this.lexer.inlineTokens(Z[2])}}autolink(J){let Z=this.rules.inline.autolink.exec(J);if(Z){let Y,X;if(Z[2]==="@")Y=_1(Z[1]),X="mailto:"+Y;else Y=_1(Z[1]),X=Y;return{type:"link",raw:Z[0],text:Y,href:X,tokens:[{type:"text",raw:Y,text:Y}]}}}url(J){let Z;if(Z=this.rules.inline.url.exec(J)){let Y,X;if(Z[2]==="@")Y=_1(Z[0]),X="mailto:"+Y;else{let q;do q=Z[0],Z[0]=this.rules.inline._backpedal.exec(Z[0])[0];while(q!==Z[0]);if(Y=_1(Z[0]),Z[1]==="www.")X="http://"+Z[0];else X=Z[0]}return{type:"link",raw:Z[0],text:Y,href:X,tokens:[{type:"text",raw:Y,text:Y}]}}}inlineText(J){let Z=this.rules.inline.text.exec(J);if(Z){let Y;if(this.lexer.state.inRawBlock)Y=Z[0];else Y=_1(Z[0]);return{type:"text",raw:Z[0],text:Y}}}}var l={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:w7,lheading:/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};l._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;l._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;l.def=U0(l.def).replace("label",l._label).replace("title",l._title).getRegex();l.bullet=/(?:[*+-]|\d{1,9}[.)])/;l.listItemStart=U0(/^( *)(bull) */).replace("bull",l.bullet).getRegex();l.list=U0(l.list).replace(/bull/g,l.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+l.def.source+")").getRegex();l._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";l._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;l.html=U0(l.html,"i").replace("comment",l._comment).replace("tag",l._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();l.lheading=U0(l.lheading).replace(/bull/g,l.bullet).getRegex();l.paragraph=U0(l._paragraph).replace("hr",l.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",l._tag).getRegex();l.blockquote=U0(l.blockquote).replace("paragraph",l.paragraph).getRegex();l.normal={...l};l.gfm={...l.normal,table:"^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};l.gfm.table=U0(l.gfm.table).replace("hr",l.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",l._tag).getRegex();l.gfm.paragraph=U0(l._paragraph).replace("hr",l.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",l.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",l._tag).getRegex();l.pedantic={...l.normal,html:U0(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",l._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:w7,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:U0(l.normal._paragraph).replace("hr",l.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",l.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};var w={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:w7,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:w7,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};w._punctuation="\\p{P}$+<=>`^|~";w.punctuation=U0(w.punctuation,"u").replace(/punctuation/g,w._punctuation).getRegex();w.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g;w.anyPunctuation=/\\[punct]/g;w._escapes=/\\([punct])/g;w._comment=U0(l._comment).replace("(?:-->|$)","-->").getRegex();w.emStrong.lDelim=U0(w.emStrong.lDelim,"u").replace(/punct/g,w._punctuation).getRegex();w.emStrong.rDelimAst=U0(w.emStrong.rDelimAst,"gu").replace(/punct/g,w._punctuation).getRegex();w.emStrong.rDelimUnd=U0(w.emStrong.rDelimUnd,"gu").replace(/punct/g,w._punctuation).getRegex();w.anyPunctuation=U0(w.anyPunctuation,"gu").replace(/punct/g,w._punctuation).getRegex();w._escapes=U0(w._escapes,"gu").replace(/punct/g,w._punctuation).getRegex();w._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;w._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;w.autolink=U0(w.autolink).replace("scheme",w._scheme).replace("email",w._email).getRegex();w._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;w.tag=U0(w.tag).replace("comment",w._comment).replace("attribute",w._attribute).getRegex();w._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;w._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;w._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;w.link=U0(w.link).replace("label",w._label).replace("href",w._href).replace("title",w._title).getRegex();w.reflink=U0(w.reflink).replace("label",w._label).replace("ref",l._label).getRegex();w.nolink=U0(w.nolink).replace("ref",l._label).getRegex();w.reflinkSearch=U0(w.reflinkSearch,"g").replace("reflink",w.reflink).replace("nolink",w.nolink).getRegex();w.normal={...w};w.pedantic={...w.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:U0(/^!?\[(label)\]\((.*?)\)/).replace("label",w._label).getRegex(),reflink:U0(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",w._label).getRegex()};w.gfm={...w.normal,escape:U0(w.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};w.gfm.url=U0(w.gfm.url,"i").replace("email",w.gfm._extended_email).getRegex();w.breaks={...w.gfm,br:U0(w.br).replace("{2,}","*").getRegex(),text:U0(w.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class Q5{tokens;options;state;tokenizer;inlineQueue;constructor(J){this.tokens=[],this.tokens.links=Object.create(null),this.options=J||HJ,this.options.tokenizer=this.options.tokenizer||new q3,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let Z={block:l.normal,inline:w.normal};if(this.options.pedantic)Z.block=l.pedantic,Z.inline=w.pedantic;else if(this.options.gfm)if(Z.block=l.gfm,this.options.breaks)Z.inline=w.breaks;else Z.inline=w.gfm;this.tokenizer.rules=Z}static get rules(){return{block:l,inline:w}}static lex(J,Z){return new Q5(Z).lex(J)}static lexInline(J,Z){return new Q5(Z).inlineTokens(J)}lex(J){J=J.replace(/\r\n|\r/g,`
`),this.blockTokens(J,this.tokens);let Z;while(Z=this.inlineQueue.shift())this.inlineTokens(Z.src,Z.tokens);return this.tokens}blockTokens(J,Z=[]){if(this.options.pedantic)J=J.replace(/\t/g,"    ").replace(/^ +$/gm,"");else J=J.replace(/^( *)(\t+)/gm,(K,$,U)=>{return $+"    ".repeat(U.length)});let Y,X,q,Q;while(J){if(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((K)=>{if(Y=K.call({lexer:this},J,Z))return J=J.substring(Y.raw.length),Z.push(Y),!0;return!1}))continue;if(Y=this.tokenizer.space(J)){if(J=J.substring(Y.raw.length),Y.raw.length===1&&Z.length>0)Z[Z.length-1].raw+=`
`;else Z.push(Y);continue}if(Y=this.tokenizer.code(J)){if(J=J.substring(Y.raw.length),X=Z[Z.length-1],X&&(X.type==="paragraph"||X.type==="text"))X.raw+=`
`+Y.raw,X.text+=`
`+Y.text,this.inlineQueue[this.inlineQueue.length-1].src=X.text;else Z.push(Y);continue}if(Y=this.tokenizer.fences(J)){J=J.substring(Y.raw.length),Z.push(Y);continue}if(Y=this.tokenizer.heading(J)){J=J.substring(Y.raw.length),Z.push(Y);continue}if(Y=this.tokenizer.hr(J)){J=J.substring(Y.raw.length),Z.push(Y);continue}if(Y=this.tokenizer.blockquote(J)){J=J.substring(Y.raw.length),Z.push(Y);continue}if(Y=this.tokenizer.list(J)){J=J.substring(Y.raw.length),Z.push(Y);continue}if(Y=this.tokenizer.html(J)){J=J.substring(Y.raw.length),Z.push(Y);continue}if(Y=this.tokenizer.def(J)){if(J=J.substring(Y.raw.length),X=Z[Z.length-1],X&&(X.type==="paragraph"||X.type==="text"))X.raw+=`
`+Y.raw,X.text+=`
`+Y.raw,this.inlineQueue[this.inlineQueue.length-1].src=X.text;else if(!this.tokens.links[Y.tag])this.tokens.links[Y.tag]={href:Y.href,title:Y.title};continue}if(Y=this.tokenizer.table(J)){J=J.substring(Y.raw.length),Z.push(Y);continue}if(Y=this.tokenizer.lheading(J)){J=J.substring(Y.raw.length),Z.push(Y);continue}if(q=J,this.options.extensions&&this.options.extensions.startBlock){let K=1/0,$=J.slice(1),U;if(this.options.extensions.startBlock.forEach((W)=>{if(U=W.call({lexer:this},$),typeof U==="number"&&U>=0)K=Math.min(K,U)}),K<1/0&&K>=0)q=J.substring(0,K+1)}if(this.state.top&&(Y=this.tokenizer.paragraph(q))){if(X=Z[Z.length-1],Q&&X.type==="paragraph")X.raw+=`
`+Y.raw,X.text+=`
`+Y.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=X.text;else Z.push(Y);Q=q.length!==J.length,J=J.substring(Y.raw.length);continue}if(Y=this.tokenizer.text(J)){if(J=J.substring(Y.raw.length),X=Z[Z.length-1],X&&X.type==="text")X.raw+=`
`+Y.raw,X.text+=`
`+Y.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=X.text;else Z.push(Y);continue}if(J){let K="Infinite loop on byte: "+J.charCodeAt(0);if(this.options.silent){console.error(K);break}else throw Error(K)}}return this.state.top=!0,Z}inline(J,Z=[]){return this.inlineQueue.push({src:J,tokens:Z}),Z}inlineTokens(J,Z=[]){let Y,X,q,Q=J,K,$,U;if(this.tokens.links){let W=Object.keys(this.tokens.links);if(W.length>0){while((K=this.tokenizer.rules.inline.reflinkSearch.exec(Q))!=null)if(W.includes(K[0].slice(K[0].lastIndexOf("[")+1,-1)))Q=Q.slice(0,K.index)+"["+"a".repeat(K[0].length-2)+"]"+Q.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex)}}while((K=this.tokenizer.rules.inline.blockSkip.exec(Q))!=null)Q=Q.slice(0,K.index)+"["+"a".repeat(K[0].length-2)+"]"+Q.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);while((K=this.tokenizer.rules.inline.anyPunctuation.exec(Q))!=null)Q=Q.slice(0,K.index)+"++"+Q.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);while(J){if(!$)U="";if($=!1,this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((W)=>{if(Y=W.call({lexer:this},J,Z))return J=J.substring(Y.raw.length),Z.push(Y),!0;return!1}))continue;if(Y=this.tokenizer.escape(J)){J=J.substring(Y.raw.length),Z.push(Y);continue}if(Y=this.tokenizer.tag(J)){if(J=J.substring(Y.raw.length),X=Z[Z.length-1],X&&Y.type==="text"&&X.type==="text")X.raw+=Y.raw,X.text+=Y.text;else Z.push(Y);continue}if(Y=this.tokenizer.link(J)){J=J.substring(Y.raw.length),Z.push(Y);continue}if(Y=this.tokenizer.reflink(J,this.tokens.links)){if(J=J.substring(Y.raw.length),X=Z[Z.length-1],X&&Y.type==="text"&&X.type==="text")X.raw+=Y.raw,X.text+=Y.text;else Z.push(Y);continue}if(Y=this.tokenizer.emStrong(J,Q,U)){J=J.substring(Y.raw.length),Z.push(Y);continue}if(Y=this.tokenizer.codespan(J)){J=J.substring(Y.raw.length),Z.push(Y);continue}if(Y=this.tokenizer.br(J)){J=J.substring(Y.raw.length),Z.push(Y);continue}if(Y=this.tokenizer.del(J)){J=J.substring(Y.raw.length),Z.push(Y);continue}if(Y=this.tokenizer.autolink(J)){J=J.substring(Y.raw.length),Z.push(Y);continue}if(!this.state.inLink&&(Y=this.tokenizer.url(J))){J=J.substring(Y.raw.length),Z.push(Y);continue}if(q=J,this.options.extensions&&this.options.extensions.startInline){let W=1/0,G=J.slice(1),j;if(this.options.extensions.startInline.forEach((z)=>{if(j=z.call({lexer:this},G),typeof j==="number"&&j>=0)W=Math.min(W,j)}),W<1/0&&W>=0)q=J.substring(0,W+1)}if(Y=this.tokenizer.inlineText(q)){if(J=J.substring(Y.raw.length),Y.raw.slice(-1)!=="_")U=Y.raw.slice(-1);if($=!0,X=Z[Z.length-1],X&&X.type==="text")X.raw+=Y.raw,X.text+=Y.text;else Z.push(Y);continue}if(J){let W="Infinite loop on byte: "+J.charCodeAt(0);if(this.options.silent){console.error(W);break}else throw Error(W)}}return Z}}class Q3{options;constructor(J){this.options=J||HJ}code(J,Z,Y){let X=(Z||"").match(/^\S*/)?.[0];if(J=J.replace(/\n$/,"")+`
`,!X)return"<pre><code>"+(Y?J:_1(J,!0))+`</code></pre>
`;return'<pre><code class="language-'+_1(X)+'">'+(Y?J:_1(J,!0))+`</code></pre>
`}blockquote(J){return`<blockquote>
${J}</blockquote>
`}html(J,Z){return J}heading(J,Z,Y){return`<h${Z}>${J}</h${Z}>
`}hr(){return`<hr>
`}list(J,Z,Y){let X=Z?"ol":"ul",q=Z&&Y!==1?' start="'+Y+'"':"";return"<"+X+q+`>
`+J+"</"+X+`>
`}listitem(J,Z,Y){return`<li>${J}</li>
`}checkbox(J){return"<input "+(J?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(J){return`<p>${J}</p>
`}table(J,Z){if(Z)Z=`<tbody>${Z}</tbody>`;return`<table>
<thead>
`+J+`</thead>
`+Z+`</table>
`}tablerow(J){return`<tr>
${J}</tr>
`}tablecell(J,Z){let Y=Z.header?"th":"td";return(Z.align?`<${Y} align="${Z.align}">`:`<${Y}>`)+J+`</${Y}>
`}strong(J){return`<strong>${J}</strong>`}em(J){return`<em>${J}</em>`}codespan(J){return`<code>${J}</code>`}br(){return"<br>"}del(J){return`<del>${J}</del>`}link(J,Z,Y){let X=tX(J);if(X===null)return Y;J=X;let q='<a href="'+J+'"';if(Z)q+=' title="'+Z+'"';return q+=">"+Y+"</a>",q}image(J,Z,Y){let X=tX(J);if(X===null)return Y;J=X;let q=`<img src="${J}" alt="${Y}"`;if(Z)q+=` title="${Z}"`;return q+=">",q}text(J){return J}}class x7{strong(J){return J}em(J){return J}codespan(J){return J}del(J){return J}html(J){return J}text(J){return J}link(J,Z,Y){return""+Y}image(J,Z,Y){return""+Y}br(){return""}}class K5{options;renderer;textRenderer;constructor(J){this.options=J||HJ,this.options.renderer=this.options.renderer||new Q3,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new x7}static parse(J,Z){return new K5(Z).parse(J)}static parseInline(J,Z){return new K5(Z).parseInline(J)}parse(J,Z=!0){let Y="";for(let X=0;X<J.length;X++){let q=J[X];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[q.type]){let Q=q,K=this.options.extensions.renderers[Q.type].call({parser:this},Q);if(K!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Q.type)){Y+=K||"";continue}}switch(q.type){case"space":continue;case"hr":{Y+=this.renderer.hr();continue}case"heading":{let Q=q;Y+=this.renderer.heading(this.parseInline(Q.tokens),Q.depth,b_(this.parseInline(Q.tokens,this.textRenderer)));continue}case"code":{let Q=q;Y+=this.renderer.code(Q.text,Q.lang,!!Q.escaped);continue}case"table":{let Q=q,K="",$="";for(let W=0;W<Q.header.length;W++)$+=this.renderer.tablecell(this.parseInline(Q.header[W].tokens),{header:!0,align:Q.align[W]});K+=this.renderer.tablerow($);let U="";for(let W=0;W<Q.rows.length;W++){let G=Q.rows[W];$="";for(let j=0;j<G.length;j++)$+=this.renderer.tablecell(this.parseInline(G[j].tokens),{header:!1,align:Q.align[j]});U+=this.renderer.tablerow($)}Y+=this.renderer.table(K,U);continue}case"blockquote":{let Q=q,K=this.parse(Q.tokens);Y+=this.renderer.blockquote(K);continue}case"list":{let Q=q,K=Q.ordered,$=Q.start,U=Q.loose,W="";for(let G=0;G<Q.items.length;G++){let j=Q.items[G],z=j.checked,O=j.task,H="";if(j.task){let N=this.renderer.checkbox(!!z);if(U)if(j.tokens.length>0&&j.tokens[0].type==="paragraph"){if(j.tokens[0].text=N+" "+j.tokens[0].text,j.tokens[0].tokens&&j.tokens[0].tokens.length>0&&j.tokens[0].tokens[0].type==="text")j.tokens[0].tokens[0].text=N+" "+j.tokens[0].tokens[0].text}else j.tokens.unshift({type:"text",text:N+" "});else H+=N+" "}H+=this.parse(j.tokens,U),W+=this.renderer.listitem(H,O,!!z)}Y+=this.renderer.list(W,K,$);continue}case"html":{let Q=q;Y+=this.renderer.html(Q.text,Q.block);continue}case"paragraph":{let Q=q;Y+=this.renderer.paragraph(this.parseInline(Q.tokens));continue}case"text":{let Q=q,K=Q.tokens?this.parseInline(Q.tokens):Q.text;while(X+1<J.length&&J[X+1].type==="text")Q=J[++X],K+=`
`+(Q.tokens?this.parseInline(Q.tokens):Q.text);Y+=Z?this.renderer.paragraph(K):K;continue}default:{let Q='Token with "'+q.type+'" type was not found.';if(this.options.silent)return console.error(Q),"";else throw Error(Q)}}}return Y}parseInline(J,Z){Z=Z||this.renderer;let Y="";for(let X=0;X<J.length;X++){let q=J[X];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[q.type]){let Q=this.options.extensions.renderers[q.type].call({parser:this},q);if(Q!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(q.type)){Y+=Q||"";continue}}switch(q.type){case"escape":{let Q=q;Y+=Z.text(Q.text);break}case"html":{let Q=q;Y+=Z.html(Q.text);break}case"link":{let Q=q;Y+=Z.link(Q.href,Q.title,this.parseInline(Q.tokens,Z));break}case"image":{let Q=q;Y+=Z.image(Q.href,Q.title,Q.text);break}case"strong":{let Q=q;Y+=Z.strong(this.parseInline(Q.tokens,Z));break}case"em":{let Q=q;Y+=Z.em(this.parseInline(Q.tokens,Z));break}case"codespan":{let Q=q;Y+=Z.codespan(Q.text);break}case"br":{Y+=Z.br();break}case"del":{let Q=q;Y+=Z.del(this.parseInline(Q.tokens,Z));break}case"text":{let Q=q;Y+=Z.text(Q.text);break}default:{let Q='Token with "'+q.type+'" type was not found.';if(this.options.silent)return console.error(Q),"";else throw Error(Q)}}}return Y}}class X3{options;constructor(J){this.options=J||HJ}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(J){return J}postprocess(J){return J}}class qq{defaults=D8();options=this.setOptions;parse=this.#J(Q5.lex,K5.parse);parseInline=this.#J(Q5.lexInline,K5.parseInline);Parser=K5;Renderer=Q3;TextRenderer=x7;Lexer=Q5;Tokenizer=q3;Hooks=X3;constructor(...J){this.use(...J)}walkTokens(J,Z){let Y=[];for(let X of J)switch(Y=Y.concat(Z.call(this,X)),X.type){case"table":{let q=X;for(let Q of q.header)Y=Y.concat(this.walkTokens(Q.tokens,Z));for(let Q of q.rows)for(let K of Q)Y=Y.concat(this.walkTokens(K.tokens,Z));break}case"list":{let q=X;Y=Y.concat(this.walkTokens(q.items,Z));break}default:{let q=X;if(this.defaults.extensions?.childTokens?.[q.type])this.defaults.extensions.childTokens[q.type].forEach((Q)=>{Y=Y.concat(this.walkTokens(q[Q],Z))});else if(q.tokens)Y=Y.concat(this.walkTokens(q.tokens,Z))}}return Y}use(...J){let Z=this.defaults.extensions||{renderers:{},childTokens:{}};return J.forEach((Y)=>{let X={...Y};if(X.async=this.defaults.async||X.async||!1,Y.extensions)Y.extensions.forEach((q)=>{if(!q.name)throw Error("extension name required");if("renderer"in q){let Q=Z.renderers[q.name];if(Q)Z.renderers[q.name]=function(...K){let $=q.renderer.apply(this,K);if($===!1)$=Q.apply(this,K);return $};else Z.renderers[q.name]=q.renderer}if("tokenizer"in q){if(!q.level||q.level!=="block"&&q.level!=="inline")throw Error("extension level must be 'block' or 'inline'");let Q=Z[q.level];if(Q)Q.unshift(q.tokenizer);else Z[q.level]=[q.tokenizer];if(q.start){if(q.level==="block")if(Z.startBlock)Z.startBlock.push(q.start);else Z.startBlock=[q.start];else if(q.level==="inline")if(Z.startInline)Z.startInline.push(q.start);else Z.startInline=[q.start]}}if("childTokens"in q&&q.childTokens)Z.childTokens[q.name]=q.childTokens}),X.extensions=Z;if(Y.renderer){let q=this.defaults.renderer||new Q3(this.defaults);for(let Q in Y.renderer){let K=Y.renderer[Q],$=Q,U=q[$];q[$]=(...W)=>{let G=K.apply(q,W);if(G===!1)G=U.apply(q,W);return G||""}}X.renderer=q}if(Y.tokenizer){let q=this.defaults.tokenizer||new q3(this.defaults);for(let Q in Y.tokenizer){let K=Y.tokenizer[Q],$=Q,U=q[$];q[$]=(...W)=>{let G=K.apply(q,W);if(G===!1)G=U.apply(q,W);return G}}X.tokenizer=q}if(Y.hooks){let q=this.defaults.hooks||new X3;for(let Q in Y.hooks){let K=Y.hooks[Q],$=Q,U=q[$];if(X3.passThroughHooks.has(Q))q[$]=(W)=>{if(this.defaults.async)return Promise.resolve(K.call(q,W)).then((j)=>{return U.call(q,j)});let G=K.call(q,W);return U.call(q,G)};else q[$]=(...W)=>{let G=K.apply(q,W);if(G===!1)G=U.apply(q,W);return G}}X.hooks=q}if(Y.walkTokens){let q=this.defaults.walkTokens,Q=Y.walkTokens;X.walkTokens=function(K){let $=[];if($.push(Q.call(this,K)),q)$=$.concat(q.call(this,K));return $}}this.defaults={...this.defaults,...X}}),this}setOptions(J){return this.defaults={...this.defaults,...J},this}lexer(J,Z){return Q5.lex(J,Z??this.defaults)}parser(J,Z){return K5.parse(J,Z??this.defaults)}#J(J,Z){return(Y,X)=>{let q={...X},Q={...this.defaults,...q};if(this.defaults.async===!0&&q.async===!1){if(!Q.silent)console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored.");Q.async=!0}let K=this.#Z(!!Q.silent,!!Q.async);if(typeof Y>"u"||Y===null)return K(Error("marked(): input parameter is undefined or null"));if(typeof Y!=="string")return K(Error("marked(): input parameter is of type "+Object.prototype.toString.call(Y)+", string expected"));if(Q.hooks)Q.hooks.options=Q;if(Q.async)return Promise.resolve(Q.hooks?Q.hooks.preprocess(Y):Y).then(($)=>J($,Q)).then(($)=>Q.walkTokens?Promise.all(this.walkTokens($,Q.walkTokens)).then(()=>$):$).then(($)=>Z($,Q)).then(($)=>Q.hooks?Q.hooks.postprocess($):$).catch(K);try{if(Q.hooks)Y=Q.hooks.preprocess(Y);let $=J(Y,Q);if(Q.walkTokens)this.walkTokens($,Q.walkTokens);let U=Z($,Q);if(Q.hooks)U=Q.hooks.postprocess(U);return U}catch($){return K($)}}}#Z(J,Z){return(Y)=>{if(Y.message+=`
Please report this to https://github.com/markedjs/marked.`,J){let X="<p>An error occurred:</p><pre>"+_1(Y.message+"",!0)+"</pre>";if(Z)return Promise.resolve(X);return X}if(Z)return Promise.reject(Y);throw Y}}}var _J=new qq;function K0(J,Z){return _J.parse(J,Z)}K0.options=K0.setOptions=function(J){return _J.setOptions(J),K0.defaults=_J.defaults,Zq(K0.defaults),K0};K0.getDefaults=D8;K0.defaults=HJ;K0.use=function(...J){return _J.use(...J),K0.defaults=_J.defaults,Zq(K0.defaults),K0};K0.walkTokens=function(J,Z){return _J.walkTokens(J,Z)};K0.parseInline=_J.parseInline;K0.Parser=K5;K0.parser=K5.parse;K0.Renderer=Q3;K0.TextRenderer=x7;K0.Lexer=Q5;K0.lexer=Q5.lex;K0.Tokenizer=q3;K0.Hooks=X3;K0.parse=K0;var{options:eL,setOptions:JB,use:ZB,walkTokens:YB,parseInline:XB}=K0;var qB=K5.parse,QB=Q5.lex;var x_=Object.defineProperty,h_=(J,Z)=>{for(var Y in Z)x_(J,Y,{get:Z[Y],enumerable:!0,configurable:!0,set:(X)=>Z[Y]=()=>X})},L8={};class Y4 extends k{static set conditions(J){Object.assign(L8,J);for(let Z of[...Y4.instances])Z.queueRender()}condition="";not=!1;static instances=new Set;constructor(){super();this.initAttributes("condition","not")}connectedCallback(){super.connectedCallback(),Y4.instances.add(this)}disconnectedCallback(){super.disconnectedCallback(),Y4.instances.delete(this)}render(){if(this.condition!==""&&(this.not?L8[this.condition]!==!0:L8[this.condition]===!0))this.toggleAttribute("hidden",!1);else this.toggleAttribute("hidden",!0)}}var v_=Y4.elementCreator({tag:"xin-ab"}),h7={};function MJ(J,Z){if(h7[J]===void 0){if(Z!==void 0){let X=globalThis[Z];h7[J]=Promise.resolve({[Z]:X})}let Y=y.script({src:J});document.head.append(Y),h7[J]=new Promise((X)=>{Y.onload=()=>X(globalThis)})}return h7[J]}var B8={};function Dq(J){if(B8[J]===void 0){let Z=y.link({rel:"stylesheet",type:"text/css",href:J});document.head.append(Z),B8[J]=new Promise((Y)=>{Z.onload=Y})}return B8[J]}var f7={earth:'<svg class="color" viewBox="0 0 48 48"><g><g><g><path style="fill:#a3d9ff;fill-rule:evenodd;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M7,13.46 C5.10,16.52,4,20.13,4,24 C4,31.81,8.47,38.57,15,41.87 C15,41.87,15,31,15,31 C15,31,9,29,9,29 C9,29,9,19,9,19 C9,19,7,15,7,15 C7,15,7,13.46,7,13.46 z"/><path style="fill:#a3d9ff;fill-rule:evenodd;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M18.40,4.79 C20.18,4.28,22.06,4,24,4 C27.57,4,30.92,4.93,33.82,6.57 C33.82,6.57,29,13,29,13 C29,13,31,19,31,19 C31,19,37,21,37,21 C37,21,39,29,39,29 C39,29,37.35,38.89,37.35,38.89 C33.81,42.07,29.13,44,24,44 C21.03,44,18.22,43.35,15.69,42.20 C15.69,42.20,27,29,27,29 C27,29,27,25,27,25 C27,25,21,23,21,23 C21,23,15,19,15,19 C15,19,11,19,11,19 C11,19,11,13,11,13 C11,13,13,11,13,11 C13,11,15,15,15,15 C15,15,17,15,17,15 C17,15,17,9,17,9 C17,9,18.40,4.79,18.40,4.79 z"/><path style="fill:#274e42;fill-rule:evenodd;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M18.40,4.79 C18.40,4.79,17,9,17,9 C17,9,17,15,17,15 C17,15,15,15,15,15 C15,15,13,11,13,11 C13,11,11,13,11,13 C11,13,11,19,11,19 C11,19,15,19,15,19 C15,19,21,23,21,23 C21,23,27,25,27,25 C27,25,27,29,27,29 C27,29,15.69,42.20,15.69,42.20 C15.46,42.09,15.23,41.98,15,41.87 C15,41.87,15,31,15,31 C15,31,9,29,9,29 C9,29,9,19,9,19 C9,19,7,15,7,15 C7,15,7,13.46,7,13.46 C9.57,9.32,13.62,6.19,18.40,4.79 z"/><path style="fill:#274e42;fill-rule:evenodd;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M33.82,6.57 C33.82,6.57,29,13,29,13 C29,13,31,19,31,19 C31,19,37,21,37,21 C37,21,39,29,39,29 C39,29,37.35,38.89,37.35,38.89 C41.43,35.23,44,29.91,44,24 C44,16.52,39.90,10.00,33.82,6.57 z"/></g></g></g></svg> ',blueprint:'<svg class="color" viewBox="0 0 24 24"><g><path style="fill:#9e9e9e;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M10.5,14.5 C10.5,14.5,7.5,15.5,7.5,17.5 C7.5,19.5,10.5,19.5,10.5,19.5"/><path style="fill:#9e9e9e;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M18.50,14.5 C18.50,14.5,21.50,15.5,21.50,17.5 C21.50,19.5,18.50,19.5,18.50,19.5"/><path style="fill:#ffffff;fill-rule:evenodd;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M7,5.09 C7,3.94,7.90,3,9,3 C9,3,20,3,20,3 C21.10,3,22,3.94,22,5.09 C22,5.09,22,12.41,22,12.41 C22,13.56,21.10,14.5,20,14.5 C20,14.5,9,14.5,9,14.5 C7.90,14.5,7,13.56,7,12.41 C7,12.41,7,5.09,7,5.09 z"/><path style="fill:#ffffff;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M14.5,5.5 C14.5,5.5,14.5,11.5,14.5,11.5"/><path style="fill:#ffffff;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M16.5,7.5 C16.5,7.5,16.5,8.5,16.5,8.5"/><path style="fill:#ffffff;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M12.5,7.5 C12.5,7.5,12.5,8.5,12.5,8.5"/><g/><path style="fill:none;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M18.5,21.5 C18.5,21.5,17.5,20.5,17.5,20.5 C17.5,20.5,16.5,21.5,16.5,21.5"/><path style="fill:none;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M12.5,21.5 C12.5,21.5,11.5,20.5,11.5,20.5 C11.5,20.5,10.5,21.5,10.5,21.5"/><path style="fill:#e4e4e4;fill-rule:evenodd;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M10.5,14.5 C10.5,14.5,18.5,14.5,18.5,14.5 C18.5,14.5,18.5,19.5,18.5,19.5 C18.5,19.5,10.5,19.5,10.5,19.5 C10.5,19.5,10.5,14.5,10.5,14.5 z"/><g><g><path style="fill:#5e78ca;fill-rule:nonzero;stroke:#f2f2f2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M14,16.5 C14,16.5,16,16.5,16,16.5 C16,16.5,14.53,19.5,14.53,19.5"/><path style="fill:#5e78ca;fill-rule:evenodd;stroke:none;" d="M3.59,8.5 C3.59,8.5,12.59,8.5,12.59,8.5 C12.59,8.5,14.53,19.5,14.53,19.5 C14.53,19.5,5.53,19.5,5.53,19.5 C5.53,19.5,3.59,8.5,3.59,8.5 z"/><path style="fill:#5e78ca;fill-rule:nonzero;stroke:#f2f2f2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M12.59,8.5 C12.59,8.5,11.12,11.5,11.12,11.5 C11.12,11.5,2.12,11.5,2.12,11.5 C2.12,11.5,3.59,8.5,3.59,8.5"/><path style="fill:#5e78ca;fill-rule:nonzero;stroke:#f2f2f2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M12.59,8.5 C12.59,8.5,14.53,19.5,14.53,19.5"/><path style="fill:#5e78ca;fill-rule:nonzero;stroke:#f2f2f2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M4.12,11.5 C4.12,11.5,5.53,19.5,5.53,19.5"/></g><path style="fill:#9e9e9e;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M9.24,12.5 C10.75,12.5,12.20,13.73,12.46,15.24 C12.46,15.24,12.46,15.24,12.46,15.24 C12.68,16.49,11.85,17.5,10.60,17.5 C10.60,17.5,10.55,17.5,10.55,17.5 C10.17,17.5,9.92,17.81,9.98,18.19 C9.98,18.19,9.98,18.19,9.98,18.19 C10.21,19.47,9.36,20.5,8.08,20.5 C8.08,20.5,6.39,20.5,6.39,20.5 C5.10,20.5,3.87,19.45,3.64,18.16 C3.64,18.16,3.12,15.21,3.12,15.21 C2.86,13.71,3.86,12.5,5.35,12.5 C5.35,12.5,9.24,12.5,9.24,12.5 z"/></g></g></svg> ',tosiXr:'<svg class="color" viewBox="0 0 24 24"><g><path style="fill:#9e9e9e;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M8.00,14.25 C8.00,14.25,5.00,15.25,5.00,17.25 C5.00,19.25,8.00,19.25,8.00,19.25"/><path style="fill:#9e9e9e;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M16.00,14.25 C16.00,14.25,19.00,15.25,19.00,17.25 C19.00,19.25,16.00,19.25,16.00,19.25"/><path style="fill:#ffffff;fill-rule:evenodd;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M4.50,4.85 C4.50,3.69,5.40,2.75,6.50,2.75 C6.50,2.75,17.50,2.75,17.50,2.75 C18.61,2.75,19.50,3.69,19.50,4.85 C19.50,4.85,19.50,12.16,19.50,12.16 C19.50,13.32,18.61,14.25,17.50,14.25 C17.50,14.25,6.50,14.25,6.50,14.25 C5.40,14.25,4.50,13.32,4.50,12.16 C4.50,12.16,4.50,4.85,4.50,4.85 z"/><path style="fill:#ffffff;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M12.00,5.25 C12.00,5.25,12.00,11.25,12.00,11.25"/><path style="fill:#ffffff;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M14.00,7.25 C14.00,7.25,14.00,8.25,14.00,8.25"/><path style="fill:#ffffff;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M10.00,7.25 C10.00,7.25,10.00,8.25,10.00,8.25"/><path style="fill:none;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M16.00,21.25 C16.00,21.25,15.00,20.25,15.00,20.25 C15.00,20.25,14.00,21.25,14.00,21.25"/><path style="fill:none;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M10.00,21.25 C10.00,21.25,9.00,20.25,9.00,20.25 C9.00,20.25,8.00,21.25,8.00,21.25"/><path style="fill:#e4e4e4;fill-rule:evenodd;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1;" d="M8.00,14.25 C8.00,14.25,16.00,14.25,16.00,14.25 C16.00,14.25,16.00,19.25,16.00,19.25 C16.00,19.25,8.00,19.25,8.00,19.25 C8.00,19.25,8.00,14.25,8.00,14.25 z"/><path style="fill:#ff7bac;fill-opacity:0.75;fill-rule:evenodd;stroke:#000000;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;stroke-width:1;" d="M12.00,4.00 C12.00,4,11.99,4,11.99,4 C6.19,4,3,4.73,3,8.50 C3,11.39,4.66,13.00,7.27,13 C9.88,13.00,10.68,11.13,11.99,11.13 C11.99,11.13,12.00,11.13,12,11.13 C12.00,11.13,12.01,11.13,12.01,11.13 C13.32,11.13,14.12,13.00,16.73,13 C19.34,13.00,21,11.39,21,8.50 C21,4.73,17.81,4,12.01,4 C12.01,4,12.00,4,12.00,4.00 C12.00,4.00,12.00,4.00,12.00,4.00 z"/></g></svg> ',cmy:'<svg class="color filled" viewBox="0 0 24 24"><g><g><path style="fill:#00ff00;fill-rule:evenodd;" d="M12.00,10.88 C10.90,10.01,9.51,9.5,8.00,9.5 C7.22,9.5,6.47,9.64,5.78,9.89 C6.37,11.85,7.87,13.42,9.78,14.11 C10.17,12.81,10.96,11.69,12.00,10.88 z"/><path style="fill:#0000ff;fill-rule:evenodd;" d="M12.00,10.88 C13.10,10.01,14.49,9.5,16,9.5 C16.78,9.5,17.53,9.64,18.22,9.89 C17.63,11.85,16.13,13.42,14.22,14.11 C13.83,12.81,13.04,11.69,12.00,10.88 C12.00,10.88,12.00,10.88,12.00,10.88 z"/><path style="fill:#000000;fill-rule:evenodd;" d="M9.78,14.11 C10.17,12.81,10.96,11.69,12.00,10.88 C13.04,11.69,13.83,12.81,14.22,14.11 C13.53,14.36,12.78,14.5,12,14.5 C11.22,14.5,10.47,14.36,9.78,14.11 C9.78,14.11,9.78,14.11,9.78,14.11 z"/><path style="fill:#ff0000;fill-rule:evenodd;" d="M9.78,14.11 C9.60,14.71,9.5,15.34,9.5,16 C9.5,18.08,10.48,19.93,12.00,21.12 C13.52,19.93,14.50,18.08,14.50,16 C14.50,15.34,14.40,14.71,14.22,14.11 C13.53,14.36,12.78,14.5,12,14.5 C11.22,14.5,10.47,14.36,9.78,14.11 C9.78,14.11,9.78,14.11,9.78,14.11 z"/><path style="fill:#02fefe;fill-rule:evenodd;" d="M5.78,9.89 C5.60,9.29,5.5,8.66,5.5,8 C5.5,4.41,8.41,1.5,12,1.5 C15.59,1.5,18.5,4.41,18.5,8 C18.5,8.66,18.40,9.29,18.22,9.89 C17.53,9.64,16.78,9.5,16,9.5 C14.49,9.5,13.10,10.01,12.00,10.88 C10.90,10.01,9.51,9.5,8.00,9.5 C7.22,9.5,6.47,9.64,5.78,9.89 C5.78,9.89,5.78,9.89,5.78,9.89 z"/><path style="fill:#fffe00;fill-rule:evenodd;" d="M5.78,9.89 C3.28,10.80,1.50,13.19,1.50,16 C1.50,19.59,4.41,22.5,8.00,22.5 C9.51,22.5,10.90,21.99,12.00,21.12 C10.48,19.93,9.5,18.08,9.5,16 C9.5,15.34,9.60,14.71,9.78,14.11 C7.87,13.42,6.37,11.85,5.78,9.89 C5.78,9.89,5.78,9.89,5.78,9.89 z"/><path style="fill:#ff00ff;fill-rule:evenodd;" d="M18.22,9.89 C20.72,10.80,22.5,13.19,22.5,16 C22.5,19.59,19.59,22.5,16,22.5 C14.49,22.5,13.10,21.99,12.00,21.12 C13.52,19.93,14.50,18.08,14.50,16 C14.50,15.34,14.40,14.71,14.22,14.11 C16.13,13.42,17.63,11.85,18.22,9.89 z"/></g></g></svg> ',rgb:'<svg class="color filled" viewBox="0 0 24 24"><g><g><path style="fill:#ff00ff;fill-rule:evenodd;" d="M12.00,10.88 C10.90,10.01,9.51,9.5,8.00,9.5 C7.22,9.5,6.47,9.64,5.78,9.89 C6.37,11.85,7.87,13.42,9.78,14.11 C10.17,12.81,10.96,11.69,12.00,10.88 z"/><path style="fill:#ffff00;fill-rule:evenodd;" d="M12.00,10.88 C13.10,10.01,14.49,9.5,16,9.5 C16.78,9.5,17.53,9.64,18.22,9.89 C17.63,11.85,16.13,13.42,14.22,14.11 C13.83,12.81,13.04,11.69,12.00,10.88 C12.00,10.88,12.00,10.88,12.00,10.88 z"/><path style="fill:#ffffff;fill-rule:evenodd;" d="M9.78,14.11 C10.17,12.81,10.96,11.69,12.00,10.88 C13.04,11.69,13.83,12.81,14.22,14.11 C13.53,14.36,12.78,14.5,12,14.5 C11.22,14.5,10.47,14.36,9.78,14.11 C9.78,14.11,9.78,14.11,9.78,14.11 z"/><path style="fill:#00ffff;fill-rule:evenodd;" d="M9.78,14.11 C9.60,14.71,9.5,15.34,9.5,16 C9.5,18.08,10.48,19.93,12.00,21.12 C13.52,19.93,14.50,18.08,14.50,16 C14.50,15.34,14.40,14.71,14.22,14.11 C13.53,14.36,12.78,14.5,12,14.5 C11.22,14.5,10.47,14.36,9.78,14.11 C9.78,14.11,9.78,14.11,9.78,14.11 z"/><path style="fill:#ff0000;fill-rule:evenodd;" d="M5.78,9.89 C5.60,9.29,5.5,8.66,5.5,8 C5.5,4.41,8.41,1.5,12,1.5 C15.59,1.5,18.5,4.41,18.5,8 C18.5,8.66,18.40,9.29,18.22,9.89 C17.53,9.64,16.78,9.5,16,9.5 C14.49,9.5,13.10,10.01,12.00,10.88 C10.90,10.01,9.51,9.5,8.00,9.5 C7.22,9.5,6.47,9.64,5.78,9.89 C5.78,9.89,5.78,9.89,5.78,9.89 z"/><path style="fill:#0000ff;fill-rule:evenodd;" d="M5.78,9.89 C3.28,10.80,1.50,13.19,1.50,16 C1.50,19.59,4.41,22.5,8.00,22.5 C9.51,22.5,10.90,21.99,12.00,21.12 C10.48,19.93,9.5,18.08,9.5,16 C9.5,15.34,9.60,14.71,9.78,14.11 C7.87,13.42,6.37,11.85,5.78,9.89 C5.78,9.89,5.78,9.89,5.78,9.89 z"/><path style="fill:#00ff00;fill-rule:evenodd;" d="M18.22,9.89 C20.72,10.80,22.5,13.19,22.5,16 C22.5,19.59,19.59,22.5,16,22.5 C14.49,22.5,13.10,21.99,12.00,21.12 C13.52,19.93,14.50,18.08,14.50,16 C14.50,15.34,14.40,14.71,14.22,14.11 C16.13,13.42,17.63,11.85,18.22,9.89 z"/></g></g></svg> ',xrColor:'<svg class="color filled" viewBox="0 0 40 24"><g><g><g><path style="fill:#000000;fill-rule:evenodd;" d="M20.00,2.00 C19.99,2.00,19.98,2,19.98,2 C8.39,2,2,3.61,2,12.00 C2,18.41,5.32,22.00,10.54,22 C15.77,22.00,17.37,17.85,19.98,17.85 C19.98,17.85,19.99,17.85,20,17.85 C20.01,17.85,20.02,17.85,20.02,17.85 C22.63,17.85,24.23,22.00,29.46,22 C34.68,22.00,38,18.41,38,12.00 C38,3.61,31.61,2,20.02,2 C20.02,2,20.01,2.00,20.00,2.00 C20.00,2.00,20.00,2.00,20.00,2.00 z"/></g><path style="fill:#fbed21;fill-rule:evenodd;" d="M12.20,19.84 C15.79,19.39,17.07,16.46,19.07,16.46 C19.07,16.46,19.08,16.46,19.09,16.46 C19.09,16.46,19.10,16.46,19.11,16.46 C19.44,16.46,19.75,16.54,20.06,16.68 C20.37,16.54,20.68,16.46,21.01,16.46 C21.02,16.46,21.02,16.46,21.03,16.46 C21.04,16.46,21.04,16.46,21.05,16.46 C23.05,16.46,24.33,19.39,27.92,19.84 C31.66,19.40,33.98,16.50,33.98,11.62 C33.98,4.91,29.04,3.44,20.06,3.35 C11.07,3.44,6.14,4.91,6.14,11.62 C6.14,16.50,8.46,19.40,12.20,19.84 z"/><path style="fill:#8cc63f;fill-rule:evenodd;" d="M12.20,19.84 C12.52,19.87,12.86,19.89,13.21,19.89 C16.86,19.89,18.37,17.43,20.06,16.68 C19.75,16.54,19.44,16.46,19.11,16.46 C19.10,16.46,19.09,16.46,19.09,16.46 C19.08,16.46,19.07,16.46,19.07,16.46 C17.07,16.46,15.79,19.39,12.20,19.84 z"/><path style="fill:#8cc63f;fill-rule:evenodd;" d="M20.06,3.35 C20.37,3.35,20.69,3.35,21.01,3.35 C21.02,3.35,21.02,3.35,21.03,3.35 C21.03,3.35,21.03,3.35,21.03,3.35 C21.04,3.35,21.04,3.35,21.05,3.35 C30.64,3.35,35.92,4.68,35.92,11.62 C35.92,16.92,33.18,19.89,28.86,19.89 C28.53,19.89,28.22,19.87,27.92,19.84 C31.66,19.40,33.98,16.50,33.98,11.62 C33.98,4.91,29.04,3.44,20.06,3.35 C20.06,3.35,20.06,3.35,20.06,3.35 z"/><path style="fill:#ff1c23;fill-rule:evenodd;" d="M20.06,16.68 C21.74,17.43,23.25,19.89,26.91,19.89 C27.26,19.89,27.59,19.87,27.92,19.84 C24.33,19.39,23.05,16.46,21.05,16.46 C21.04,16.46,21.04,16.46,21.03,16.46 C21.02,16.46,21.02,16.46,21.01,16.46 C20.68,16.46,20.37,16.54,20.06,16.68 z"/><path style="fill:#ff1c23;fill-rule:evenodd;" d="M12.20,19.84 C11.90,19.87,11.59,19.89,11.26,19.89 C6.94,19.89,4.19,16.92,4.19,11.62 C4.19,4.68,9.48,3.35,19.07,3.35 C19.07,3.35,19.08,3.35,19.09,3.35 C19.09,3.35,19.09,3.35,19.09,3.35 C19.09,3.35,19.1,3.35,19.11,3.35 C19.43,3.35,19.75,3.35,20.06,3.35 C11.07,3.44,6.14,4.91,6.14,11.62 C6.14,16.50,8.46,19.40,12.20,19.84 z"/></g><g><path style="fill:#8cc63e;fill-rule:nonzero;" d="M22.55,8.63 C22.55,9.05,22.55,9.46,22.55,9.88 C22.54,10.25,22.85,10.56,23.20,10.55 C23.54,10.56,23.85,10.25,23.85,9.88 C23.85,9.46,23.85,9.05,23.85,8.63 C23.85,8.26,23.54,7.95,23.20,7.96 C22.85,7.95,22.54,8.26,22.55,8.63 z"/><path style="fill:#8cc63e;fill-rule:nonzero;" d="M17.32,8.63 C17.32,9.05,17.32,9.46,17.32,9.88 C17.31,10.25,17.62,10.56,17.97,10.55 C18.31,10.56,18.62,10.25,18.62,9.88 C18.62,9.46,18.62,9.05,18.62,8.63 C18.62,8.26,18.31,7.95,17.97,7.96 C17.62,7.95,17.31,8.26,17.32,8.63 z"/><path style="fill:#8cc63e;fill-rule:nonzero;" d="M19.99,4.39 C19.99,8.09,19.99,11.80,19.99,15.50 C19.99,15.87,20.30,16.18,20.64,16.17 C20.99,16.18,21.30,15.87,21.29,15.50 C21.29,11.80,21.29,8.09,21.29,4.39 C21.30,4.02,20.99,3.71,20.64,3.72 C20.30,3.71,19.99,4.02,19.99,4.39 z"/><path style="fill:#fe1a22;fill-rule:nonzero;" d="M21.43,8.63 C21.43,9.05,21.43,9.46,21.43,9.88 C21.42,10.25,21.73,10.56,22.08,10.55 C22.42,10.56,22.73,10.25,22.73,9.88 C22.73,9.46,22.73,9.05,22.73,8.63 C22.73,8.26,22.42,7.95,22.08,7.96 C21.73,7.95,21.42,8.26,21.43,8.63 z"/><path style="fill:#fe1a22;fill-rule:nonzero;" d="M16.20,8.63 C16.20,9.05,16.20,9.46,16.20,9.88 C16.19,10.25,16.50,10.56,16.85,10.55 C17.19,10.56,17.50,10.25,17.50,9.88 C17.50,9.46,17.50,9.05,17.50,8.63 C17.50,8.26,17.19,7.95,16.85,7.96 C16.50,7.95,16.19,8.26,16.20,8.63 z"/><path style="fill:#fe1a22;fill-rule:nonzero;" d="M18.87,4.39 C18.87,8.09,18.87,11.80,18.87,15.50 C18.87,15.87,19.18,16.18,19.52,16.17 C19.86,16.18,20.18,15.87,20.17,15.50 C20.17,11.80,20.17,8.09,20.17,4.39 C20.18,4.02,19.86,3.71,19.52,3.72 C19.18,3.71,18.87,4.02,18.87,4.39 z"/><path style="fill:#000000;fill-rule:nonzero;" d="M21.97,8.63 C21.97,9.05,21.97,9.46,21.97,9.88 C21.97,10.25,22.28,10.56,22.62,10.55 C22.97,10.56,23.28,10.25,23.27,9.88 C23.27,9.46,23.27,9.05,23.27,8.63 C23.28,8.26,22.97,7.95,22.62,7.96 C22.28,7.95,21.97,8.26,21.97,8.63 z"/><path style="fill:#000000;fill-rule:nonzero;" d="M16.74,8.63 C16.74,9.05,16.74,9.46,16.74,9.88 C16.74,10.25,17.05,10.56,17.39,10.55 C17.74,10.56,18.05,10.25,18.04,9.88 C18.04,9.46,18.04,9.05,18.04,8.63 C18.05,8.26,17.74,7.95,17.39,7.96 C17.05,7.95,16.74,8.26,16.74,8.63 z"/><path style="fill:#000000;fill-rule:nonzero;" d="M19.41,4.39 C19.41,8.09,19.41,11.80,19.41,15.50 C19.41,15.87,19.72,16.18,20.07,16.17 C20.41,16.18,20.72,15.87,20.72,15.50 C20.72,11.80,20.72,8.09,20.72,4.39 C20.72,4.02,20.41,3.71,20.07,3.72 C19.72,3.71,19.41,4.02,19.41,4.39 z"/></g></g></svg> ',tosiUi:'<svg class="color" viewBox="0 0 48 48"><g><g><g><path style="fill:#ffffff;fill-rule:evenodd;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M3,33 C3,31.90,3.90,31,5,31 C5,31,43,31,43,31 C44.10,31,45,31.90,45,33 C45,33,45,43,45,43 C45,44.10,44.10,45,43,45 C43,45,5,45,5,45 C3.90,45,3,44.10,3,43 C3,43,3,33,3,33 z"/><g><path style="fill:#ffffff;fill-rule:evenodd;stroke:#ed247b;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M7,35 C7,35,7,36.34,7,38 C7,39.66,8.34,41,10,41 C11.66,41,13,39.66,13,38 C13,36.34,13,35,13,35"/><path style="fill:#ffffff;fill-rule:nonzero;stroke:#ed247b;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M17,35 C17,35,17,41,17,41"/></g><g><path style="fill:#ed247b;fill-rule:evenodd;stroke:none;" d="M38,33 C40.76,33,43,35.24,43,38 C43,40.76,40.76,43,38,43 C35.24,43,33,40.76,33,38 C33,35.24,35.24,33,38,33 z"/><path style="fill:#ed247b;fill-rule:nonzero;stroke:#ffffff;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M40,36 C40,36,36,40,36,40"/><path style="fill:#ed247b;fill-rule:nonzero;stroke:#ffffff;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M36,36 C36,36,40,40,40,40"/></g></g><g><path style="fill:#9e9e9e;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M15.97,21.01 C15.97,21.01,9.97,23.01,9.97,27.01 C9.97,31.01,15.97,31.01,15.97,31.01"/><path style="fill:#9e9e9e;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M31.97,21.01 C31.97,21.01,37.97,23.01,37.97,27.01 C37.97,31.01,31.97,31.01,31.97,31.01"/><path style="fill:none;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M31,33 C31,33,29.49,31,29.49,31 C29.49,31,27.97,33,27.97,33"/><path style="fill:none;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M19.97,33 C19.97,33,17.97,31,17.97,31 C17.97,31,15.97,33,15.97,33"/><path style="fill:#e4e4e4;fill-rule:evenodd;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M15.97,21 C15.97,21,31.97,21,31.97,21 C31.97,21,31.97,31,31.97,31 C31.97,31,15.97,31,15.97,31 C15.97,31,15.97,21,15.97,21 z"/><path style="fill:#ffffff;fill-rule:evenodd;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M9,7.18 C9,4.87,10.79,3,13.00,3 C13.00,3,35.02,3,35.02,3 C37.23,3,39.03,4.87,39.03,7.18 C39.03,7.18,39.03,21.82,39.03,21.82 C39.03,24.13,37.23,26,35.02,26 C35.02,26,13.00,26,13.00,26 C10.79,26,9,24.13,9,21.82 C9,21.82,9,7.18,9,7.18 z"/><path style="fill:#ffffff;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M24,11 C24,11,24,23,24,23"/><path style="fill:#ffffff;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M28,15 C28,15,28,17,28,17"/><path style="fill:#ffffff;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M20,15 C20,15,20,17,20,17"/></g></g></g></svg> ',tosiFavicon:'<svg class="color" viewBox="0 0 48 48"><g><g><path style="fill:#ed247b;fill-rule:evenodd;stroke:none;" d="M1,9 C1,4.58,4.58,1,9,1 C9,1,39,1,39,1 C43.42,1,47,4.58,47,9 C47,9,47,39,47,39 C47,43.42,43.42,47,39,47 C39,47,9,47,9,47 C4.58,47,1,43.42,1,39 C1,39,1,9,1,9 z"/><g><path style="fill:#9e9e9e;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M16,29 C16,29,10,31,10,35 C10,39,16,39,16,39"/><path style="fill:#9e9e9e;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M32.00,29 C32.00,29,38.00,31,38.00,35 C38.00,39,32.00,39,32.00,39"/><path style="fill:#ffffff;fill-rule:evenodd;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M9,10.18 C9,7.87,10.79,6,13,6 C13,6,35,6,35,6 C37.21,6,39,7.87,39,10.18 C39,10.18,39,24.82,39,24.82 C39,27.13,37.21,29,35,29 C35,29,13,29,13,29 C10.79,29,9,27.13,9,24.82 C9,24.82,9,10.18,9,10.18 z"/><path style="fill:#ffffff;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M24,11 C24,11,24,23,24,23"/><path style="fill:#ffffff;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M28,15 C28,15,28,17,28,17"/><path style="fill:#ffffff;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M20,15 C20,15,20,17,20,17"/><path style="fill:none;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M32,43 C32,43,30,41,30,41 C30,41,28,43,28,43"/><path style="fill:none;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M20,43 C20,43,18,41,18,41 C18,41,16,43,16,43"/><path style="fill:#e4e4e4;fill-rule:evenodd;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M16,29 C16,29,32,29,32,29 C32,29,32,39,32,39 C32,39,16,39,16,39 C16,39,16,29,16,29 z"/></g></g></g></svg> ',tosiPlatform:'<svg class="color" viewBox="0 0 48 48"><g><g><g><path style="fill:#3ea9f5;fill-rule:evenodd;stroke:none;" d="M23.97,47 C23.97,47,39,47,39,47 C43.42,47,47,43.42,47,39 C47,39,47,9,47,9 C47,4.58,43.42,1,39,1 C39,1,9,1,9,1 C4.58,1,1,4.58,1,9 C1,9,1,39,1,39 C1,41.64,2.28,43.98,4.25,45.44 C4.09,44.82,4,44.17,4,43.5 C4,39.36,7.36,36,11.5,36 C15.14,36,18.18,38.60,18.86,42.05 C19.07,42.02,19.28,42,19.5,42 C21.99,42,24,44.01,24,46.5 C24,46.67,23.99,46.84,23.97,47 z"/><path style="fill:#ffffff;fill-rule:evenodd;stroke:none;" d="M4.25,45.44 C4.09,44.82,4,44.17,4,43.5 C4,39.36,7.36,36,11.5,36 C15.14,36,18.18,38.60,18.86,42.05 C19.07,42.02,19.28,42,19.5,42 C21.99,42,24,44.01,24,46.5 C24,46.67,23.99,46.84,23.97,47 C23.97,47,9,47,9,47 C7.22,47,5.58,46.42,4.25,45.44 z"/></g><path style="fill:none;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M35,35 C35,35,32.17,35,32.17,35 C32.17,35,32.17,37.83,32.17,37.83"/><path style="fill:none;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M31,39 C31,39,28.17,39,28.17,39 C28.17,39,28.17,41.83,28.17,41.83"/><path style="fill:#9e9e9e;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M7.48,16 C4.45,16,2,18.45,2,21.48 C2,21.48,2,21.48,2,21.48 C2,23.98,4.02,26,6.52,26 C6.52,26,6.62,26,6.62,26 C7.38,26,8,26.62,8,27.38 C8,27.38,8,27.38,8,27.38 C8,29.93,10.07,32,12.62,32 C12.62,32,16,32,16,32 C18.58,32,20.68,29.91,20.68,27.32 C20.68,27.32,20.68,21.42,20.68,21.42 C20.68,18.43,18.25,16,15.26,16 C15.26,16,7.48,16,7.48,16 z"/><path style="fill:#e4e4e4;fill-rule:evenodd;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M17,29 C17,29,33,29,33,29 C33,29,33,29,33,29 C33,34.52,28.52,39,23,39 C23,39,23,39,23,39 C19.69,39,17,36.31,17,33 C17,33,17,29,17,29 z"/><path style="fill:#9e9e9e;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M40.52,16 C43.55,16,46,18.45,46,21.48 C46,21.48,46,21.48,46,21.48 C46,23.98,43.98,26,41.48,26 C41.48,26,41.38,26,41.38,26 C40.62,26,40,26.62,40,27.38 C40,27.38,40,27.38,40,27.38 C40,29.93,37.93,32,35.38,32 C35.38,32,32,32,32,32 C29.42,32,27.32,29.91,27.32,27.32 C27.32,27.32,27.32,21.42,27.32,21.42 C27.32,18.43,29.75,16,32.74,16 C32.74,16,40.52,16,40.52,16 z"/><g><path style="fill:#ffffff;fill-rule:evenodd;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M6,10.18 C6,7.87,7.79,6,10,6 C10,6,32,6,32,6 C34.21,6,36,7.87,36,10.18 C36,10.18,36,24.82,36,24.82 C36,27.13,34.21,29,32,29 C32,29,10,29,10,29 C7.79,29,6,27.13,6,24.82 C6,24.82,6,10.18,6,10.18 z"/><path style="fill:#ffffff;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M21,11 C21,11,21,23,21,23"/><path style="fill:#ffffff;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M25,15 C25,15,25,17,25,17"/><path style="fill:#ffffff;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M17,15 C17,15,17,17,17,17"/></g></g></g></svg> ',tosi:'<svg class="color" viewBox="0 0 48 48"><g><path style="fill:#9e9e9e;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M38.35,31.70 C39.78,34.37,38.78,37.69,36.11,39.13 C36.11,39.13,36.11,39.13,36.11,39.13 C33.92,40.31,31.18,39.48,29.99,37.29 C29.99,37.29,29.95,37.20,29.95,37.20 C29.58,36.53,28.75,36.27,28.08,36.64 C28.08,36.64,28.08,36.64,28.08,36.64 C25.83,37.84,23.03,37.00,21.82,34.76 C21.82,34.76,20.22,31.78,20.22,31.78 C18.99,29.50,19.85,26.67,22.12,25.44 C22.12,25.44,27.32,22.65,27.32,22.65 C29.96,21.23,33.24,22.22,34.66,24.85 C34.66,24.85,38.35,31.70,38.35,31.70 z"/><path style="fill:#9e9e9e;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M10.65,31.70 C9.22,34.37,10.22,37.69,12.89,39.13 C12.89,39.13,12.89,39.13,12.89,39.13 C15.08,40.31,17.82,39.48,19.01,37.29 C19.01,37.29,19.05,37.20,19.05,37.20 C19.42,36.53,20.25,36.27,20.92,36.64 C20.92,36.64,20.92,36.64,20.92,36.64 C23.17,37.84,25.97,37.00,27.18,34.76 C27.18,34.76,28.78,31.78,28.78,31.78 C30.01,29.50,29.15,26.67,26.88,25.44 C26.88,25.44,21.68,22.65,21.68,22.65 C19.04,21.23,15.76,22.22,14.34,24.85 C14.34,24.85,10.65,31.70,10.65,31.70 z"/><path style="fill:none;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M32.5,43 C32.5,43,30.5,41,30.5,41 C30.5,41,28.5,43,28.5,43"/><path style="fill:none;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M20.5,43 C20.5,43,18.5,41,18.5,41 C18.5,41,16.5,43,16.5,43"/><path style="fill:#e4e4e4;fill-rule:evenodd;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M16.5,29 C16.5,29,32.5,29,32.5,29 C32.5,29,32.5,36,32.5,36 C32.5,37.66,31.16,39,29.5,39 C29.5,39,19.5,39,19.5,39 C17.84,39,16.5,37.66,16.5,36 C16.5,36,16.5,29,16.5,29 z"/><g><path style="fill:#ffffff;fill-rule:evenodd;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M9.5,10.18 C9.5,7.87,11.29,6,13.5,6 C13.5,6,35.5,6,35.5,6 C37.71,6,39.5,7.87,39.5,10.18 C39.5,10.18,39.5,24.82,39.5,24.82 C39.5,27.13,37.71,29,35.5,29 C35.5,29,13.5,29,13.5,29 C11.29,29,9.5,27.13,9.5,24.82 C9.5,24.82,9.5,10.18,9.5,10.18 z"/><g><path style="fill:#ffffff;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M24.5,11 C24.5,11,24.5,23,24.5,23"/><path style="fill:#ffffff;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M28.5,15 C28.5,15,28.5,17,28.5,17"/><path style="fill:#ffffff;fill-rule:nonzero;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:2;" d="M20.5,15 C20.5,15,20.5,17,20.5,17"/></g></g></g></svg> ',sortDescending:'<svg class="stroked" viewBox="0 0 24 24"><g><path d="M16.5,14.5 C16.5,14.5,7.5,14.5,7.5,14.5"/><path d="M14.5,18.5 C14.5,18.5,9.5,18.5,9.5,18.5"/><path d="M18.5,10.5 C18.5,10.5,5.5,10.5,5.5,10.5"/><path d="M20.5,6.5 C20.5,6.5,3.5,6.5,3.5,6.5"/></g></svg> ',columns:'<svg class="stroked" viewBox="0 0 24 24"><path d="M12 3h7a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-7m0-18H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7m0-18v18"></path></svg>',underline:'<svg class="stroked" viewBox="0 0 24 24"><path d="M6 3v7a6 6 0 0 0 6 6 6 6 0 0 0 6-6V3"></path><line x1="4" y1="21" x2="20" y2="21"></line></svg>',grid:'<svg class="stroked" viewBox="0 0 24 24"><rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect></svg>',triangle:'<svg class="stroked" viewBox="0 0 24 24"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path></svg>',search:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>',volume2:'<svg class="stroked" viewBox="0 0 24 24"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path></svg>',arrowUpCircle:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><polyline points="16 12 12 8 8 12"></polyline><line x1="12" y1="16" x2="12" y2="8"></line></svg>',pauseCircle:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><line x1="10" y1="15" x2="10" y2="9"></line><line x1="14" y1="15" x2="14" y2="9"></line></svg>',checkSquare:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="9 11 12 14 22 4"></polyline><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path></svg>',arrowDown:'<svg class="stroked" viewBox="0 0 24 24"><line x1="12" y1="5" x2="12" y2="19"></line><polyline points="19 12 12 19 5 12"></polyline></svg>',figma:'<svg class="stroked" viewBox="0 0 24 24"><path d="M5 5.5A3.5 3.5 0 0 1 8.5 2H12v7H8.5A3.5 3.5 0 0 1 5 5.5z"></path><path d="M12 2h3.5a3.5 3.5 0 1 1 0 7H12V2z"></path><path d="M12 12.5a3.5 3.5 0 1 1 7 0 3.5 3.5 0 1 1-7 0z"></path><path d="M5 19.5A3.5 3.5 0 0 1 8.5 16H12v3.5a3.5 3.5 0 1 1-7 0z"></path><path d="M5 12.5A3.5 3.5 0 0 1 8.5 9H12v7H8.5A3.5 3.5 0 0 1 5 12.5z"></path></svg>',cornerRightUp:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="10 9 15 4 20 9"></polyline><path d="M4 20h7a4 4 0 0 0 4-4V4"></path></svg>',chevronsRight:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="13 17 18 12 13 7"></polyline><polyline points="6 17 11 12 6 7"></polyline></svg>',list:'<svg class="stroked" viewBox="0 0 24 24"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg>',chevronsDown:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="7 13 12 18 17 13"></polyline><polyline points="7 6 12 11 17 6"></polyline></svg>',wind:'<svg class="stroked" viewBox="0 0 24 24"><path d="M9.59 4.59A2 2 0 1 1 11 8H2m10.59 11.41A2 2 0 1 0 14 16H2m15.73-8.27A2.5 2.5 0 1 1 19.5 12H2"></path></svg>',cornerUpRight:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="15 14 20 9 15 4"></polyline><path d="M4 20v-7a4 4 0 0 1 4-4h12"></path></svg>',target:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="6"></circle><circle cx="12" cy="12" r="2"></circle></svg>',scissors:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="6" cy="6" r="3"></circle><circle cx="6" cy="18" r="3"></circle><line x1="20" y1="4" x2="8.12" y2="15.88"></line><line x1="14.47" y1="14.48" x2="20" y2="20"></line><line x1="8.12" y1="8.12" x2="12" y2="12"></line></svg>',minimize2:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="4 14 10 14 10 20"></polyline><polyline points="20 10 14 10 14 4"></polyline><line x1="14" y1="10" x2="21" y2="3"></line><line x1="3" y1="21" x2="10" y2="14"></line></svg>',playCircle:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><polygon points="10 8 16 12 10 16 10 8"></polygon></svg>',crosshair:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><line x1="22" y1="12" x2="18" y2="12"></line><line x1="6" y1="12" x2="2" y2="12"></line><line x1="12" y1="6" x2="12" y2="2"></line><line x1="12" y1="22" x2="12" y2="18"></line></svg>',airplay:'<svg class="stroked" viewBox="0 0 24 24"><path d="M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"></path><polygon points="12 15 17 21 7 21 12 15"></polygon></svg>',xOctagon:'<svg class="stroked" viewBox="0 0 24 24"><polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>',repeat:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="17 1 21 5 17 9"></polyline><path d="M3 11V9a4 4 0 0 1 4-4h14"></path><polyline points="7 23 3 19 7 15"></polyline><path d="M21 13v2a4 4 0 0 1-4 4H3"></path></svg>',edit3:'<svg class="stroked" viewBox="0 0 24 24"><path d="M12 20h9"></path><path d="M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path></svg>',volume1:'<svg class="stroked" viewBox="0 0 24 24"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path></svg>',sunrise:'<svg class="stroked" viewBox="0 0 24 24"><path d="M17 18a5 5 0 0 0-10 0"></path><line x1="12" y1="2" x2="12" y2="9"></line><line x1="4.22" y1="10.22" x2="5.64" y2="11.64"></line><line x1="1" y1="18" x2="3" y2="18"></line><line x1="21" y1="18" x2="23" y2="18"></line><line x1="18.36" y1="11.64" x2="19.78" y2="10.22"></line><line x1="23" y1="22" x2="1" y2="22"></line><polyline points="8 6 12 2 16 6"></polyline></svg>',toggleRight:'<svg class="stroked" viewBox="0 0 24 24"><rect x="1" y="5" width="22" height="14" rx="7" ry="7"></rect><circle cx="16" cy="12" r="3"></circle></svg>',umbrella:'<svg class="stroked" viewBox="0 0 24 24"><path d="M23 12a11.05 11.05 0 0 0-22 0zm-5 7a3 3 0 0 1-6 0v-7"></path></svg>',user:'<svg class="stroked" viewBox="0 0 24 24"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>',fileMinus:'<svg class="stroked" viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="9" y1="15" x2="15" y2="15"></line></svg>',xCircle:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>',circle:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle></svg>',phoneMissed:'<svg class="stroked" viewBox="0 0 24 24"><line x1="23" y1="1" x2="17" y2="7"></line><line x1="17" y1="1" x2="23" y2="7"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg>',edit2:'<svg class="stroked" viewBox="0 0 24 24"><path d="M17 3a2.83 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path></svg>',cornerLeftUp:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="14 9 9 4 4 9"></polyline><path d="M20 20h-7a4 4 0 0 1-4-4V4"></path></svg>',home:'<svg class="stroked" viewBox="0 0 24 24"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>',gitlab:'<svg class="stroked" viewBox="0 0 24 24"><path d="M22.65 14.39L12 22.13 1.35 14.39a.84.84 0 0 1-.3-.94l1.22-3.78 2.44-7.51A.42.42 0 0 1 4.82 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.49h8.1l2.44-7.51A.42.42 0 0 1 18.6 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.51L23 13.45a.84.84 0 0 1-.35.94z"></path></svg>',music:'<svg class="stroked" viewBox="0 0 24 24"><path d="M9 18V5l12-2v13"></path><circle cx="6" cy="18" r="3"></circle><circle cx="18" cy="16" r="3"></circle></svg>',smartphone:'<svg class="stroked" viewBox="0 0 24 24"><rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line></svg>',moreHorizontal:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="1"></circle><circle cx="19" cy="12" r="1"></circle><circle cx="5" cy="12" r="1"></circle></svg>',sliders:'<svg class="stroked" viewBox="0 0 24 24"><line x1="4" y1="21" x2="4" y2="14"></line><line x1="4" y1="10" x2="4" y2="3"></line><line x1="12" y1="21" x2="12" y2="12"></line><line x1="12" y1="8" x2="12" y2="3"></line><line x1="20" y1="21" x2="20" y2="16"></line><line x1="20" y1="12" x2="20" y2="3"></line><line x1="1" y1="14" x2="7" y2="14"></line><line x1="9" y1="8" x2="15" y2="8"></line><line x1="17" y1="16" x2="23" y2="16"></line></svg>',arrowUpLeft:'<svg class="stroked" viewBox="0 0 24 24"><line x1="17" y1="17" x2="7" y2="7"></line><polyline points="7 17 7 7 17 7"></polyline></svg>',chevronDown:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="6 9 12 15 18 9"></polyline></svg>',hexagon:'<svg class="stroked" viewBox="0 0 24 24"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path></svg>',github:'<svg class="stroked" viewBox="0 0 24 24"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>',crop:'<svg class="stroked" viewBox="0 0 24 24"><path d="M6.13 1L6 16a2 2 0 0 0 2 2h15"></path><path d="M1 6.13L16 6a2 2 0 0 1 2 2v15"></path></svg>',tag:'<svg class="stroked" viewBox="0 0 24 24"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>',briefcase:'<svg class="stroked" viewBox="0 0 24 24"><rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path></svg>',rotateCw:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="23 4 23 10 17 10"></polyline><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path></svg>',map:'<svg class="stroked" viewBox="0 0 24 24"><polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"></polygon><line x1="8" y1="2" x2="8" y2="18"></line><line x1="16" y1="6" x2="16" y2="22"></line></svg>',inbox:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="22 12 16 12 14 15 10 15 8 12 2 12"></polyline><path d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"></path></svg>',alignJustify:'<svg class="stroked" viewBox="0 0 24 24"><line x1="21" y1="10" x2="3" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="21" y1="18" x2="3" y2="18"></line></svg>',plusSquare:'<svg class="stroked" viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line></svg>',power:'<svg class="stroked" viewBox="0 0 24 24"><path d="M18.36 6.64a9 9 0 1 1-12.73 0"></path><line x1="12" y1="2" x2="12" y2="12"></line></svg>',database:'<svg class="stroked" viewBox="0 0 24 24"><ellipse cx="12" cy="5" rx="9" ry="3"></ellipse><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"></path><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"></path></svg>',cameraOff:'<svg class="stroked" viewBox="0 0 24 24"><line x1="1" y1="1" x2="23" y2="23"></line><path d="M21 21H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3m3-3h6l2 3h4a2 2 0 0 1 2 2v9.34m-7.72-2.06a4 4 0 1 1-5.56-5.56"></path></svg>',toggleLeft:'<svg class="stroked" viewBox="0 0 24 24"><rect x="1" y="5" width="22" height="14" rx="7" ry="7"></rect><circle cx="8" cy="12" r="3"></circle></svg>',file:'<svg class="stroked" viewBox="0 0 24 24"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>',messageCircle:'<svg class="stroked" viewBox="0 0 24 24"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg>',voicemail:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="5.5" cy="11.5" r="4.5"></circle><circle cx="18.5" cy="11.5" r="4.5"></circle><line x1="5.5" y1="16" x2="18.5" y2="16"></line></svg>',terminal:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" y1="19" x2="20" y2="19"></line></svg>',move:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="5 9 2 12 5 15"></polyline><polyline points="9 5 12 2 15 5"></polyline><polyline points="15 19 12 22 9 19"></polyline><polyline points="19 9 22 12 19 15"></polyline><line x1="2" y1="12" x2="22" y2="12"></line><line x1="12" y1="2" x2="12" y2="22"></line></svg>',maximize:'<svg class="stroked" viewBox="0 0 24 24"><path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path></svg>',chevronUp:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="18 15 12 9 6 15"></polyline></svg>',arrowDownLeft:'<svg class="stroked" viewBox="0 0 24 24"><line x1="17" y1="7" x2="7" y2="17"></line><polyline points="17 17 7 17 7 7"></polyline></svg>',fileText:'<svg class="stroked" viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>',droplet:'<svg class="stroked" viewBox="0 0 24 24"><path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"></path></svg>',zapOff:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="12.41 6.75 13 2 10.57 4.92"></polyline><polyline points="18.57 12.91 21 10 15.66 10"></polyline><polyline points="8 8 3 14 12 14 11 22 16 16"></polyline><line x1="1" y1="1" x2="23" y2="23"></line></svg>',x:'<svg class="stroked" viewBox="0 0 24 24"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>',barChart:'<svg class="stroked" viewBox="0 0 24 24"><line x1="12" y1="20" x2="12" y2="10"></line><line x1="18" y1="20" x2="18" y2="4"></line><line x1="6" y1="20" x2="6" y2="16"></line></svg>',lock:'<svg class="stroked" viewBox="0 0 24 24"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>',logIn:'<svg class="stroked" viewBox="0 0 24 24"><path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path><polyline points="10 17 15 12 10 7"></polyline><line x1="15" y1="12" x2="3" y2="12"></line></svg>',shoppingBag:'<svg class="stroked" viewBox="0 0 24 24"><path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path><line x1="3" y1="6" x2="21" y2="6"></line><path d="M16 10a4 4 0 0 1-8 0"></path></svg>',divide:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="6" r="2"></circle><line x1="5" y1="12" x2="19" y2="12"></line><circle cx="12" cy="18" r="2"></circle></svg>',cloudDrizzle:'<svg class="stroked" viewBox="0 0 24 24"><line x1="8" y1="19" x2="8" y2="21"></line><line x1="8" y1="13" x2="8" y2="15"></line><line x1="16" y1="19" x2="16" y2="21"></line><line x1="16" y1="13" x2="16" y2="15"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="12" y1="15" x2="12" y2="17"></line><path d="M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"></path></svg>',refreshCw:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg>',chevronRight:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"></polyline></svg>',clipboard:'<svg class="stroked" viewBox="0 0 24 24"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect></svg>',package:'<svg class="stroked" viewBox="0 0 24 24"><line x1="16.5" y1="9.4" x2="7.5" y2="4.21"></line><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line></svg>',instagram:'<svg class="stroked" viewBox="0 0 24 24"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg>',link:'<svg class="stroked" viewBox="0 0 24 24"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg>',videoOff:'<svg class="stroked" viewBox="0 0 24 24"><path d="M16 16v1a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h2m5.66 0H14a2 2 0 0 1 2 2v3.34l1 1L23 7v10"></path><line x1="1" y1="1" x2="23" y2="23"></line></svg>',key:'<svg class="stroked" viewBox="0 0 24 24"><path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.78 7.78 5.5 5.5 0 0 1 7.78-7.78zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"></path></svg>',meh:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><line x1="8" y1="15" x2="16" y2="15"></line><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line></svg>',cornerDownRight:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="15 10 20 15 15 20"></polyline><path d="M4 4v7a4 4 0 0 0 4 4h12"></path></svg>',arrowRight:'<svg class="stroked" viewBox="0 0 24 24"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg>',aperture:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><line x1="14.31" y1="8" x2="20.05" y2="17.94"></line><line x1="9.69" y1="8" x2="21.17" y2="8"></line><line x1="7.38" y1="12" x2="13.12" y2="2.06"></line><line x1="9.69" y1="16" x2="3.95" y2="6.06"></line><line x1="14.31" y1="16" x2="2.83" y2="16"></line><line x1="16.62" y1="12" x2="10.88" y2="21.94"></line></svg>',stopCircle:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><rect x="9" y="9" width="6" height="6"></rect></svg>',logOut:'<svg class="stroked" viewBox="0 0 24 24"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg>',arrowLeftCircle:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><polyline points="12 8 8 12 12 16"></polyline><line x1="16" y1="12" x2="8" y2="12"></line></svg>',barChart2:'<svg class="stroked" viewBox="0 0 24 24"><line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line></svg>',gitPullRequest:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M13 6h3a2 2 0 0 1 2 2v7"></path><line x1="6" y1="9" x2="6" y2="21"></line></svg>',minimize:'<svg class="stroked" viewBox="0 0 24 24"><path d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"></path></svg>',minusSquare:'<svg class="stroked" viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line></svg>',settings:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg>',cloudSnow:'<svg class="stroked" viewBox="0 0 24 24"><path d="M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"></path><line x1="8" y1="16" x2="8.01" y2="16"></line><line x1="8" y1="20" x2="8.01" y2="20"></line><line x1="12" y1="18" x2="12.01" y2="18"></line><line x1="12" y1="22" x2="12.01" y2="22"></line><line x1="16" y1="16" x2="16.01" y2="16"></line><line x1="16" y1="20" x2="16.01" y2="20"></line></svg>',thumbsDown:'<svg class="stroked" viewBox="0 0 24 24"><path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path></svg>',type:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="4 7 4 4 20 4 20 7"></polyline><line x1="9" y1="20" x2="15" y2="20"></line><line x1="12" y1="4" x2="12" y2="20"></line></svg>',archive:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="21 8 21 21 3 21 3 8"></polyline><rect x="1" y="3" width="22" height="5"></rect><line x1="10" y1="12" x2="14" y2="12"></line></svg>',phoneOutgoing:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="23 7 23 1 17 1"></polyline><line x1="16" y1="8" x2="23" y2="1"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg>',pocket:'<svg class="stroked" viewBox="0 0 24 24"><path d="M4 3h16a2 2 0 0 1 2 2v6a10 10 0 0 1-10 10A10 10 0 0 1 2 11V5a2 2 0 0 1 2-2z"></path><polyline points="8 10 12 14 16 10"></polyline></svg>',mail:'<svg class="stroked" viewBox="0 0 24 24"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>',shield:'<svg class="stroked" viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>',download:'<svg class="stroked" viewBox="0 0 24 24"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>',phoneForwarded:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="19 1 23 5 19 9"></polyline><line x1="15" y1="5" x2="23" y2="5"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg>',cornerRightDown:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="10 15 15 20 20 15"></polyline><path d="M4 4h7a4 4 0 0 1 4 4v12"></path></svg>',bookOpen:'<svg class="stroked" viewBox="0 0 24 24"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path></svg>',divideSquare:'<svg class="stroked" viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line></svg>',server:'<svg class="stroked" viewBox="0 0 24 24"><rect x="2" y="2" width="20" height="8" rx="2" ry="2"></rect><rect x="2" y="14" width="20" height="8" rx="2" ry="2"></rect><line x1="6" y1="6" x2="6.01" y2="6"></line><line x1="6" y1="18" x2="6.01" y2="18"></line></svg>',tv:'<svg class="stroked" viewBox="0 0 24 24"><rect x="2" y="7" width="20" height="15" rx="2" ry="2"></rect><polyline points="17 2 12 7 7 2"></polyline></svg>',skipForward:'<svg class="stroked" viewBox="0 0 24 24"><polygon points="5 4 15 12 5 20 5 4"></polygon><line x1="19" y1="5" x2="19" y2="19"></line></svg>',volume:'<svg class="stroked" viewBox="0 0 24 24"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon></svg>',userPlus:'<svg class="stroked" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="20" y1="8" x2="20" y2="14"></line><line x1="23" y1="11" x2="17" y2="11"></line></svg>',batteryCharging:'<svg class="stroked" viewBox="0 0 24 24"><path d="M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"></path><line x1="23" y1="13" x2="23" y2="11"></line><polyline points="11 6 7 12 13 12 9 18"></polyline></svg>',layers:'<svg class="stroked" viewBox="0 0 24 24"><polygon points="12 2 2 7 12 12 22 7 12 2"></polygon><polyline points="2 17 12 22 22 17"></polyline><polyline points="2 12 12 17 22 12"></polyline></svg>',slash:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><line x1="4.93" y1="4.93" x2="19.07" y2="19.07"></line></svg>',radio:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="2"></circle><path d="M16.24 7.76a6 6 0 0 1 0 8.49m-8.48-.01a6 6 0 0 1 0-8.49m11.31-2.82a10 10 0 0 1 0 14.14m-14.14 0a10 10 0 0 1 0-14.14"></path></svg>',book:'<svg class="stroked" viewBox="0 0 24 24"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path></svg>',userMinus:'<svg class="stroked" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="23" y1="11" x2="17" y2="11"></line></svg>',bell:'<svg class="stroked" viewBox="0 0 24 24"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path></svg>',gitBranch:'<svg class="stroked" viewBox="0 0 24 24"><line x1="6" y1="3" x2="6" y2="15"></line><circle cx="18" cy="6" r="3"></circle><circle cx="6" cy="18" r="3"></circle><path d="M18 9a9 9 0 0 1-9 9"></path></svg>',coffee:'<svg class="stroked" viewBox="0 0 24 24"><path d="M18 8h1a4 4 0 0 1 0 8h-1"></path><path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"></path><line x1="6" y1="1" x2="6" y2="4"></line><line x1="10" y1="1" x2="10" y2="4"></line><line x1="14" y1="1" x2="14" y2="4"></line></svg>',code:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg>',thermometer:'<svg class="stroked" viewBox="0 0 24 24"><path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path></svg>',cast:'<svg class="stroked" viewBox="0 0 24 24"><path d="M2 16.1A5 5 0 0 1 5.9 20M2 12.05A9 9 0 0 1 9.95 20M2 8V6a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-6"></path><line x1="2" y1="20" x2="2.01" y2="20"></line></svg>',flag:'<svg class="stroked" viewBox="0 0 24 24"><path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path><line x1="4" y1="22" x2="4" y2="15"></line></svg>',eyeOff:'<svg class="stroked" viewBox="0 0 24 24"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line></svg>',battery:'<svg class="stroked" viewBox="0 0 24 24"><rect x="1" y="6" width="18" height="12" rx="2" ry="2"></rect><line x1="23" y1="13" x2="23" y2="11"></line></svg>',disc:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="3"></circle></svg>',frown:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><path d="M16 16s-1.5-2-4-2-4 2-4 2"></path><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line></svg>',tool:'<svg class="stroked" viewBox="0 0 24 24"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path></svg>',cpu:'<svg class="stroked" viewBox="0 0 24 24"><rect x="4" y="4" width="16" height="16" rx="2" ry="2"></rect><rect x="9" y="9" width="6" height="6"></rect><line x1="9" y1="1" x2="9" y2="4"></line><line x1="15" y1="1" x2="15" y2="4"></line><line x1="9" y1="20" x2="9" y2="23"></line><line x1="15" y1="20" x2="15" y2="23"></line><line x1="20" y1="9" x2="23" y2="9"></line><line x1="20" y1="14" x2="23" y2="14"></line><line x1="1" y1="9" x2="4" y2="9"></line><line x1="1" y1="14" x2="4" y2="14"></line></svg>',bold:'<svg class="stroked" viewBox="0 0 24 24"><path d="M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path><path d="M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path></svg>',hash:'<svg class="stroked" viewBox="0 0 24 24"><line x1="4" y1="9" x2="20" y2="9"></line><line x1="4" y1="15" x2="20" y2="15"></line><line x1="10" y1="3" x2="8" y2="21"></line><line x1="16" y1="3" x2="14" y2="21"></line></svg>',share2:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line></svg>',plus:'<svg class="stroked" viewBox="0 0 24 24"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>',check:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"></polyline></svg>',rotateCcw:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="1 4 1 10 7 10"></polyline><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path></svg>',hardDrive:'<svg class="stroked" viewBox="0 0 24 24"><line x1="22" y1="12" x2="2" y2="12"></line><path d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"></path><line x1="6" y1="16" x2="6.01" y2="16"></line><line x1="10" y1="16" x2="10.01" y2="16"></line></svg>',bluetooth:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="6.5 6.5 17.5 17.5 12 23 12 1 17.5 6.5 6.5 17.5"></polyline></svg>',pieChart:'<svg class="stroked" viewBox="0 0 24 24"><path d="M21.21 15.89A10 10 0 1 1 8 2.83"></path><path d="M22 12A10 10 0 0 0 12 2v10z"></path></svg>',headphones:'<svg class="stroked" viewBox="0 0 24 24"><path d="M3 18v-6a9 9 0 0 1 18 0v6"></path><path d="M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"></path></svg>',rss:'<svg class="stroked" viewBox="0 0 24 24"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg>',wifi:'<svg class="stroked" viewBox="0 0 24 24"><path d="M5 12.55a11 11 0 0 1 14.08 0"></path><path d="M1.42 9a16 16 0 0 1 21.16 0"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1="12" y1="20" x2="12.01" y2="20"></line></svg>',cornerUpLeft:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="9 14 4 9 9 4"></polyline><path d="M20 20v-7a4 4 0 0 0-4-4H4"></path></svg>',watch:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="7"></circle><polyline points="12 9 12 12 13.5 13.5"></polyline><path d="M16.51 17.35l-.35 3.83a2 2 0 0 1-2 1.82H9.83a2 2 0 0 1-2-1.82l-.35-3.83m.01-10.7l.35-3.83A2 2 0 0 1 9.83 1h4.35a2 2 0 0 1 2 1.82l.35 3.83"></path></svg>',info:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>',userX:'<svg class="stroked" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="18" y1="8" x2="23" y2="13"></line><line x1="23" y1="8" x2="18" y2="13"></line></svg>',loader:'<svg class="stroked" viewBox="0 0 24 24"><line x1="12" y1="2" x2="12" y2="6"></line><line x1="12" y1="18" x2="12" y2="22"></line><line x1="4.93" y1="4.93" x2="7.76" y2="7.76"></line><line x1="16.24" y1="16.24" x2="19.07" y2="19.07"></line><line x1="2" y1="12" x2="6" y2="12"></line><line x1="18" y1="12" x2="22" y2="12"></line><line x1="4.93" y1="19.07" x2="7.76" y2="16.24"></line><line x1="16.24" y1="7.76" x2="19.07" y2="4.93"></line></svg>',refreshCcw:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="1 4 1 10 7 10"></polyline><polyline points="23 20 23 14 17 14"></polyline><path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path></svg>',folderPlus:'<svg class="stroked" viewBox="0 0 24 24"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path><line x1="12" y1="11" x2="12" y2="17"></line><line x1="9" y1="14" x2="15" y2="14"></line></svg>',gitMerge:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M6 21V9a9 9 0 0 0 9 9"></path></svg>',mic:'<svg class="stroked" viewBox="0 0 24 24"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path><path d="M19 10v2a7 7 0 0 1-14 0v-2"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line></svg>',copy:'<svg class="stroked" viewBox="0 0 24 24"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>',zoomIn:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="11" y1="8" x2="11" y2="14"></line><line x1="8" y1="11" x2="14" y2="11"></line></svg>',arrowRightCircle:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><polyline points="12 16 16 12 12 8"></polyline><line x1="8" y1="12" x2="16" y2="12"></line></svg>',alignRight:'<svg class="stroked" viewBox="0 0 24 24"><line x1="21" y1="10" x2="7" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="21" y1="18" x2="7" y2="18"></line></svg>',image:'<svg class="stroked" viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline></svg>',maximize2:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="15 3 21 3 21 9"></polyline><polyline points="9 21 3 21 3 15"></polyline><line x1="21" y1="3" x2="14" y2="10"></line><line x1="3" y1="21" x2="10" y2="14"></line></svg>',checkCircle:'<svg class="stroked" viewBox="0 0 24 24"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg>',sunset:'<svg class="stroked" viewBox="0 0 24 24"><path d="M17 18a5 5 0 0 0-10 0"></path><line x1="12" y1="9" x2="12" y2="2"></line><line x1="4.22" y1="10.22" x2="5.64" y2="11.64"></line><line x1="1" y1="18" x2="3" y2="18"></line><line x1="21" y1="18" x2="23" y2="18"></line><line x1="18.36" y1="11.64" x2="19.78" y2="10.22"></line><line x1="23" y1="22" x2="1" y2="22"></line><polyline points="16 5 12 9 8 5"></polyline></svg>',save:'<svg class="stroked" viewBox="0 0 24 24"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline></svg>',smile:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><path d="M8 14s1.5 2 4 2 4-2 4-2"></path><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line></svg>',navigation:'<svg class="stroked" viewBox="0 0 24 24"><polygon points="3 11 22 2 13 21 11 13 3 11"></polygon></svg>',cloudLightning:'<svg class="stroked" viewBox="0 0 24 24"><path d="M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"></path><polyline points="13 11 9 17 15 17 11 23"></polyline></svg>',paperclip:'<svg class="stroked" viewBox="0 0 24 24"><path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path></svg>',fastForward:'<svg class="stroked" viewBox="0 0 24 24"><polygon points="13 19 22 12 13 5 13 19"></polygon><polygon points="2 19 11 12 2 5 2 19"></polygon></svg>',xSquare:'<svg class="stroked" viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="9" y1="9" x2="15" y2="15"></line><line x1="15" y1="9" x2="9" y2="15"></line></svg>',award:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="8" r="7"></circle><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"></polyline></svg>',zoomOut:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="8" y1="11" x2="14" y2="11"></line></svg>',box:'<svg class="stroked" viewBox="0 0 24 24"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line></svg>',thumbsUp:'<svg class="stroked" viewBox="0 0 24 24"><path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path></svg>',percent:'<svg class="stroked" viewBox="0 0 24 24"><line x1="19" y1="5" x2="5" y2="19"></line><circle cx="6.5" cy="6.5" r="2.5"></circle><circle cx="17.5" cy="17.5" r="2.5"></circle></svg>',sidebar:'<svg class="stroked" viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="9" y1="3" x2="9" y2="21"></line></svg>',square:'<svg class="stroked" viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect></svg>',play:'<svg class="stroked" viewBox="0 0 24 24"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>',gitCommit:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4"></circle><line x1="1.05" y1="12" x2="7" y2="12"></line><line x1="17.01" y1="12" x2="22.96" y2="12"></line></svg>',table:'<svg class="stroked" viewBox="0 0 24 24"><path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"></path></svg>',send:'<svg class="stroked" viewBox="0 0 24 24"><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg>',phoneCall:'<svg class="stroked" viewBox="0 0 24 24"><path d="M15.05 5A5 5 0 0 1 19 8.95M15.05 1A9 9 0 0 1 23 8.94m-1 7.98v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg>',speaker:'<svg class="stroked" viewBox="0 0 24 24"><rect x="4" y="2" width="16" height="20" rx="2" ry="2"></rect><circle cx="12" cy="14" r="4"></circle><line x1="12" y1="6" x2="12.01" y2="6"></line></svg>',facebook:'<svg class="filled" version="1.1" viewBox="0 0 512 512"><g></g><path d="M464 0h-416c-26.4 0-48 21.6-48 48v416c0 26.4 21.6 48 48 48h208v-224h-64v-64h64v-32c0-52.9 43.1-96 96-96h64v64h-64c-17.6 0-32 14.4-32 32v32h96l-16 64h-80v224h144c26.4 0 48-21.6 48-48v-416c0-26.4-21.6-48-48-48z"></path></svg> ',codesandbox:'<svg class="stroked" viewBox="0 0 24 24"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="7.5 4.21 12 6.81 16.5 4.21"></polyline><polyline points="7.5 19.79 7.5 14.6 3 12"></polyline><polyline points="21 12 16.5 14.6 16.5 19.79"></polyline><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line></svg>',camera:'<svg class="stroked" viewBox="0 0 24 24"><path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"></path><circle cx="12" cy="13" r="4"></circle></svg>',link2:'<svg class="stroked" viewBox="0 0 24 24"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg>',printer:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="6 9 6 2 18 2 18 9"></polyline><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path><rect x="6" y="14" width="12" height="8"></rect></svg>',folderMinus:'<svg class="stroked" viewBox="0 0 24 24"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path><line x1="9" y1="14" x2="15" y2="14"></line></svg>',arrowUpRight:'<svg class="stroked" viewBox="0 0 24 24"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg>',truck:'<svg class="stroked" viewBox="0 0 24 24"><rect x="1" y="3" width="15" height="13"></rect><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon><circle cx="5.5" cy="18.5" r="2.5"></circle><circle cx="18.5" cy="18.5" r="2.5"></circle></svg>',lifeBuoy:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="4"></circle><line x1="4.93" y1="4.93" x2="9.17" y2="9.17"></line><line x1="14.83" y1="14.83" x2="19.07" y2="19.07"></line><line x1="14.83" y1="9.17" x2="19.07" y2="4.93"></line><line x1="14.83" y1="9.17" x2="18.36" y2="5.64"></line><line x1="4.93" y1="19.07" x2="9.17" y2="14.83"></line></svg>',penTool:'<svg class="stroked" viewBox="0 0 24 24"><path d="M12 19l7-7 3 3-7 7-3-3z"></path><path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path><path d="M2 2l7.59 7.59"></path><circle cx="11" cy="11" r="2"></circle></svg>',atSign:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4"></circle><path d="M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-3.92 7.94"></path></svg>',feather:'<svg class="stroked" viewBox="0 0 24 24"><path d="M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"></path><line x1="16" y1="8" x2="2" y2="22"></line><line x1="17.5" y1="15" x2="9" y2="15"></line></svg>',trash:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path></svg>',wifiOff:'<svg class="stroked" viewBox="0 0 24 24"><line x1="1" y1="1" x2="23" y2="23"></line><path d="M16.72 11.06A10.94 10.94 0 0 1 19 12.55"></path><path d="M5 12.55a10.94 10.94 0 0 1 5.17-2.39"></path><path d="M10.71 5.05A16 16 0 0 1 22.58 9"></path><path d="M1.42 9a15.91 15.91 0 0 1 4.7-2.88"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1="12" y1="20" x2="12.01" y2="20"></line></svg>',cornerLeftDown:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="14 15 9 20 4 15"></polyline><path d="M20 4h-7a4 4 0 0 0-4 4v12"></path></svg>',dollarSign:'<svg class="stroked" viewBox="0 0 24 24"><line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path></svg>',star:'<svg class="stroked" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>',cloudOff:'<svg class="stroked" viewBox="0 0 24 24"><path d="M22.61 16.95A5 5 0 0 0 18 10h-1.26a8 8 0 0 0-7.05-6M5 5a8 8 0 0 0 4 15h9a5 5 0 0 0 1.7-.3"></path><line x1="1" y1="1" x2="23" y2="23"></line></svg>',sun:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>',messageSquare:'<svg class="stroked" viewBox="0 0 24 24"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>',edit:'<svg class="stroked" viewBox="0 0 24 24"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg>',anchor:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="5" r="3"></circle><line x1="12" y1="22" x2="12" y2="8"></line><path d="M5 12H2a10 10 0 0 0 20 0h-3"></path></svg>',alertCircle:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>',chevronsUp:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="17 11 12 6 7 11"></polyline><polyline points="17 18 12 13 7 18"></polyline></svg>',uploadCloud:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="16 16 12 12 8 16"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"></path><polyline points="16 16 12 12 8 16"></polyline></svg>',twitch:'<svg class="stroked" viewBox="0 0 24 24"><path d="M21 2H3v16h5v4l4-4h5l4-4V2zm-10 9V7m5 4V7"></path></svg>',youtube:'<svg class="filled" version="1.1" viewBox="0 0 512 512"><g></g><path d="M506.9 153.6c0 0-5-35.3-20.4-50.8-19.5-20.4-41.3-20.5-51.3-21.7-71.6-5.2-179.1-5.2-179.1-5.2h-0.2c0 0-107.5 0-179.1 5.2-10 1.2-31.8 1.3-51.3 21.7-15.4 15.5-20.3 50.8-20.3 50.8s-5.1 41.4-5.1 82.9v38.8c0 41.4 5.1 82.9 5.1 82.9s5 35.3 20.3 50.8c19.5 20.4 45.1 19.7 56.5 21.9 41 3.9 174.1 5.1 174.1 5.1s107.6-0.2 179.2-5.3c10-1.2 31.8-1.3 51.3-21.7 15.4-15.5 20.4-50.8 20.4-50.8s5.1-41.4 5.1-82.9v-38.8c-0.1-41.4-5.2-82.9-5.2-82.9zM203.1 322.4v-143.9l138.3 72.2-138.3 71.7z"></path></svg> ',unlock:'<svg class="stroked" viewBox="0 0 24 24"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 9.9-1"></path></svg>',compass:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><polygon points="16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"></polygon></svg>',plusCircle:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line></svg>',creditCard:'<svg class="stroked" viewBox="0 0 24 24"><rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect><line x1="1" y1="10" x2="23" y2="10"></line></svg>',cloudRain:'<svg class="stroked" viewBox="0 0 24 24"><line x1="16" y1="13" x2="16" y2="21"></line><line x1="8" y1="13" x2="8" y2="21"></line><line x1="12" y1="15" x2="12" y2="23"></line><path d="M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"></path></svg>',trash2:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>',skipBack:'<svg class="stroked" viewBox="0 0 24 24"><polygon points="19 20 9 12 19 4 19 20"></polygon><line x1="5" y1="19" x2="5" y2="5"></line></svg>',filePlus:'<svg class="stroked" viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="12" y1="18" x2="12" y2="12"></line><line x1="9" y1="15" x2="15" y2="15"></line></svg>',delete:'<svg class="stroked" viewBox="0 0 24 24"><path d="M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"></path><line x1="18" y1="9" x2="12" y2="15"></line><line x1="12" y1="9" x2="18" y2="15"></line></svg>',command:'<svg class="stroked" viewBox="0 0 24 24"><path d="M18 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3H6a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3V6a3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 3 3 0 0 0-3-3z"></path></svg>',clock:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>',octagon:'<svg class="stroked" viewBox="0 0 24 24"><polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon></svg>',phone:'<svg class="stroked" viewBox="0 0 24 24"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg>',eye:'<svg class="stroked" viewBox="0 0 24 24"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>',phoneOff:'<svg class="stroked" viewBox="0 0 24 24"><path d="M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91"></path><line x1="23" y1="1" x2="1" y2="23"></line></svg>',codepen:'<svg class="stroked" viewBox="0 0 24 24"><polygon points="12 2 22 8.5 22 15.5 12 22 2 15.5 2 8.5 12 2"></polygon><line x1="12" y1="22" x2="12" y2="15.5"></line><polyline points="22 8.5 12 15.5 2 8.5"></polyline><polyline points="2 15.5 12 8.5 22 15.5"></polyline><line x1="12" y1="2" x2="12" y2="8.5"></line></svg>',dribbble:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><path d="M8.56 2.75c4.37 6.03 6.02 9.42 8.03 17.72m2.54-15.38c-3.72 4.35-8.94 5.66-16.88 5.85m19.5 1.9c-3.5-.93-6.63-.82-8.94 0-2.58.92-5.01 2.86-7.44 6.32"></path></svg>',gift:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="20 12 20 22 4 22 4 12"></polyline><rect x="2" y="7" width="20" height="5"></rect><line x1="12" y1="22" x2="12" y2="7"></line><path d="M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"></path><path d="M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"></path></svg>',externalLink:'<svg class="stroked" viewBox="0 0 24 24"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>',zap:'<svg class="stroked" viewBox="0 0 24 24"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon></svg>',trello:'<svg class="stroked" viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><rect x="7" y="7" width="3" height="9"></rect><rect x="14" y="7" width="3" height="5"></rect></svg>',moreVertical:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="1"></circle><circle cx="12" cy="5" r="1"></circle><circle cx="12" cy="19" r="1"></circle></svg>',micOff:'<svg class="stroked" viewBox="0 0 24 24"><line x1="1" y1="1" x2="23" y2="23"></line><path d="M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"></path><path d="M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line></svg>',share:'<svg class="stroked" viewBox="0 0 24 24"><path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path><polyline points="16 6 12 2 8 6"></polyline><line x1="12" y1="2" x2="12" y2="15"></line></svg>',arrowUp:'<svg class="stroked" viewBox="0 0 24 24"><line x1="12" y1="19" x2="12" y2="5"></line><polyline points="5 12 12 5 19 12"></polyline></svg>',bellOff:'<svg class="stroked" viewBox="0 0 24 24"><path d="M13.73 21a2 2 0 0 1-3.46 0"></path><path d="M18.63 13A17.89 17.89 0 0 1 18 8"></path><path d="M6.26 6.26A5.86 5.86 0 0 0 6 8c0 7-3 9-3 9h14"></path><path d="M18 8a6 6 0 0 0-9.33-5"></path><line x1="1" y1="1" x2="23" y2="23"></line></svg>',linkedin:'<svg class="stroked" viewBox="0 0 24 24"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg>',video:'<svg class="stroked" viewBox="0 0 24 24"><polygon points="23 7 16 12 23 17 23 7"></polygon><rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect></svg>',divideCircle:'<svg class="stroked" viewBox="0 0 24 24"><line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line><circle cx="12" cy="12" r="10"></circle></svg>',activity:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline></svg>',twitter:'<svg class="stroked" viewBox="0 0 24 24"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg>',mapPin:'<svg class="stroked" viewBox="0 0 24 24"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg>',filter:'<svg class="stroked" viewBox="0 0 24 24"><polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon></svg>',phoneIncoming:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="16 2 16 8 22 8"></polyline><line x1="23" y1="1" x2="16" y2="8"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg>',italic:'<svg class="stroked" viewBox="0 0 24 24"><line x1="19" y1="4" x2="10" y2="4"></line><line x1="14" y1="20" x2="5" y2="20"></line><line x1="15" y1="4" x2="9" y2="20"></line></svg>',chevronsLeft:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="11 17 6 12 11 7"></polyline><polyline points="18 17 13 12 18 7"></polyline></svg>',calendar:'<svg class="stroked" viewBox="0 0 24 24"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>',globe:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg>',arrowLeft:'<svg class="stroked" viewBox="0 0 24 24"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>',alignCenter:'<svg class="stroked" viewBox="0 0 24 24"><line x1="18" y1="10" x2="6" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="18" y1="18" x2="6" y2="18"></line></svg>',minusCircle:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><line x1="8" y1="12" x2="16" y2="12"></line></svg>',arrowDownRight:'<svg class="stroked" viewBox="0 0 24 24"><line x1="7" y1="7" x2="17" y2="17"></line><polyline points="17 7 17 17 7 17"></polyline></svg>',framer:'<svg class="stroked" viewBox="0 0 24 24"><path d="M5 16V9h14V2H5l14 14h-7m-7 0l7 7v-7m-7 0h7"></path></svg>',volumeX:'<svg class="stroked" viewBox="0 0 24 24"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><line x1="23" y1="9" x2="17" y2="15"></line><line x1="17" y1="9" x2="23" y2="15"></line></svg>',slack:'<svg class="stroked" viewBox="0 0 24 24"><path d="M14.5 10c-.83 0-1.5-.67-1.5-1.5v-5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5z"></path><path d="M20.5 10H19V8.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path><path d="M9.5 14c.83 0 1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5S8 21.33 8 20.5v-5c0-.83.67-1.5 1.5-1.5z"></path><path d="M3.5 14H5v1.5c0 .83-.67 1.5-1.5 1.5S2 16.33 2 15.5 2.67 14 3.5 14z"></path><path d="M14 14.5c0-.83.67-1.5 1.5-1.5h5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-5c-.83 0-1.5-.67-1.5-1.5z"></path><path d="M15.5 19H14v1.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"></path><path d="M10 9.5C10 8.67 9.33 8 8.5 8h-5C2.67 8 2 8.67 2 9.5S2.67 11 3.5 11h5c.83 0 1.5-.67 1.5-1.5z"></path><path d="M8.5 5H10V3.5C10 2.67 9.33 2 8.5 2S7 2.67 7 3.5 7.67 5 8.5 5z"></path></svg>',cloud:'<svg class="stroked" viewBox="0 0 24 24"><path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"></path></svg>',downloadCloud:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="8 17 12 21 16 17"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.88 18.09A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.29"></path></svg>',shuffle:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="16 3 21 3 21 8"></polyline><line x1="4" y1="20" x2="21" y2="3"></line><polyline points="21 16 21 21 16 21"></polyline><line x1="15" y1="15" x2="21" y2="21"></line><line x1="4" y1="4" x2="9" y2="9"></line></svg>',rewind:'<svg class="stroked" viewBox="0 0 24 24"><polygon points="11 19 2 12 11 5 11 19"></polygon><polygon points="22 19 13 12 22 5 22 19"></polygon></svg>',upload:'<svg class="stroked" viewBox="0 0 24 24"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line></svg>',trendingDown:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="23 18 13.5 8.5 8.5 13.5 1 6"></polyline><polyline points="17 18 23 18 23 12"></polyline></svg>',pause:'<svg class="stroked" viewBox="0 0 24 24"><rect x="6" y="4" width="4" height="16"></rect><rect x="14" y="4" width="4" height="16"></rect></svg>',arrowDownCircle:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><polyline points="8 12 12 16 16 12"></polyline><line x1="12" y1="8" x2="12" y2="16"></line></svg>',bookmark:'<svg class="stroked" viewBox="0 0 24 24"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path></svg>',alertTriangle:'<svg class="stroked" viewBox="0 0 24 24"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>',userCheck:'<svg class="stroked" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><polyline points="17 11 19 13 23 9"></polyline></svg>',tablet:'<svg class="stroked" viewBox="0 0 24 24"><rect x="4" y="2" width="16" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line></svg>',alertOctagon:'<svg class="stroked" viewBox="0 0 24 24"><polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>',menu:'<svg class="stroked" viewBox="0 0 24 24"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>',chrome:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="4"></circle><line x1="21.17" y1="8" x2="12" y2="8"></line><line x1="3.95" y1="6.06" x2="8.54" y2="14"></line><line x1="10.88" y1="21.94" x2="15.46" y2="14"></line></svg>',shoppingCart:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path></svg>',folder:'<svg class="stroked" viewBox="0 0 24 24"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path></svg>',users:'<svg class="stroked" viewBox="0 0 24 24"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>',cornerDownLeft:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="9 10 4 15 9 20"></polyline><path d="M20 4v7a4 4 0 0 1-4 4H4"></path></svg>',monitor:'<svg class="stroked" viewBox="0 0 24 24"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect><line x1="8" y1="21" x2="16" y2="21"></line><line x1="12" y1="17" x2="12" y2="21"></line></svg>',minus:'<svg class="stroked" viewBox="0 0 24 24"><line x1="5" y1="12" x2="19" y2="12"></line></svg>',helpCircle:'<svg class="stroked" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>',navigation2:'<svg class="stroked" viewBox="0 0 24 24"><polygon points="12 2 19 21 12 17 5 21 12 2"></polygon></svg>',chevronLeft:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="15 18 9 12 15 6"></polyline></svg>',film:'<svg class="stroked" viewBox="0 0 24 24"><rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"></rect><line x1="7" y1="2" x2="7" y2="22"></line><line x1="17" y1="2" x2="17" y2="22"></line><line x1="2" y1="12" x2="22" y2="12"></line><line x1="2" y1="7" x2="7" y2="7"></line><line x1="2" y1="17" x2="7" y2="17"></line><line x1="17" y1="17" x2="22" y2="17"></line><line x1="17" y1="7" x2="22" y2="7"></line></svg>',moon:'<svg class="stroked" viewBox="0 0 24 24"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>',shieldOff:'<svg class="stroked" viewBox="0 0 24 24"><path d="M19.69 14a6.9 6.9 0 0 0 .31-2V5l-8-3-3.16 1.18"></path><path d="M4.73 4.73L4 5v7c0 6 8 10 8 10a20.29 20.29 0 0 0 5.62-4.38"></path><line x1="1" y1="1" x2="23" y2="23"></line></svg>',layout:'<svg class="stroked" viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="9" y1="21" x2="9" y2="9"></line></svg>',mousePointer:'<svg class="stroked" viewBox="0 0 24 24"><path d="M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"></path><path d="M13 13l6 6"></path></svg>',alignLeft:'<svg class="stroked" viewBox="0 0 24 24"><line x1="17" y1="10" x2="3" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="17" y1="18" x2="3" y2="18"></line></svg>',heart:'<svg class="stroked" viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>',trendingUp:'<svg class="stroked" viewBox="0 0 24 24"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline><polyline points="17 6 23 6 23 12"></polyline></svg>',listBullet:'<svg class="stroked" viewBox="0 0 24 24"><g><path style="" d="M21,6 C21,6,10,6,10,6"/><path style="" d="M21,12 C21,12,10,12,10,12"/><path style="" d="M21,18 C21,18,10,18,10,18"/><path style="" d="M5.5,5 C6.05,5,6.5,5.45,6.5,6 C6.5,6.55,6.05,7,5.5,7 C4.95,7,4.5,6.55,4.5,6 C4.5,5.45,4.95,5,5.5,5 z"/><path style="" d="M5.5,11 C6.05,11,6.5,11.45,6.5,12 C6.5,12.55,6.05,13,5.5,13 C4.95,13,4.5,12.55,4.5,12 C4.5,11.45,4.95,11,5.5,11 z"/><path style="" d="M5.5,17 C6.05,17,6.5,17.45,6.5,18 C6.5,18.55,6.05,19,5.5,19 C4.95,19,4.5,18.55,4.5,18 C4.5,17.45,4.95,17,5.5,17 z"/></g></svg> ',indent:'<svg class="stroked" viewBox="0 0 24 24"><g><path style="" d="M21,10 C21,10,8,10,8,10"/><path style="" d="M21,6 C21,6,8,6,8,6"/><path style="" d="M21,14 C21,14,8,14,8,14"/><path style="" d="M21,18 C21,18,8,18,8,18"/><path style="" d="M2.5,9 C2.5,9,5.5,12,5.5,12 C5.5,12,2.5,15,2.5,15"/></g></svg> ',fontBold:'<svg class="stroked" viewBox="0 0 24 24"><g><path style="" d="M13.5,11 C15.71,11,17.5,12.68,17.5,14.75 C17.5,16.82,15.71,18.5,13.5,18.5 C13.5,18.5,8.5,18.5,8.5,18.5 C8.5,18.5,8.5,3.5,8.5,3.5 C8.5,3.5,13.5,3.5,13.5,3.5 C15.71,3.5,17.5,5.18,17.5,7.25 C17.5,9.32,15.71,11,13.5,11 C13.5,11,13.5,11,13.5,11 z"/><path style="" d="M13.5,11 C13.5,11,8.5,11,8.5,11"/><path style="" d="M12.5,11 C14.71,11,16.5,12.68,16.5,14.75 C16.5,16.82,14.71,18.5,12.5,18.5 C12.5,18.5,7.5,18.5,7.5,18.5 C7.5,18.5,7.5,3.5,7.5,3.5 C7.5,3.5,12.5,3.5,12.5,3.5 C14.71,3.5,16.5,5.18,16.5,7.25 C16.5,9.32,14.71,11,12.5,11 C12.5,11,12.5,11,12.5,11 z"/><path style="" d="M12.5,11 C12.5,11,7.5,11,7.5,11"/></g></svg> ',fontItalic:'<svg class="stroked" viewBox="0 0 24 24"><g><path style="" d="M17.00,4.50 C17.00,4.50,13.00,4.50,13.00,4.50"/><path style="" d="M11.00,19.50 C11.00,19.50,7.00,19.50,7.00,19.50"/><path style="" d="M15.00,4.50 C15.00,4.50,9.00,19.50,9.00,19.50"/></g></svg> ',fontUnderline:'<svg class="stroked" viewBox="0 0 24 24"><g><path style="" d="M7.5,3.5 C7.5,3.5,7.5,10.74,7.5,13.5 C7.5,16.26,9.74,18.5,12.5,18.5 C15.26,18.5,17.5,16.26,17.5,13.5 C17.5,10.74,17.5,3.5,17.5,3.5"/><path style="" d="M7.5,21.5 C7.5,21.5,17.5,21.5,17.5,21.5"/></g></svg> ',outdent:'<svg class="stroked" viewBox="0 0 24 24"><g><path style="" d="M21,10 C21,10,8,10,8,10"/><path style="" d="M21,6 C21,6,8,6,8,6"/><path style="" d="M21,14 C21,14,8,14,8,14"/><path style="" d="M21,18 C21,18,8,18,8,18"/><path style="" d="M5.5,9 C5.5,9,2.5,12,2.5,12 C2.5,12,5.5,15,5.5,15"/></g></svg> ',listNumber:'<svg class="stroked" viewBox="0 0 24 24"><g><path style="" d="M21,6 C21,6,10,6,10,6"/><path style="" d="M21,12 C21,12,10,12,10,12"/><path style="" d="M21,18 C21,18,10,18,10,18"/><path style="" d="M4.5,5 C4.5,5,5.5,4,5.5,4 C5.5,4,5.5,8,5.5,8"/><path style="" d="M4.5,10 C4.5,10,5.50,10,5.50,10 C6.05,10,6.5,10.45,6.5,11.00 C6.5,11.00,6.5,11.00,6.5,11.00 C6.5,11.55,6.05,12,5.50,12 C5.50,12,5.50,12,5.50,12 C4.95,12,4.5,12.45,4.5,13.00 C4.5,13.00,4.5,14,4.5,14 C4.5,14,6.5,14,6.5,14"/><path style="" d="M4.5,16 C4.5,16,5.50,16,5.50,16 C6.05,16,6.5,16.45,6.5,17.00 C6.5,17.00,6.5,17.00,6.5,17.00 C6.5,17.55,6.05,18,5.50,18 C5.50,18,4.5,18,4.5,18 C4.5,18,5.50,18,5.50,18 C6.05,18,6.5,18.45,6.5,19.00 C6.5,19.00,6.5,19.00,6.5,19.00 C6.5,19.55,6.05,20,5.50,20 C5.50,20,4.5,20,4.5,20"/></g></svg> ',resize:'<svg class="stroked" version="1.1" viewBox="0, 0, 24, 24"><g><path d="M9,3 L3,3 L3,9"/><path d="M15,21 L21,21 L21,15"/><path d="M3,3 L10,10"/><path d="M21,21 L14,14"/></g></svg> ',bug:'<svg class="stroked" viewBox="0 0 24 24"><g><path style="" d="M8,6 C8,3.79,9.79,2,12,2 C14.21,2,16,3.79,16,6 C16,6,8,6,8,6 z"/><path style="" d="M20,7 C20,7,18,9,18,9"/><path style="" d="M20,19 C20,19,18,17,18,17"/><path style="" d="M21,13 C21,13,18,13,18,13"/><path style="" d="M16.44,9 C17.30,9,18.00,9.70,18.00,10.56 C18.00,10.56,18.00,15.00,18.00,15.00 C18.00,18.31,15.31,21,12,21 C8.69,21,6,18.31,6,15.00 C6,15.00,6,10.56,6,10.56 C6,9.70,6.70,9,7.56,9 C7.56,9,16.44,9,16.44,9 z"/><path style="" d="M4,7 C4,7,6,9,6,9"/><path style="" d="M4,19 C4,19,6,17,6,17"/><path style="" d="M3,13 C3,13,6,13,6,13"/><path style="" d="M12,12 C12,12,12,17,12,17"/></g></svg> ',blog:'<svg class="stroked" viewBox="0 0 24 24"><g><path style="" d="M21,10.02 C21,10.02,21,15,21,15 C21,15.53,20.79,16.04,20.41,16.41 C20.04,16.79,19.53,17,19,17 C19,17,7,17,7,17 C5.67,18.33,4.33,19.67,3,21 C3,21,3,5,3,5 C3,4.47,3.21,3.96,3.59,3.59 C3.96,3.21,4.47,3,5,3 C8.53,3,10.49,3,14.02,3"/><path style="" d="M19,2 C19.54,1.46,20.32,1.25,21.05,1.45 C21.78,1.65,22.35,2.22,22.55,2.95 C22.75,3.68,22.54,4.46,22,5 C22,5,15.5,11.5,15.5,11.5 C14.17,11.83,12.83,12.17,11.5,12.5 C11.83,11.17,12.17,9.83,12.5,8.5 C15.67,5.33,15.83,5.17,19,2 z"/><path style="" d="M14.60,3"/><path style="" d="M21,8.77"/><path style="" d="M7,7 C7,7,10,7,10,7"/><path style="" d="M7,10 C7,10,9,10,9,10"/></g></svg> ',sortAscending:'<svg class="stroked" viewBox="0 0 24 24"><g><path d="M16.5,10.5 C16.5,10.5,7.5,10.5,7.5,10.5"/><path d="M14.5,6.5 C14.5,6.5,9.5,6.5,9.5,6.5"/><path d="M18.5,14.5 C18.5,14.5,5.5,14.5,5.5,14.5"/><path d="M20.5,18.5 C20.5,18.5,3.5,18.5,3.5,18.5"/></g></svg> ',npm:'<svg class="filled" version="1.1" viewBox="0 0 512 512"><g></g><path d="M0 0v512h512v-512h-512zM416 416h-64v-256h-96v256h-160v-320h320v320z"></path></svg> ',game:'<svg class="filled" version="1.1" viewBox="0 0 704 512"><g></g><path d="M528 96.79v-0.79h-336c-88.36 0-160 71.64-160 160s71.64 160 160 160c52.34 0 98.82-25.14 128.01-64h63.98c29.19 38.86 75.66 64 128.01 64 88.37 0 160-71.63 160-160 0-82.97-63.15-151.18-144-159.21zM288 288h-64v64h-64v-64h-64v-64h64v-64h64v64h64v64zM480 288c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zM576 288c-17.67 0-32-14.33-32-32 0-17.67 14.33-32 32-32s32 14.33 32 32c0 17.67-14.33 32-32 32z"></path></svg> ',google:'<svg class="filled" version="1.1" viewBox="0 0 512 512"><g></g><path d="M256 0c-141.4 0-256 114.6-256 256s114.6 256 256 256 256-114.6 256-256-114.6-256-256-256zM259.8 448c-106.1 0-192-85.9-192-192s85.9-192 192-192c51.8 0 95.2 18.9 128.6 50.2l-52.1 50.2c-14.3-13.7-39.2-29.6-76.5-29.6-65.6 0-119 54.3-119 121.2s53.5 121.2 119 121.2c76 0 104.5-54.6 108.9-82.8h-108.9v-65.8h181.3c1.6 9.6 3 19.2 3 31.8 0.1 109.7-73.4 187.6-184.3 187.6z"></path></svg> ',discord:'<svg class="filled" version="1.1" viewBox="0 0 1013 768"><g></g><path d="M858.38 64.32c-60.41-28.44-130.58-50.8-204.05-63.60l-5.01-0.72c-8.35 14.47-17.31 32.35-25.34 50.74l-1.44 3.7c-34.87-5.53-75.06-8.69-116.00-8.69s-81.14 3.16-120.37 9.25l4.37-0.56c-9.48-22.09-18.44-39.97-28.27-57.29l1.49 2.86c-78.56 13.64-148.78 36.05-214.41 66.65l5.19-2.17c-132.30 195.75-168.17 386.63-150.24 574.80v0c73.25 54.65 158.46 98.55 250.43 127.12l5.97 1.60c19.28-25.64 37.51-54.63 53.29-85.10l1.63-3.45c-33.48-12.62-61.98-26.51-88.96-42.66l2.48 1.38c7.25-5.26 14.35-10.68 21.2-15.94 75.07 36.14 163.23 57.26 256.32 57.26s181.25-21.12 259.94-58.83l-3.62 1.56c6.93 5.66 14.03 11.08 21.2 15.94-24.54 14.80-53.09 28.72-82.88 40.10l-3.75 1.26c17.37 33.87 35.61 62.84 56.05 90.05l-1.14-1.58c98.00-30.05 183.28-73.93 258.78-130.22l-2.22 1.58c21.04-218.22-35.95-407.35-150.63-575.04zM338.33 523.56c-49.97 0-91.26-45.35-91.26-101.14s39.85-101.54 91.10-101.54 92.21 45.75 91.34 101.54-40.25 101.14-91.18 101.14zM674.99 523.56c-50.05 0-91.18-45.35-91.18-101.14s39.85-101.54 91.18-101.54 91.97 45.75 91.10 101.54-40.17 101.14-91.10 101.14z"></path></svg> '},m_=(J)=>{Object.assign(f7,J)},Lq=(J,Z,Y,X)=>{J.setAttribute("xmlns","http://www.w3.org/2000/svg");for(let Q of[...J.querySelectorAll("path, polygon, line, circle, rect, ellipse, polyline")]){if(Z!==void 0)Q.setAttribute("fill",Z);if(Y!==void 0)Q.setAttribute("stroke",Y);if(X!==void 0)Q.setAttribute("stroke-width",String(X))}let q=J.querySelectorAll("[style]");J.removeAttribute("style");for(let Q of[...q]){let{fill:K,stroke:$,strokeWidth:U,strokeLinecap:W,strokeLinejoin:G}=Q.style;if(K)Q.setAttribute("fill",r.fromCss(K).html);if($)Q.setAttribute("stroke",r.fromCss($).html);if(U)Q.setAttribute("strokeWidth",U);if(W)Q.setAttribute("strokeLinecap",W);if(G)Q.setAttribute("strokeLinejoin",G);Q.removeAttribute("style")}return`url(data:image/svg+xml;charset=UTF-8,${encodeURIComponent(J.outerHTML)})`},v=new Proxy(f7,{get(J,Z){let Y=f7[Z];if(Z&&!Y)console.warn(`icon ${Z} does not exist`);if(!Y)Y=f7.square;return(...X)=>{let q=y.div();q.innerHTML=Y;let Q=q.querySelector("svg"),K=new Set(Q.classList);K.add("xin-icon");let $=b7.svg({class:Array.from(K).join(" "),viewBox:Q.getAttribute("viewBox")},...X,...Q.children);return $.style.strokeWidth=B.xinIconStrokeWidth("2px"),$.style.stroke=B.xinIconStroke(K.has("filled")?"none":"currentColor"),$.style.fill=B.xinIconFill(K.has("stroked")?"none":"currentColor"),$.style.height=B.xinIconSize("16px"),$}}});class d8 extends k{icon="";size=0;fill="";stroke="";strokeWidth=1;constructor(){super();this.initAttributes("icon","size","fill","stroke","strokeWidth")}render(){super.render(),this.textContent="";let J={};if(this.size)J.height=this.size+"px",this.style.setProperty("--xin-icon-size",`${this.size}px`);if(this.stroke)J.stroke=this.stroke,J.strokeWidth=this.strokeWidth;J.fill=this.fill,this.append(v[this.icon]({style:J}))}}var u_=d8.elementCreator({tag:"xin-icon",styleSpec:{":host":{display:"inline-flex",stroke:"currentColor",strokeWidth:B.iconStrokeWidth("2px"),strokeLinejoin:B.iconStrokeLinejoin("round"),strokeLinecap:B.iconStrokeLinecap("round"),fill:B.iconFill("none")},":host, :host svg":{height:B.xinIconSize("16px")}}}),Qq=()=>{};class c8 extends k{babylonReady;BABYLON;static styleSpec={":host":{display:"block",position:"relative"},":host canvas":{width:"100%",height:"100%"},":host .babylonVRicon":{height:50,width:80,backgroundColor:"transparent",filter:"drop-shadow(0 0 4px #000c)",backgroundImage:Lq(v.xrColor()),backgroundPosition:"center",backgroundRepeat:"no-repeat",border:"none",borderRadius:5,borderStyle:"none",outline:"none",transition:"transform 0.125s ease-out"},":host .babylonVRicon:hover":{transform:"scale(1.1)"}};content=y.canvas({part:"canvas"});constructor(){super();this.babylonReady=(async()=>{let{BABYLON:J}=await MJ("https://cdn.babylonjs.com/babylon.js","BABYLON");return J})()}scene;engine;sceneCreated=Qq;update=Qq;_update=()=>{if(this.scene){if(this.update!==void 0)this.update(this,this.BABYLON);if(this.scene.activeCamera!==void 0)this.scene.render()}};onResize(){if(this.engine)this.engine.resize()}loadScene=async(J,Z,Y)=>{let{BABYLON:X}=await MJ("https://cdn.babylonjs.com/loaders/babylonjs.loaders.min.js","BABYLON");X.SceneLoader.Append(J,Z,this.scene,Y)};loadUI=async(J)=>{let{BABYLON:Z}=await MJ("https://cdn.babylonjs.com/gui/babylon.gui.min.js","BABYLON"),Y=Z.GUI.AdvancedDynamicTexture.CreateFullscreenUI("GUI",!0,this.scene),{snippetId:X,jsonUrl:q,data:Q,size:K}=J;if(K)Y.idealWidth=K,Y.renderAtIdealSize=!0;let $;if(X)$=await Y.parseFromSnippetAsync(X);else if(q)$=await Y.parseFromURLAsync(q);else if(Q)$=Y.parseContent(Q);else return null;let U=Y.getChildren()[0],W=U.children.reduce((G,j)=>{return G[j.name]=j,G},{});return{advancedTexture:Y,gui:$,root:U,widgets:W}};connectedCallback(){super.connectedCallback();let{canvas:J}=this.parts;this.babylonReady.then(async(Z)=>{if(this.BABYLON=Z,this.engine=new Z.Engine(J,!0),this.scene=new Z.Scene(this.engine),this.sceneCreated)await this.sceneCreated(this,Z);if(this.scene.activeCamera===void 0)new Z.ArcRotateCamera("default-camera",-Math.PI/2,Math.PI/2.5,3,new Z.Vector3(0,0,0)).attachControl(this.parts.canvas,!0);this.engine.runRenderLoop(this._update)})}}var g_=c8.elementCreator({tag:"xin-3d"});class X4 extends k{content=null;src="";json="";config={renderer:"svg",loop:!0,autoplay:!0};static bodymovinAvailable;animation;static styleSpec={":host":{width:400,height:400,display:"inline-block"}};_loading=!1;get loading(){return this._loading}constructor(){super();if(this.initAttributes("src","json"),X4.bodymovinAvailable===void 0)X4.bodymovinAvailable=MJ("https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.12.2/lottie.min.js","bodymovin")}doneLoading=()=>{this._loading=!1};load=({bodymovin:J})=>{if(this._loading=!0,this.config.container=this.shadowRoot!==null?this.shadowRoot:void 0,this.json!=="")this.config.animationData=this.json,delete this.config.path;else if(this.src!=="")delete this.config.animationData,this.config.path=this.src;else console.log("%c<xin-lottie>%c expected either %cjson%c (animation data) or %csrc% c(url) but found neither.","color: #44f; background: #fff; padding: 0 5px","color: default","color: #44f; background: #fff; padding: 0 5px","color: default","color: #44f; background: #fff; padding: 0 5px","color: default");if(this.animation){this.animation.destroy();let Z=this.shadowRoot;if(Z!==null)Z.querySelector("svg")?.remove()}this.animation=J.loadAnimation(this.config),this.animation.addEventListener("DOMLoaded",this.doneLoading)};render(){super.render(),X4.bodymovinAvailable.then(this.load).catch((J)=>{console.error(J)})}}var f_=X4.elementCreator({tag:"xin-lottie"}),{button:P8,slot:l_,div:v7}=y;class n8 extends k{arrows=!1;dots=!1;loop=!1;maxVisibleItems=1;snapDelay=0.1;snapDuration=0.25;auto=0;lastAutoAdvance=Date.now();interval;autoAdvance=()=>{if(this.auto>0&&this.auto*1000<Date.now()-this.lastAutoAdvance)this.forward()};_page=0;get page(){return this._page}set page(J){let{scroller:Z,back:Y,forward:X}=this.parts;if(this.lastPage<=0)X.disabled=Y.disabled=!0,J=0;else J=Math.max(0,Math.min(this.lastPage,J)),J=isNaN(J)?0:J;if(this._page!==J)this._page=isNaN(J)?0:J,this.animateScroll(this._page*Z.offsetWidth),Y.disabled=this.page<=0&&!this.loop,X.disabled=this.page>=this.lastPage&&!this.loop}get visibleItems(){return[...this.children].filter((J)=>getComputedStyle(J).display!=="none")}get lastPage(){return Math.max(Math.ceil(this.visibleItems.length/(this.maxVisibleItems||1))-1,0)}static styleSpec={":host":{display:"flex",flexDirection:"column",position:"relative"},":host svg":{height:A.carouselIconSize},":host button":{outline:"none",border:"none",boxShadow:"none",background:"transparent",color:A.carouselButtonColor,padding:0},":host::part(back), :host::part(forward)":{position:"absolute",top:0,bottom:0,width:A.carouseButtonWidth,zIndex:2},":host::part(back)":{left:0},":host::part(forward)":{right:0},":host button:disabled":{opacity:0.5,pointerEvents:"none"},":host button:hover":{color:A.carouselButtonHoverColor},":host button:active":{color:A.carouselButtonActiveColor},":host::part(pager)":{position:"relative"},":host::part(scroller)":{overflow:"auto hidden",position:"relative"},":host::part(grid)":{display:"grid",justifyItems:"center"},":host *::-webkit-scrollbar, *::-webkit-scrollbar-thumb":{display:"none"},":host .dot":{background:A.carouselButtonColor,borderRadius:A.carouselDotSize,height:A.carouselDotSize,width:A.carouselDotSize,transition:A.carouselDotTransition},":host .dot:not(.current):hover":{background:A.carouselButtonHoverColor,height:A.carouselDotSize150,width:A.carouselDotSize150,margin:A.carouselDotSize_25},":host .dot:not(.current):active":{background:A.carouselButtonActiveColor},":host .dot.current":{background:A.carouselDotCurrentColor},":host::part(progress)":{display:"flex",gap:A.carouselDotSpacing,justifyContent:"center",padding:A.carouselProgressPadding}};easing=(J)=>{return Math.sin(J*Math.PI*0.5)};indicateCurrent=()=>{let{scroller:J,progress:Z}=this.parts,Y=J.scrollLeft/J.offsetWidth;[...Z.children].forEach((X,q)=>{X.classList.toggle("current",Math.floor(q/this.maxVisibleItems-Y)===0)}),this.lastAutoAdvance=Date.now(),clearTimeout(this.snapTimer),this.snapTimer=setTimeout(this.snapPosition,this.snapDelay*1000)};snapPosition=()=>{let{scroller:J}=this.parts,Z=Math.round(J.scrollLeft/J.offsetWidth);if(Z!==this.page)this.page=Z>this.page?Math.ceil(Z):Math.floor(Z);this.lastAutoAdvance=Date.now()};back=()=>{this.page=this.page>0?this.page-1:this.lastPage};forward=()=>{this.page=this.page<this.lastPage?this.page+1:0};handleDotClick=(J)=>{let{progress:Z}=this.parts,Y=[...Z.children].indexOf(J.target);if(Y>-1)this.page=Math.floor(Y/this.maxVisibleItems)};snapTimer;animationFrame;animateScroll(J,Z=-1,Y=0){cancelAnimationFrame(this.animationFrame);let{scroller:X}=this.parts;if(Z===-1){Z=X.scrollLeft,Y=Date.now(),this.animationFrame=requestAnimationFrame(()=>{this.animateScroll(J,Z,Y)});return}let q=(Date.now()-Y)/1000;if(q>=this.snapDuration||Math.abs(X.scrollLeft-J)<2)X.scrollLeft=J,this.animationFrame=null;else X.scrollLeft=Z+this.easing(q/this.snapDuration)*(J-Z),this.animationFrame=requestAnimationFrame(()=>{this.animateScroll(J,Z,Y)})}content=()=>[v7({part:"pager"},P8({title:"previous slide",part:"back"},v.chevronLeft()),v7({title:"slides",role:"group",part:"scroller"},v7({part:"grid"},l_())),P8({title:"next slide",part:"forward"},v.chevronRight())),v7({title:"choose slide to display",role:"group",part:"progress"})];constructor(){super();this.initAttributes("dots","arrows","maxVisibleItems","snapDuration","loop","auto")}connectedCallback(){super.connectedCallback(),this.ariaRoleDescription="carousel",this.ariaOrientation="horizontal",this.ariaReadOnly="true";let{back:J,forward:Z,scroller:Y,progress:X}=this.parts;J.addEventListener("click",this.back),Z.addEventListener("click",this.forward),Y.addEventListener("scroll",this.indicateCurrent),X.addEventListener("click",this.handleDotClick),this.lastAutoAdvance=Date.now(),this.interval=setInterval(this.autoAdvance,100)}disconnectedCallback(){clearInterval(this.interval)}render(){super.render();let{dots:J,arrows:Z,visibleItems:Y,lastPage:X}=this,{progress:q,back:Q,forward:K,grid:$}=this.parts;Y.forEach((U)=>{U.role="group"}),$.style.gridTemplateColumns=`${100/this.maxVisibleItems/(1+this.lastPage)}% `.repeat(Y.length).trim(),$.style.width=(1+this.lastPage)*100+"%",q.textContent="",q.append(...Y.map((U,W)=>P8({title:`item ${W+1}`,class:"dot"}))),this.indicateCurrent(),q.style.display=J&&X>0?"":"none",Q.hidden=K.hidden=!(Z&&X>0)}}var p_=n8.elementCreator({tag:"xin-carousel",styleSpec:{":host":{_carouselIconSize:24,_carouselButtonColor:"#0004",_carouselButtonHoverColor:"#0006",_carouselButtonActiveColor:"#000c",_carouseButtonWidth:48,_carouselDotCurrentColor:"#0008",_carouselDotSize:8,_carouselDotSpacing:A.carouselDotSize,_carouselProgressPadding:12,_carouselDotTransition:"0.125s ease-in-out"},":host:focus":{outline:"none",boxShadow:"none"}}}),Bq="https://cdnjs.cloudflare.com/ajax/libs/ace/1.23.2/",Pq="ace/theme/tomorrow",d_=async()=>{let{ace:J}=await MJ(`${Bq}ace.min.js`);return J},c_=async(J,Z="html",Y={},X=Pq)=>{let q=await d_();q.config.set("basePath",Bq);let Q=q.edit(J,{mode:`ace/mode/${Z}`,tabSize:2,useSoftTabs:!0,useWorker:!1,...Y});return Q.setTheme(X),{ace:q,editor:Q}};class q4 extends k{source="";get value(){return this.editor===void 0?this.source:this.editor.getValue()}set value(J){if(this.editor===void 0)this.source=J;else this.editor.setValue(J),this.editor.clearSelection(),this.editor.session.getUndoManager().reset()}mode="javascript";disabled=!1;role="code editor";_ace;_editor;_editorPromise;options={};theme=Pq;get ace(){return this._ace}get editor(){return this._editor}static styleSpec={":host":{display:"block",position:"relative",width:"100%",height:"100%"}};constructor(){super();this.initAttributes("mode","theme","disabled")}onResize(){if(this.editor!==void 0)this.editor.resize(!0)}connectedCallback(){if(super.connectedCallback(),this.source==="")this.value=this.textContent!==null?this.textContent.trim():"";if(this._editorPromise===void 0)this._editorPromise=c_(this,this.mode,this.options,this.theme),this._editorPromise.then(({ace:J,editor:Z})=>{this._ace=J,this._editor=Z,Z.setValue(this.source,1),Z.clearSelection(),Z.session.getUndoManager().reset()})}render(){if(super.render(),this._editorPromise!==void 0)this._editorPromise.then(({editor:J})=>J.setReadOnly(this.disabled))}}var l7=q4.elementCreator({tag:"xin-code"}),{input:E8}=y,Kq=r.fromCss("#8888");class Eq extends k{value=Kq.rgba;color=Kq;static styleSpec={":host":{_gap:8,_swatchSize:32,_cssWidth:72,_alphaWidth:72,display:"inline-flex",gap:A.gap,alignItems:"center"},':host input[type="color"]':{border:0,width:A.swatchSize,height:A.swatchSize,background:"transparent"},":host::part(alpha)":{width:A.alphaWidth},":host::part(css)":{width:A.cssWidth,fontFamily:"monospace"}};content=[E8({title:"base color",type:"color",part:"rgb"}),E8({type:"range",title:"opacity",part:"alpha",min:0,max:1,step:0.05}),E8({title:"css color spec",part:"css"})];valueChanged=!1;update=(J)=>{let{rgb:Z,alpha:Y,css:X}=this.parts;if(J.type==="input")this.color=r.fromCss(Z.value),this.color.a=Number(Y.value),X.value=this.color.html;else this.color=r.fromCss(X.value),Z.value=this.color.html.substring(0,7),Y.value=String(this.color.a);Z.style.opacity=String(this.color.a),this.value=this.color.rgba,this.valueChanged=!0};connectedCallback(){super.connectedCallback();let{rgb:J,alpha:Z,css:Y}=this.parts;J.addEventListener("input",this.update),Z.addEventListener("input",this.update),Y.addEventListener("change",this.update)}render(){if(this.valueChanged){this.valueChanged=!1;return}let{rgb:J,alpha:Z,css:Y}=this.parts;this.color=r.fromCss(this.value),J.value=this.color.html.substring(0,7),J.style.opacity=String(this.color.a),Z.value=String(this.color.a),Y.value=this.color.html}}var Cq=Eq.elementCreator({tag:"xin-color"}),g5=y.div({style:{content:" ",position:"fixed",top:0,left:0,right:0,bottom:0}}),m7={passive:!0},l5=(J,Z,Y="move")=>{if(!J.type.startsWith("touch")){let{clientX:X,clientY:q}=J;g5.style.cursor=Y,U3(g5),document.body.append(g5);let Q=(K)=>{let $=K.clientX-X,U=K.clientY-q;if(Z($,U,K)===!0)g5.removeEventListener("mousemove",Q),g5.removeEventListener("mouseup",Q),g5.remove()};g5.addEventListener("mousemove",Q,m7),g5.addEventListener("mouseup",Q,m7)}else if(J instanceof TouchEvent){let X=J.changedTouches[0],q=X.identifier,Q=X.clientX,K=X.clientY,$=J.target,U=0,W=0,G=(j)=>{let z=[...j.touches].find((O)=>O.identifier===q);if(z!==void 0)U=z.clientX-Q,W=z.clientY-K;if(j.type==="touchmove")j.stopPropagation(),j.preventDefault();if(Z(U,W,j)===!0||z===void 0)$.removeEventListener("touchmove",G),$.removeEventListener("touchend",G),$.removeEventListener("touchcancel",G)};$.addEventListener("touchmove",G),$.addEventListener("touchend",G,m7),$.addEventListener("touchcancel",G,m7)}},n7=(J="body *")=>[...document.querySelectorAll(J)].map((Z)=>parseFloat(getComputedStyle(Z).zIndex)).reduce((Z,Y)=>isNaN(Z)||Number(Z)<Y?Y:Number(Z),0),U3=(J,Z="body *")=>{J.style.zIndex=String(n7(Z)+1)},{slot:n_}=y;class p5 extends k{static floats=new Set;drag=!1;remainOnResize="remove";remainOnScroll="remain";content=n_();static styleSpec={":host":{position:"fixed"}};constructor(){super();this.initAttributes("drag","remainOnResize","remainOnScroll")}reposition=(J)=>{if(J.target?.closest(".no-drag"))return;if(this.drag){U3(this);let Z=this.offsetLeft,Y=this.offsetTop;l5(J,(X,q,Q)=>{if(this.style.left=`${Z+X}px`,this.style.top=`${Y+q}px`,this.style.right="auto",this.style.bottom="auto",Q.type==="mouseup")return!0})}};connectedCallback(){super.connectedCallback(),p5.floats.add(this);let J={passive:!0};this.addEventListener("touchstart",this.reposition,J),this.addEventListener("mousedown",this.reposition,J),U3(this)}disconnectedCallback(){super.disconnectedCallback(),p5.floats.delete(this)}}var u8=p5.elementCreator({tag:"xin-float"});window.addEventListener("resize",()=>{Array.from(p5.floats).forEach((J)=>{if(J.remainOnResize==="hide")J.hidden=!0;else if(J.remainOnResize==="remove")J.remove()})},{passive:!0});document.addEventListener("scroll",(J)=>{if(J.target instanceof HTMLElement&&J.target.closest(p5.tagName))return;Array.from(p5.floats).forEach((Z)=>{if(Z.remainOnScroll==="hide")Z.hidden=!0;else if(Z.remainOnScroll==="remove")Z.remove()})},{passive:!0,capture:!0});var Tq=(J)=>{let{content:Z,target:Y,position:X,remainOnScroll:q,remainOnResize:Q,draggable:K}=J,$=Array.isArray(Z)?u8(...Z):u8(Z);if(yq($,Y,X,q,Q,K),J.class)$.setAttribute("class",J.class);return document.body.append($),$},yq=(J,Z,Y,X,q,Q=!1)=>{{let{position:H}=getComputedStyle(J);if(H!=="fixed")J.style.position="fixed";if(q)J.remainOnResize=q;if(X)J.remainOnScroll=X;U3(J)}J.drag=Q;let{left:K,top:$,width:U,height:W}=Z.getBoundingClientRect(),G=K+U*0.5,j=$+W*0.5,z=window.innerWidth,O=window.innerHeight;if(Y==="side")Y=(G<z*0.5?"e":"w")+(j<O*0.5?"s":"n");else if(Y==="auto"||Y===void 0)Y=(j<O*0.5?"s":"n")+(G<z*0.5?"e":"w");if(J.style.top=J.style.left=J.style.right=J.style.bottom=J.style.transform="",Y.length===2){let[H,N]=Y;switch(H){case"n":J.style.bottom=(O-$).toFixed(2)+"px";break;case"e":J.style.left=(K+U).toFixed(2)+"px";break;case"s":J.style.top=($+W).toFixed(2)+"px";break;case"w":J.style.right=(z-K).toFixed(2)+"px";break}switch(N){case"n":J.style.bottom=(O-$-W).toFixed(2)+"px";break;case"e":J.style.left=K.toFixed(2)+"px";break;case"s":J.style.top=$.toFixed(2)+"px";break;case"w":J.style.right=(z-K-U).toFixed(2)+"px";break}J.style.transform=""}else if(Y==="n")J.style.bottom=(O-$).toFixed(2)+"px",J.style.left=G.toFixed(2)+"px",J.style.transform="translateX(-50%)";else if(Y==="s")J.style.top=($+W).toFixed(2)+"px",J.style.left=G.toFixed(2)+"px",J.style.transform="translateX(-50%)";else if(Y==="e")J.style.left=(K+U).toFixed(2)+"px",J.style.top=j.toFixed(2)+"px",J.style.transform="translateY(-50%)";else if(Y==="w")J.style.right=(z-K).toFixed(2)+"px",J.style.top=j.toFixed(2)+"px",J.style.transform="translateY(-50%)";J.style.setProperty("--max-height",`calc(100vh - ${J.style.top||J.style.bottom})`),J.style.setProperty("--max-width",`calc(100vw - ${J.style.left||J.style.right})`)};function bq(J,Z=!0){return(Y,X)=>{let q=J(Y),Q=J(X);for(let K in q)if(q[K]!==Q[K])return(Array.isArray(Z)?Z[K]!==!1:Z)?q[K]>Q[K]?1:-1:q[K]>Q[K]?-1:1;return 0}}var{button:i_,span:$q,input:s_}=y,Sq=(J,Z)=>{return!!J.find((Y)=>{if(Y===null||Z==null)return!1;else if(Array.isArray(Y))return Sq(Y,Z);else if(Y.value===Z||Y===Z)return!0})};class G3 extends k{editable=!1;showIcon=!1;hideCaption=!1;options="";value="";placeholder="";filter="";localized=!1;disabled=!1;setValue=(J,Z=!1)=>{if(this.value!==J)this.value=J;if(Z)this.dispatchEvent(new Event("action"))};getValue=()=>this.value;get selectOptions(){return typeof this.options==="string"?this.options.split(",").map((J)=>J.trim()||null):this.options}buildOptionMenuItem=(J)=>{if(J===null)return null;let{setValue:Z,getValue:Y}=this,X,q,Q;if(typeof J==="string")q=Q=J;else({icon:X,caption:q,value:Q}=J);if(this.localized)q=h0(q);let{options:K}=J;if(K)return{icon:X,caption:q,checked:()=>Sq(K,Y()),menuItems:K.map(this.buildOptionMenuItem)};return{icon:X,caption:q,checked:()=>Y()===Q,action:typeof Q==="function"?async()=>{let $=await Q();if($!==void 0)Z($,!0)}:()=>{if(typeof Q==="string")Z(Q,!0)}}};get optionsMenu(){let J=this.selectOptions.map(this.buildOptionMenuItem);if(this.filter==="")return J;let Z=(Y)=>{if(Y===null)return!0;else if(Y.menuItems)return Y.menuItems=Y.menuItems.filter(Z),Y.menuItems.length>0;else return Y.caption.toLocaleLowerCase().includes(this.filter)};return J.filter(Z)}handleChange=(J)=>{let{value:Z}=this.parts,Y=Z.value||"";if(this.value!==String(Y))this.value=Y,this.dispatchEvent(new Event("change"));this.filter="",J.stopPropagation(),J.preventDefault()};handleKey=(J)=>{if(J.key==="Enter")J.preventDefault()};filterMenu=e4(()=>{this.filter=this.parts.value.value.toLocaleLowerCase(),DJ(0),this.popOptions()});popOptions=(J)=>{if(J&&J.type==="click")this.filter="";this.poppedOptions=this.optionsMenu,U5({target:this,menuItems:this.poppedOptions,showChecked:!0})};content=()=>[i_({part:"button",onClick:this.popOptions},$q(),s_({part:"value",value:this.value,tabindex:0,onKeydown:this.handleKey,onInput:this.filterMenu,onChange:this.handleChange}),v.chevronDown())];constructor(){super();this.initAttributes("options","editable","placeholder","showIcon","hideCaption","localized","disabled")}get allOptions(){let J=[];function Z(Y){for(let X of Y)if(typeof X==="string")J.push({caption:X,value:X});else if(X?.value)J.push(X);else if(X?.options)Z(X.options)}return Z(this.selectOptions),J}findOption(){return this.allOptions.find((J)=>J.value===this.value)||{caption:this.value,value:this.value}}localeChanged=()=>{this.queueRender()};connectedCallback(){if(super.connectedCallback(),this.localized)$5.allInstances.add(this)}disconnectedCallback(){if(super.disconnectedCallback(),this.localized)$5.allInstances.delete(this)}render(){super.render();let{value:J,button:Z}=this.parts;Z.disabled=this.disabled;let Y=J.previousElementSibling,X=this.findOption(),q=$q();if(J.value=this.localized?h0(X.caption):X.caption,X.icon)if(X.icon instanceof HTMLElement)q=X.icon.cloneNode(!0);else q=v[X.icon]();Y.replaceWith(q),J.setAttribute("placeholder",this.localized?h0(this.placeholder):this.placeholder),J.style.pointerEvents=this.editable?"":"none",J.readOnly=!this.editable}}var IJ=G3.elementCreator({tag:"xin-select",styleSpec:{":host":{"--gap":"8px","--touch-size":"44px","--padding":"0 8px","--value-padding":"0 8px","--icon-width":"24px","--fieldWidth":"140px",display:"inline-flex",position:"relative"},":host button":{display:"flex",alignItems:"center",justifyItems:"center",gap:A.gap,textAlign:"left",height:A.touchSize,padding:A.padding,position:"relative",width:"100%"},":host:not([show-icon]) button > :first-child":{display:"none"},":host[hide-caption] button > :nth-child(2)":{display:"none"},':host [part="value"]':{width:A.fieldWidth,padding:A.valuePadding,height:A.touchSize,lineHeight:A.touchSize,boxShadow:"none",whiteSpace:"nowrap",outline:"none",background:"transparent",flex:"1"},':host [part="value"]:not(:focus)':{overflow:"hidden",textOverflow:"ellipsis",background:"transparent"}}}),{span:kq}=y,{i18n:S0}=E5({i18n:{locale:window.navigator.language,locales:[window.navigator.language],languages:[window.navigator.language],emoji:[""],stringMap:{},localeOptions:[{icon:kq(),caption:window.navigator.language,value:window.navigator.language}]}});m5.localeOptions={toDOM(J,Z){if(J instanceof G3)J.options=Z}};var a_=(J)=>{if(S0.locales.xinValue.includes(J))S0.locale.xinValue=J;else console.error(`language ${J} is not available`)},i8=()=>{let J=Array.from($5.allInstances);for(let Z of J)Z.localeChanged()};Y3(S0.locale.xinPath,i8);var r_=bq((J)=>[J.caption.toLocaleLowerCase()]);function o_(J){let[Z,,Y,X,...q]=J.split(`
`).map((Q)=>Q.split("\t"));if(Z&&Y&&X&&q){if(S0.locales.xinValue=Z,S0.languages.xinValue=Y,S0.emoji.xinValue=X,S0.stringMap.xinValue=q.reduce((Q,K)=>{return Q[K[0].toLocaleLowerCase()]=K,Q},{}),S0.localeOptions.xinValue=Z.map((Q,K)=>({icon:kq({title:Z[K]},X[K]),caption:Y[K],value:Q})).sort(r_),!S0.locales.xinValue.includes(S0.locale.xinValue)){let Q=S0.locale.substring(0,2);S0.locale.xinValue=S0.locales.xinValue.find((K)=>K.substring(0,2)===Q)||S0.locales.xinValue[0]}i8()}}function h0(J){if(J.endsWith(""))return h0(J.substring(0,J.length-1))+"";let Z=S0.locales.xinValue.indexOf(S0.locale.xinValue);if(Z>-1){let Y=S0.stringMap[J.toLocaleLowerCase()],X=Y.xinValue&&Y[Z];if(X)J=J.toLocaleLowerCase()===J?X.toLocaleLowerCase():X.tosiValue}return J}class s8 extends k{hideCaption=!1;content=()=>{return IJ({part:"select",showIcon:!0,title:h0("Language"),bindValue:S0.locale,bindLocaleOptions:S0.localeOptions})};constructor(){super();this.initAttributes("hideCaption")}render(){super.render(),this.parts.select.toggleAttribute("hide-caption",this.hideCaption)}}var t_=s8.elementCreator({tag:"xin-locale-picker"});class $5 extends k{static allInstances=new Set;contents=()=>y.xinSlot();refString="";constructor(){super();this.initAttributes("refString")}connectedCallback(){super.connectedCallback(),$5.allInstances.add(this)}disconnectedCallback(){super.disconnectedCallback(),$5.allInstances.delete(this)}localeChanged(){if(!this.refString)this.refString=this.textContent||"";this.textContent=this.refString?h0(this.refString):""}render(){super.render(),this.localeChanged()}}var i7=$5.elementCreator({tag:"xin-localized",styleSpec:{":host":{pointerEvents:"none"}}}),e_=(J,Z)=>{Z=Z.toLocaleLowerCase();let Y=!!Z.match(/\^|ctrl/),X=!!Z.match(/|meta/),q=!!Z.match(/||alt|option/),Q=!!Z.match(/|shift/),K=Z.slice(-1);return J.key===K&&J.metaKey===X&&J.ctrlKey===Y&&J.altKey===q&&J.shiftKey===Q},{div:Uq,button:a8,span:l1,a:JH,xinSlot:ZH}=y;OJ("xin-menu-helper",{".xin-menu":{overflow:"hidden auto",maxHeight:`calc(${A.maxHeight} - ${B.menuInset("8px")})`,borderRadius:A.spacing50,background:B.menuBg("#fafafa"),boxShadow:B.menuShadow(`${A.spacing13} ${A.spacing50} ${A.spacing} #0004`)},".xin-menu > div":{width:B.menuWidth("auto")},".xin-menu-trigger":{paddingLeft:0,paddingRight:0,minWidth:B.touchSize("48px")},".xin-menu-separator":{display:"inline-block",content:" ",height:"1px",width:"100%",background:B.menuSeparatorColor("#2224"),margin:B.menuSeparatorMargin("8px 0")},".xin-menu-item":{boxShadow:"none",border:"none !important",display:"grid",alignItems:"center",justifyContent:"flex-start",textDecoration:"none",gridTemplateColumns:"0px 1fr 30px",width:"100%",gap:0,background:"transparent",padding:B.menuItemPadding("0 16px"),height:B.menuItemHeight("48px"),lineHeight:B.menuItemHeight("48px"),textAlign:"left"},".xin-menu-item, .xin-menu-item > span":{color:B.menuItemColor("#222")},".xin-menu-with-icons .xin-menu-item":{gridTemplateColumns:"30px 1fr 30px"},".xin-menu-item svg":{stroke:B.menuItemIconColor("#222")},".xin-menu-item.xin-menu-item-checked":{background:B.menuItemHoverBg("#eee")},".xin-menu-item > span:nth-child(2)":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"left"},".xin-menu-item:hover":{boxShadow:"none !important",background:B.menuItemHoverBg("#eee")},".xin-menu-item:active":{boxShadow:"none !important",background:B.menuItemActiveBg("#aaa"),color:B.menuItemActiveColor("#000")},".xin-menu-item:active svg":{stroke:B.menuItemIconActiveColor("#000")}});var wq=(J,Z)=>{let Y=J.checked&&J.checked()&&"check"||!1,X=J?.icon||Y||l1(" ");if(typeof X==="string")X=v[X]();let q;if(typeof J?.action==="string")q=JH({class:"xin-menu-item",href:J.action},X,Z.localized?l1(h0(J.caption)):l1(J.caption),l1(J.shortcut||" "));else q=a8({class:"xin-menu-item",onClick:J.action},X,Z.localized?l1(h0(J.caption)):l1(J.caption),l1(J.shortcut||" "));if(q.classList.toggle("xin-menu-item-checked",Y!==!1),J?.enabled&&!J.enabled())q.setAttribute("disabled","");return q},xq=(J,Z)=>{let Y=J.checked&&J.checked()&&"check"||!1,X=J?.icon||Y||l1(" ");if(typeof X==="string")X=v[X]();let q=a8({class:"xin-menu-item",disabled:!(!J.enabled||J.enabled()),onClick(Q){U5(Object.assign({},Z,{menuItems:J.menuItems,target:q,submenuDepth:(Z.submenuDepth||0)+1,position:"side"})),Q.stopPropagation(),Q.preventDefault()}},X,Z.localized?l1(h0(J.caption)):l1(J.caption),v.chevronRight({style:{justifySelf:"flex-end"}}));return q},hq=(J,Z)=>{if(J===null)return l1({class:"xin-menu-separator"});else{let Y=J?.action?wq(J,Z):xq(J,Z);if(Z.showChecked&&J.checked&&J.checked())requestAnimationFrame(()=>{Y.scrollIntoView({block:"center"})});return Y}},vq=(J)=>{let{target:Z,width:Y,menuItems:X}=J,q=X.find((Q)=>Q?.icon||Q?.checked);return Uq({class:q?"xin-menu xin-menu-with-icons":"xin-menu",onClick(){DJ(0)}},Uq({style:{minWidth:Z.offsetWidth+"px",width:typeof Y==="number"?`${Y}px`:Y},onMousedown(Q){Q.preventDefault(),Q.stopPropagation()}},...X.map((Q)=>hq(Q,J))))},Z4,AJ=[],DJ=(J=0)=>{let Z=AJ.splice(J);for(let Y of Z)Y.menu.remove();return Z4=Z[0],J>0?AJ[J-1]:void 0};document.body.addEventListener("mousedown",(J)=>{if(J.target&&!AJ.find((Z)=>Z.target.contains(J.target)))DJ(0)});document.body.addEventListener("keydown",(J)=>{if(J.key==="Escape")DJ(0)});var U5=(J)=>{J=Object.assign({submenuDepth:0},J);let{target:Z,position:Y,submenuDepth:X}=J;if(Z4&&!document.body.contains(Z4?.menu))Z4=void 0;if(AJ.length&&!document.body.contains(AJ[0].menu))AJ.splice(0);if(X===0&&Z4?.target===Z)return;let q=DJ(X);if(Z4?.target===Z)return;if(q&&q.target===Z){DJ();return}if(!J.menuItems?.length)return;let Q=vq(J),K=Tq({content:Q,target:Z,position:Y});K.remainOnScroll="remove",AJ.push({target:Z,menu:K})};function mq(J,Z){for(let Y of J){if(!Y)continue;let{shortcut:X}=Y,{menuItems:q}=Y;if(X){if(e_(Z,X))return Y}else if(q){let Q=mq(q,Z);if(Q)return Q}}return}class r8 extends k{menuItems=[];menuWidth="auto";localized=!1;showMenu=(J)=>{if(J.type==="click"||J.code==="Space")U5({target:this.parts.trigger,width:this.menuWidth,localized:this.localized,menuItems:this.menuItems}),J.stopPropagation(),J.preventDefault()};content=()=>a8({tabindex:0,part:"trigger",onClick:this.showMenu},ZH());handleShortcut=async(J)=>{let Z=mq(this.menuItems,J);if(Z){if(Z.action instanceof Function)Z.action()}};constructor(){super();this.initAttributes("menuWidth","localized","icon"),this.addEventListener("keydown",this.showMenu)}connectedCallback(){super.connectedCallback(),document.addEventListener("keydown",this.handleShortcut,!0)}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("keydown",this.handleShortcut)}}var YH=r8.elementCreator({tag:"xin-menu",styleSpec:{":host":{display:"inline-block"},":host button > xin-slot":{display:"flex",alignItems:"center",gap:B.xinMenuTriggerGap("10px")}}}),uq={};h_(uq,{init:()=>pq,draggedElement:()=>$H});var XH=()=>!!document.querySelector(".drag-source"),gq=(J,Z)=>{if(!J)return!1;for(let Y of J)if(Y==="special/any")return!0;else if(Y.indexOf("*")>-1){let[X,q]=Y.split("/"),[Q,K]=Z.split("/");if((X==="*"||X===Q)&&(q==="*"||q===K))return!0}else if(Y===Z)return!0},p7=(J)=>{for(let Z of[...document.querySelectorAll(`.${J}`)])Z.classList.remove(J)},fq=()=>{p7("drag-over"),p7("drag-source"),p7("drag-target")},g8=(J,Z=";")=>{return(J||"").split(Z).map((Y)=>Y.trim()).filter((Y)=>Y!=="")},lq=(J)=>{if(!J)J=[];let Z=[...document.querySelectorAll("[data-drop]")];for(let Y of Z){let X=g8(Y.dataset.drop);if(J.find((q)=>gq(X,q)))Y.classList.add("drag-target");else Y.classList.remove("drag-target")}};function qH(J){let Z=J.target?.closest('[draggable="true"],a[href]');if(!Z)return;Z.classList.add("drag-source");let Y=Z.matches('[draggable="true"]')?g8(Z.dataset.drag||"text/html"):g8(Z.dataset.drag||"url");for(let X of Y){let q=Z.dataset.dragContent||(X==="text/html"?Z.innerHTML:Z.textContent);J.dataTransfer?.setData(X,q||"")}lq(J.dataTransfer?.types),J.stopPropagation()}function Wq(J){if(!XH())lq(J.dataTransfer?.types);let Z=J.target.closest(".drag-target");if(Z&&J.dataTransfer)Z.classList.add("drag-over"),J.dataTransfer.dropEffect="copy";else J.preventDefault(),J.stopPropagation()}function QH(){p7("drag-over")}function KH(J){let Z=J.target.closest(".drag-target");if(Z){let Y=(Z.dataset?.drop||"").split(";");for(let X of Y)if(gq(J.dataTransfer?.types,X))if(X==="text/html")Z.innerHTML=J.dataTransfer?.getData(X)||"";else Z.textContent=J.dataTransfer?.getData(X)||""}fq()}var $H=()=>document.querySelector(".drag-source"),Gq=!1,pq=()=>{if(Gq)return;document.body.addEventListener("dragstart",qH),document.body.addEventListener("dragenter",Wq),document.body.addEventListener("dragover",Wq),document.body.addEventListener("drop",KH),document.body.addEventListener("dragleave",QH),document.body.addEventListener("dragend",fq),window.addEventListener("dragover",(J)=>J.preventDefault()),window.addEventListener("drop",(J)=>J.preventDefault()),Gq=!0};function UH(J,Z,Y){let X=J.find((q)=>q[Z]!==void 0&&q[Z]!==null);if(X!==void 0){let q=X[Z];switch(typeof q){case"string":if(q.match(/^\d+(\.\d+)?$/))return 6*Y;else if(q.includes(" "))return 20*Y;else return 12*Y;case"number":return 6*Y;case"boolean":return 5*Y;case"object":return!1;default:return 8*Y}}return!1}var{div:J4,span:C8,button:WH,template:GH}=y,jq=(J)=>J;class o8 extends k{select=!1;multiple=!1;nosort=!1;nohide=!1;noreorder=!1;selectionChanged=()=>{};localized=!1;selectedKey=Symbol("selected");selectBinding=(J,Z)=>{J.toggleAttribute("aria-selected",Z[this.selectedKey]===!0)};pinnedTop=0;pinnedBottom=0;maxVisibleRows=1e4;get value(){return{array:this.array,filter:this.filter,columns:this.columns}}set value(J){let{array:Z,columns:Y,filter:X}=q1(J);if(this._array!==Z||this._columns!==Y||this._filter!==X)this.queueRender();this._array=Z||[],this._columns=Y||null,this._filter=X||jq}rowData={visible:[],pinnedTop:[],pinnedBottom:[]};_array=[];_columns=null;_filter=jq;charWidth=15;rowHeight=30;minColumnWidth=30;get virtual(){return this.rowHeight>0?{height:this.rowHeight}:void 0}constructor(){super();this.rowData=E5({[this.instanceId]:this.rowData})[this.instanceId],this.initAttributes("rowHeight","charWidth","minColumnWidth","select","multiple","pinnedTop","pinnedBottom","nosort","nohide","noreorder","localized")}get array(){return this._array}set array(J){this._array=q1(J),this.queueRender()}get filter(){return this._filter}set filter(J){if(this._filter!==J)this._filter=J,this.queueRender()}get sort(){if(this._sort)return this._sort;let J=this._columns?.find((Y)=>Y.sort==="ascending"||Y.sort==="descending");if(!J)return;let{prop:Z}=J;return J.sort==="ascending"?(Y,X)=>Y[Z]>X[Z]?1:-1:(Y,X)=>Y[Z]>X[Z]?-1:1}set sort(J){if(this._sort!==J)this._sort=J,this.queueRender()}get columns(){if(!Array.isArray(this._columns)){let{_array:J}=this;this._columns=Object.keys(J[0]||{}).map((Z)=>{let Y=UH(J,Z,this.charWidth);return{name:Z.replace(/([a-z])([A-Z])/g,"$1 $2").toLocaleLowerCase(),prop:Z,align:typeof J[0][Z]==="number"||J[0][Z]!==""&&!isNaN(J[0][Z])?"right":"left",visible:Y!==!1,width:Y?Y:0}})}return this._columns}set columns(J){this._columns=J,this.queueRender()}get visibleColumns(){return this.columns.filter((J)=>J.visible!==!1)}content=null;getColumn(J){let Z=(J.touches!==void 0?J.touches[0].clientX:J.clientX)-this.getBoundingClientRect().x,Y=J.touches!==void 0?20:5,X=0,q=[];return this.visibleColumns.find((Q)=>{if(Q.visible!==!1)return X+=Q.width,q.push(X),Math.abs(Z-X)<Y})}setCursor=(J)=>{if(this.getColumn(J)!==void 0)this.style.cursor="col-resize";else this.style.cursor=""};resizeColumn=(J)=>{let Z=this.getColumn(J);if(Z!==void 0){let Y=Number(Z.width),X=J.touches!==void 0,q=X?J.touches[0].identifier:void 0;l5(J,(Q,K,$)=>{if((X?[...$.touches].find((W)=>W.identifier===q):!0)===void 0)return!0;let U=Y+Q;if(Z.width=U>this.minColumnWidth?U:this.minColumnWidth,this.setColumnWidths(),$.type==="mouseup")return!0},"col-resize")}};selectRow(J,Z=!0){if(Z)J[this.selectedKey]=!0;else delete J[this.selectedKey]}selectRows(J,Z=!0){for(let Y of J||this.array)this.selectRow(Y,Z)}deSelect(J){this.selectRows(J,!1)}rangeStart;updateSelection=(J)=>{if(!this.select&&!this.multiple)return;let{target:Z}=J;if(!(Z instanceof HTMLElement))return;let Y=Z.closest(".tr");if(!(Y instanceof HTMLElement))return;let X=zJ(Y);if(X===!1)return;let q=J,Q=window.getSelection();if(Q!==null)Q.removeAllRanges();let K=this.visibleRows;if(this.multiple&&q.shiftKey&&K.length>0&&this.rangeStart!==X){let $=this.rangeStart===void 0||this.rangeStart[this.selectedKey]===!0,[U,W]=[this.rangeStart!==void 0?K.indexOf(this.rangeStart):0,K.indexOf(X)].sort((G,j)=>G-j);if(U>-1)for(let G=U;G<=W;G++){let j=K[G];this.selectRow(j,$)}}else if(this.multiple&&q.metaKey){this.selectRow(X,!X[this.selectedKey]);let $=K.indexOf(X),U=K[$+1],W=$>0?K[$-1]:void 0;if(U!==void 0&&U[this.selectedKey]===!0)this.rangeStart=U;else if(W!==void 0&&W[this.selectedKey]===!0)this.rangeStart=W;else this.rangeStart=void 0}else this.rangeStart=X,this.deSelect(),this.selectRow(X,!0);this.selectionChanged(this.visibleSelectedRows);for(let $ of Array.from(this.querySelectorAll(".tr"))){let U=zJ($);this.selectBinding($,U)}};connectedCallback(){super.connectedCallback(),this.addEventListener("mousemove",this.setCursor),this.addEventListener("mousedown",this.resizeColumn),this.addEventListener("touchstart",this.resizeColumn,{passive:!0}),this.addEventListener("mouseup",this.updateSelection),this.addEventListener("touchend",this.updateSelection)}setColumnWidths(){this.style.setProperty("--grid-columns",this.visibleColumns.map((J)=>J.width+"px").join(" ")),this.style.setProperty("--grid-row-width",this.visibleColumns.reduce((J,Z)=>J+Z.width,0)+"px")}sortByColumn=(J,Z="auto")=>{for(let Y of this.columns.filter((X)=>q1(X.sort)!==!1))if(q1(Y)===J){if(Z==="auto")Y.sort=Y.sort==="ascending"?"descending":"ascending";else Y.sort=Z;this.queueRender()}else delete Y.sort};popColumnMenu=(J,Z)=>{let{sortByColumn:Y}=this,X=this.columns.filter((K)=>K.visible===!1),q=this.queueRender.bind(this),Q=[];if(!this.nosort&&Z.sort!==!1)Q.push({caption:this.localized?`${h0("Sort")} ${h0("Ascending")}`:"Sort Ascending",icon:"sortAscending",action(){Y(Z)}},{caption:this.localized?`${h0("Sort")} ${h0("Descending")}`:"Sort Descending",icon:"sortDescending",action(){Y(Z,"descending")}});if(!this.nohide){if(Q.length)Q.push(null);Q.push({caption:this.localized?`${h0("Hide")} ${h0("Column")}`:"Hide Column",icon:"eyeOff",enabled:()=>Z.visible!==!0,action(){Z.visible=!1,q()}},{caption:this.localized?`${h0("Show")} ${h0("Column")}`:"Show Column",icon:"eye",enabled:()=>X.length>0,menuItems:X.map((K)=>{return{caption:K.name||K.prop,action(){delete K.visible,q()}}})})}U5({target:J,localized:this.localized,menuItems:Q})};get captionSpan(){return this.localized?i7:C8}headerCell=(J)=>{let{popColumnMenu:Z}=this,Y="none",X;switch(J.sort){case"ascending":X=v.sortAscending(),Y="descending";break;case!1:break;default:break;case"descending":Y="ascending",X=v.sortDescending()}let q=!(this.nosort&&this.nohide)?WH({class:"menu-trigger",onClick(Q){Z(Q.target,J),Q.stopPropagation()}},X||v.moreVertical()):{};return J.headerCell!==void 0?J.headerCell(J):C8({class:"th",role:"columnheader",ariaSort:Y,style:{...this.cellStyle,justifyContent:J.align||"left"}},this.captionSpan({style:{flex:"1"}},typeof J.name==="string"?J.name:J.prop),q)};dataCell=(J)=>{if(J.dataCell!==void 0)return J.dataCell(J);return C8({class:"td",role:"cell",style:{...this.cellStyle,justifyContent:J.align||"left"},bindText:`^.${J.prop}`})};get visibleRows(){return q1(this.rowData.visible)}get visibleSelectedRows(){return this.visibleRows.filter((J)=>J[this.selectedKey])}get selectedRows(){return this.array.filter((J)=>J[this.selectedKey])}rowTemplate(J){return GH(J4({class:"tr",role:"row",bind:{value:"^",binding:{toDOM:this.selectBinding}}},...J.map(this.dataCell)))}draggedColumn;dropColumn=(J)=>{let Z=J.target.closest(".drag-over"),Y=Array.from(Z.parentElement.children).indexOf(Z),X=this.visibleColumns[Y],q=this.columns.indexOf(this.draggedColumn),Q=this.columns.indexOf(X);this.columns.splice(q,1),this.columns.splice(Q,0,this.draggedColumn),console.log({event:J,target:Z,targetIndex:Y,draggedIndex:q,droppedIndex:Q}),this.queueRender(),J.preventDefault(),J.stopPropagation()};render(){super.render(),this.rowData.pinnedTop=this.pinnedTop>0?this._array.slice(0,this.pinnedTop):[],this.rowData.pinnedBottom=this.pinnedBottom>0?this._array.slice(this._array.length-this.pinnedBottom):[],this.rowData.visible=this.filter(this._array.slice(this.pinnedTop,Math.min(this.maxVisibleRows,this._array.length-this.pinnedTop-this.pinnedBottom)));let{sort:J}=this;if(J)this.rowData.visible.sort(J);this.textContent="",this.style.display="flex",this.style.flexDirection="column";let{visibleColumns:Z}=this;if(this.style.setProperty("--row-height",`${this.rowHeight}px`),this.setColumnWidths(),!this.noreorder)pq();let Y=this.instanceId+"-column-header",X=Z.map((q)=>{let Q=this.headerCell(q);if(!this.noreorder&&Q.children[0]){let K=Q.children[0];K.setAttribute("draggable","true"),K.style.pointerEvents="all",K.dataset.drag=Y,Q.dataset.drop=Y,K.addEventListener("dragstart",()=>{this.draggedColumn=q}),Q.addEventListener("drop",this.dropColumn)}return Q});if(this.append(J4({class:"thead",role:"rowgroup",style:{touchAction:"none"}},J4({class:"tr",role:"row"},...X))),this.pinnedTop>0)this.append(J4({part:"pinnedTopRows",class:"tbody",role:"rowgroup",style:{flex:"0 0 auto",overflow:"hidden",height:`${this.rowHeight*this.pinnedTop}px`},bindList:{value:this.rowData.pinnedTop,virtual:this.virtual}},this.rowTemplate(Z)));if(this.append(J4({part:"visibleRows",class:"tbody",role:"rowgroup",style:{content:" ",minHeight:"100px",flex:"1 1 100px",overflow:"hidden auto"},bindList:{value:this.rowData.visible,virtual:this.virtual}},this.rowTemplate(Z))),this.pinnedBottom>0)this.append(J4({part:"pinnedBottomRows",class:"tbody",role:"rowgroup",style:{flex:"0 0 auto",overflow:"hidden",height:`${this.rowHeight*this.pinnedBottom}px`},bindList:{value:this.rowData.pinnedBottom,virtual:this.virtual}},this.rowTemplate(Z)))}}var jH=o8.elementCreator({tag:"xin-table",styleSpec:{":host":{overflow:"auto hidden"},":host .thead, :host .tbody":{width:A.gridRowWidth},":host .tr":{display:"grid",gridTemplateColumns:A.gridColumns,height:A.rowHeight,lineHeight:A.rowHeight},":host .td, :host .th":{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",display:"flex",alignItems:"center"},":host .th .menu-trigger":{color:"currentColor",background:"none",padding:0,lineHeight:A.touchSize,height:A.touchSize,width:A.touchSize},':host [draggable="true"]':{cursor:"ew-resize"},':host [draggable="true"]:active':{background:B.draggedHeaderBg("#0004"),color:B.draggedHeaderColor("#fff")},":host .drag-over":{background:B.dropHeaderBg("#fff4")}}}),{dialog:zH,button:T8,header:OH,footer:_H,xinSlot:y8,h3:b8,p:S8,label:HH,input:NH,div:RH}=y;class t8 extends k{static async alert(J,Z="Alert"){return new Promise((Y)=>{let X=d7({removeOnClose:!0,closeOnBackgroundClick:!0,dialogWillClose(){Y()}},b8({slot:"header"},Z),S8(J));document.body.append(X),X.showModal()})}static async confirm(J,Z="Confirm"){return new Promise((Y)=>{let X=d7({removeOnClose:!0,dialogWillClose(q){Y(q==="confirm")}},b8({slot:"header"},Z),S8(J),T8({slot:"footer",onClick(){X.close()}},"Cancel"));document.body.append(X),X.showModal()})}static async prompt(J,Z="Prompt",Y=""){return new Promise((X)=>{let q=NH({value:Y}),Q=d7({removeOnClose:!0,dialogWillClose(K){X(K==="confirm"?q.value:null)},initialFocus(){q.focus()}},b8({slot:"header"},Z),S8(HH({style:{display:"flex",flexDirection:"column",alignItems:"stretch",gap:5}},RH(J),q)),T8({slot:"footer",onClick(){Q.close()}},"Cancel"));document.body.append(Q),Q.showModal()})}removeOnClose=!1;closeOnBackgroundClick=!1;constructor(){super();this.initAttributes("removeOnClose","closeOnBackgroundClick"),tJ(this,"click",()=>{if(this.closeOnBackgroundClick)this.close()})}dialogWillClose=(J="cancel")=>{console.log("dialog will close with",J)};initialFocus(){this.parts.ok.focus()}#J=(J)=>{};showModal=()=>{return this.style.zIndex=String(n7()),new Promise((J)=>{this.#J=J,this.parts.dialog.showModal(),requestAnimationFrame(()=>{this.initialFocus()})})};close=(J="cancel")=>{if(this.dialogWillClose(J),this.#J(J),this.parts.dialog.close(),this.removeOnClose)this.remove()};ok=()=>{this.close("confirm")};content=()=>zH({part:"dialog"},OH(y8({name:"header"})),y8(),_H(y8({name:"footer"}),T8({part:"ok",onClick:this.ok},"OK")))}var d7=t8.elementCreator({tag:"tosi-dialog",styleSpec:{":host > dialog::backdrop":{backdropFilter:"blur(8px)"},":host > dialog:not([open])":{display:"none"},":host > dialog[open]":{minWidth:300,border:0,borderRadius:10,overflow:"hidden",maxHeight:"calc(100% - 20px)",padding:0,display:"flex",flexDirection:"column",gap:5,_dialogShadow:B.menuShadow("0 5px 10px #0004"),_dialogBackground:B.background("#fafafa"),_dialogColor:B.textColor("#222"),boxShadow:A.dialogShadow,background:A.dialogBackground,color:A.dialogColor},":host > dialog > *":{padding:"0 20px"},":host > dialog > header":{display:"flex",justifyContent:"center",gap:10},":host > dialog > footer":{display:"flex",justifyContent:"flex-end",gap:10,paddingBottom:20}}}),{div:g1,slot:AH}=y;class f1 extends k{static angleSize=15;static gridSize=8;static snapAngle=!1;static snapToGrid=!1;static styleSpec={":host":{"--handle-bg":"#fff4","--handle-color":"#2228","--handle-hover-bg":"#8ff8","--handle-hover-color":"#222","--handle-size":"20px","--handle-padding":"2px"},":host ::slotted(*)":{position:"absolute"},":host > :not(style,slot)":{boxSizing:"border-box",content:'" "',position:"absolute",display:"flex",height:A.handleSize,width:A.handleSize,padding:A.handlePadding,"--text-color":A.handleColor,background:A.handleBg},":host > .drag-size":{top:0,bottom:0,left:0,right:0,height:"auto",width:"auto",background:"transparent",cursor:"ew-resize"},':host > [part="rotate"]':{transform:`translateY(${A.handleSize_50})`},":host > [locked] > svg:first-child, :host > :not([locked]) > svg+svg":{display:"none"},":host .icon-unlock":{opacity:0.5},":host svg":{pointerEvents:"none"},":host > *:hover":{"--text-color":A.handleHoverColor,background:A.handleHoverBg}};static snappedCoords(J,Z){let{gridSize:Y}=f1;return f1.snapToGrid||J.shiftKey?Z.map((X)=>Math.round(X/Y)*Y):Z}static snappedAngle(J,Z){let{angleSize:Y}=f1;return f1.snapAngle||J.shiftKey?Math.round(Z/Y)*Y:Z}get locked(){let J=this.parentElement;if(J.style.inset)return{left:!0,top:!0,bottom:!0,right:!0};let Z=J.style.right.match(/\d/)!==null,Y=!Z||J.style.left.match(/\d/)!==null,X=J.style.bottom.match(/\d/)!==null,q=!X||J.style.top.match(/\d/)!==null;return{left:Y,top:q,bottom:X,right:Z}}set locked(J){let{bottom:Z,right:Y}=J,{left:X,top:q}=J,Q=this.parentElement,K=Q.offsetLeft,$=Q.offsetTop,U=Q.offsetWidth,W=Q.offsetHeight,G=Q.offsetParent.offsetWidth-K-U,j=Q.offsetParent.offsetHeight-$-W;if(Object.assign(Q.style,{left:"",right:"",top:"",bottom:"",width:"",height:""}),!Y)X=!0;if(!Z)q=!0;if(X)Q.style.left=K+"px";if(Y)Q.style.right=G+"px";if(X&&Y)Q.style.width="auto";else Q.style.width=U+"px";if(q)Q.style.top=$+"px";if(Z)Q.style.bottom=j+"px";if(q&&Z)Q.style.height="auto";else Q.style.height=W+"px";this.queueRender()}get coords(){let{top:J,left:Z,right:Y,bottom:X}=this.parentElement.style;return{top:parseFloat(J),left:parseFloat(Z),right:parseFloat(Y),bottom:parseFloat(X)}}get left(){return this.parentElement.offsetLeft}get width(){return this.parentElement.offsetWidth}get right(){return this.parentElement.offsetParent.offsetWidth-(this.left+this.width)}get top(){return this.parentElement.offsetTop}get height(){return this.parentElement.offsetHeight}get bottom(){return this.parentElement.offsetParent.offsetHeight-(this.top+this.height)}triggerChange=()=>{this.parentElement.dispatchEvent(new Event("change",{bubbles:!0,composed:!0}))};adjustPosition=(J)=>{let{locked:Z}=this;this.locked=Z;let Y=this.parentElement,{top:X,left:q,bottom:Q,right:K}=this.coords;l5(J,($,U,W)=>{if([$,U]=f1.snappedCoords(W,[$,U]),!isNaN(X))Y.style.top=X+U+"px";if(!isNaN(Q))Y.style.bottom=Q-U+"px";if(!isNaN(q))Y.style.left=q+$+"px";if(!isNaN(K))Y.style.right=K-$+"px";if(W.type==="mouseup")return this.triggerChange(),!0})};resize=(J)=>{let Z=this.parentElement,{locked:Y}=this;this.locked=Object.assign({left:!0,top:!0,right:!0,bottom:!0});let[X,q]=[this.right,this.bottom];l5(J,(Q,K,$)=>{let U=X-Q,W=q-K;if([U,W]=f1.snappedCoords($,[U,W]),Z.style.right=U+"px",Z.style.bottom=W+"px",$.type==="mouseup")return this.locked=Y,this.triggerChange(),!0})};adjustSize=(J)=>{let Z=this.parentElement,{locked:Y}=this,X=J.target.getAttribute("part");this.locked=Object.assign({left:!0,right:!0,top:!0,bottom:!0});let q=this[X];l5(J,(Q,K,$)=>{let[U]=f1.snappedCoords($,[q+(["left","right"].includes(X)?Q:K)*(["right","bottom"].includes(X)?-1:1)]);if(Z.style[X]=U+"px",$.type==="mouseup")return this.locked=Y,this.triggerChange(),!0})};get rect(){return this.parentElement.getBoundingClientRect()}get center(){let J=this.parentElement.getBoundingClientRect();return{x:J.x+J.width*0.5,y:J.y+J.height*0.5}}get element(){return this.parentElement}adjustRotation=(J)=>{let{center:Z}=this,{transformOrigin:Y}=this.element.style;if(!Y)this.element.style.transformOrigin="50% 50%";l5(J,(X,q,Q)=>{let{clientX:K,clientY:$}=Q,U=K-Z.x,W=$-Z.y,G=W>0?90:-90;if(U!==0)G=Math.atan2(W,U)*180/Math.PI;if(G=f1.snappedAngle(Q,G),G===0)this.element.style.transformOrigin="",this.element.style.transform="";else this.element.style.transform=`rotate(${G}deg)`;return this.triggerChange(),Q.type==="mouseup"})};toggleLock=(J)=>{let{locked:Z}=this,Y=J.target.title.split(" ")[1];Z[Y]=!Z[Y],this.locked=Z,this.queueRender(),J.stopPropagation(),J.preventDefault()};content=()=>[g1({part:"move",style:{top:"50%",left:"50%",transform:"translate(-50%,-50%)"}},v.move()),g1({part:"left",title:"resize left",class:"drag-size",style:{left:"-6px",width:"8px"}}),g1({part:"right",title:"resize right",class:"drag-size",style:{left:"calc(100% - 2px)",width:"8px"}}),g1({part:"top",title:"resize top",class:"drag-size",style:{top:"-6px",height:"8px",cursor:"ns-resize"}}),g1({part:"bottom",title:"resize bottom",class:"drag-size",style:{top:"calc(100% - 2px)",height:"8px",cursor:"ns-resize"}}),g1({part:"resize",style:{top:"100%",left:"100%"}},v.resize()),g1({part:"rotate",style:{top:"50%",right:"0"}},v.refreshCw()),g1({part:"lockLeft",title:"lock left",style:{top:"50%",left:0,transform:"translate(-100%, -50%)"}},v.unlock(),v.lock()),g1({part:"lockRight",title:"lock right",style:{top:"50%",left:"100%",transform:"translate(0%, -50%)"}},v.unlock(),v.lock()),g1({part:"lockTop",title:"lock top",style:{top:0,left:"50%",transform:"translate(-50%, -100%)"}},v.unlock(),v.lock()),g1({part:"lockBottom",title:"lock bottom",style:{top:"100%",left:"50%",transform:"translate(-50%, 0%)"}},v.unlock(),v.lock()),AH()];constructor(){super();this.initAttributes("rotationSnap","positionSnap")}connectedCallback(){super.connectedCallback();let{left:J,right:Z,top:Y,bottom:X,lockLeft:q,lockRight:Q,lockTop:K,lockBottom:$,move:U,resize:W,rotate:G}=this.parts,j={passive:!0};[J,Z,Y,X].forEach((z)=>{z.addEventListener("mousedown",this.adjustSize,j),z.addEventListener("touchstart",this.adjustSize,j)}),[q,Q,K,$].forEach((z)=>{z.addEventListener("click",this.toggleLock)}),W.addEventListener("mousedown",this.resize,j),U.addEventListener("mousedown",this.adjustPosition,j),G.addEventListener("mousedown",this.adjustRotation,j),W.addEventListener("touchstart",this.resize,j),U.addEventListener("touchstart",this.adjustPosition,j),G.addEventListener("touchstart",this.adjustRotation,j)}render(){if(super.render(),!this.parentElement)return;let{lockLeft:J,lockRight:Z,lockTop:Y,lockBottom:X}=this.parts,{left:q,right:Q,top:K,bottom:$}=this.locked;J.toggleAttribute("locked",q),Z.toggleAttribute("locked",Q),Y.toggleAttribute("locked",K),X.toggleAttribute("locked",$)}}var FH=f1.elementCreator({tag:"xin-editable"}),{div:MH,input:VH,button:f8,span:IH}=y,zq=(J)=>J,Oq="null filter, everything matches",e8={contains:{caption:"contains",negative:"does not contain",makeTest:(J)=>{return J=J.toLocaleLowerCase(),(Z)=>String(Z).toLocaleLowerCase().includes(J)}},hasTags:{caption:"has tags",makeTest:(J)=>{let Z=J.split(/[\s,]/).map((Y)=>Y.trim().toLocaleLowerCase()).filter((Y)=>Y!=="");return(Y)=>Array.isArray(Y)&&Z.find((X)=>!Y.includes(X))===void 0}},doesNotHaveTags:{caption:"does not have tags",makeTest:(J)=>{let Z=J.split(/[\s,]/).map((Y)=>Y.trim().toLocaleLowerCase()).filter((Y)=>Y!=="");return(Y)=>Array.isArray(Y)&&Z.find((X)=>Y.includes(X))===void 0}},equals:{caption:"=",negative:"",makeTest:(J)=>{if(isNaN(Number(J)))return J=String(J).toLocaleLowerCase(),(Y)=>String(Y).toLocaleLowerCase()===J;let Z=Number(J);return(Y)=>Number(Y)===Z}},after:{caption:"is after",negative:"is before",makeTest:(J)=>{let Z=new Date(J);return(Y)=>new Date(Y)>Z}},greaterThan:{caption:">",negative:"",makeTest:(J)=>{if(!isNaN(Number(J))){let Z=Number(J);return(Y)=>Number(Y)>Z}return J=J.toLocaleLowerCase(),(Z)=>String(Z).toLocaleLowerCase()>J}},truthy:{caption:"is true/non-empty/non-zero",negative:"is false/empty/zero",needsValue:!1,makeTest:()=>(J)=>!!J},isTrue:{caption:"= true",needsValue:!1,makeTest:()=>(J)=>J===!0},isFalse:{caption:"= false",needsValue:!1,makeTest:()=>(J)=>J===!1}},DH={description:"anything",test:()=>!0};function _q(J){return J.options[J.selectedIndex]?.caption||""}class J2 extends k{fields=[];filters=e8;haystack="*";condition="contains";needle="";content=()=>[IJ({part:"haystack"}),IJ({part:"condition"}),VH({part:"needle",type:"search"}),IH({part:"padding"}),f8({part:"remove",title:"delete"},v.trash())];filter=DH;constructor(){super();this.initAttributes("haystack","condition","needle")}get state(){let{haystack:J,needle:Z,condition:Y}=this.parts;return{haystack:J.value,needle:Z.value,condition:Y.value}}set state(J){Object.assign(this,J)}buildFilter=()=>{let{haystack:J,condition:Z,needle:Y}=this.parts,X=Z.value.startsWith("~"),q=X?Z.value.slice(1):Z.value,Q=this.filters[q];Y.hidden=Q.needsValue===!1;let K=Q.needsValue===!1?Q.makeTest(void 0):Q.makeTest(Y.value),$=J.value,U;if($!=="*")U=X?(j)=>!K(j[$]):(j)=>K(j[$]);else U=X?(j)=>Object.values(j).find((z)=>!K(z))!==void 0:(j)=>Object.values(j).find((z)=>K(z))!==void 0;let W=Q.needsValue!==!1?` "${Y.value}"`:"",G=`${_q(J)} ${_q(Z)}${W}`;this.filter={description:G,test:U},this.parentElement?.dispatchEvent(new Event("change"))};connectedCallback(){super.connectedCallback();let{haystack:J,condition:Z,needle:Y,remove:X}=this.parts;J.addEventListener("change",this.buildFilter),Z.addEventListener("change",this.buildFilter),Y.addEventListener("input",this.buildFilter),J.value=this.haystack,Z.value=this.condition,Y.value=this.needle,X.addEventListener("click",()=>{let{parentElement:q}=this;this.remove(),q?.dispatchEvent(new Event("change"))})}render(){super.render();let{haystack:J,condition:Z,needle:Y}=this.parts;if(J.options=[{caption:"any field",value:"*"},...this.fields.map((X)=>X.prop)],Z.options=Object.keys(this.filters).map((X)=>{let q=this.filters[X];return q.negative!==void 0?[{caption:q.caption,value:X},{caption:q.negative,value:"~"+X}]:{caption:q.caption,value:X}}).flat(),this.haystack!=="")J.value=this.haystack;if(this.condition!=="")Z.value=this.condition;if(this.needle!=="")Y.value=this.needle;this.buildFilter()}}var c7=J2.elementCreator({tag:"xin-filter-part",styleSpec:{":host":{display:"flex"},":host .xin-icon:":{verticalAlign:"middle",pointerEvents:"none"},':host [part="haystack"], :host [part="condition"]':{flex:"1"},':host [part="needle"]':{flex:2},':host [hidden]+[part="padding"]':{display:"block",content:" ",flex:"1 1 auto"}}});class Z2 extends k{_fields=[];get fields(){return this._fields}set fields(J){this._fields=J,this.queueRender()}get state(){let{filterContainer:J}=this.parts;return[...J.children].map((Z)=>Z.state)}set state(J){let{fields:Z,filters:Y}=this,{filterContainer:X}=this.parts;X.textContent="";for(let q of J)X.append(c7({fields:Z,filters:Y,...q}))}filter=zq;description=Oq;addFilter=()=>{let{fields:J,filters:Z}=this,{filterContainer:Y}=this.parts;Y.append(c7({fields:J,filters:Z}))};content=()=>[f8({part:"add",title:"add filter condition",onClick:this.addFilter,class:"round"},v.plus()),MH({part:"filterContainer"}),f8({part:"reset",title:"reset filter",onClick:this.reset},v.x())];filters=e8;reset=()=>{let{fields:J,filters:Z}=this,{filterContainer:Y}=this.parts;this.description=Oq,this.filter=zq,Y.textContent="",Y.append(c7({fields:J,filters:Z})),this.dispatchEvent(new Event("change"))};buildFilter=()=>{let{filterContainer:J}=this.parts;if(J.children.length===0){this.reset();return}let Z=[...J.children].map((X)=>X.filter),Y=Z.map((X)=>X.test);this.description=Z.map((X)=>X.description).join(", "),this.filter=(X)=>X.filter((q)=>Y.find((Q)=>Q(q)===!1)===void 0),this.dispatchEvent(new Event("change"))};connectedCallback(){super.connectedCallback();let{filterContainer:J}=this.parts;J.addEventListener("change",this.buildFilter),this.reset()}render(){super.render()}}var LH=Z2.elementCreator({tag:"xin-filter",styleSpec:{":host":{height:"auto",display:"grid",gridTemplateColumns:"32px calc(100% - 64px) 32px",alignItems:"center"},':host [part="filterContainer"]':{display:"flex",flexDirection:"column",alignItems:"stretch",flex:"1 1 auto"},':host [part="haystack"]':{_fieldWidth:"100px"},':host [part="condition"]':{_fieldWidth:"60px"},':host [part="needle"]':{_fieldWidth:"80px"},':host [part="add"], :host [part="reset"]':{"--button-size":"var(--touch-size, 32px)",borderRadius:"999px",height:"var(--button-size)",lineHeight:"var(--button-size)",margin:"0",padding:"0",textAlign:"center",width:"var(--button-size)",flex:"0 0 var(--button-size)"}}}),{form:BH,slot:k8,xinSlot:Hq,label:PH,input:EH,span:CH}=y;function f5(J,Z,Y){if(Y!==""&&Y!==!1)J.setAttribute(Z,Y);else J.removeAttribute(Z)}function TH(J){switch(J.type){case"checkbox":return J.checked;case"radio":{let Z=J.parentElement?.querySelector(`input[type="radio"][name="${J.name}"]:checked`);return Z?Z.value:null}case"range":case"number":return Number(J.value);default:return Array.isArray(J.value)&&J.value.length===0?null:J.value}}function Nq(J,Z){if(!(J instanceof HTMLElement));else if(J instanceof HTMLInputElement)switch(J.type){case"checkbox":J.checked=Z;break;case"radio":J.checked=Z===J.value;break;default:J.value=String(Z||"")}else if(Z!=null||J.value!=null)J.value=String(Z||"")}class s7 extends k{caption="";key="";type="";optional=!1;pattern="";placeholder="";min="";max="";step="";fixedPrecision=-1;value=null;content=PH(Hq({part:"caption"}),CH({part:"field"},Hq({part:"input",name:"input"}),EH({part:"valueHolder"})));constructor(){super();this.initAttributes("caption","key","type","optional","pattern","placeholder","min","max","step","fixedPrecision","prefix","suffix")}valueChanged=!1;handleChange=()=>{let{input:J,valueHolder:Z}=this.parts,Y=J.children[0]||Z;if(Y!==Z)Z.value=Y.value;this.value=TH(Y),this.valueChanged=!0;let X=this.closest("xin-form");if(X&&this.key!=="")switch(this.type){case"checkbox":X.fields[this.key]=Y.checked;break;case"number":case"range":if(this.fixedPrecision>-1)Y.value=Number(Y.value).toFixed(this.fixedPrecision),X.fields[this.key]=Number(Y.value);else X.fields[this.key]=Number(Y.value);break;default:X.fields[this.key]=Y.value}};initialize(J){let Z=J.fields[this.key]!==void 0?J.fields[this.key]:this.value;if(Z!=null&&Z!==""){if(J.fields[this.key]==null)J.fields[this.key]=Z;this.value=Z}}connectedCallback(){super.connectedCallback();let{input:J,valueHolder:Z}=this.parts,Y=this.closest(W3.tagName);if(Y instanceof W3)this.initialize(Y);Z.addEventListener("change",this.handleChange),J.addEventListener("change",this.handleChange,!0)}render(){if(this.valueChanged){this.valueChanged=!1;return}let{input:J,caption:Z,valueHolder:Y,field:X}=this.parts;if(Z.textContent?.trim()==="")Z.append(this.caption!==""?this.caption:this.key);if(this.type==="text"){J.textContent="";let q=y.textarea({value:this.value});if(this.placeholder)q.setAttribute("placeholder",this.placeholder);J.append(q)}else if(this.type==="color")J.textContent="",J.append(Cq({value:this.value}));else if(J.children.length===0){if(f5(Y,"placeholder",this.placeholder),f5(Y,"type",this.type),f5(Y,"pattern",this.pattern),f5(Y,"min",this.min),f5(Y,"max",this.max),this.step)f5(Y,"step",this.step);else if(this.fixedPrecision>0&&this.type==="number")f5(Y,"step",Math.pow(10,-this.fixedPrecision))}if(Nq(Y,this.value),Nq(J.children[0],this.value),this.prefix?X.setAttribute("prefix",this.prefix):X.removeAttribute("prefix"),this.suffix?X.setAttribute("suffix",this.suffix):X.removeAttribute("suffix"),Y.classList.toggle("hidden",J.children.length>0),J.children.length>0)Y.setAttribute("tabindex","-1");else Y.removeAttribute("tabindex");J.style.display=J.children.length===0?"none":"",f5(Y,"required",!this.optional)}}class W3 extends k{context={};value={};get isValid(){return[...this.querySelectorAll("*")].filter((J)=>J.required!==void 0).find((J)=>!J.reportValidity())===void 0}static styleSpec={":host":{display:"flex",flexDirection:"column"},":host::part(header), :host::part(footer)":{display:"flex"},":host::part(content)":{display:"flex",flexDirection:"column",overflow:"hidden auto",height:"100%",width:"100%",position:"relative",boxSizing:"border-box"},":host form":{display:"flex",flex:"1 1 auto",position:"relative",overflow:"hidden"}};content=[k8({part:"header",name:"header"}),BH({part:"form"},k8({part:"content"})),k8({part:"footer",name:"footer"})];getField=(J)=>{return this.querySelector(`xin-field[key="${J}"]`)};get fields(){if(typeof this.value==="string")try{this.value=JSON.parse(this.value)}catch(Y){console.log("<xin-form> could not use its value, expects valid JSON"),this.value={}}let{getField:J}=this,Z=this.dispatchEvent.bind(this);return new Proxy(this.value,{get(Y,X){return Y[X]},set(Y,X,q){if(Y[X]!==q){Y[X]=q;let Q=J(X);if(Q)Q.value=q;Z(new Event("change"))}return!0}})}set fields(J){let Z=[...this.querySelectorAll(s7.tagName)];for(let Y of Z)Y.value=J[Y.key]}submit=()=>{this.parts.form.dispatchEvent(new Event("submit"))};handleSubmit=(J)=>{J.preventDefault(),J.stopPropagation(),this.submitCallback(this.value,this.isValid)};submitCallback=(J,Z)=>{console.log("override submitCallback to handle this data",{value:J,isValid:Z})};connectedCallback(){super.connectedCallback();let{form:J}=this.parts;J.addEventListener("submit",this.handleSubmit)}}var yH=s7.elementCreator({tag:"xin-field",styleSpec:{':host [part="field"]':{position:"relative",display:"flex",alignItems:"center",gap:B.prefixSuffixGap("8px")},':host [part="field"][prefix]::before':{content:"attr(prefix)"},':host [part="field"][suffix]::after':{content:"attr(suffix)"},':host [part="field"] > *, :host [part="input"] > *':{width:"100%"},":host textarea":{resize:"none"},':host input[type="checkbox"]':{width:"fit-content"},":host .hidden":{position:"absolute",pointerEvents:"none",opacity:0}}}),bH=W3.elementCreator({tag:"xin-form"});function dq(){return navigator.getGamepads().filter((J)=>J!==null).map((J)=>{let{id:Z,axes:Y,buttons:X}=J;return{id:Z,axes:Y,buttons:X.map((q,Q)=>{let{pressed:K,value:$}=q;return{index:Q,pressed:K,value:$}}).filter((q)=>q.pressed||q.value!==0).reduce((q,Q)=>{return q[Q.index]=Q.value,q},{})}})}function SH(){let J=dq();return J.length===0?"no active gamepads":J.map(({id:Z,axes:Y,buttons:X})=>{let q=Y.map((K)=>K.toFixed(2)).join(" "),Q=Object.keys(X).map((K)=>`[${K}](${X[Number(K)].toFixed(2)})`).join(" ");return`${Z}
${q}
${Q}`}).join(`
`)}function kH(J){let Z={};return J.input.onControllerAddedObservable.add((Y)=>{Y.onMotionControllerInitObservable.add((X)=>{let q={};X.getComponentIds().forEach((Q)=>{let K=X.getComponent(Q);if(q[Q]={pressed:K.pressed},K.onButtonStateChangedObservable.add(()=>{q[Q].pressed=K.pressed}),K.onAxisValueChangedObservable)q[Q].axes=[],K.onAxisValueChangedObservable.add(($)=>{q[Q].axes=$})}),Z[X.handedness]=q})}),Z}function wH(J){if(J===void 0||Object.keys(J).length===0)return"no xr inputs";return Object.keys(J).map((Z)=>{let Y=J[Z],X=Object.keys(Y).filter((q)=>Y[q].pressed).join(" ");return`${Z}
${X}`}).join(`
`)}var{div:NJ,slot:Rq,span:xH,button:hH}=y;class Y2 extends k{value=0;localized=!1;makeTab(J,Z,Y){let X=Z.getAttribute("name"),q=Z.querySelector('template[role="tab"]')?.content.cloneNode(!0)||(this.localized?i7(X):xH(X));return NJ(q,{part:"tab",tabindex:0,role:"tab",ariaControls:Y},Z.hasAttribute("data-close")?hH({title:"close",class:"close"},v.x()):{})}static styleSpec={":host":{display:"flex",flexDirection:"column",position:"relative",overflow:"hidden",boxShadow:"none !important"},slot:{position:"relative",display:"block",flex:"1",overflow:"hidden",overflowY:"auto"},'slot[name="after-tabs"]':{flex:"0 0 auto"},"::slotted([hidden])":{display:"none !important"},":host::part(tabpanel)":{display:"flex",flexDirection:"column",overflowX:"auto"},":host::part(tabrow)":{display:"flex"},":host .tabs":{display:"flex",userSelect:"none",whiteSpace:"nowrap"},":host .tabs > div":{padding:`${A.spacing50} ${A.spacing}`,cursor:"default",display:"flex",alignItems:"baseline"},':host .tabs > [aria-selected="true"]':{"--text-color":A.xinTabsSelectedColor,color:A.textColor},":host .elastic":{flex:"1"},":host .border":{background:"var(--xin-tabs-bar-color, #ccc)"},":host .border > .selected":{content:" ",width:0,height:"var(--xin-tabs-bar-height, 2px)",background:A.xinTabsSelectedColor,transition:"ease-out 0.2s"},":host button.close":{border:0,background:"transparent",textAlign:"center",marginLeft:A.spacing50,padding:0},":host button.close > svg":{height:"12px"}};onCloseTab=null;content=[NJ({role:"tabpanel",part:"tabpanel"},NJ({part:"tabrow"},NJ({class:"tabs",part:"tabs"}),NJ({class:"elastic"}),Rq({name:"after-tabs"})),NJ({class:"border"},NJ({class:"selected",part:"selected"}))),Rq()];constructor(){super();this.initAttributes("localized")}addTabBody(J,Z=!1){if(!J.hasAttribute("name"))throw console.error("element has no name attribute",J),Error("element has no name attribute");if(this.append(J),this.setupTabs(),Z)this.value=this.bodies.length-1;this.queueRender()}removeTabBody(J){J.remove(),this.setupTabs(),this.queueRender()}keyTab=(J)=>{let{tabs:Z}=this.parts,Y=[...Z.children].indexOf(J.target);switch(J.key){case"ArrowLeft":this.value=(Y+Number(Z.children.length)-1)%Z.children.length,Z.children[this.value].focus(),J.preventDefault();break;case"ArrowRight":this.value=(Y+1)%Z.children.length,Z.children[this.value].focus(),J.preventDefault();break;case" ":this.pickTab(J),J.preventDefault();break;default:}};get bodies(){return[...this.children].filter((J)=>J.hasAttribute("name"))}pickTab=(J)=>{let{tabs:Z}=this.parts,Y=J.target,X=Y.closest("button.close")!==null,q=Y.closest(".tabs > div"),Q=[...Z.children].indexOf(q);if(X){let K=this.bodies[Q];if(!this.onCloseTab||this.onCloseTab(K)!==!1)this.removeTabBody(this.bodies[Q])}else if(Q>-1)this.value=Q};setupTabs=()=>{let{tabs:J}=this.parts,Z=[...this.children].filter((Y)=>!Y.hasAttribute("slot")&&Y.hasAttribute("name"));if(J.textContent="",this.value>=Z.length)this.value=Z.length-1;for(let Y in Z){let X=Z[Y],q=`${this.instanceId}-${Y}`;X.id=q;let Q=this.makeTab(this,X,q);J.append(Q)}};connectedCallback(){super.connectedCallback();let{tabs:J}=this.parts;J.addEventListener("click",this.pickTab),J.addEventListener("keydown",this.keyTab),this.setupTabs(),$5.allInstances.add(this)}disconnectedCallback(){super.disconnectedCallback(),$5.allInstances.delete(this)}localeChanged=()=>{this.queueRender()};onResize(){this.queueRender()}render(){let{tabs:J,selected:Z}=this.parts,Y=this.bodies;for(let X=0;X<Y.length;X++){let q=Y[X],Q=J.children[X];if(this.value===Number(X))Q.setAttribute("aria-selected","true"),Z.style.marginLeft=`${Q.offsetLeft-J.offsetLeft}px`,Z.style.width=`${Q.offsetWidth}px`,q.toggleAttribute("hidden",!1);else Q.toggleAttribute("aria-selected",!1),q.toggleAttribute("hidden",!0)}}}var cq=Y2.elementCreator({tag:"xin-tabs"}),{div:u7,xinSlot:vH,style:mH,button:RJ,h4:EB,pre:uH,code:CB}=y,gH=()=>"https://cdn.jsdelivr.net/npm/sucrase@3.35.0/+esm",fH=(async()=>{}).constructor;class K4 extends k{persistToDom=!1;prettier=!1;prefix="lx";storageKey="live-example-payload";context={};uuid=crypto.randomUUID();remoteId="";lastUpdate=0;interval;static insertExamples(J,Z={}){let Y=[...J.querySelectorAll(".language-html,.language-js,.language-css")].filter((X)=>!X.closest(K4.tagName)).map((X)=>({block:X.parentElement,language:X.classList[0].split("-").pop(),code:X.innerText}));for(let X=0;X<Y.length;X+=1){let q=[Y[X]];while(X<Y.length-1&&Y[X].block.nextElementSibling===Y[X+1].block)q.push(Y[X+1]),X+=1;let Q=X2({context:Z});q[0].block.parentElement.insertBefore(Q,q[0].block),q.forEach((K)=>{switch(K.language){case"js":Q.js=K.code;break;case"html":Q.html=K.code;break;case"css":Q.css=K.code;break}K.block.remove()}),Q.showDefaultTab()}}constructor(){super();this.initAttributes("persistToDom","prettier")}get activeTab(){let{editors:J}=this.parts;return[...J.children].find((Z)=>Z.getAttribute("hidden")===null)}getEditorValue(J){return this.parts[J].value}setEditorValue(J,Z){let Y=this.parts[J];Y.value=Z}get css(){return this.getEditorValue("css")}set css(J){this.setEditorValue("css",J)}get html(){return this.getEditorValue("html")}set html(J){this.setEditorValue("html",J)}get js(){return this.getEditorValue("js")}set js(J){this.setEditorValue("js",J)}updateUndo=()=>{let{activeTab:J}=this,{undo:Z,redo:Y}=this.parts;if(J instanceof q4&&J.editor!==void 0){let X=J.editor.session.getUndoManager();Z.disabled=!X.hasUndo(),Y.disabled=!X.hasRedo()}else Z.disabled=!0,Y.disabled=!0};undo=()=>{let{activeTab:J}=this;if(J instanceof q4)J.editor.undo()};redo=()=>{let{activeTab:J}=this;if(J instanceof q4)J.editor.redo()};get isMaximized(){return this.classList.contains("-maximize")}flipLayout=()=>{this.classList.toggle("-vertical")};exampleMenu=()=>{U5({target:this.parts.exampleWidgets,width:"auto",menuItems:[{icon:"edit2",caption:"view/edit code",action:this.showCode},{icon:"edit",caption:"view/edit code in a new window",action:this.openEditorWindow},null,{icon:this.isMaximized?"minimize":"maximize",caption:this.isMaximized?"restore preview":"maximize preview",action:this.toggleMaximize}]})};handleShortcuts=(J)=>{if(J.metaKey||J.ctrlKey){let Z=!1;switch(J.key){case"s":case"r":this.refresh(),Z=!0;break;case"/":this.flipLayout();break;case"c":if(J.shiftKey)this.copy(),Z=!0;break}if(Z)J.preventDefault(),J.stopPropagation()}};content=()=>[u7({part:"example"},mH({part:"style"}),RJ({title:"example menu",part:"exampleWidgets",onClick:this.exampleMenu},v.code())),u7({class:"code-editors",part:"codeEditors",onKeydown:this.handleShortcuts,hidden:!0},cq({part:"editors",onChange:this.updateUndo},l7({name:"js",mode:"javascript",part:"js"}),l7({name:"html",mode:"html",part:"html"}),l7({name:"css",mode:"css",part:"css"}),u7({slot:"after-tabs",class:"row"},RJ({title:"undo",part:"undo",class:"transparent",onClick:this.undo},v.cornerUpLeft()),RJ({title:"redo",part:"redo",class:"transparent",onClick:this.redo},v.cornerUpRight()),RJ({title:"flip direction (/ | ^/)",class:"transparent",onClick:this.flipLayout},v.columns({class:"layout-indicator"})),RJ({title:"copy as markdown (C | ^C)",class:"transparent",onClick:this.copy},v.copy()),RJ({title:"reload (R | ^R)",class:"transparent",onClick:this.refreshRemote},v.refreshCw()),RJ({title:"close code",class:"transparent",onClick:this.closeCode},v.x())))),vH({part:"sources",hidden:!0})];connectedCallback(){super.connectedCallback();let{sources:J}=this.parts;this.initFromElements([...J.children]),addEventListener("storage",this.remoteChange),this.interval=setInterval(this.remoteChange,500),this.undoInterval=setInterval(this.updateUndo,250)}disconnectedCallback(){super.disconnectedCallback();let{storageKey:J,remoteKey:Z}=this;clearInterval(this.interval),clearInterval(this.undoInterval),localStorage.setItem(J,JSON.stringify({remoteKey:Z,sentAt:Date.now(),close:!0}))}copy=()=>{let J=this.js!==""?"```js\n"+this.js.trim()+"\n```\n":"",Z=this.html!==""?"```html\n"+this.html.trim()+"\n```\n":"",Y=this.css!==""?"```css\n"+this.css.trim()+"\n```\n":"";navigator.clipboard.writeText(J+Z+Y)};toggleMaximize=()=>{this.classList.toggle("-maximize")};get remoteKey(){return this.remoteId!==""?this.prefix+"-"+this.remoteId:this.prefix+"-"+this.uuid}remoteChange=(J)=>{let Z=localStorage.getItem(this.storageKey);if(J instanceof StorageEvent&&J.key!==this.storageKey)return;if(Z===null)return;let{remoteKey:Y,sentAt:X,css:q,html:Q,js:K,close:$}=JSON.parse(Z);if(X<=this.lastUpdate)return;if(Y!==this.remoteKey)return;if($===!0)window.close();console.log("received new code",X,this.lastUpdate),this.lastUpdate=X,this.css=q,this.html=Q,this.js=K,this.refresh()};showCode=()=>{this.classList.add("-maximize"),this.classList.toggle("-vertical",this.offsetHeight>this.offsetWidth),this.parts.codeEditors.hidden=!1};closeCode=()=>{if(this.remoteId!=="")window.close();else this.classList.remove("-maximize"),this.parts.codeEditors.hidden=!0};openEditorWindow=()=>{let{storageKey:J,remoteKey:Z,css:Y,html:X,js:q,uuid:Q,prefix:K}=this,$=location.href.split("?")[0]+`?${K}=${Q}`;localStorage.setItem(J,JSON.stringify({remoteKey:Z,sentAt:Date.now(),css:Y,html:X,js:q})),window.open($)};refreshRemote=()=>{let{remoteKey:J,css:Z,html:Y,js:X}=this;localStorage.setItem(this.storageKey,JSON.stringify({remoteKey:J,sentAt:Date.now(),css:Z,html:Y,js:X}))};updateSources=()=>{if(this.persistToDom){let{sources:J}=this.parts;J.innerText="";for(let Z of["js","css","html"])if(this[Z])J.append(uH({class:`language-${Z}`,innerHTML:this[Z]}))}};refresh=async()=>{if(this.remoteId!=="")return;let{transform:J}=await import(gH()),{example:Z,style:Y}=this.parts,X=u7({class:"preview"});X.innerHTML=this.html,Y.innerText=this.css;let q=Z.querySelector(".preview");if(q)q.replaceWith(X);else Z.insertBefore(X,this.parts.exampleWidgets);let Q={preview:X,...this.context};try{let K=this.js;for(let $ of Object.keys(this.context))K=K.replace(new RegExp(`import \\{(.*)\\} from '${$}'`,"g"),`const {$1} = ${$.replace(/-/g,"")}`);if(new fH(...Object.keys(Q).map(($)=>$.replace(/-/g,"")),J(K,{transforms:["typescript"]}).code)(...Object.values(Q)).catch(($)=>console.error($)),this.persistToDom)this.updateSources()}catch(K){console.error(K),window.alert(`Error: ${K}, the console may have more information`)}};initFromElements(J){for(let Z of J){Z.hidden=!0;let[Y,...X]=Z.innerHTML.split(`
`);if(["js","html","css"].includes(Y)){let q=X.filter((K)=>K.trim()!=="").map((K)=>K.match(/^\s*/)[0].length).sort()[0],Q=(q>0?X.map((K)=>K.substring(q)):X).join(`
`);this.parts[Y].value=Q}else{let q=["js","html","css"].find((Q)=>Z.matches(`.language-${Q}`));if(q)this.parts[q].value=q==="html"?Z.innerHTML:Z.innerText}}}showDefaultTab(){let{editors:J}=this.parts;if(this.js!=="")J.value=0;else if(this.html!=="")J.value=1;else if(this.css!=="")J.value=2}render(){if(super.render(),this.remoteId!==""){let J=localStorage.getItem(this.storageKey);if(J!==null){let{remoteKey:Z,sentAt:Y,css:X,html:q,js:Q}=JSON.parse(J);if(this.remoteKey!==Z)return;this.lastUpdate=Y,this.css=X,this.html=q,this.js=Q,this.parts.example.hidden=!0,this.parts.codeEditors.hidden=!1,this.classList.add("-maximize"),this.updateUndo()}}else this.refresh()}}var X2=K4.elementCreator({tag:"xin-example",styleSpec:{":host":{"--xin-example-height":"320px","--code-editors-bar-bg":"#777","--code-editors-bar-color":"#fff","--widget-bg":"#fff8","--widget-color":"#000",position:"relative",display:"flex",height:"var(--xin-example-height)",background:"var(--background)",boxSizing:"border-box"},":host.-maximize":{position:"fixed",left:"0",top:"0",height:"100vh",width:"100vw",margin:"0 !important"},".-maximize":{zIndex:101},":host.-vertical":{flexDirection:"column"},":host .layout-indicator":{transition:"0.5s ease-out",transform:"rotateZ(270deg)"},":host.-vertical .layout-indicator":{transform:"rotateZ(180deg)"},":host.-maximize .hide-if-maximized, :host:not(.-maximize) .show-if-maximized":{display:"none"},':host [part="example"]':{flex:"1 1 50%",height:"100%",position:"relative",overflowX:"auto"},":host .preview":{height:"100%",position:"relative",overflow:"hidden",boxShadow:"inset 0 0 0 2px #8883"},':host [part="editors"]':{flex:"1 1 200px",height:"100%",position:"relative"},':host [part="exampleWidgets"]':{position:"absolute",left:"5px",bottom:"5px","--widget-color":"var(--brand-color)",borderRadius:"5px",width:"44px",height:"44px",lineHeight:"44px",zIndex:"100"},':host [part="exampleWidgets"] svg':{stroke:"var(--widget-color)"},":host .code-editors":{overflow:"hidden",background:"white",position:"relative",top:"0",right:"0",flex:"1 1 50%",height:"100%",flexDirection:"column",zIndex:"10"},":host .code-editors:not([hidden])":{display:"flex"},":host .code-editors > h4":{padding:"5px",margin:"0",textAlign:"center",background:"var(--code-editors-bar-bg)",color:"var(--code-editors-bar-color)",cursor:"move"},":host button.transparent, :host .sizer":{width:"32px",height:"32px",lineHeight:"32px",textAlign:"center",padding:"0",margin:"0"},":host .sizer":{cursor:"nwse-resize"}}}),lH=new URL(window.location.href).searchParams,Aq=lH.get("lx");if(Aq)document.title+=" [code editor]",document.body.textContent="",document.body.append(X2({remoteId:Aq}));var{div:pH}=y;class FJ extends k{coords="65.01715565258993,25.48081004203459,12";content=pH({style:{width:"100%",height:"100%"}});get map(){return this._map}mapStyle="mapbox://styles/mapbox/streets-v12";token="";static mapboxCSSAvailable;static mapboxAvailable;_map;static styleSpec={":host":{display:"inline-block",position:"relative",width:"400px",height:"400px",textAlign:"left"}};constructor(){super();if(this.initAttributes("coords","token","mapStyle"),FJ.mapboxCSSAvailable===void 0)FJ.mapboxCSSAvailable=Dq("https://api.mapbox.com/mapbox-gl-js/v1.4.1/mapbox-gl.css").catch((J)=>{console.error("failed to load mapbox-gl.css",J)}),FJ.mapboxAvailable=MJ("https://api.mapbox.com/mapbox-gl-js/v1.4.1/mapbox-gl.js").catch((J)=>{console.error("failed to load mapbox-gl.js",J)})}connectedCallback(){if(super.connectedCallback(),!this.token)console.error("mapbox requires an access token which you can provide via the token attribute")}render(){if(super.render(),!this.token)return;let{div:J}=this.parts,[Z,Y,X]=this.coords.split(",").map((q)=>Number(q));if(this.map)this.map.remove();FJ.mapboxAvailable.then(({mapboxgl:q})=>{console.log("%cmapbox may complain about missing css -- don't panic!","background: orange; color: black; padding: 0 5px;"),q.accessToken=this.token,this._map=new q.Map({container:J,style:this.mapStyle,zoom:X,center:[Y,Z]}),this._map.on("render",()=>this._map.resize())})}}var dH=FJ.elementCreator({tag:"xin-map"});function nq(J,Z){if(Z==null)Z="";else if(typeof Z!=="string")Z=String(Z);return Z.replace(/\{\{([^}]+)\}\}/g,(Y,X)=>{let q=w0[`${J}${X.startsWith("[")?X:"."+X}`];return q===void 0?Y:nq(J,String(q))})}class q2 extends k{src="";value="";content=null;elements=!1;context={};options={};constructor(){super();this.initAttributes("src","elements","context")}connectedCallback(){if(super.connectedCallback(),this.src!=="")(async()=>{let J=await fetch(this.src);this.value=await J.text()})();else if(this.value==="")if(this.elements)this.value=this.innerHTML;else this.value=this.textContent!=null?this.textContent:""}didRender=()=>{};render(){super.render(),w0[this.instanceId]=typeof this.context==="string"?JSON.parse(this.context):this.context;let J=nq(this.instanceId,this.value);if(this.elements){let Z=J.split(`
`).reduce((Y,X)=>{if(X.startsWith("<")||Y.length===0)Y.push(X);else{let q=Y[Y.length-1];if(!q.startsWith("<")||!q.endsWith(">"))Y[Y.length-1]+=`
`+X;else Y.push(X)}return Y},[]);this.innerHTML=Z.map((Y)=>Y.startsWith("<")&&Y.endsWith(">")?Y:K0(Y,this.options)).join("")}else this.innerHTML=K0(J,this.options);this.didRender()}}var Q2=q2.elementCreator({tag:"xin-md"}),{div:w8,span:g7,button:x8}=y,K3=86400000,cH=[0,1,2,3,4,5,6],nH=[1,2,3,4,5,6,7,8,9,10,11,12],l8=(J,Z=2,Y="0")=>String(J).padStart(Z,Y),$3=(J,Z,Y)=>new Date(`${J}-${l8(Z)}-${l8(Y)}`);class K2 extends k{month=NaN;year=NaN;minDate=$3(new Date().getFullYear()-100,1,1).toISOString().split("T")[0];maxDate=$3(new Date().getFullYear()+10,12,31).toISOString().split("T")[0];weekStart=0;selectable=!1;multiple=!1;range=!1;disabled=!1;readonly=!1;selectedDays=[];value="";get endDay(){return 1-this.weekStart}get months(){return nH.map((J)=>({caption:$3(2025,J,1).toString().split(" ")[1],value:String(J)}))}get years(){let J=Number(this.minDate.split("-")[0]),Z=Number(this.maxDate.split("-")[0]),Y=[];for(let X=J;X<=Z;X++)Y.push(String(X));return Y}monthChanged=(J,Z)=>{};gotoMonth(J,Z){if(this.month!==Z||this.year!==J)this.month=Z,this.year=J,this.monthChanged(J,Z)}setMonth=()=>{this.gotoMonth(Number(this.parts.year.value),Number(this.parts.month.value))};get to(){return this.selectedDays[1]||""}set to(J){this.selectedDays[1]=J,this.selectedDays.splice(2)}get from(){return this.selectedDays[0]||""}set from(J){this.selectedDays[0]=J,this.selectedDays.splice(2)}clickDate=(J)=>{let Z=J.target.getAttribute("title");this.selectDate(Z)};keyDate=(J)=>{let Z=!1;switch(J.code){case"Space":let Y=J.target.getAttribute("title");this.selectDate(Y),Z=!0;break;case"Tab":break;default:console.log(J)}if(Z)J.preventDefault(),J.stopPropagation()};#J="";selectDate=(J)=>{if(this.#J=J,this.range){if(!this.to)this.selectedDays=[J,J];else if(this.from===J&&this.to===J)this.selectedDays=[];else if(this.from===J)this.from=this.to;else if(this.to===J)this.to=this.from;else if(J<this.from)this.from=J;else if(J>this.to)this.to=J;else if(J<this.from)this.from=J;else this.to=J;this.value=`${this.from},${this.to}`}else if(this.multiple){if(this.selectedDays.includes(J))this.selectedDays.splice(this.selectedDays.indexOf(J),1);else this.selectedDays.push(J),this.selectedDays.sort();this.value=this.selectedDays.join(",")}else if(this.selectable)if(this.selectedDays.includes(J))this.value="",this.selectedDays=[];else this.value=J,this.selectedDays=[J]};nextMonth=()=>{if(this.month<12)this.gotoMonth(this.year,this.month+1);else this.gotoMonth(this.year+1,1)};previousMonth=()=>{if(this.month>1)this.gotoMonth(this.year,this.month-1);else this.gotoMonth(this.year-1,12)};checkDay=(J)=>{if(!this.range)return this.selectedDays.includes(J);else if(this.range)return this.from&&J>=this.from&&J<=this.to;return!1};dateMenuItem=(J,Z="")=>{return J=J.split("T")[0],{caption:Z||J,enabled:()=>!J.startsWith(`${this.year}-${l8(this.month)}-`),action:()=>{this.gotoDate(J)}}};jumpMenu=()=>{U5({target:this.parts.jump,menuItems:[this.dateMenuItem(new Date().toISOString(),"This Month"),...this.selectedDays.length===0?[]:[null],...this.selectedDays.map((J)=>this.dateMenuItem(J))]})};content=()=>[w8({part:"header"},x8({part:"previous",onClick:this.previousMonth},v.chevronLeft()),g7({style:{flex:"1"}}),x8({part:"jump",onClick:this.jumpMenu},v.calendar()),IJ({part:"month",options:this.months,onChange:this.setMonth}),IJ({part:"year",options:[this.year],onChange:this.setMonth}),g7({style:{flex:"1"}}),x8({part:"next",onClick:this.nextMonth},v.chevronRight())),w8({part:"week"}),w8({part:"days"})];gotoDate(J){let Z=new Date(J);this.gotoMonth(Z.getFullYear(),Z.getMonth()+1)}constructor(){super();this.initAttributes("month","year","weekStart","minDate","maxDate","selectable","multiple","range","disabled","readonly")}connectedCallback(){super.connectedCallback();let J=new Date(this.value.split(",").pop()||Date.now());if(isNaN(this.month))this.month=J.getMonth()+1;if(isNaN(this.year))this.year=J.getFullYear()}days=[];render(){let{week:J,days:Z,jump:Y,month:X,year:q,previous:Q,next:K}=this.parts;this.selectedDays=this.value?this.value.split(","):[];let $=$3(this.year,this.month,1),U=new Date($.valueOf()-(7+$.getDay()-this.weekStart)%7*K3),W=this.month===12?1:this.month+1,G=new Date($3(this.year+(this.month===12?1:0),W,1).valueOf()-K3),j=new Date(G.valueOf()+(this.weekStart*2+5+this.endDay-G.getDay())%7*K3),z=cH.map((I)=>new Date(U.valueOf()+I*K3).toString().split(" ")[0]);this.days=[];let O=new Date().toISOString().split("T")[0];for(let I=U.valueOf();I<=j.valueOf();I+=K3){let L=new Date(I),P=L.toISOString().split("T")[0];this.days.push({date:L,selected:!1,inMonth:L.getMonth()+1===this.month,isToday:P===O,isWeekend:L.getDay()%6===0,inRange:!!(this.from&&P>=this.from&&P<=this.to)})}X.value=String(this.month),q.value=String(this.year);let H=(X.disabled=q.disabled=Y.disabled=Q.disabled=K.disabled=this.disabled||this.readonly)||!this.selectable&&!this.range&&!this.multiple;q.options=this.years,J.textContent="",J.append(...z.map((I)=>g7({class:"day"},I))),Z.textContent="";let N=null,{to:F,from:M}=this;if(Z.append(...this.days.map((I)=>{let L=["date"];if(I.inMonth)L.push("in-month");if(I.isToday)L.push("today");let P=I.date.toISOString().split("T")[0];if(this.checkDay(P))L.push("checked");if(L.push(I.isWeekend?"weekend":"weekday"),this.range){if(F===P)L.push("range-end");if(M===P)L.push("range-start")}let E=g7({class:L.join(" "),title:P,onClick:this.clickDate,onKeydown:this.keyDate,tabindex:"0"},I.date.getDate());if(P===this.#J)N=E;return E})),N)N.focus()}}var iH=K2.elementCreator({tag:"tosi-month",styleSpec:{":host":{display:"block"},":host [part=header]":{display:"flex",alignItems:"stretch",justifyContent:"stretch"},":host[disabled]":{pointerEvents:"none",opacity:B.disabledOpacity(0.6)},':host [part="month"], :host [part="year"]':{_fieldWidth:"4em",flex:"1"},":host [part=week], :host [part=days]":{display:"grid",gridTemplateColumns:"auto auto auto auto auto auto auto",justifyItems:"stretch"},":host .today":{background:B.monthTodayBackground("transparent"),boxShadow:B.monthTodayShadow("none"),backdropFilter:B.monthTodayBackdropFilter("brightness(0.9)"),fontWeight:B.monthTodayFontWeight("800")},":host .day, :host .date":{padding:5,display:"flex",justifyContent:"center",userSelect:"none"},":host .day":{color:B.monthDayColor("hotpink"),background:B.monthDayBackground("white"),fontWeight:B.monthDayFontWeight("800")},":host .date":{cursor:"default"},":host .weekend":{background:B.monthWeekendBackground("#eee")},":host .date:not(.in-month)":{opacity:0.5},":host .date.checked":{color:B.monthDateCheckedColor("white"),background:B.monthDateCheckedBackground("hotpink")},":host:not([range]) .date.checked":{borderRadius:B.monthDateCheckedBorderRadius("10px")},":host .range-start":{borderTopLeftRadius:B.monthDateCheckedBorderRadius("10px"),borderBottomLeftRadius:B.monthDateCheckedBorderRadius("10px")},":host .range-end":{borderTopRightRadius:B.monthDateCheckedBorderRadius("10px"),borderBottomRightRadius:B.monthDateCheckedBorderRadius("10px")}}}),{div:h8,button:sH}=y,aH={error:"red",warn:"orange",info:"royalblue",log:"gray",success:"green",progress:"royalblue"};class VJ extends k{static singleton;static styleSpec={":host":{_notificationSpacing:8,_notificationWidth:360,_notificationPadding:`${A.notificationSpacing} ${A.notificationSpacing50} ${A.notificationSpacing} ${A.notificationSpacing200}`,_notificationBg:"#fafafa",_notificationAccentColor:"#aaa",_notificationTextColor:"#444",_notificationIconSize:A.notificationSpacing300,_notificationButtonSize:48,_notificationBorderWidth:"3px 0 0",_notificationBorderRadius:A.notificationSpacing50,position:"fixed",left:0,right:0,bottom:0,paddingBottom:A.notificationSpacing,width:A.notificationWidth,display:"flex",flexDirection:"column-reverse",margin:"0 auto",gap:A.notificationSpacing,maxHeight:"50vh",overflow:"hidden auto",boxShadow:"none !important"},":host *":{color:A.notificationTextColor},":host .note":{display:"grid",background:A.notificationBg,padding:A.notificationPadding,gridTemplateColumns:`${A.notificationIconSize} 1fr ${A.notificationButtonSize}`,gap:A.notificationSpacing,alignItems:"center",borderRadius:A.notificationBorderRadius,boxShadow:`0 2px 8px #0006, inset 0 0 0 2px ${A.notificationAccentColor}`,borderColor:A.notificationAccentColor,borderWidth:A.notificationBorderWidth,borderStyle:"solid",transition:"0.5s ease-in",transitionProperty:"margin, opacity",zIndex:1},":host .note .icon":{stroke:A.notificationAccentColor},":host .note button":{display:"flex",lineHeight:A.notificationButtonSize,padding:0,margin:0,height:A.notificationButtonSize,width:A.notificationButtonSize,background:"transparent",alignItems:"center",justifyContent:"center",boxShadow:"none",border:"none",position:"relative"},":host .note button:hover svg":{stroke:A.notificationAccentColor},":host .note button:active svg":{borderRadius:99,stroke:A.notificationBg,background:A.notificationAccentColor,padding:A.spacing50},":host .note svg":{height:A.notificationIconSize,width:A.notificationIconSize,pointerEvents:"none"},":host .message":{display:"flex",flexDirection:"column",alignItems:"center",gap:A.notificationSpacing},":host .note.closing":{opacity:0,zIndex:0}};static removeNote(J){J.classList.add("closing"),J.style.marginBottom=-J.offsetHeight+"px";let Z=()=>{J.remove()};J.addEventListener("transitionend",Z),setTimeout(Z,1000)}static post(J){let{message:Z,duration:Y,type:X,close:q,progress:Q,icon:K,color:$}=Object.assign({type:"info",duration:-1},typeof J==="string"?{message:J}:J);if(!this.singleton)this.singleton=iq();let U=this.singleton;document.body.append(U),U.style.zIndex=String(n7()+1);let W=$||aH[X],G=Q||X==="progress"?y.progress():{},j=()=>{if(q)q();VJ.removeNote(O)},z=K instanceof SVGElement?K:K?v[K]({class:"icon"}):v.info({class:"icon"}),O=h8({class:`note ${X}`,style:{_notificationAccentColor:W}},z,h8({class:"message"},h8(Z),G),sH({class:"close",title:"close",apply(H){H.addEventListener("click",j)}},v.x()));if(U.shadowRoot.append(O),G instanceof HTMLProgressElement&&Q instanceof Function){G.setAttribute("max",String(100)),G.value=Q();let H=setInterval(()=>{if(!U.shadowRoot.contains(O)){clearInterval(H);return}let N=Q();if(G.value=N,N>=100)VJ.removeNote(O)},1000)}if(Y>0)setTimeout(()=>{VJ.removeNote(O)},Y*1000);return O.scrollIntoView(),j}content=null}var iq=VJ.elementCreator({tag:"xin-notification"});function rH(J){return VJ.post(J)}var sq=async(J,Z="SHA-1")=>{let Y=new TextEncoder().encode(J),X=await crypto.subtle.digest(Z,Y);return Array.from(new Uint8Array(X)).map((q)=>q.toString(16).padStart(2,"0")).join("")},aq=async(J)=>{let Z=await sq(J),Y=await fetch(`https://weakpass.com/api/v1/search/${Z}`);if(Y.ok){let X=await Y.json();console.log("password found in weakpass database",X)}return Y.status!==404},{span:v8,xinSlot:oH}=y;class $2 extends k{minLength=8;goodLength=12;indicatorColors="#f00,#f40,#f80,#ef0,#8f0,#0a2";descriptionColors="#000,#000,#000,#000,#000,#fff";issues={tooShort:!0,short:!0,noUpper:!0,noLower:!0,noNumber:!0,noSpecial:!0};issueDescriptions={tooShort:"too short",short:"short",noUpper:"no upper case",noLower:"no lower case",noNumber:"no digits",noSpecial:"no unusual characters"};value=0;strengthDescriptions=["unacceptable","very weak","weak","moderate","strong","very strong"];constructor(){super();this.initAttributes("minLength","goodLength","indicatorColors")}strength(J){return this.issues={tooShort:J.length<this.minLength,short:J.length<this.goodLength,noUpper:!J.match(/[A-Z]/),noLower:!J.match(/[a-z]/),noNumber:!J.match(/[0-9]/),noSpecial:!J.match(/[^a-zA-Z0-9]/)},this.issues.tooShort?0:Object.values(this.issues).filter((Z)=>!Z).length-1}async isBreached(){let J=this.querySelector("input")?.value;if(!J||typeof J!=="string")return!0;return await aq(J)}updateIndicator=(J)=>{let{level:Z,description:Y}=this.parts,X=this.indicatorColors.split(","),q=this.descriptionColors.split(","),Q=this.strength(J);if(this.value!==Q)this.value=Q,this.dispatchEvent(new Event("change"));Z.style.width=`${(Q+1)*16.67}%`,this.style.setProperty("--indicator-color",X[Q]),this.style.setProperty("--description-color",q[Q]),Y.textContent=this.strengthDescriptions[Q]};update=(J)=>{let Z=J.target.closest("input");this.updateIndicator(Z?.value||"")};content=()=>[oH({onInput:this.update}),v8({part:"meter"},v8({part:"level"}),v8({part:"description"}))];render(){super.render();let J=this.querySelector("input");this.updateIndicator(J?.value)}}var tH=$2.elementCreator({tag:"xin-password-strength",styleSpec:{":host":{display:"inline-flex",flexDirection:"column",gap:A.spacing50,position:"relative"},":host xin-slot":{display:"flex"},':host [part="meter"]':{display:"block",position:"relative",height:B.meterHeight("24px"),background:B.indicatorBg("white"),borderRadius:B.meterRadius("4px"),boxShadow:B.meterShadow(`inset 0 0 0 2px ${A.indicatorColor}`)},':host [part="level"]':{height:B.levelHeight("20px"),content:'" "',display:"inline-block",width:0,transition:"0.15s ease-out",background:A.indicatorColor,margin:B.levelMargin("2px"),borderRadius:B.levelRadius("2px")},':host [part="description"]':{position:"absolute",inset:"0",color:A.descriptionColor,height:B.meterHeight("24px"),lineHeight:B.meterHeight("24px"),textAlign:"center"}}}),{span:m8}=y;class U2 extends k{iconSize=24;min=1;max=5;step=1;value=null;icon="star";ratingFill="#f91";ratingStroke="#e81";emptyFill="#ccc";emptyStroke="none";readonly=!1;hollow=!1;static styleSpec={":host":{display:"inline-block",position:"relative",width:"fit-content"},":host::part(container)":{position:"relative",display:"inline-block"},":host::part(empty), :host::part(filled)":{height:"100%",whiteSpace:"nowrap",overflow:"hidden"},":host::part(empty)":{pointerEvents:"none",_xinIconFill:A.emptyFill,_xinIconStroke:A.emptyStroke},":host::part(filled)":{position:"absolute",left:0,_xinIconFill:A.ratingFill,_xinIconStroke:A.ratingStroke},":host svg":{transform:"scale(0.9)",pointerEvents:"all !important",transition:"0.25s ease-in-out"},":host svg:hover":{transform:"scale(1)"},":host svg:active":{transform:"scale(1.1)"}};constructor(){super();this.initAttributes("max","min","icon","step","ratingStroke","ratingColor","emptyStroke","emptyColor","readonly","iconSize","hollow")}content=()=>m8({part:"container"},m8({part:"empty"}),m8({part:"filled"}));displayValue(J){let{empty:Z,filled:Y}=this.parts,X=Math.round((J||0)/this.step)*this.step;Y.style.width=X/this.max*Z.offsetWidth+"px"}update=(J)=>{if(this.readonly)return;let{empty:Z}=this.parts,Y=J instanceof MouseEvent?J.pageX-Z.getBoundingClientRect().x:0,X=Math.min(Math.max(this.min,Math.round(Y/Z.offsetWidth*this.max/this.step+this.step*0.5)*this.step),this.max);if(J.type==="click")this.value=X;else if(J.type==="mousemove")this.displayValue(X);else this.displayValue(this.value||0)};handleKey=(J)=>{let Z=Number(this.value);if(Z==null)Z=Math.round((this.min+this.max)*0.5*this.step)*this.step;let Y=!1;switch(J.key){case"ArrowUp":case"ArrowRight":Z+=this.step,Y=!0;break;case"ArrowDown":case"ArrowLeft":Z-=this.step,Y=!0;break}if(this.value=Math.max(Math.min(Z,this.max),this.min),Y)J.stopPropagation(),J.preventDefault()};connectedCallback(){super.connectedCallback();let{container:J}=this.parts;J.tabIndex=0,J.addEventListener("mousemove",this.update,!0),J.addEventListener("mouseleave",this.update),J.addEventListener("blur",this.update),J.addEventListener("click",this.update),J.addEventListener("keydown",this.handleKey)}_renderedIcon="";render(){super.render();let J=this.iconSize+"px";if(this.style.setProperty("--rating-fill",this.ratingFill),this.style.setProperty("--rating-stroke",this.ratingStroke),this.style.setProperty("--empty-fill",this.emptyFill),this.style.setProperty("--empty-stroke",this.emptyStroke),this.style.setProperty("--xin-icon-size",J),this.readonly)this.role="image";else this.role="slider";this.ariaLabel=`rating ${this.value} out of ${this.max}`,this.ariaValueMax=String(this.max),this.ariaValueMin=String(this.min),this.ariaValueNow=this.value===null?String(-1):String(this.value);let{empty:Z,filled:Y}=this.parts;if(Z.classList.toggle("hollow",this.hollow),this._renderedIcon!==this.icon){this._renderedIcon=this.icon;for(let X=0;X<this.max;X++)Z.append(v[this.icon]()),Y.append(v[this.icon]())}this.displayValue(this.value)}}var eH=U2.elementCreator({tag:"xin-rating"}),{xinSlot:Fq,div:JN,button:ZN,span:rq}=y,YN=[{caption:"Title",tagType:"H1"},{caption:"Heading",tagType:"H2"},{caption:"Subheading",tagType:"H3"},{caption:"Minor heading",tagType:"H4"},{caption:"Body",tagType:"P"},{caption:"Code Block",tagType:"PRE"}];function W2(J=YN){return IJ({title:"paragraph style",slot:"toolbar",class:"block-style",options:J.map(({caption:Z,tagType:Y})=>({caption:Z,value:`formatBlock,${Y}`}))})}function Q4(J="10px"){return rq({slot:"toolbar",style:{flex:`0 0 ${J}`,content:" "}})}function XN(J="10px"){return rq({slot:"toolbar",style:{flex:`0 0 ${J}`,content:" "}})}function p1(J,Z,Y){return ZN({slot:"toolbar",dataCommand:Z,title:J},Y)}var qN=()=>[p1("left-justify","justifyLeft",v.alignLeft()),p1("center","justifyCenter",v.alignCenter()),p1("right-justify","justifyRight",v.alignRight()),Q4(),p1("bullet list","insertUnorderedList",v.listBullet()),p1("numbered list","insertOrderedList",v.listNumber()),Q4(),p1("indent","indent",v.indent()),p1("indent","outdent",v.outdent())],oq=()=>[p1("bold","bold",v.fontBold()),p1("italic","italic",v.fontItalic()),p1("underline","underline",v.fontUnderline())],QN=()=>[W2(),Q4(),...oq()],tq=()=>[W2(),Q4(),...qN(),Q4(),...oq()];class G2 extends k{widgets="default";isInitialized=!1;get value(){return this.isInitialized?this.parts.doc.innerHTML:this.savedValue||this.innerHTML}set value(J){if(this.isInitialized)this.parts.doc.innerHTML=J;else this.innerHTML=J}blockElement(J){let{doc:Z}=this.parts;while(J.parentElement!==null&&J.parentElement!==Z)J=J.parentElement;return J.parentElement===Z?J:void 0}get selectedBlocks(){let{doc:J}=this.parts,Z=window.getSelection();if(Z===null)return[];let Y=[];for(let X=0;X<Z.rangeCount;X++){let q=Z.getRangeAt(X);if(!J.contains(q.commonAncestorContainer))continue;let Q=this.blockElement(q.startContainer),K=this.blockElement(q.endContainer);Y.push(Q);while(Q!==K&&Q!==null)Q=Q.nextElementSibling,Y.push(Q)}return Y}get selectedText(){let J=window.getSelection();if(J===null)return"";return this.selectedBlocks.length?J.toString():""}selectionChange=()=>{};handleSelectChange=(J)=>{let Z=J.target.closest(G3.tagName);if(Z==null)return;this.doCommand(Z.value)};handleButtonClick=(J)=>{let Z=J.target.closest("button");if(Z==null)return;this.doCommand(Z.dataset.command)};content=[Fq({name:"toolbar",part:"toolbar",onClick:this.handleButtonClick,onChange:this.handleSelectChange}),JN({part:"doc",contenteditable:!0,style:{flex:"1 1 auto",outline:"none"}}),Fq({part:"content"})];constructor(){super();this.initAttributes("widgets")}doCommand(J){if(J===void 0)return;let Z=J.split(",");console.log("execCommand",Z[0],!1,...Z.slice(1)),document.execCommand(Z[0],!1,...Z.slice(1))}updateBlockStyle(){let J=this.parts.toolbar.querySelector(".block-style");if(J===null)return;let Z=this.selectedBlocks.map((Y)=>Y.tagName);Z=[...new Set(Z)],J.value=Z.length===1?`formatBlock,${Z[0]}`:""}connectedCallback(){super.connectedCallback();let{doc:J,content:Z}=this.parts;if(Z.innerHTML!==""&&J.innerHTML==="")J.innerHTML=Z.innerHTML,Z.innerHTML="";this.isInitialized=!0,Z.style.display="none",document.addEventListener("selectionchange",(Y)=>{this.updateBlockStyle(),this.selectionChange(Y,this)})}render(){let{toolbar:J}=this.parts;if(super.render(),J.children.length===0)switch(this.widgets){case"minimal":J.append(...QN());break;case"default":J.append(...tq());break}}}var KN=G2.elementCreator({tag:"xin-word",styleSpec:{":host":{display:"flex",flexDirection:"column",height:"100%"},':host [part="toolbar"]':{padding:4,display:"flex",gap:"0px",flex:"0 0 auto",flexWrap:"wrap"},':host [part="toolbar"] > button':{_xinIconSize:18}}}),{div:$N,slot:UN,label:WN,span:GN,input:Mq}=y;class j2 extends k{choices="";other="";multiple=!1;name="";placeholder="Please specify";localized=!1;value=null;get values(){return(this.value||"").split(",").map((J)=>J.trim()).filter((J)=>J!=="")}content=()=>[UN(),$N({part:"options"},Mq({part:"custom",hidden:!0}))];static styleSpec={":host":{display:"inline-flex",gap:B.segmentedOptionGap("8px"),alignItems:B.segmentedAlignItems("center")},":host, :host::part(options)":{flexDirection:B.segmentedDirection("row")},":host label":{display:"inline-grid",alignItems:"center",gap:B.segmentedOptionGap("8px"),gridTemplateColumns:B.segmentedOptionGridColumns("0px 24px 1fr"),padding:B.segmentedOptionPadding("4px 12px"),font:B.segmentedOptionFont("16px")},":host label:focus":{outline:"none",boxShadow:B.segmentedFocusShadow(`inset 0 0 0 2px ${B.segmentedOptionCurrentBackground("#44a")}`),borderRadius:B.segmentedOptionsBorderRadius("8px")},":host label:has(:checked)":{color:B.segmentedOptionCurrentColor("#eee"),background:B.segmentedOptionCurrentBackground("#44a")},":host label:has(:checked):focus":{boxShadow:B.segmentedCurrentFocusShadow(`inset 0 0 0 2px ${B.segmentedOptionCurrentColor("#eee")}`)},":host svg":{height:B.segmentOptionIconSize("16px"),stroke:B.segmentedOptionIconColor("currentColor")},":host label.no-icon":{gap:0,gridTemplateColumns:B.segmentedOptionGridColumns("0px 1fr")},':host input[type="radio"], :host input[type="checkbox"]':{visibility:B.segmentedInputVisibility("hidden")},":host::part(options)":{display:"flex",borderRadius:B.segmentedOptionsBorderRadius("8px"),background:B.segmentedOptionsBackground("#fff"),color:B.segmentedOptionColor("#222"),overflow:"hidden",alignItems:B.segmentedOptionAlignItems("stretch")},":host::part(custom)":{padding:B.segmentedOptionPadding("4px 12px"),color:B.segmentedOptionCurrentColor("#eee"),background:B.segmentedOptionCurrentBackground("#44a"),font:B.segmentedOptionFont("16px"),border:"0",outline:"none"},":host::part(custom)::placeholder":{color:B.segmentedOptionCurrentColor("#eee"),opacity:B.segmentedPlaceholderOpacity(0.75)}};constructor(){super();this.initAttributes("direction","choices","other","multiple","name","placeholder","localized")}valueChanged=!1;handleChange=()=>{let{options:J,custom:Z}=this.parts;if(this.multiple){let Y=[...J.querySelectorAll("input:checked")];this.value=Y.map((X)=>X.value).join(",")}else{let Y=J.querySelector("input:checked");if(!Y)this.value=null;else if(Y.value)Z.setAttribute("hidden",""),this.value=Y.value;else Z.removeAttribute("hidden"),Z.focus(),Z.select(),this.value=Z.value}this.valueChanged=!0};handleKey=(J)=>{let Z=!1;switch(J.code){case"Space":if(J.target instanceof HTMLLabelElement)J.target.click(),Z=!0;break;case"Tab":if(!(J.target instanceof HTMLLabelElement))J.target.closest("label").focus();break;case"ArrowLeft":case"ArrowUp":{let Y=J.target.closest("label");if(Y.previousElementSibling instanceof HTMLLabelElement)Y.previousElementSibling.focus()}Z=!0;break;case"ArrowRight":case"ArrowDown":{let Y=J.target.closest("label");if(Y.nextElementSibling instanceof HTMLLabelElement)Y.nextElementSibling.focus()}Z=!0;break}if(Z)J.preventDefault(),J.stopPropagation()};connectedCallback(){super.connectedCallback();let{options:J}=this.parts;if(this.name==="")this.name=this.instanceId;if(J.addEventListener("change",this.handleChange),J.addEventListener("keydown",this.handleKey),this.other&&this.multiple)console.warn(this,"is set to [other] and [multiple]; [other] will be ignored"),this.other=""}get _choices(){let J=Array.isArray(this.choices)?this.choices:this.choices.split(",").filter((Z)=>Z.trim()!=="").map((Z)=>{let[Y,X]=Z.split("=").map(($)=>$.trim()),[q,Q]=(X||Y).split(":").map(($)=>$.trim()),K=Q?v[Q]():"";return{value:Y,icon:K,caption:q}});if(this.other&&!this.multiple){let[Z,Y]=this.other.split(":");J.push({value:"",caption:Z,icon:Y})}return J}get isOtherValue(){return Boolean(this.value===""||this.value&&!this._choices.find((J)=>J.value===this.value))}render(){if(super.render(),this.valueChanged){this.valueChanged=!1;return}let{options:J,custom:Z}=this.parts;J.textContent="";let Y=this.multiple?"checkbox":"radio",{values:X,isOtherValue:q}=this;if(J.append(...this._choices.map((Q)=>{return WN({tabindex:0},Mq({type:Y,name:this.name,value:Q.value,checked:X.includes(Q.value)||Q.value===""&&q,tabIndex:-1}),Q.icon||{class:"no-icon"},this.localized?i7(Q.caption):GN(Q.caption))})),this.other&&!this.multiple)Z.hidden=!q,Z.value=q?this.value:"",Z.placeholder=this.placeholder,J.append(Z)}}var jN=j2.elementCreator({tag:"xin-segmented"}),{slot:Vq}=y;class $4 extends k{minSize=800;navSize=200;compact=!1;contentVisible=!1;value="normal";content=[Vq({name:"nav",part:"nav"}),Vq({part:"content"})];static styleSpec={":host":{display:"grid",gridTemplateColumns:`${B.navWidth("50%")} ${B.contentWidth("50%")}`,gridTemplateRows:"100%",position:"relative",margin:B.margin("0 0 0 -100%"),transition:B.sideNavTransition("0.25s ease-out")},":host slot":{position:"relative"},":host slot:not([name])":{display:"block"},':host slot[name="nav"]':{display:"block"}};onResize=()=>{let{content:J}=this.parts,Z=this.offsetParent;if(Z===null)return;let Y=this.value;if(this.compact=Z.offsetWidth<this.minSize,[...this.childNodes].find((X)=>X instanceof Element?X.getAttribute("slot")!=="nav":!0)===void 0)Y="compact/nav",this.style.setProperty("--nav-width","100%"),this.style.setProperty("--content-width","0%");else if(!this.compact)Y="normal",J.classList.add("-xin-sidenav-visible"),this.style.setProperty("--nav-width",`${this.navSize}px`),this.style.setProperty("--content-width",`calc(100% - ${this.navSize}px)`),this.style.setProperty("--margin","0");else if(J.classList.remove("-xin-sidenav-visible"),this.style.setProperty("--nav-width","50%"),this.style.setProperty("--content-width","50%"),this.contentVisible)Y="compact/content",this.style.setProperty("--margin","0 0 0 -100%");else Y="compact/nav",this.style.setProperty("--margin","0 -100% 0 0");if(this.value!==Y)this.value=Y};observer;connectedCallback(){super.connectedCallback(),this.contentVisible=this.parts.content.childNodes.length===0,globalThis.addEventListener("resize",this.onResize),this.observer=new MutationObserver(this.onResize),this.observer.observe(this,{childList:!0}),this.style.setProperty("--side-nav-transition","0s"),setTimeout(()=>{this.style.removeProperty("--side-nav-transition")},250)}disconnectedCallback(){super.disconnectedCallback(),this.observer.disconnect()}constructor(){super();this.initAttributes("minSize","navSize","compact","contentVisible")}render(){super.render(),this.onResize()}}var z2=$4.elementCreator({tag:"xin-sidenav"}),{slot:Iq}=y;class O2 extends k{minWidth=0;minHeight=0;value="normal";content=[Iq({part:"normal"}),Iq({part:"small",name:"small"})];static styleSpec={":host":{display:"inline-block",position:"relative"}};constructor(){super();this.initAttributes("minWidth","minHeight")}onResize=()=>{let{normal:J,small:Z}=this.parts,Y=this.offsetParent;if(!(Y instanceof HTMLElement))return;else if(Y.offsetWidth<this.minWidth||Y.offsetHeight<this.minHeight)J.hidden=!0,Z.hidden=!1,this.value="small";else J.hidden=!1,Z.hidden=!0,this.value="normal"};connectedCallback(){super.connectedCallback(),globalThis.addEventListener("resize",this.onResize)}disconnectedCallback(){super.disconnectedCallback(),globalThis.removeEventListener("resize",this.onResize)}}var _2=O2.elementCreator({tag:"xin-sizebreak"});class H2 extends k{target=null;static styleSpec={":host":{_resizeIconFill:"#222",display:"block",position:"absolute",bottom:-7,right:-7,padding:14,width:44,height:44,opacity:0.25,transition:"opacity 0.25s ease-out"},":host(:hover)":{opacity:0.5},":host svg":{width:16,height:16,stroke:A.resizeIconFill}};content=v.resize();get minSize(){let{minWidth:J,minHeight:Z}=getComputedStyle(this.target);return{width:parseFloat(J)||32,height:parseFloat(Z)||32}}resizeTarget=(J)=>{let{target:Z}=this;if(!Z)return;let{offsetWidth:Y,offsetHeight:X}=Z;Z.style.left=Z.offsetLeft+"px",Z.style.top=Z.offsetTop+"px",Z.style.bottom="",Z.style.right="";let{minSize:q}=this;l5(J,(Q,K,$)=>{if(Z.style.width=Math.max(q.width,Y+Q)+"px",Z.style.height=Math.max(q.height,X+K)+"px",$.type==="mouseup")return!0},"nwse-resize")};connectedCallback(){if(super.connectedCallback(),!this.target)this.target=this.parentElement;let J={passive:!0};this.addEventListener("mousedown",this.resizeTarget,J),this.addEventListener("touchstart",this.resizeTarget,J)}}var zN=H2.elementCreator({tag:"xin-sizer"}),{div:ON,input:_N,span:HN,button:p8}=y;class a7 extends k{caption="";removeable=!1;removeCallback=()=>{this.remove()};content=()=>[HN({part:"caption"},this.caption),p8(v.x(),{part:"remove",hidden:!this.removeable,onClick:this.removeCallback})];constructor(){super();this.initAttributes("caption","removeable")}}var eq=a7.elementCreator({tag:"xin-tag",styleSpec:{":host":{"--tag-close-button-color":"#000c","--tag-close-button-bg":"#fffc","--tag-button-opacity":"0.5","--tag-button-hover-opacity":"0.75","--tag-bg":B.brandColor("blue"),"--tag-text-color":B.brandTextColor("white"),display:"inline-flex",borderRadius:B.tagRoundedRadius(A.spacing50),color:A.tagTextColor,background:A.tagBg,padding:`0 ${A.spacing75} 0 ${A.spacing75}`,height:`calc(${A.lineHeight} + ${A.spacing50})`,lineHeight:`calc(${A.lineHeight} + ${A.spacing50})`},':host > [part="caption"]':{position:"relative",whiteSpace:"nowrap",overflow:"hidden",flex:"1 1 auto",fontSize:B.fontSize("16px"),color:A.tagTextColor,textOverflow:"ellipsis"},':host [part="remove"]':{boxShadow:"none",margin:`0 ${A.spacing_50} 0 ${A.spacing25}`,padding:0,display:"inline-flex",alignItems:"center",alignSelf:"center",justifyContent:"center",height:A.spacing150,width:A.spacing150,color:A.tagCloseButtonColor,background:A.tagCloseButtonBg,borderRadius:B.tagCloseButtonRadius("99px"),opacity:A.tagButtonOpacity},':host [part="remove"]:hover':{background:A.tagCloseButtonBg,opacity:A.tagButtonHoverOpacity}}});class N2 extends k{disabled=!1;name="";availableTags=[];value=[];textEntry=!1;editable=!1;placeholder="enter tags";get tags(){return typeof this.value==="string"?this.value.split(",").map((J)=>J.trim()).filter((J)=>J!==""):this.value}constructor(){super();this.initAttributes("name","value","textEntry","availableTags","editable","placeholder","disabled")}addTag=(J)=>{if(J.trim()==="")return;let{tags:Z}=this;if(!Z.includes(J))Z.push(J);this.value=Z,this.queueRender(!0)};toggleTag=(J)=>{if(this.tags.includes(J))this.value=this.tags.filter((Z)=>Z!==J);else this.addTag(J);this.queueRender(!0)};enterTag=(J)=>{let{tagInput:Z}=this.parts;switch(J.key){case",":{let Y=Z.value.split(",")[0];this.addTag(Y)}break;case"Enter":{let Y=Z.value.split(",")[0];this.addTag(Y)}J.stopPropagation(),J.preventDefault();break;default:}};popSelectMenu=()=>{let{toggleTag:J}=this,{tagMenu:Z}=this.parts,Y=typeof this.availableTags==="string"?this.availableTags.split(","):this.availableTags,X=this.tags.filter((Q)=>!Y.includes(Q));if(X.length)Y.push(null,...X);let q=Y.map((Q)=>{if(Q===""||Q===null)return null;else if(typeof Q==="object")return{checked:()=>this.tags.includes(Q.value),caption:Q.caption,action(){J(Q.value)}};else return{checked:()=>this.tags.includes(Q),caption:Q,action(){J(Q)}}});U5({target:Z,width:"auto",menuItems:q})};content=()=>[p8({style:{visibility:"hidden"},tabindex:-1}),ON({part:"tagContainer",class:"row"}),_N({part:"tagInput",class:"elastic",onKeydown:this.enterTag}),p8({title:"add tag",part:"tagMenu",onClick:this.popSelectMenu},v.chevronDown())];removeTag=(J)=>{if(this.editable&&!this.disabled){let Z=J.target.closest(a7.tagName);this.value=this.tags.filter((Y)=>Y!==Z.caption),Z.remove(),this.queueRender(!0)}J.stopPropagation(),J.preventDefault()};render(){super.render();let{tagContainer:J,tagMenu:Z,tagInput:Y}=this.parts;if(Z.disabled=this.disabled,Y.value="",Y.setAttribute("placeholder",this.placeholder),this.editable&&!this.disabled)Z.toggleAttribute("hidden",!1),Y.toggleAttribute("hidden",!this.textEntry);else Z.toggleAttribute("hidden",!0),Y.toggleAttribute("hidden",!0);J.textContent="";let{tags:X}=this;for(let q of X)J.append(eq({caption:q,removeable:this.editable&&!this.disabled,removeCallback:this.removeTag}))}}var NN=N2.elementCreator({tag:"xin-tag-list",styleSpec:{":host":{"--tag-list-bg":"#f8f8f8","--touch-size":"44px","--spacing":"16px",display:"grid",gridTemplateColumns:"auto",alignItems:"center",background:A.tagListBg,gap:A.spacing25,borderRadius:B.taglistRoundedRadius(A.spacing50),overflow:"hidden"},":host[editable]":{gridTemplateColumns:`0px auto ${A.touchSize}`},":host[editable][text-entry]":{gridTemplateColumns:`0px 2fr 1fr ${A.touchSize}`},':host [part="tagContainer"]':{display:"flex",content:'" "',alignItems:"center",background:A.inputBg,borderRadius:B.tagContainerRadius(A.spacing50),boxShadow:A.borderShadow,flexWrap:"nowrap",overflow:"auto hidden",gap:A.spacing25,minHeight:`calc(${A.lineHeight} + ${A.spacing})`,padding:A.spacing25},':host [part="tagMenu"]':{width:A.touchSize,height:A.touchSize,lineHeight:A.touchSize,textAlign:"center",padding:0,margin:0},":host [hidden]":{display:"none !important"},':host button[part="tagMenu"]':{background:A.brandColor,color:A.brandTextColor}}}),RN="1.0.9";var JQ="#3d4a6b",AN="#ffffff",ZQ={":root":{_brandColor:JQ,_brandTextColor:AN,_headerHeight:"50px",_sidebarWidth:"220px",_spacing:"10px",_spacing50:"5px",_spacing200:"20px",_borderRadius:"6px",_fontMono:"'SF Mono', Monaco, 'Cascadia Code', Consolas, monospace",_fontSize:"15px",_lineHeight:"1.6",_linkColor:JQ,_codeBackground:"#f3f4f6",_codeBorder:"#e5e7eb"},".darkmode":{_background:"#111827",_textColor:"#f3f4f6",_codeBackground:"#1f2937",_codeBorder:"#374151",_linkColor:"#818cf8"},".high-contrast":{_textColor:"#000000",_background:"#ffffff"},".darkmode.high-contrast":{_textColor:"#ffffff",_background:"#000000"},"html, body":{margin:0,padding:0,height:"100%",fontFamily:"system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif",fontSize:A.fontSize,lineHeight:A.lineHeight,background:A.background,color:A.textColor},body:{display:"flex",flexDirection:"column"},main:{flex:"1",display:"flex",flexDirection:"column",overflow:"hidden"},header:{display:"flex",alignItems:"center",height:A.headerHeight,padding:`0 ${A.spacing}`,background:A.brandColor,color:A.brandTextColor,gap:A.spacing,flexShrink:0},"header h1":{margin:0,fontSize:"1.25em",fontWeight:600},"header a":{color:A.brandTextColor,textDecoration:"none",display:"flex",alignItems:"center",gap:A.spacing50},"header .elastic":{flex:"1 1 auto"},".iconic":{background:"none",border:"none",cursor:"pointer",padding:A.spacing50,borderRadius:A.borderRadius,color:"inherit",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.15s"},".iconic:hover":{background:"rgba(255, 255, 255, 0.15)"},a:{color:A.linkColor,textDecoration:"none"},"a:hover":{textDecoration:"underline"},".doc-link":{display:"block",padding:`${A.spacing50} ${A.spacing}`,color:A.textColor,borderRadius:A.borderRadius,textDecoration:"none",transition:"background 0.15s"},".doc-link:hover":{background:"rgba(99, 102, 241, 0.1)",textDecoration:"none"},".doc-link.current":{background:A.brandColor,color:A.brandTextColor},"pre:not(.cm-content), code:not(.cm-content code)":{fontFamily:A.fontMono,fontSize:"0.9em"},"pre:not(.cm-content)":{background:A.codeBackground,border:`1px solid ${A.codeBorder}`,borderRadius:A.borderRadius,padding:A.spacing,overflow:"auto"},".cm-editor":{height:"100%"},"code:not(pre code)":{background:A.codeBackground,padding:"2px 6px",borderRadius:"4px"},".badge":{display:"inline-flex",alignItems:"center",gap:"4px"},".badge img":{height:"20px"},'input[type="search"]':{width:"100%",padding:A.spacing50,border:`1px solid ${A.codeBorder}`,borderRadius:A.borderRadius,background:A.background,color:A.textColor,fontSize:"inherit"},'input[type="search"]:focus':{outline:"none",borderColor:A.brandColor,boxShadow:"0 0 0 2px rgba(99, 102, 241, 0.2)"},".markdown-content":{maxWidth:"48em",margin:"0 auto",padding:A.spacing200},".markdown-content h1":{fontSize:"2em",marginTop:0},".markdown-content h2":{fontSize:"1.5em",marginTop:"1.5em",paddingBottom:"0.3em",borderBottom:`1px solid ${A.codeBorder}`},".markdown-content h3":{fontSize:"1.25em",marginTop:"1.25em"},".markdown-content table":{width:"100%",borderCollapse:"collapse",marginBottom:"1em"},".markdown-content th, .markdown-content td":{padding:A.spacing50,border:`1px solid ${A.codeBorder}`,textAlign:"left"},".markdown-content th":{background:A.codeBackground,fontWeight:600},".loading":{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",fontSize:"1.2em",opacity:0.6}};var A2=[],QQ=[];(()=>{let J="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((Z)=>Z?parseInt(Z,36):1);for(let Z=0,Y=0;Z<J.length;Z++)(Z%2?QQ:A2).push(Y=Y+J[Z])})();function FN(J){if(J<768)return!1;for(let Z=0,Y=A2.length;;){let X=Z+Y>>1;if(J<A2[X])Y=X;else if(J>=QQ[X])Z=X+1;else return!0;if(Z==Y)return!1}}function YQ(J){return J>=127462&&J<=127487}var XQ=8205;function KQ(J,Z,Y=!0,X=!0){return(Y?$Q:MN)(J,Z,X)}function $Q(J,Z,Y){if(Z==J.length)return Z;if(Z&&UQ(J.charCodeAt(Z))&&WQ(J.charCodeAt(Z-1)))Z--;let X=R2(J,Z);Z+=qQ(X);while(Z<J.length){let q=R2(J,Z);if(X==XQ||q==XQ||Y&&FN(q))Z+=qQ(q),X=q;else if(YQ(q)){let Q=0,K=Z-2;while(K>=0&&YQ(R2(J,K)))Q++,K-=2;if(Q%2==0)break;else Z+=2}else break}return Z}function MN(J,Z,Y){while(Z>0){let X=$Q(J,Z-2,Y);if(X<Z)return X;Z--}return 0}function R2(J,Z){let Y=J.charCodeAt(Z);if(!WQ(Y)||Z+1==J.length)return Y;let X=J.charCodeAt(Z+1);if(!UQ(X))return Y;return(Y-55296<<10)+(X-56320)+65536}function UQ(J){return J>=56320&&J<57344}function WQ(J){return J>=55296&&J<56320}function qQ(J){return J<65536?1:2}class e{lineAt(J){if(J<0||J>this.length)throw RangeError(`Invalid position ${J} in document of length ${this.length}`);return this.lineInner(J,!1,1,0)}line(J){if(J<1||J>this.lines)throw RangeError(`Invalid line number ${J} in ${this.lines}-line document`);return this.lineInner(J,!0,1,0)}replace(J,Z,Y){[J,Z]=j4(this,J,Z);let X=[];if(this.decompose(0,J,X,2),Y.length)Y.decompose(0,Y.length,X,3);return this.decompose(Z,this.length,X,1),W5.from(X,this.length-(Z-J)+Y.length)}append(J){return this.replace(this.length,this.length,J)}slice(J,Z=this.length){[J,Z]=j4(this,J,Z);let Y=[];return this.decompose(J,Z,Y,0),W5.from(Y,Z-J)}eq(J){if(J==this)return!0;if(J.length!=this.length||J.lines!=this.lines)return!1;let Z=this.scanIdentical(J,1),Y=this.length-this.scanIdentical(J,-1),X=new W4(this),q=new W4(J);for(let Q=Z,K=Z;;){if(X.next(Q),q.next(Q),Q=0,X.lineBreak!=q.lineBreak||X.done!=q.done||X.value!=q.value)return!1;if(K+=X.value.length,X.done||K>=Y)return!0}}iter(J=1){return new W4(this,J)}iterRange(J,Z=this.length){return new T2(this,J,Z)}iterLines(J,Z){let Y;if(J==null)Y=this.iter();else{if(Z==null)Z=this.lines+1;let X=this.line(J).from;Y=this.iterRange(X,Math.max(X,Z==this.lines+1?this.length:Z<=1?0:this.line(Z-1).to))}return new y2(Y)}toString(){return this.sliceString(0)}toJSON(){let J=[];return this.flatten(J),J}constructor(){}static of(J){if(J.length==0)throw RangeError("A document must have at least one line");if(J.length==1&&!J[0])return e.empty;return J.length<=32?new T0(J):W5.from(T0.split(J,[]))}}class T0 extends e{constructor(J,Z=VN(J)){super();this.text=J,this.length=Z}get lines(){return this.text.length}get children(){return null}lineInner(J,Z,Y,X){for(let q=0;;q++){let Q=this.text[q],K=X+Q.length;if((Z?Y:K)>=J)return new HQ(X,K,Y,Q);X=K+1,Y++}}decompose(J,Z,Y,X){let q=J<=0&&Z>=this.length?this:new T0(GQ(this.text,J,Z),Math.min(Z,this.length)-Math.max(0,J));if(X&1){let Q=Y.pop(),K=J9(q.text,Q.text.slice(),0,q.length);if(K.length<=32)Y.push(new T0(K,Q.length+q.length));else{let $=K.length>>1;Y.push(new T0(K.slice(0,$)),new T0(K.slice($)))}}else Y.push(q)}replace(J,Z,Y){if(!(Y instanceof T0))return super.replace(J,Z,Y);[J,Z]=j4(this,J,Z);let X=J9(this.text,J9(Y.text,GQ(this.text,0,J)),Z),q=this.length+Y.length-(Z-J);if(X.length<=32)return new T0(X,q);return W5.from(T0.split(X,[]),q)}sliceString(J,Z=this.length,Y=`
`){[J,Z]=j4(this,J,Z);let X="";for(let q=0,Q=0;q<=Z&&Q<this.text.length;Q++){let K=this.text[Q],$=q+K.length;if(q>J&&Q)X+=Y;if(J<$&&Z>q)X+=K.slice(Math.max(0,J-q),Z-q);q=$+1}return X}flatten(J){for(let Z of this.text)J.push(Z)}scanIdentical(){return 0}static split(J,Z){let Y=[],X=-1;for(let q of J)if(Y.push(q),X+=q.length+1,Y.length==32)Z.push(new T0(Y,X)),Y=[],X=-1;if(X>-1)Z.push(new T0(Y,X));return Z}}class W5 extends e{constructor(J,Z){super();this.children=J,this.length=Z,this.lines=0;for(let Y of J)this.lines+=Y.lines}lineInner(J,Z,Y,X){for(let q=0;;q++){let Q=this.children[q],K=X+Q.length,$=Y+Q.lines-1;if((Z?$:K)>=J)return Q.lineInner(J,Z,Y,X);X=K+1,Y=$+1}}decompose(J,Z,Y,X){for(let q=0,Q=0;Q<=Z&&q<this.children.length;q++){let K=this.children[q],$=Q+K.length;if(J<=$&&Z>=Q){let U=X&((Q<=J?1:0)|($>=Z?2:0));if(Q>=J&&$<=Z&&!U)Y.push(K);else K.decompose(J-Q,Z-Q,Y,U)}Q=$+1}}replace(J,Z,Y){if([J,Z]=j4(this,J,Z),Y.lines<this.lines)for(let X=0,q=0;X<this.children.length;X++){let Q=this.children[X],K=q+Q.length;if(J>=q&&Z<=K){let $=Q.replace(J-q,Z-q,Y),U=this.lines-Q.lines+$.lines;if($.lines<U>>4&&$.lines>U>>6){let W=this.children.slice();return W[X]=$,new W5(W,this.length-(Z-J)+Y.length)}return super.replace(q,K,$)}q=K+1}return super.replace(J,Z,Y)}sliceString(J,Z=this.length,Y=`
`){[J,Z]=j4(this,J,Z);let X="";for(let q=0,Q=0;q<this.children.length&&Q<=Z;q++){let K=this.children[q],$=Q+K.length;if(Q>J&&q)X+=Y;if(J<$&&Z>Q)X+=K.sliceString(J-Q,Z-Q,Y);Q=$+1}return X}flatten(J){for(let Z of this.children)Z.flatten(J)}scanIdentical(J,Z){if(!(J instanceof W5))return 0;let Y=0,[X,q,Q,K]=Z>0?[0,0,this.children.length,J.children.length]:[this.children.length-1,J.children.length-1,-1,-1];for(;;X+=Z,q+=Z){if(X==Q||q==K)return Y;let $=this.children[X],U=J.children[q];if($!=U)return Y+$.scanIdentical(U,Z);Y+=$.length+1}}static from(J,Z=J.reduce((Y,X)=>Y+X.length+1,-1)){let Y=0;for(let z of J)Y+=z.lines;if(Y<32){let z=[];for(let O of J)O.flatten(z);return new T0(z,Z)}let X=Math.max(32,Y>>5),q=X<<1,Q=X>>1,K=[],$=0,U=-1,W=[];function G(z){let O;if(z.lines>q&&z instanceof W5)for(let H of z.children)G(H);else if(z.lines>Q&&($>Q||!$))j(),K.push(z);else if(z instanceof T0&&$&&(O=W[W.length-1])instanceof T0&&z.lines+O.lines<=32)$+=z.lines,U+=z.length+1,W[W.length-1]=new T0(O.text.concat(z.text),O.length+1+z.length);else{if($+z.lines>X)j();$+=z.lines,U+=z.length+1,W.push(z)}}function j(){if($==0)return;K.push(W.length==1?W[0]:W5.from(W,U)),U=-1,$=W.length=0}for(let z of J)G(z);return j(),K.length==1?K[0]:new W5(K,Z)}}e.empty=new T0([""],0);function VN(J){let Z=-1;for(let Y of J)Z+=Y.length+1;return Z}function J9(J,Z,Y=0,X=1e9){for(let q=0,Q=0,K=!0;Q<J.length&&q<=X;Q++){let $=J[Q],U=q+$.length;if(U>=Y){if(U>X)$=$.slice(0,X-q);if(q<Y)$=$.slice(Y-q);if(K)Z[Z.length-1]+=$,K=!1;else Z.push($)}q=U+1}return Z}function GQ(J,Z,Y){return J9(J,[""],Z,Y)}class W4{constructor(J,Z=1){this.dir=Z,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[J],this.offsets=[Z>0?1:(J instanceof T0?J.text.length:J.children.length)<<1]}nextInner(J,Z){this.done=this.lineBreak=!1;for(;;){let Y=this.nodes.length-1,X=this.nodes[Y],q=this.offsets[Y],Q=q>>1,K=X instanceof T0?X.text.length:X.children.length;if(Q==(Z>0?K:0)){if(Y==0)return this.done=!0,this.value="",this;if(Z>0)this.offsets[Y-1]++;this.nodes.pop(),this.offsets.pop()}else if((q&1)==(Z>0?0:1)){if(this.offsets[Y]+=Z,J==0)return this.lineBreak=!0,this.value=`
`,this;J--}else if(X instanceof T0){let $=X.text[Q+(Z<0?-1:0)];if(this.offsets[Y]+=Z,$.length>Math.max(0,J))return this.value=J==0?$:Z>0?$.slice(J):$.slice(0,$.length-J),this;J-=$.length}else{let $=X.children[Q+(Z<0?-1:0)];if(J>$.length)J-=$.length,this.offsets[Y]+=Z;else{if(Z<0)this.offsets[Y]--;this.nodes.push($),this.offsets.push(Z>0?1:($ instanceof T0?$.text.length:$.children.length)<<1)}}}}next(J=0){if(J<0)this.nextInner(-J,-this.dir),J=this.value.length;return this.nextInner(J,this.dir)}}class T2{constructor(J,Z,Y){this.value="",this.done=!1,this.cursor=new W4(J,Z>Y?-1:1),this.pos=Z>Y?J.length:0,this.from=Math.min(Z,Y),this.to=Math.max(Z,Y)}nextInner(J,Z){if(Z<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;J+=Math.max(0,Z<0?this.pos-this.to:this.from-this.pos);let Y=Z<0?this.pos-this.from:this.to-this.pos;if(J>Y)J=Y;Y-=J;let{value:X}=this.cursor.next(J);return this.pos+=(X.length+J)*Z,this.value=X.length<=Y?X:Z<0?X.slice(X.length-Y):X.slice(0,Y),this.done=!this.value,this}next(J=0){if(J<0)J=Math.max(J,this.from-this.pos);else if(J>0)J=Math.min(J,this.to-this.pos);return this.nextInner(J,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class y2{constructor(J){this.inner=J,this.afterBreak=!0,this.value="",this.done=!1}next(J=0){let{done:Z,lineBreak:Y,value:X}=this.inner.next(J);if(Z&&this.afterBreak)this.value="",this.afterBreak=!1;else if(Z)this.done=!0,this.value="";else if(Y)if(this.afterBreak)this.value="";else this.afterBreak=!0,this.next();else this.value=X,this.afterBreak=!1;return this}get lineBreak(){return!1}}if(typeof Symbol<"u")e.prototype[Symbol.iterator]=function(){return this.iter()},W4.prototype[Symbol.iterator]=T2.prototype[Symbol.iterator]=y2.prototype[Symbol.iterator]=function(){return this};class HQ{constructor(J,Z,Y,X){this.from=J,this.to=Z,this.number=Y,this.text=X}get length(){return this.to-this.from}}function j4(J,Z,Y){return Z=Math.max(0,Math.min(J.length,Z)),[Z,Math.max(Z,Math.min(J.length,Y))]}function P0(J,Z,Y=!0,X=!0){return KQ(J,Z,Y,X)}function IN(J){return J>=56320&&J<57344}function DN(J){return J>=55296&&J<56320}function g0(J,Z){let Y=J.charCodeAt(Z);if(!DN(Y)||Z+1==J.length)return Y;let X=J.charCodeAt(Z+1);if(!IN(X))return Y;return(Y-55296<<10)+(X-56320)+65536}function N3(J){if(J<=65535)return String.fromCharCode(J);return J-=65536,String.fromCharCode((J>>10)+55296,(J&1023)+56320)}function H1(J){return J<65536?1:2}var M2=/\r\n?|\n/,x0=function(J){return J[J.Simple=0]="Simple",J[J.TrackDel=1]="TrackDel",J[J.TrackBefore=2]="TrackBefore",J[J.TrackAfter=3]="TrackAfter",J}(x0||(x0={}));class d1{constructor(J){this.sections=J}get length(){let J=0;for(let Z=0;Z<this.sections.length;Z+=2)J+=this.sections[Z];return J}get newLength(){let J=0;for(let Z=0;Z<this.sections.length;Z+=2){let Y=this.sections[Z+1];J+=Y<0?this.sections[Z]:Y}return J}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(J){for(let Z=0,Y=0,X=0;Z<this.sections.length;){let q=this.sections[Z++],Q=this.sections[Z++];if(Q<0)J(Y,X,q),X+=q;else X+=Q;Y+=q}}iterChangedRanges(J,Z=!1){V2(this,J,Z)}get invertedDesc(){let J=[];for(let Z=0;Z<this.sections.length;){let Y=this.sections[Z++],X=this.sections[Z++];if(X<0)J.push(Y,X);else J.push(X,Y)}return new d1(J)}composeDesc(J){return this.empty?J:J.empty?this:NQ(this,J)}mapDesc(J,Z=!1){return J.empty?this:I2(this,J,Z)}mapPos(J,Z=-1,Y=x0.Simple){let X=0,q=0;for(let Q=0;Q<this.sections.length;){let K=this.sections[Q++],$=this.sections[Q++],U=X+K;if($<0){if(U>J)return q+(J-X);q+=K}else{if(Y!=x0.Simple&&U>=J&&(Y==x0.TrackDel&&X<J&&U>J||Y==x0.TrackBefore&&X<J||Y==x0.TrackAfter&&U>J))return null;if(U>J||U==J&&Z<0&&!K)return J==X||Z<0?q:q+$;q+=$}X=U}if(J>X)throw RangeError(`Position ${J} is out of range for changeset of length ${X}`);return q}touchesRange(J,Z=J){for(let Y=0,X=0;Y<this.sections.length&&X<=Z;){let q=this.sections[Y++],Q=this.sections[Y++],K=X+q;if(Q>=0&&X<=Z&&K>=J)return X<J&&K>Z?"cover":!0;X=K}return!1}toString(){let J="";for(let Z=0;Z<this.sections.length;){let Y=this.sections[Z++],X=this.sections[Z++];J+=(J?" ":"")+Y+(X>=0?":"+X:"")}return J}toJSON(){return this.sections}static fromJSON(J){if(!Array.isArray(J)||J.length%2||J.some((Z)=>typeof Z!="number"))throw RangeError("Invalid JSON representation of ChangeDesc");return new d1(J)}static create(J){return new d1(J)}}class y0 extends d1{constructor(J,Z){super(J);this.inserted=Z}apply(J){if(this.length!=J.length)throw RangeError("Applying change set to a document with the wrong length");return V2(this,(Z,Y,X,q,Q)=>J=J.replace(X,X+(Y-Z),Q),!1),J}mapDesc(J,Z=!1){return I2(this,J,Z,!0)}invert(J){let Z=this.sections.slice(),Y=[];for(let X=0,q=0;X<Z.length;X+=2){let Q=Z[X],K=Z[X+1];if(K>=0){Z[X]=K,Z[X+1]=Q;let $=X>>1;while(Y.length<$)Y.push(e.empty);Y.push(Q?J.slice(q,q+Q):e.empty)}q+=Q}return new y0(Z,Y)}compose(J){return this.empty?J:J.empty?this:NQ(this,J,!0)}map(J,Z=!1){return J.empty?this:I2(this,J,Z,!0)}iterChanges(J,Z=!1){V2(this,J,Z)}get desc(){return d1.create(this.sections)}filter(J){let Z=[],Y=[],X=[],q=new z4(this);J:for(let Q=0,K=0;;){let $=Q==J.length?1e9:J[Q++];while(K<$||K==$&&q.len==0){if(q.done)break J;let W=Math.min(q.len,$-K);n0(X,W,-1);let G=q.ins==-1?-1:q.off==0?q.ins:0;if(n0(Z,W,G),G>0)d5(Y,Z,q.text);q.forward(W),K+=W}let U=J[Q++];while(K<U){if(q.done)break J;let W=Math.min(q.len,U-K);n0(Z,W,-1),n0(X,W,q.ins==-1?-1:q.off==0?q.ins:0),q.forward(W),K+=W}}return{changes:new y0(Z,Y),filtered:d1.create(X)}}toJSON(){let J=[];for(let Z=0;Z<this.sections.length;Z+=2){let Y=this.sections[Z],X=this.sections[Z+1];if(X<0)J.push(Y);else if(X==0)J.push([Y]);else J.push([Y].concat(this.inserted[Z>>1].toJSON()))}return J}static of(J,Z,Y){let X=[],q=[],Q=0,K=null;function $(W=!1){if(!W&&!X.length)return;if(Q<Z)n0(X,Z-Q,-1);let G=new y0(X,q);K=K?K.compose(G.map(K)):G,X=[],q=[],Q=0}function U(W){if(Array.isArray(W))for(let G of W)U(G);else if(W instanceof y0){if(W.length!=Z)throw RangeError(`Mismatched change set length (got ${W.length}, expected ${Z})`);$(),K=K?K.compose(W.map(K)):W}else{let{from:G,to:j=G,insert:z}=W;if(G>j||G<0||j>Z)throw RangeError(`Invalid change range ${G} to ${j} (in doc of length ${Z})`);let O=!z?e.empty:typeof z=="string"?e.of(z.split(Y||M2)):z,H=O.length;if(G==j&&H==0)return;if(G<Q)$();if(G>Q)n0(X,G-Q,-1);n0(X,j-G,H),d5(q,X,O),Q=j}}return U(J),$(!K),K}static empty(J){return new y0(J?[J,-1]:[],[])}static fromJSON(J){if(!Array.isArray(J))throw RangeError("Invalid JSON representation of ChangeSet");let Z=[],Y=[];for(let X=0;X<J.length;X++){let q=J[X];if(typeof q=="number")Z.push(q,-1);else if(!Array.isArray(q)||typeof q[0]!="number"||q.some((Q,K)=>K&&typeof Q!="string"))throw RangeError("Invalid JSON representation of ChangeSet");else if(q.length==1)Z.push(q[0],0);else{while(Y.length<X)Y.push(e.empty);Y[X]=e.of(q.slice(1)),Z.push(q[0],Y[X].length)}}return new y0(Z,Y)}static createSet(J,Z){return new y0(J,Z)}}function n0(J,Z,Y,X=!1){if(Z==0&&Y<=0)return;let q=J.length-2;if(q>=0&&Y<=0&&Y==J[q+1])J[q]+=Z;else if(q>=0&&Z==0&&J[q]==0)J[q+1]+=Y;else if(X)J[q]+=Z,J[q+1]+=Y;else J.push(Z,Y)}function d5(J,Z,Y){if(Y.length==0)return;let X=Z.length-2>>1;if(X<J.length)J[J.length-1]=J[J.length-1].append(Y);else{while(J.length<X)J.push(e.empty);J.push(Y)}}function V2(J,Z,Y){let X=J.inserted;for(let q=0,Q=0,K=0;K<J.sections.length;){let $=J.sections[K++],U=J.sections[K++];if(U<0)q+=$,Q+=$;else{let W=q,G=Q,j=e.empty;for(;;){if(W+=$,G+=U,U&&X)j=j.append(X[K-2>>1]);if(Y||K==J.sections.length||J.sections[K+1]<0)break;$=J.sections[K++],U=J.sections[K++]}Z(q,W,Q,G,j),q=W,Q=G}}}function I2(J,Z,Y,X=!1){let q=[],Q=X?[]:null,K=new z4(J),$=new z4(Z);for(let U=-1;;)if(K.done&&$.len||$.done&&K.len)throw Error("Mismatched change set lengths");else if(K.ins==-1&&$.ins==-1){let W=Math.min(K.len,$.len);n0(q,W,-1),K.forward(W),$.forward(W)}else if($.ins>=0&&(K.ins<0||U==K.i||K.off==0&&($.len<K.len||$.len==K.len&&!Y))){let W=$.len;n0(q,$.ins,-1);while(W){let G=Math.min(K.len,W);if(K.ins>=0&&U<K.i&&K.len<=G){if(n0(q,0,K.ins),Q)d5(Q,q,K.text);U=K.i}K.forward(G),W-=G}$.next()}else if(K.ins>=0){let W=0,G=K.len;while(G)if($.ins==-1){let j=Math.min(G,$.len);W+=j,G-=j,$.forward(j)}else if($.ins==0&&$.len<G)G-=$.len,$.next();else break;if(n0(q,W,U<K.i?K.ins:0),Q&&U<K.i)d5(Q,q,K.text);U=K.i,K.forward(K.len-G)}else if(K.done&&$.done)return Q?y0.createSet(q,Q):d1.create(q);else throw Error("Mismatched change set lengths")}function NQ(J,Z,Y=!1){let X=[],q=Y?[]:null,Q=new z4(J),K=new z4(Z);for(let $=!1;;)if(Q.done&&K.done)return q?y0.createSet(X,q):d1.create(X);else if(Q.ins==0)n0(X,Q.len,0,$),Q.next();else if(K.len==0&&!K.done){if(n0(X,0,K.ins,$),q)d5(q,X,K.text);K.next()}else if(Q.done||K.done)throw Error("Mismatched change set lengths");else{let U=Math.min(Q.len2,K.len),W=X.length;if(Q.ins==-1){let G=K.ins==-1?-1:K.off?0:K.ins;if(n0(X,U,G,$),q&&G)d5(q,X,K.text)}else if(K.ins==-1){if(n0(X,Q.off?0:Q.len,U,$),q)d5(q,X,Q.textBit(U))}else if(n0(X,Q.off?0:Q.len,K.off?0:K.ins,$),q&&!K.off)d5(q,X,K.text);$=(Q.ins>U||K.ins>=0&&K.len>U)&&($||X.length>W),Q.forward2(U),K.forward(U)}}class z4{constructor(J){this.set=J,this.i=0,this.next()}next(){let{sections:J}=this.set;if(this.i<J.length)this.len=J[this.i++],this.ins=J[this.i++];else this.len=0,this.ins=-2;this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:J}=this.set,Z=this.i-2>>1;return Z>=J.length?e.empty:J[Z]}textBit(J){let{inserted:Z}=this.set,Y=this.i-2>>1;return Y>=Z.length&&!J?e.empty:Z[Y].slice(this.off,J==null?void 0:this.off+J)}forward(J){if(J==this.len)this.next();else this.len-=J,this.off+=J}forward2(J){if(this.ins==-1)this.forward(J);else if(J==this.ins)this.next();else this.ins-=J,this.off+=J}}class BJ{constructor(J,Z,Y){this.from=J,this.to=Z,this.flags=Y}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let J=this.flags&7;return J==7?null:J}get goalColumn(){let J=this.flags>>6;return J==16777215?void 0:J}map(J,Z=-1){let Y,X;if(this.empty)Y=X=J.mapPos(this.from,Z);else Y=J.mapPos(this.from,1),X=J.mapPos(this.to,-1);return Y==this.from&&X==this.to?this:new BJ(Y,X,this.flags)}extend(J,Z=J){if(J<=this.anchor&&Z>=this.anchor)return D.range(J,Z);let Y=Math.abs(J-this.anchor)>Math.abs(Z-this.anchor)?J:Z;return D.range(this.anchor,Y)}eq(J,Z=!1){return this.anchor==J.anchor&&this.head==J.head&&(!Z||!this.empty||this.assoc==J.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(J){if(!J||typeof J.anchor!="number"||typeof J.head!="number")throw RangeError("Invalid JSON representation for SelectionRange");return D.range(J.anchor,J.head)}static create(J,Z,Y){return new BJ(J,Z,Y)}}class D{constructor(J,Z){this.ranges=J,this.mainIndex=Z}map(J,Z=-1){if(J.empty)return this;return D.create(this.ranges.map((Y)=>Y.map(J,Z)),this.mainIndex)}eq(J,Z=!1){if(this.ranges.length!=J.ranges.length||this.mainIndex!=J.mainIndex)return!1;for(let Y=0;Y<this.ranges.length;Y++)if(!this.ranges[Y].eq(J.ranges[Y],Z))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new D([this.main],0)}addRange(J,Z=!0){return D.create([J].concat(this.ranges),Z?0:this.mainIndex+1)}replaceRange(J,Z=this.mainIndex){let Y=this.ranges.slice();return Y[Z]=J,D.create(Y,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((J)=>J.toJSON()),main:this.mainIndex}}static fromJSON(J){if(!J||!Array.isArray(J.ranges)||typeof J.main!="number"||J.main>=J.ranges.length)throw RangeError("Invalid JSON representation for EditorSelection");return new D(J.ranges.map((Z)=>BJ.fromJSON(Z)),J.main)}static single(J,Z=J){return new D([D.range(J,Z)],0)}static create(J,Z=0){if(J.length==0)throw RangeError("A selection needs at least one range");for(let Y=0,X=0;X<J.length;X++){let q=J[X];if(q.empty?q.from<=Y:q.from<Y)return D.normalized(J.slice(),Z);Y=q.to}return new D(J,Z)}static cursor(J,Z=0,Y,X){return BJ.create(J,J,(Z==0?0:Z<0?8:16)|(Y==null?7:Math.min(6,Y))|(X!==null&&X!==void 0?X:16777215)<<6)}static range(J,Z,Y,X){let q=(Y!==null&&Y!==void 0?Y:16777215)<<6|(X==null?7:Math.min(6,X));return Z<J?BJ.create(Z,J,48|q):BJ.create(J,Z,(Z>J?8:0)|q)}static normalized(J,Z=0){let Y=J[Z];J.sort((X,q)=>X.from-q.from),Z=J.indexOf(Y);for(let X=1;X<J.length;X++){let q=J[X],Q=J[X-1];if(q.empty?q.from<=Q.to:q.from<Q.to){let K=Q.from,$=Math.max(q.to,Q.to);if(X<=Z)Z--;J.splice(--X,2,q.anchor>q.head?D.range($,K):D.range(K,$))}}return new D(J,Z)}}function RQ(J,Z){for(let Y of J.ranges)if(Y.to>Z)throw RangeError("Selection points outside of document")}var b2=0;class b{constructor(J,Z,Y,X,q){this.combine=J,this.compareInput=Z,this.compare=Y,this.isStatic=X,this.id=b2++,this.default=J([]),this.extensions=typeof q=="function"?q(this):q}get reader(){return this}static define(J={}){return new b(J.combine||((Z)=>Z),J.compareInput||((Z,Y)=>Z===Y),J.compare||(!J.combine?S2:(Z,Y)=>Z===Y),!!J.static,J.enables)}of(J){return new z3([],this,0,J)}compute(J,Z){if(this.isStatic)throw Error("Can't compute a static facet");return new z3(J,this,1,Z)}computeN(J,Z){if(this.isStatic)throw Error("Can't compute a static facet");return new z3(J,this,2,Z)}from(J,Z){if(!Z)Z=(Y)=>Y;return this.compute([J],(Y)=>Z(Y.field(J)))}}function S2(J,Z){return J==Z||J.length==Z.length&&J.every((Y,X)=>Y===Z[X])}class z3{constructor(J,Z,Y,X){this.dependencies=J,this.facet=Z,this.type=Y,this.value=X,this.id=b2++}dynamicSlot(J){var Z;let Y=this.value,X=this.facet.compareInput,q=this.id,Q=J[q]>>1,K=this.type==2,$=!1,U=!1,W=[];for(let G of this.dependencies)if(G=="doc")$=!0;else if(G=="selection")U=!0;else if((((Z=J[G.id])!==null&&Z!==void 0?Z:1)&1)==0)W.push(J[G.id]);return{create(G){return G.values[Q]=Y(G),1},update(G,j){if($&&j.docChanged||U&&(j.docChanged||j.selection)||D2(G,W)){let z=Y(G);if(K?!jQ(z,G.values[Q],X):!X(z,G.values[Q]))return G.values[Q]=z,1}return 0},reconfigure:(G,j)=>{let z,O=j.config.address[q];if(O!=null){let H=X9(j,O);if(this.dependencies.every((N)=>{return N instanceof b?j.facet(N)===G.facet(N):N instanceof M0?j.field(N,!1)==G.field(N,!1):!0})||(K?jQ(z=Y(G),H,X):X(z=Y(G),H)))return G.values[Q]=H,0}else z=Y(G);return G.values[Q]=z,1}}}}function jQ(J,Z,Y){if(J.length!=Z.length)return!1;for(let X=0;X<J.length;X++)if(!Y(J[X],Z[X]))return!1;return!0}function D2(J,Z){let Y=!1;for(let X of Z)if(O3(J,X)&1)Y=!0;return Y}function LN(J,Z,Y){let X=Y.map((U)=>J[U.id]),q=Y.map((U)=>U.type),Q=X.filter((U)=>!(U&1)),K=J[Z.id]>>1;function $(U){let W=[];for(let G=0;G<X.length;G++){let j=X9(U,X[G]);if(q[G]==2)for(let z of j)W.push(z);else W.push(j)}return Z.combine(W)}return{create(U){for(let W of X)O3(U,W);return U.values[K]=$(U),1},update(U,W){if(!D2(U,Q))return 0;let G=$(U);if(Z.compare(G,U.values[K]))return 0;return U.values[K]=G,1},reconfigure(U,W){let G=D2(U,X),j=W.config.facets[Z.id],z=W.facet(Z);if(j&&!G&&S2(Y,j))return U.values[K]=z,0;let O=$(U);if(Z.compare(O,z))return U.values[K]=z,0;return U.values[K]=O,1}}}var o7=b.define({static:!0});class M0{constructor(J,Z,Y,X,q){this.id=J,this.createF=Z,this.updateF=Y,this.compareF=X,this.spec=q,this.provides=void 0}static define(J){let Z=new M0(b2++,J.create,J.update,J.compare||((Y,X)=>Y===X),J);if(J.provide)Z.provides=J.provide(Z);return Z}create(J){let Z=J.facet(o7).find((Y)=>Y.field==this);return((Z===null||Z===void 0?void 0:Z.create)||this.createF)(J)}slot(J){let Z=J[this.id]>>1;return{create:(Y)=>{return Y.values[Z]=this.create(Y),1},update:(Y,X)=>{let q=Y.values[Z],Q=this.updateF(q,X);if(this.compareF(q,Q))return 0;return Y.values[Z]=Q,1},reconfigure:(Y,X)=>{let q=Y.facet(o7),Q=X.facet(o7),K;if((K=q.find(($)=>$.field==this))&&K!=Q.find(($)=>$.field==this))return Y.values[Z]=K.create(Y),1;if(X.config.address[this.id]!=null)return Y.values[Z]=X.field(this),0;return Y.values[Z]=this.create(Y),1}}}init(J){return[this,o7.of({field:this,create:J})]}get extension(){return this}}var LJ={lowest:4,low:3,default:2,high:1,highest:0};function j3(J){return(Z)=>new k2(Z,J)}var L1={highest:j3(LJ.highest),high:j3(LJ.high),default:j3(LJ.default),low:j3(LJ.low),lowest:j3(LJ.lowest)};class k2{constructor(J,Z){this.inner=J,this.prec=Z}}class q9{of(J){return new Z9(this,J)}reconfigure(J){return q9.reconfigure.of({compartment:this,extension:J})}get(J){return J.config.compartments.get(this)}}class Z9{constructor(J,Z){this.compartment=J,this.inner=Z}}class Y9{constructor(J,Z,Y,X,q,Q){this.base=J,this.compartments=Z,this.dynamicSlots=Y,this.address=X,this.staticValues=q,this.facets=Q,this.statusTemplate=[];while(this.statusTemplate.length<Y.length)this.statusTemplate.push(0)}staticFacet(J){let Z=this.address[J.id];return Z==null?J.default:this.staticValues[Z>>1]}static resolve(J,Z,Y){let X=[],q=Object.create(null),Q=new Map;for(let j of BN(J,Z,Q))if(j instanceof M0)X.push(j);else(q[j.facet.id]||(q[j.facet.id]=[])).push(j);let K=Object.create(null),$=[],U=[];for(let j of X)K[j.id]=U.length<<1,U.push((z)=>j.slot(z));let W=Y===null||Y===void 0?void 0:Y.config.facets;for(let j in q){let z=q[j],O=z[0].facet,H=W&&W[j]||[];if(z.every((N)=>N.type==0))if(K[O.id]=$.length<<1|1,S2(H,z))$.push(Y.facet(O));else{let N=O.combine(z.map((F)=>F.value));$.push(Y&&O.compare(N,Y.facet(O))?Y.facet(O):N)}else{for(let N of z)if(N.type==0)K[N.id]=$.length<<1|1,$.push(N.value);else K[N.id]=U.length<<1,U.push((F)=>N.dynamicSlot(F));K[O.id]=U.length<<1,U.push((N)=>LN(N,O,z))}}let G=U.map((j)=>j(K));return new Y9(J,Q,G,K,$,q)}}function BN(J,Z,Y){let X=[[],[],[],[],[]],q=new Map;function Q(K,$){let U=q.get(K);if(U!=null){if(U<=$)return;let W=X[U].indexOf(K);if(W>-1)X[U].splice(W,1);if(K instanceof Z9)Y.delete(K.compartment)}if(q.set(K,$),Array.isArray(K))for(let W of K)Q(W,$);else if(K instanceof Z9){if(Y.has(K.compartment))throw RangeError("Duplicate use of compartment in extensions");let W=Z.get(K.compartment)||K.inner;Y.set(K.compartment,W),Q(W,$)}else if(K instanceof k2)Q(K.inner,K.prec);else if(K instanceof M0){if(X[$].push(K),K.provides)Q(K.provides,$)}else if(K instanceof z3){if(X[$].push(K),K.facet.extensions)Q(K.facet.extensions,LJ.default)}else{let W=K.extension;if(!W)throw Error(`Unrecognized extension value in extension set (${K}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);Q(W,$)}}return Q(J,LJ.default),X.reduce((K,$)=>K.concat($))}function O3(J,Z){if(Z&1)return 2;let Y=Z>>1,X=J.status[Y];if(X==4)throw Error("Cyclic dependency between fields and/or facets");if(X&2)return X;J.status[Y]=4;let q=J.computeSlot(J,J.config.dynamicSlots[Y]);return J.status[Y]=2|q}function X9(J,Z){return Z&1?J.config.staticValues[Z>>1]:J.values[Z>>1]}var AQ=b.define(),L2=b.define({combine:(J)=>J.some((Z)=>Z),static:!0}),FQ=b.define({combine:(J)=>J.length?J[0]:void 0,static:!0}),MQ=b.define(),VQ=b.define(),IQ=b.define(),DQ=b.define({combine:(J)=>J.length?J[0]:!1});class N1{constructor(J,Z){this.type=J,this.value=Z}static define(){return new LQ}}class LQ{of(J){return new N1(this,J)}}class BQ{constructor(J){this.map=J}of(J){return new p(this,J)}}class p{constructor(J,Z){this.type=J,this.value=Z}map(J){let Z=this.type.map(this.value,J);return Z===void 0?void 0:Z==this.value?this:new p(this.type,Z)}is(J){return this.type==J}static define(J={}){return new BQ(J.map||((Z)=>Z))}static mapEffects(J,Z){if(!J.length)return J;let Y=[];for(let X of J){let q=X.map(Z);if(q)Y.push(q)}return Y}}p.reconfigure=p.define();p.appendConfig=p.define();class D0{constructor(J,Z,Y,X,q,Q){if(this.startState=J,this.changes=Z,this.selection=Y,this.effects=X,this.annotations=q,this.scrollIntoView=Q,this._doc=null,this._state=null,Y)RQ(Y,Z.newLength);if(!q.some((K)=>K.type==D0.time))this.annotations=q.concat(D0.time.of(Date.now()))}static create(J,Z,Y,X,q,Q){return new D0(J,Z,Y,X,q,Q)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){if(!this._state)this.startState.applyTransaction(this);return this._state}annotation(J){for(let Z of this.annotations)if(Z.type==J)return Z.value;return}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(J){let Z=this.annotation(D0.userEvent);return!!(Z&&(Z==J||Z.length>J.length&&Z.slice(0,J.length)==J&&Z[J.length]=="."))}}D0.time=N1.define();D0.userEvent=N1.define();D0.addToHistory=N1.define();D0.remote=N1.define();function PN(J,Z){let Y=[];for(let X=0,q=0;;){let Q,K;if(X<J.length&&(q==Z.length||Z[q]>=J[X]))Q=J[X++],K=J[X++];else if(q<Z.length)Q=Z[q++],K=Z[q++];else return Y;if(!Y.length||Y[Y.length-1]<Q)Y.push(Q,K);else if(Y[Y.length-1]<K)Y[Y.length-1]=K}}function PQ(J,Z,Y){var X;let q,Q,K;if(Y)q=Z.changes,Q=y0.empty(Z.changes.length),K=J.changes.compose(Z.changes);else q=Z.changes.map(J.changes),Q=J.changes.mapDesc(Z.changes,!0),K=J.changes.compose(q);return{changes:K,selection:Z.selection?Z.selection.map(Q):(X=J.selection)===null||X===void 0?void 0:X.map(q),effects:p.mapEffects(J.effects,q).concat(p.mapEffects(Z.effects,Q)),annotations:J.annotations.length?J.annotations.concat(Z.annotations):Z.annotations,scrollIntoView:J.scrollIntoView||Z.scrollIntoView}}function B2(J,Z,Y){let X=Z.selection,q=G4(Z.annotations);if(Z.userEvent)q=q.concat(D0.userEvent.of(Z.userEvent));return{changes:Z.changes instanceof y0?Z.changes:y0.of(Z.changes||[],Y,J.facet(FQ)),selection:X&&(X instanceof D?X:D.single(X.anchor,X.head)),effects:G4(Z.effects),annotations:q,scrollIntoView:!!Z.scrollIntoView}}function EQ(J,Z,Y){let X=B2(J,Z.length?Z[0]:{},J.doc.length);if(Z.length&&Z[0].filter===!1)Y=!1;for(let Q=1;Q<Z.length;Q++){if(Z[Q].filter===!1)Y=!1;let K=!!Z[Q].sequential;X=PQ(X,B2(J,Z[Q],K?X.changes.newLength:J.doc.length),K)}let q=D0.create(J,X.changes,X.selection,X.effects,X.annotations,X.scrollIntoView);return CN(Y?EN(q):q)}function EN(J){let Z=J.startState,Y=!0;for(let q of Z.facet(MQ)){let Q=q(J);if(Q===!1){Y=!1;break}if(Array.isArray(Q))Y=Y===!0?Q:PN(Y,Q)}if(Y!==!0){let q,Q;if(Y===!1)Q=J.changes.invertedDesc,q=y0.empty(Z.doc.length);else{let K=J.changes.filter(Y);q=K.changes,Q=K.filtered.mapDesc(K.changes).invertedDesc}J=D0.create(Z,q,J.selection&&J.selection.map(Q),p.mapEffects(J.effects,Q),J.annotations,J.scrollIntoView)}let X=Z.facet(VQ);for(let q=X.length-1;q>=0;q--){let Q=X[q](J);if(Q instanceof D0)J=Q;else if(Array.isArray(Q)&&Q.length==1&&Q[0]instanceof D0)J=Q[0];else J=EQ(Z,G4(Q),!1)}return J}function CN(J){let Z=J.startState,Y=Z.facet(IQ),X=J;for(let q=Y.length-1;q>=0;q--){let Q=Y[q](J);if(Q&&Object.keys(Q).length)X=PQ(X,B2(Z,Q,J.changes.newLength),!0)}return X==J?J:D0.create(Z,J.changes,J.selection,X.effects,X.annotations,X.scrollIntoView)}var TN=[];function G4(J){return J==null?TN:Array.isArray(J)?J:[J]}var j0=function(J){return J[J.Word=0]="Word",J[J.Space=1]="Space",J[J.Other=2]="Other",J}(j0||(j0={})),yN=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,P2;try{P2=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(J){}function bN(J){if(P2)return P2.test(J);for(let Z=0;Z<J.length;Z++){let Y=J[Z];if(/\w/.test(Y)||Y>""&&(Y.toUpperCase()!=Y.toLowerCase()||yN.test(Y)))return!0}return!1}function SN(J){return(Z)=>{if(!/\S/.test(Z))return j0.Space;if(bN(Z))return j0.Word;for(let Y=0;Y<J.length;Y++)if(Z.indexOf(J[Y])>-1)return j0.Word;return j0.Other}}class o{constructor(J,Z,Y,X,q,Q){if(this.config=J,this.doc=Z,this.selection=Y,this.values=X,this.status=J.statusTemplate.slice(),this.computeSlot=q,Q)Q._state=this;for(let K=0;K<this.config.dynamicSlots.length;K++)O3(this,K<<1);this.computeSlot=null}field(J,Z=!0){let Y=this.config.address[J.id];if(Y==null){if(Z)throw RangeError("Field is not present in this state");return}return O3(this,Y),X9(this,Y)}update(...J){return EQ(this,J,!0)}applyTransaction(J){let Z=this.config,{base:Y,compartments:X}=Z;for(let K of J.effects)if(K.is(q9.reconfigure)){if(Z)X=new Map,Z.compartments.forEach(($,U)=>X.set(U,$)),Z=null;X.set(K.value.compartment,K.value.extension)}else if(K.is(p.reconfigure))Z=null,Y=K.value;else if(K.is(p.appendConfig))Z=null,Y=G4(Y).concat(K.value);let q;if(!Z)Z=Y9.resolve(Y,X,this),q=new o(Z,this.doc,this.selection,Z.dynamicSlots.map(()=>null),($,U)=>U.reconfigure($,this),null).values;else q=J.startState.values.slice();let Q=J.startState.facet(L2)?J.newSelection:J.newSelection.asSingle();new o(Z,J.newDoc,Q,q,(K,$)=>$.update(K,J),J)}replaceSelection(J){if(typeof J=="string")J=this.toText(J);return this.changeByRange((Z)=>({changes:{from:Z.from,to:Z.to,insert:J},range:D.cursor(Z.from+J.length)}))}changeByRange(J){let Z=this.selection,Y=J(Z.ranges[0]),X=this.changes(Y.changes),q=[Y.range],Q=G4(Y.effects);for(let K=1;K<Z.ranges.length;K++){let $=J(Z.ranges[K]),U=this.changes($.changes),W=U.map(X);for(let j=0;j<K;j++)q[j]=q[j].map(W);let G=X.mapDesc(U,!0);q.push($.range.map(G)),X=X.compose(W),Q=p.mapEffects(Q,W).concat(p.mapEffects(G4($.effects),G))}return{changes:X,selection:D.create(q,Z.mainIndex),effects:Q}}changes(J=[]){if(J instanceof y0)return J;return y0.of(J,this.doc.length,this.facet(o.lineSeparator))}toText(J){return e.of(J.split(this.facet(o.lineSeparator)||M2))}sliceDoc(J=0,Z=this.doc.length){return this.doc.sliceString(J,Z,this.lineBreak)}facet(J){let Z=this.config.address[J.id];if(Z==null)return J.default;return O3(this,Z),X9(this,Z)}toJSON(J){let Z={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(J)for(let Y in J){let X=J[Y];if(X instanceof M0&&this.config.address[X.id]!=null)Z[Y]=X.spec.toJSON(this.field(J[Y]),this)}return Z}static fromJSON(J,Z={},Y){if(!J||typeof J.doc!="string")throw RangeError("Invalid JSON representation for EditorState");let X=[];if(Y){for(let q in Y)if(Object.prototype.hasOwnProperty.call(J,q)){let Q=Y[q],K=J[q];X.push(Q.init(($)=>Q.spec.fromJSON(K,$)))}}return o.create({doc:J.doc,selection:D.fromJSON(J.selection),extensions:Z.extensions?X.concat([Z.extensions]):X})}static create(J={}){let Z=Y9.resolve(J.extensions||[],new Map),Y=J.doc instanceof e?J.doc:e.of((J.doc||"").split(Z.staticFacet(o.lineSeparator)||M2)),X=!J.selection?D.single(0):J.selection instanceof D?J.selection:D.single(J.selection.anchor,J.selection.head);if(RQ(X,Y.length),!Z.staticFacet(L2))X=X.asSingle();return new o(Z,Y,X,Z.dynamicSlots.map(()=>null),(q,Q)=>Q.create(q),null)}get tabSize(){return this.facet(o.tabSize)}get lineBreak(){return this.facet(o.lineSeparator)||`
`}get readOnly(){return this.facet(DQ)}phrase(J,...Z){for(let Y of this.facet(o.phrases))if(Object.prototype.hasOwnProperty.call(Y,J)){J=Y[J];break}if(Z.length)J=J.replace(/\$(\$|\d*)/g,(Y,X)=>{if(X=="$")return"$";let q=+(X||1);return!q||q>Z.length?Y:Z[q-1]});return J}languageDataAt(J,Z,Y=-1){let X=[];for(let q of this.facet(AQ))for(let Q of q(this,Z,Y))if(Object.prototype.hasOwnProperty.call(Q,J))X.push(Q[J]);return X}charCategorizer(J){let Z=this.languageDataAt("wordChars",J);return SN(Z.length?Z[0]:"")}wordAt(J){let{text:Z,from:Y,length:X}=this.doc.lineAt(J),q=this.charCategorizer(J),Q=J-Y,K=J-Y;while(Q>0){let $=P0(Z,Q,!1);if(q(Z.slice($,Q))!=j0.Word)break;Q=$}while(K<X){let $=P0(Z,K);if(q(Z.slice(K,$))!=j0.Word)break;K=$}return Q==K?null:D.range(Q+Y,K+Y)}}o.allowMultipleSelections=L2;o.tabSize=b.define({combine:(J)=>J.length?J[0]:4});o.lineSeparator=FQ;o.readOnly=DQ;o.phrases=b.define({compare(J,Z){let Y=Object.keys(J),X=Object.keys(Z);return Y.length==X.length&&Y.every((q)=>J[q]==Z[q])}});o.languageData=AQ;o.changeFilter=MQ;o.transactionFilter=VQ;o.transactionExtender=IQ;q9.reconfigure=p.define();function i0(J,Z,Y={}){let X={};for(let q of J)for(let Q of Object.keys(q)){let K=q[Q],$=X[Q];if($===void 0)X[Q]=K;else if($===K||K===void 0);else if(Object.hasOwnProperty.call(Y,Q))X[Q]=Y[Q]($,K);else throw Error("Config merge conflict for field "+Q)}for(let q in Z)if(X[q]===void 0)X[q]=Z[q];return X}class c1{eq(J){return this==J}range(J,Z=J){return _3.create(J,Z,this)}}c1.prototype.startSide=c1.prototype.endSide=0;c1.prototype.point=!1;c1.prototype.mapMode=x0.TrackDel;function w2(J,Z){return J==Z||J.constructor==Z.constructor&&J.eq(Z)}class _3{constructor(J,Z,Y){this.from=J,this.to=Z,this.value=Y}static create(J,Z,Y){return new _3(J,Z,Y)}}function E2(J,Z){return J.from-Z.from||J.value.startSide-Z.value.startSide}class x2{constructor(J,Z,Y,X){this.from=J,this.to=Z,this.value=Y,this.maxPoint=X}get length(){return this.to[this.to.length-1]}findIndex(J,Z,Y,X=0){let q=Y?this.to:this.from;for(let Q=X,K=q.length;;){if(Q==K)return Q;let $=Q+K>>1,U=q[$]-J||(Y?this.value[$].endSide:this.value[$].startSide)-Z;if($==Q)return U>=0?Q:K;if(U>=0)K=$;else Q=$+1}}between(J,Z,Y,X){for(let q=this.findIndex(Z,-1e9,!0),Q=this.findIndex(Y,1e9,!1,q);q<Q;q++)if(X(this.from[q]+J,this.to[q]+J,this.value[q])===!1)return!1}map(J,Z){let Y=[],X=[],q=[],Q=-1,K=-1;for(let $=0;$<this.value.length;$++){let U=this.value[$],W=this.from[$]+J,G=this.to[$]+J,j,z;if(W==G){let O=Z.mapPos(W,U.startSide,U.mapMode);if(O==null)continue;if(j=z=O,U.startSide!=U.endSide){if(z=Z.mapPos(W,U.endSide),z<j)continue}}else if(j=Z.mapPos(W,U.startSide),z=Z.mapPos(G,U.endSide),j>z||j==z&&U.startSide>0&&U.endSide<=0)continue;if((z-j||U.endSide-U.startSide)<0)continue;if(Q<0)Q=j;if(U.point)K=Math.max(K,z-j);Y.push(U),X.push(j-Q),q.push(z-Q)}return{mapped:Y.length?new x2(X,q,Y,K):null,pos:Q}}}class a{constructor(J,Z,Y,X){this.chunkPos=J,this.chunk=Z,this.nextLayer=Y,this.maxPoint=X}static create(J,Z,Y,X){return new a(J,Z,Y,X)}get length(){let J=this.chunk.length-1;return J<0?0:Math.max(this.chunkEnd(J),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let J=this.nextLayer.size;for(let Z of this.chunk)J+=Z.value.length;return J}chunkEnd(J){return this.chunkPos[J]+this.chunk[J].length}update(J){let{add:Z=[],sort:Y=!1,filterFrom:X=0,filterTo:q=this.length}=J,Q=J.filter;if(Z.length==0&&!Q)return this;if(Y)Z=Z.slice().sort(E2);if(this.isEmpty)return Z.length?a.of(Z):this;let K=new h2(this,null,-1).goto(0),$=0,U=[],W=new e0;while(K.value||$<Z.length)if($<Z.length&&(K.from-Z[$].from||K.startSide-Z[$].value.startSide)>=0){let G=Z[$++];if(!W.addInner(G.from,G.to,G.value))U.push(G)}else if(K.rangeIndex==1&&K.chunkIndex<this.chunk.length&&($==Z.length||this.chunkEnd(K.chunkIndex)<Z[$].from)&&(!Q||X>this.chunkEnd(K.chunkIndex)||q<this.chunkPos[K.chunkIndex])&&W.addChunk(this.chunkPos[K.chunkIndex],this.chunk[K.chunkIndex]))K.nextChunk();else{if(!Q||X>K.to||q<K.from||Q(K.from,K.to,K.value)){if(!W.addInner(K.from,K.to,K.value))U.push(_3.create(K.from,K.to,K.value))}K.next()}return W.finishInner(this.nextLayer.isEmpty&&!U.length?a.empty:this.nextLayer.update({add:U,filter:Q,filterFrom:X,filterTo:q}))}map(J){if(J.empty||this.isEmpty)return this;let Z=[],Y=[],X=-1;for(let Q=0;Q<this.chunk.length;Q++){let K=this.chunkPos[Q],$=this.chunk[Q],U=J.touchesRange(K,K+$.length);if(U===!1)X=Math.max(X,$.maxPoint),Z.push($),Y.push(J.mapPos(K));else if(U===!0){let{mapped:W,pos:G}=$.map(K,J);if(W)X=Math.max(X,W.maxPoint),Z.push(W),Y.push(G)}}let q=this.nextLayer.map(J);return Z.length==0?q:new a(Y,Z,q||a.empty,X)}between(J,Z,Y){if(this.isEmpty)return;for(let X=0;X<this.chunk.length;X++){let q=this.chunkPos[X],Q=this.chunk[X];if(Z>=q&&J<=q+Q.length&&Q.between(q,J-q,Z-q,Y)===!1)return}this.nextLayer.between(J,Z,Y)}iter(J=0){return H3.from([this]).goto(J)}get isEmpty(){return this.nextLayer==this}static iter(J,Z=0){return H3.from(J).goto(Z)}static compare(J,Z,Y,X,q=-1){let Q=J.filter((G)=>G.maxPoint>0||!G.isEmpty&&G.maxPoint>=q),K=Z.filter((G)=>G.maxPoint>0||!G.isEmpty&&G.maxPoint>=q),$=zQ(Q,K,Y),U=new U4(Q,$,q),W=new U4(K,$,q);if(Y.iterGaps((G,j,z)=>OQ(U,G,W,j,z,X)),Y.empty&&Y.length==0)OQ(U,0,W,0,0,X)}static eq(J,Z,Y=0,X){if(X==null)X=999999999;let q=J.filter((W)=>!W.isEmpty&&Z.indexOf(W)<0),Q=Z.filter((W)=>!W.isEmpty&&J.indexOf(W)<0);if(q.length!=Q.length)return!1;if(!q.length)return!0;let K=zQ(q,Q),$=new U4(q,K,0).goto(Y),U=new U4(Q,K,0).goto(Y);for(;;){if($.to!=U.to||!C2($.active,U.active)||$.point&&(!U.point||!w2($.point,U.point)))return!1;if($.to>X)return!0;$.next(),U.next()}}static spans(J,Z,Y,X,q=-1){let Q=new U4(J,null,q).goto(Z),K=Z,$=Q.openStart;for(;;){let U=Math.min(Q.to,Y);if(Q.point){let W=Q.activeForPoint(Q.to),G=Q.pointFrom<Z?W.length+1:Q.point.startSide<0?W.length:Math.min(W.length,$);X.point(K,U,Q.point,W,G,Q.pointRank),$=Math.min(Q.openEnd(U),W.length)}else if(U>K)X.span(K,U,Q.active,$),$=Q.openEnd(U);if(Q.to>Y)return $+(Q.point&&Q.to>Y?1:0);K=Q.to,Q.next()}}static of(J,Z=!1){let Y=new e0;for(let X of J instanceof _3?[J]:Z?kN(J):J)Y.add(X.from,X.to,X.value);return Y.finish()}static join(J){if(!J.length)return a.empty;let Z=J[J.length-1];for(let Y=J.length-2;Y>=0;Y--)for(let X=J[Y];X!=a.empty;X=X.nextLayer)Z=new a(X.chunkPos,X.chunk,Z,Math.max(X.maxPoint,Z.maxPoint));return Z}}a.empty=new a([],[],null,-1);function kN(J){if(J.length>1)for(let Z=J[0],Y=1;Y<J.length;Y++){let X=J[Y];if(E2(Z,X)>0)return J.slice().sort(E2);Z=X}return J}a.empty.nextLayer=a.empty;class e0{finishChunk(J){if(this.chunks.push(new x2(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,J)this.from=[],this.to=[],this.value=[]}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(J,Z,Y){if(!this.addInner(J,Z,Y))(this.nextLayer||(this.nextLayer=new e0)).add(J,Z,Y)}addInner(J,Z,Y){let X=J-this.lastTo||Y.startSide-this.last.endSide;if(X<=0&&(J-this.lastFrom||Y.startSide-this.last.startSide)<0)throw Error("Ranges must be added sorted by `from` position and `startSide`");if(X<0)return!1;if(this.from.length==250)this.finishChunk(!0);if(this.chunkStart<0)this.chunkStart=J;if(this.from.push(J-this.chunkStart),this.to.push(Z-this.chunkStart),this.last=Y,this.lastFrom=J,this.lastTo=Z,this.value.push(Y),Y.point)this.maxPoint=Math.max(this.maxPoint,Z-J);return!0}addChunk(J,Z){if((J-this.lastTo||Z.value[0].startSide-this.last.endSide)<0)return!1;if(this.from.length)this.finishChunk(!0);this.setMaxPoint=Math.max(this.setMaxPoint,Z.maxPoint),this.chunks.push(Z),this.chunkPos.push(J);let Y=Z.value.length-1;return this.last=Z.value[Y],this.lastFrom=Z.from[Y]+J,this.lastTo=Z.to[Y]+J,!0}finish(){return this.finishInner(a.empty)}finishInner(J){if(this.from.length)this.finishChunk(!1);if(this.chunks.length==0)return J;let Z=a.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(J):J,this.setMaxPoint);return this.from=null,Z}}function zQ(J,Z,Y){let X=new Map;for(let Q of J)for(let K=0;K<Q.chunk.length;K++)if(Q.chunk[K].maxPoint<=0)X.set(Q.chunk[K],Q.chunkPos[K]);let q=new Set;for(let Q of Z)for(let K=0;K<Q.chunk.length;K++){let $=X.get(Q.chunk[K]);if($!=null&&(Y?Y.mapPos($):$)==Q.chunkPos[K]&&!(Y===null||Y===void 0?void 0:Y.touchesRange($,$+Q.chunk[K].length)))q.add(Q.chunk[K])}return q}class h2{constructor(J,Z,Y,X=0){this.layer=J,this.skip=Z,this.minPoint=Y,this.rank=X}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(J,Z=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(J,Z,!1),this}gotoInner(J,Z,Y){while(this.chunkIndex<this.layer.chunk.length){let X=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(X)||this.layer.chunkEnd(this.chunkIndex)<J||X.maxPoint<this.minPoint))break;this.chunkIndex++,Y=!1}if(this.chunkIndex<this.layer.chunk.length){let X=this.layer.chunk[this.chunkIndex].findIndex(J-this.layer.chunkPos[this.chunkIndex],Z,!0);if(!Y||this.rangeIndex<X)this.setRangeIndex(X)}this.next()}forward(J,Z){if((this.to-J||this.endSide-Z)<0)this.gotoInner(J,Z,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let J=this.layer.chunkPos[this.chunkIndex],Z=this.layer.chunk[this.chunkIndex],Y=J+Z.from[this.rangeIndex];if(this.from=Y,this.to=J+Z.to[this.rangeIndex],this.value=Z.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(J){if(J==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)while(this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]))this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=J}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(J){return this.from-J.from||this.startSide-J.startSide||this.rank-J.rank||this.to-J.to||this.endSide-J.endSide}}class H3{constructor(J){this.heap=J}static from(J,Z=null,Y=-1){let X=[];for(let q=0;q<J.length;q++)for(let Q=J[q];!Q.isEmpty;Q=Q.nextLayer)if(Q.maxPoint>=Y)X.push(new h2(Q,Z,Y,q));return X.length==1?X[0]:new H3(X)}get startSide(){return this.value?this.value.startSide:0}goto(J,Z=-1e9){for(let Y of this.heap)Y.goto(J,Z);for(let Y=this.heap.length>>1;Y>=0;Y--)F2(this.heap,Y);return this.next(),this}forward(J,Z){for(let Y of this.heap)Y.forward(J,Z);for(let Y=this.heap.length>>1;Y>=0;Y--)F2(this.heap,Y);if((this.to-J||this.value.endSide-Z)<0)this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let J=this.heap[0];if(this.from=J.from,this.to=J.to,this.value=J.value,this.rank=J.rank,J.value)J.next();F2(this.heap,0)}}}function F2(J,Z){for(let Y=J[Z];;){let X=(Z<<1)+1;if(X>=J.length)break;let q=J[X];if(X+1<J.length&&q.compare(J[X+1])>=0)q=J[X+1],X++;if(Y.compare(q)<0)break;J[X]=Y,J[Z]=q,Z=X}}class U4{constructor(J,Z,Y){this.minPoint=Y,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=H3.from(J,Z,Y)}goto(J,Z=-1e9){return this.cursor.goto(J,Z),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=J,this.endSide=Z,this.openStart=-1,this.next(),this}forward(J,Z){while(this.minActive>-1&&(this.activeTo[this.minActive]-J||this.active[this.minActive].endSide-Z)<0)this.removeActive(this.minActive);this.cursor.forward(J,Z)}removeActive(J){t7(this.active,J),t7(this.activeTo,J),t7(this.activeRank,J),this.minActive=_Q(this.active,this.activeTo)}addActive(J){let Z=0,{value:Y,to:X,rank:q}=this.cursor;while(Z<this.activeRank.length&&(q-this.activeRank[Z]||X-this.activeTo[Z])>0)Z++;if(e7(this.active,Z,Y),e7(this.activeTo,Z,X),e7(this.activeRank,Z,q),J)e7(J,Z,this.cursor.from);this.minActive=_Q(this.active,this.activeTo)}next(){let J=this.to,Z=this.point;this.point=null;let Y=this.openStart<0?[]:null;for(;;){let X=this.minActive;if(X>-1&&(this.activeTo[X]-this.cursor.from||this.active[X].endSide-this.cursor.startSide)<0){if(this.activeTo[X]>J){this.to=this.activeTo[X],this.endSide=this.active[X].endSide;break}if(this.removeActive(X),Y)t7(Y,X)}else if(!this.cursor.value){this.to=this.endSide=1e9;break}else if(this.cursor.from>J){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let q=this.cursor.value;if(!q.point)this.addActive(Y),this.cursor.next();else if(Z&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=q,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=q.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}}if(Y){this.openStart=0;for(let X=Y.length-1;X>=0&&Y[X]<J;X--)this.openStart++}}activeForPoint(J){if(!this.active.length)return this.active;let Z=[];for(let Y=this.active.length-1;Y>=0;Y--){if(this.activeRank[Y]<this.pointRank)break;if(this.activeTo[Y]>J||this.activeTo[Y]==J&&this.active[Y].endSide>=this.point.endSide)Z.push(this.active[Y])}return Z.reverse()}openEnd(J){let Z=0;for(let Y=this.activeTo.length-1;Y>=0&&this.activeTo[Y]>J;Y--)Z++;return Z}}function OQ(J,Z,Y,X,q,Q){J.goto(Z),Y.goto(X);let K=X+q,$=X,U=X-Z,W=!!Q.boundChange;for(let G=!1;;){let j=J.to+U-Y.to,z=j||J.endSide-Y.endSide,O=z<0?J.to+U:Y.to,H=Math.min(O,K);if(J.point||Y.point){if(!(J.point&&Y.point&&w2(J.point,Y.point)&&C2(J.activeForPoint(J.to),Y.activeForPoint(Y.to))))Q.comparePoint($,H,J.point,Y.point);G=!1}else{if(G)Q.boundChange($);if(H>$&&!C2(J.active,Y.active))Q.compareRange($,H,J.active,Y.active);if(W&&H<K&&(j||J.openEnd(O)!=Y.openEnd(O)))G=!0}if(O>K)break;if($=O,z<=0)J.next();if(z>=0)Y.next()}}function C2(J,Z){if(J.length!=Z.length)return!1;for(let Y=0;Y<J.length;Y++)if(J[Y]!=Z[Y]&&!w2(J[Y],Z[Y]))return!1;return!0}function t7(J,Z){for(let Y=Z,X=J.length-1;Y<X;Y++)J[Y]=J[Y+1];J.pop()}function e7(J,Z,Y){for(let X=J.length-1;X>=Z;X--)J[X+1]=J[X];J[Z]=Y}function _Q(J,Z){let Y=-1,X=1e9;for(let q=0;q<Z.length;q++)if((Z[q]-X||J[q].endSide-J[Y].endSide)<0)Y=q,X=Z[q];return Y}function C5(J,Z,Y=J.length){let X=0;for(let q=0;q<Y&&q<J.length;)if(J.charCodeAt(q)==9)X+=Z-X%Z,q++;else X++,q=P0(J,q);return X}function Q9(J,Z,Y,X){for(let q=0,Q=0;;){if(Q>=Z)return q;if(q==J.length)break;Q+=J.charCodeAt(q)==9?Y-Q%Y:1,q=P0(J,q)}return X===!0?-1:J.length}var CQ=typeof Symbol>"u"?"__"+"":Symbol.for(""),v2=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),TQ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class n1{constructor(J,Z){this.rules=[];let{finish:Y}=Z||{};function X(Q){return/^@/.test(Q)?[Q]:Q.split(/,\s*/)}function q(Q,K,$,U){let W=[],G=/^@(\w+)\b/.exec(Q[0]),j=G&&G[1]=="keyframes";if(G&&K==null)return $.push(Q[0]+";");for(let z in K){let O=K[z];if(/&/.test(z))q(z.split(/,\s*/).map((H)=>Q.map((N)=>H.replace(/&/,N))).reduce((H,N)=>H.concat(N)),O,$);else if(O&&typeof O=="object"){if(!G)throw RangeError("The value of a property ("+z+") should be a primitive value.");q(X(z),O,W,j)}else if(O!=null)W.push(z.replace(/_.*/,"").replace(/[A-Z]/g,(H)=>"-"+H.toLowerCase())+": "+O+";")}if(W.length||j)$.push((Y&&!G&&!U?Q.map(Y):Q).join(", ")+" {"+W.join(" ")+"}")}for(let Q in J)q(X(Q),J[Q],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let J=TQ[CQ]||1;return TQ[CQ]=J+1,""+J.toString(36)}static mount(J,Z,Y){let X=J[v2],q=Y&&Y.nonce;if(!X)X=new bQ(J,q);else if(q)X.setNonce(q);X.mount(Array.isArray(Z)?Z:[Z],J)}}var yQ=new Map;class bQ{constructor(J,Z){let Y=J.ownerDocument||J,X=Y.defaultView;if(!J.head&&J.adoptedStyleSheets&&X.CSSStyleSheet){let q=yQ.get(Y);if(q)return J[v2]=q;this.sheet=new X.CSSStyleSheet,yQ.set(Y,this)}else if(this.styleTag=Y.createElement("style"),Z)this.styleTag.setAttribute("nonce",Z);this.modules=[],J[v2]=this}mount(J,Z){let Y=this.sheet,X=0,q=0;for(let Q=0;Q<J.length;Q++){let K=J[Q],$=this.modules.indexOf(K);if($<q&&$>-1)this.modules.splice($,1),q--,$=-1;if($==-1){if(this.modules.splice(q++,0,K),Y)for(let U=0;U<K.rules.length;U++)Y.insertRule(K.rules[U],X++)}else{while(q<$)X+=this.modules[q++].rules.length;X+=K.rules.length,q++}}if(Y){if(Z.adoptedStyleSheets.indexOf(this.sheet)<0)Z.adoptedStyleSheets=[this.sheet,...Z.adoptedStyleSheets]}else{let Q="";for(let $=0;$<this.modules.length;$++)Q+=this.modules[$].getRules()+`
`;this.styleTag.textContent=Q;let K=Z.head||Z;if(this.styleTag.parentNode!=K)K.insertBefore(this.styleTag,K.firstChild)}}setNonce(J){if(this.styleTag&&this.styleTag.getAttribute("nonce")!=J)this.styleTag.setAttribute("nonce",J)}}var T5={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},O4={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},wN=typeof navigator<"u"&&/Mac/.test(navigator.platform),xN=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(L0=0;L0<10;L0++)T5[48+L0]=T5[96+L0]=String(L0);var L0;for(L0=1;L0<=24;L0++)T5[L0+111]="F"+L0;var L0;for(L0=65;L0<=90;L0++)T5[L0]=String.fromCharCode(L0+32),O4[L0]=String.fromCharCode(L0);var L0;for(R3 in T5)if(!O4.hasOwnProperty(R3))O4[R3]=T5[R3];var R3;function SQ(J){var Z=wN&&J.metaKey&&J.shiftKey&&!J.ctrlKey&&!J.altKey||xN&&J.shiftKey&&J.key&&J.key.length==1||J.key=="Unidentified",Y=!Z&&J.key||(J.shiftKey?O4:T5)[J.keyCode]||J.key||"Unidentified";if(Y=="Esc")Y="Escape";if(Y=="Del")Y="Delete";if(Y=="Left")Y="ArrowLeft";if(Y=="Up")Y="ArrowUp";if(Y=="Right")Y="ArrowRight";if(Y=="Down")Y="ArrowDown";return Y}function $0(){var J=arguments[0];if(typeof J=="string")J=document.createElement(J);var Z=1,Y=arguments[1];if(Y&&typeof Y=="object"&&Y.nodeType==null&&!Array.isArray(Y)){for(var X in Y)if(Object.prototype.hasOwnProperty.call(Y,X)){var q=Y[X];if(typeof q=="string")J.setAttribute(X,q);else if(q!=null)J[X]=q}Z++}for(;Z<arguments.length;Z++)kQ(J,arguments[Z]);return J}function kQ(J,Z){if(typeof Z=="string")J.appendChild(document.createTextNode(Z));else if(Z==null);else if(Z.nodeType!=null)J.appendChild(Z);else if(Array.isArray(Z))for(var Y=0;Y<Z.length;Y++)kQ(J,Z[Y]);else throw RangeError("Unsupported child node: "+Z)}var J1=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},n2=typeof document<"u"?document:{documentElement:{style:{}}},i2=/Edge\/(\d+)/.exec(J1.userAgent),FK=/MSIE \d/.test(J1.userAgent),s2=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(J1.userAgent),k9=!!(FK||s2||i2),wQ=!k9&&/gecko\/(\d+)/i.test(J1.userAgent),m2=!k9&&/Chrome\/(\d+)/.exec(J1.userAgent),xQ="webkitFontSmoothing"in n2.documentElement.style,a2=!k9&&/Apple Computer/.test(J1.vendor),hQ=a2&&(/Mobile\/\w+/.test(J1.userAgent)||J1.maxTouchPoints>2),h={mac:hQ||/Mac/.test(J1.platform),windows:/Win/.test(J1.platform),linux:/Linux|X11/.test(J1.platform),ie:k9,ie_version:FK?n2.documentMode||6:s2?+s2[1]:i2?+i2[1]:0,gecko:wQ,gecko_version:wQ?+(/Firefox\/(\d+)/.exec(J1.userAgent)||[0,0])[1]:0,chrome:!!m2,chrome_version:m2?+m2[1]:0,ios:hQ,android:/Android\b/.test(J1.userAgent),webkit:xQ,webkit_version:xQ?+(/\bAppleWebKit\/(\d+)/.exec(J1.userAgent)||[0,0])[1]:0,safari:a2,safari_version:a2?+(/\bVersion\/(\d+(\.\d+)?)/.exec(J1.userAgent)||[0,0])[1]:0,tabSize:n2.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function RZ(J,Z){for(let Y in J)if(Y=="class"&&Z.class)Z.class+=" "+J.class;else if(Y=="style"&&Z.style)Z.style+=";"+J.style;else Z[Y]=J[Y];return Z}var B9=Object.create(null);function AZ(J,Z,Y){if(J==Z)return!0;if(!J)J=B9;if(!Z)Z=B9;let X=Object.keys(J),q=Object.keys(Z);if(X.length-(Y&&X.indexOf(Y)>-1?1:0)!=q.length-(Y&&q.indexOf(Y)>-1?1:0))return!1;for(let Q of X)if(Q!=Y&&(q.indexOf(Q)==-1||J[Q]!==Z[Q]))return!1;return!0}function hN(J,Z){for(let Y=J.attributes.length-1;Y>=0;Y--){let X=J.attributes[Y].name;if(Z[X]==null)J.removeAttribute(X)}for(let Y in Z){let X=Z[Y];if(Y=="style")J.style.cssText=X;else if(J.getAttribute(Y)!=X)J.setAttribute(Y,X)}}function vQ(J,Z,Y){let X=!1;if(Z){for(let q in Z)if(!(Y&&(q in Y)))if(X=!0,q=="style")J.style.cssText="";else J.removeAttribute(q)}if(Y){for(let q in Y)if(!(Z&&Z[q]==Y[q]))if(X=!0,q=="style")J.style.cssText=Y[q];else J.setAttribute(q,Y[q])}return X}function vN(J){let Z=Object.create(null);for(let Y=0;Y<J.attributes.length;Y++){let X=J.attributes[Y];Z[X.name]=X.value}return Z}class K1{eq(J){return!1}updateDOM(J,Z){return!1}compare(J){return this==J||this.constructor==J.constructor&&this.eq(J)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(J){return!0}coordsAt(J,Z,Y){return null}get isHidden(){return!1}get editable(){return!1}destroy(J){}}var p0=function(J){return J[J.Text=0]="Text",J[J.WidgetBefore=1]="WidgetBefore",J[J.WidgetAfter=2]="WidgetAfter",J[J.WidgetRange=3]="WidgetRange",J}(p0||(p0={}));class f extends c1{constructor(J,Z,Y,X){super();this.startSide=J,this.endSide=Z,this.widget=Y,this.spec=X}get heightRelevant(){return!1}static mark(J){return new S3(J)}static widget(J){let Z=Math.max(-1e4,Math.min(1e4,J.side||0)),Y=!!J.block;return Z+=Y&&!J.inlineOrder?Z>0?300000000:-400000000:Z>0?1e8:-1e8,new CJ(J,Z,Z,Y,J.widget||null,!1)}static replace(J){let Z=!!J.block,Y,X;if(J.isBlockGap)Y=-500000000,X=400000000;else{let{start:q,end:Q}=MK(J,Z);Y=(q?Z?-300000000:-1:500000000)-1,X=(Q?Z?200000000:1:-600000000)+1}return new CJ(J,Y,X,Z,J.widget||null,!0)}static line(J){return new k3(J)}static set(J,Z=!1){return a.of(J,Z)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}f.none=a.empty;class S3 extends f{constructor(J){let{start:Z,end:Y}=MK(J);super(Z?-1:500000000,Y?1:-600000000,null,J);this.tagName=J.tagName||"span",this.attrs=J.class&&J.attributes?RZ(J.attributes,{class:J.class}):J.class?{class:J.class}:J.attributes||B9}eq(J){return this==J||J instanceof S3&&this.tagName==J.tagName&&AZ(this.attrs,J.attrs)}range(J,Z=J){if(J>=Z)throw RangeError("Mark decorations may not be empty");return super.range(J,Z)}}S3.prototype.point=!1;class k3 extends f{constructor(J){super(-200000000,-200000000,null,J)}eq(J){return J instanceof k3&&this.spec.class==J.spec.class&&AZ(this.spec.attributes,J.spec.attributes)}range(J,Z=J){if(Z!=J)throw RangeError("Line decoration ranges must be zero-length");return super.range(J,Z)}}k3.prototype.mapMode=x0.TrackBefore;k3.prototype.point=!0;class CJ extends f{constructor(J,Z,Y,X,q,Q){super(Z,Y,q,J);this.block=X,this.isReplace=Q,this.mapMode=!X?x0.TrackDel:Z<=0?x0.TrackBefore:x0.TrackAfter}get type(){return this.startSide!=this.endSide?p0.WidgetRange:this.startSide<=0?p0.WidgetBefore:p0.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(J){return J instanceof CJ&&mN(this.widget,J.widget)&&this.block==J.block&&this.startSide==J.startSide&&this.endSide==J.endSide}range(J,Z=J){if(this.isReplace&&(J>Z||J==Z&&this.startSide>0&&this.endSide<=0))throw RangeError("Invalid range for replacement decoration");if(!this.isReplace&&Z!=J)throw RangeError("Widget decorations can only have zero-length ranges");return super.range(J,Z)}}CJ.prototype.point=!0;function MK(J,Z=!1){let{inclusiveStart:Y,inclusiveEnd:X}=J;if(Y==null)Y=J.inclusive;if(X==null)X=J.inclusive;return{start:Y!==null&&Y!==void 0?Y:Z,end:X!==null&&X!==void 0?X:Z}}function mN(J,Z){return J==Z||!!(J&&Z&&J.compare(Z))}function N4(J,Z,Y,X=0){let q=Y.length-1;if(q>=0&&Y[q]+X>=J)Y[q]=Math.max(Y[q],Z);else Y.push(J,Z)}class E3 extends c1{constructor(J,Z){super();this.tagName=J,this.attributes=Z}eq(J){return J==this||J instanceof E3&&this.tagName==J.tagName&&AZ(this.attributes,J.attributes)}static create(J){return new E3(J.tagName,J.attributes||B9)}static set(J,Z=!1){return a.of(J,Z)}}E3.prototype.startSide=E3.prototype.endSide=-1;function C3(J){let Z;if(J.nodeType==11)Z=J.getSelection?J:J.ownerDocument;else Z=J;return Z.getSelection()}function r2(J,Z){return Z?J==Z||J.contains(Z.nodeType!=1?Z.parentNode:Z):!1}function H9(J,Z){if(!Z.anchorNode)return!1;try{return r2(J,Z.anchorNode)}catch(Y){return!1}}function N9(J){if(J.nodeType==3)return T3(J,0,J.nodeValue.length).getClientRects();else if(J.nodeType==1)return J.getClientRects();else return[]}function L3(J,Z,Y,X){return Y?mQ(J,Z,Y,X,-1)||mQ(J,Z,Y,X,1):!1}function i5(J){for(var Z=0;;Z++)if(J=J.previousSibling,!J)return Z}function P9(J){return J.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(J.nodeName)}function mQ(J,Z,Y,X,q){for(;;){if(J==Y&&Z==X)return!0;if(Z==(q<0?0:b5(J))){if(J.nodeName=="DIV")return!1;let Q=J.parentNode;if(!Q||Q.nodeType!=1)return!1;Z=i5(J)+(q<0?0:1),J=Q}else if(J.nodeType==1){if(J=J.childNodes[Z+(q<0?-1:0)],J.nodeType==1&&J.contentEditable=="false")return!1;Z=q<0?b5(J):0}else return!1}}function b5(J){return J.nodeType==3?J.nodeValue.length:J.childNodes.length}function E9(J,Z){let Y=Z?J.left:J.right;return{left:Y,right:Y,top:J.top,bottom:J.bottom}}function uN(J){let Z=J.visualViewport;if(Z)return{left:0,right:Z.width,top:0,bottom:Z.height};return{left:0,right:J.innerWidth,top:0,bottom:J.innerHeight}}function VK(J,Z){let Y=Z.width/J.offsetWidth,X=Z.height/J.offsetHeight;if(Y>0.995&&Y<1.005||!isFinite(Y)||Math.abs(Z.width-J.offsetWidth)<1)Y=1;if(X>0.995&&X<1.005||!isFinite(X)||Math.abs(Z.height-J.offsetHeight)<1)X=1;return{scaleX:Y,scaleY:X}}function gN(J,Z,Y,X,q,Q,K,$){let U=J.ownerDocument,W=U.defaultView||window;for(let G=J,j=!1;G&&!j;)if(G.nodeType==1){let z,O=G==U.body,H=1,N=1;if(O)z=uN(W);else{if(/^(fixed|sticky)$/.test(getComputedStyle(G).position))j=!0;if(G.scrollHeight<=G.clientHeight&&G.scrollWidth<=G.clientWidth){G=G.assignedSlot||G.parentNode;continue}let I=G.getBoundingClientRect();({scaleX:H,scaleY:N}=VK(G,I)),z={left:I.left,right:I.left+G.clientWidth*H,top:I.top,bottom:I.top+G.clientHeight*N}}let F=0,M=0;if(q=="nearest"){if(Z.top<z.top){if(M=Z.top-(z.top+K),Y>0&&Z.bottom>z.bottom+M)M=Z.bottom-z.bottom+K}else if(Z.bottom>z.bottom){if(M=Z.bottom-z.bottom+K,Y<0&&Z.top-M<z.top)M=Z.top-(z.top+K)}}else{let I=Z.bottom-Z.top,L=z.bottom-z.top;M=(q=="center"&&I<=L?Z.top+I/2-L/2:q=="start"||q=="center"&&Y<0?Z.top-K:Z.bottom-L+K)-z.top}if(X=="nearest"){if(Z.left<z.left){if(F=Z.left-(z.left+Q),Y>0&&Z.right>z.right+F)F=Z.right-z.right+Q}else if(Z.right>z.right){if(F=Z.right-z.right+Q,Y<0&&Z.left<z.left+F)F=Z.left-(z.left+Q)}}else F=(X=="center"?Z.left+(Z.right-Z.left)/2-(z.right-z.left)/2:X=="start"==$?Z.left-Q:Z.right-(z.right-z.left)+Q)-z.left;if(F||M)if(O)W.scrollBy(F,M);else{let I=0,L=0;if(M){let P=G.scrollTop;G.scrollTop+=M/N,L=(G.scrollTop-P)*N}if(F){let P=G.scrollLeft;G.scrollLeft+=F/H,I=(G.scrollLeft-P)*H}if(Z={left:Z.left-I,top:Z.top-L,right:Z.right-I,bottom:Z.bottom-L},I&&Math.abs(I-F)<1)X="nearest";if(L&&Math.abs(L-M)<1)q="nearest"}if(O)break;if(Z.top<z.top||Z.bottom>z.bottom||Z.left<z.left||Z.right>z.right)Z={left:Math.max(Z.left,z.left),right:Math.min(Z.right,z.right),top:Math.max(Z.top,z.top),bottom:Math.min(Z.bottom,z.bottom)};G=G.assignedSlot||G.parentNode}else if(G.nodeType==11)G=G.host;else break}function fN(J){let Z=J.ownerDocument,Y,X;for(let q=J.parentNode;q;)if(q==Z.body||Y&&X)break;else if(q.nodeType==1){if(!X&&q.scrollHeight>q.clientHeight)X=q;if(!Y&&q.scrollWidth>q.clientWidth)Y=q;q=q.assignedSlot||q.parentNode}else if(q.nodeType==11)q=q.host;else break;return{x:Y,y:X}}class IK{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(J){return this.anchorNode==J.anchorNode&&this.anchorOffset==J.anchorOffset&&this.focusNode==J.focusNode&&this.focusOffset==J.focusOffset}setRange(J){let{anchorNode:Z,focusNode:Y}=J;this.set(Z,Math.min(J.anchorOffset,Z?b5(Z):0),Y,Math.min(J.focusOffset,Y?b5(Y):0))}set(J,Z,Y,X){this.anchorNode=J,this.anchorOffset=Z,this.focusNode=Y,this.focusOffset=X}}var PJ=null;if(h.safari&&h.safari_version>=26)PJ=!1;function DK(J){if(J.setActive)return J.setActive();if(PJ)return J.focus(PJ);let Z=[];for(let Y=J;Y;Y=Y.parentNode)if(Z.push(Y,Y.scrollTop,Y.scrollLeft),Y==Y.ownerDocument)break;if(J.focus(PJ==null?{get preventScroll(){return PJ={preventScroll:!0},!0}}:void 0),!PJ){PJ=!1;for(let Y=0;Y<Z.length;){let X=Z[Y++],q=Z[Y++],Q=Z[Y++];if(X.scrollTop!=q)X.scrollTop=q;if(X.scrollLeft!=Q)X.scrollLeft=Q}}}var uQ;function T3(J,Z,Y=Z){let X=uQ||(uQ=document.createRange());return X.setEnd(J,Y),X.setStart(J,Z),X}function R4(J,Z,Y,X){let q={key:Z,code:Z,keyCode:Y,which:Y,cancelable:!0};if(X)({altKey:q.altKey,ctrlKey:q.ctrlKey,shiftKey:q.shiftKey,metaKey:q.metaKey}=X);let Q=new KeyboardEvent("keydown",q);Q.synthetic=!0,J.dispatchEvent(Q);let K=new KeyboardEvent("keyup",q);return K.synthetic=!0,J.dispatchEvent(K),Q.defaultPrevented||K.defaultPrevented}function lN(J){while(J){if(J&&(J.nodeType==9||J.nodeType==11&&J.host))return J;J=J.assignedSlot||J.parentNode}return null}function pN(J,Z){let{focusNode:Y,focusOffset:X}=Z;if(!Y||Z.anchorNode!=Y||Z.anchorOffset!=X)return!1;X=Math.min(X,b5(Y));for(;;)if(X){if(Y.nodeType!=1)return!1;let q=Y.childNodes[X-1];if(q.contentEditable=="false")X--;else Y=q,X=b5(Y)}else if(Y==J)return!0;else X=i5(Y),Y=Y.parentNode}function LK(J){return J.scrollTop>Math.max(1,J.scrollHeight-J.clientHeight-4)}function BK(J,Z){for(let Y=J,X=Z;;)if(Y.nodeType==3&&X>0)return{node:Y,offset:X};else if(Y.nodeType==1&&X>0){if(Y.contentEditable=="false")return null;Y=Y.childNodes[X-1],X=b5(Y)}else if(Y.parentNode&&!P9(Y))X=i5(Y),Y=Y.parentNode;else return null}function PK(J,Z){for(let Y=J,X=Z;;)if(Y.nodeType==3&&X<Y.nodeValue.length)return{node:Y,offset:X};else if(Y.nodeType==1&&X<Y.childNodes.length){if(Y.contentEditable=="false")return null;Y=Y.childNodes[X],X=0}else if(Y.parentNode&&!P9(Y))X=i5(Y)+1,Y=Y.parentNode;else return null}class a1{constructor(J,Z,Y=!0){this.node=J,this.offset=Z,this.precise=Y}static before(J,Z){return new a1(J.parentNode,i5(J),Z)}static after(J,Z){return new a1(J.parentNode,i5(J)+1,Z)}}var W0=function(J){return J[J.LTR=0]="LTR",J[J.RTL=1]="RTL",J}(W0||(W0={})),TJ=W0.LTR,FZ=W0.RTL;function EK(J){let Z=[];for(let Y=0;Y<J.length;Y++)Z.push(1<<+J[Y]);return Z}var dN=EK("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),cN=EK("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),o2=Object.create(null),G5=[];for(let J of["()","[]","{}"]){let Z=J.charCodeAt(0),Y=J.charCodeAt(1);o2[Z]=Y,o2[Y]=-Z}function CK(J){return J<=247?dN[J]:1424<=J&&J<=1524?2:1536<=J&&J<=1785?cN[J-1536]:1774<=J&&J<=2220?4:8192<=J&&J<=8204?256:64336<=J&&J<=65023?4:1}var nN=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class j5{get dir(){return this.level%2?FZ:TJ}constructor(J,Z,Y){this.from=J,this.to=Z,this.level=Y}side(J,Z){return this.dir==Z==J?this.to:this.from}forward(J,Z){return J==(this.dir==Z)}static find(J,Z,Y,X){let q=-1;for(let Q=0;Q<J.length;Q++){let K=J[Q];if(K.from<=Z&&K.to>=Z){if(K.level==Y)return Q;if(q<0||(X!=0?X<0?K.from<Z:K.to>Z:J[q].level>K.level))q=Q}}if(q<0)throw RangeError("Index out of range");return q}}function TK(J,Z){if(J.length!=Z.length)return!1;for(let Y=0;Y<J.length;Y++){let X=J[Y],q=Z[Y];if(X.from!=q.from||X.to!=q.to||X.direction!=q.direction||!TK(X.inner,q.inner))return!1}return!0}var O0=[];function iN(J,Z,Y,X,q){for(let Q=0;Q<=X.length;Q++){let K=Q?X[Q-1].to:Z,$=Q<X.length?X[Q].from:Y,U=Q?256:q;for(let W=K,G=U,j=U;W<$;W++){let z=CK(J.charCodeAt(W));if(z==512)z=G;else if(z==8&&j==4)z=16;if(O0[W]=z==4?2:z,z&7)j=z;G=z}for(let W=K,G=U,j=U;W<$;W++){let z=O0[W];if(z==128)if(W<$-1&&G==O0[W+1]&&G&24)z=O0[W]=G;else O0[W]=256;else if(z==64){let O=W+1;while(O<$&&O0[O]==64)O++;let H=W&&G==8||O<Y&&O0[O]==8?j==1?1:8:256;for(let N=W;N<O;N++)O0[N]=H;W=O-1}else if(z==8&&j==1)O0[W]=1;if(G=z,z&7)j=z}}}function sN(J,Z,Y,X,q){let Q=q==1?2:1;for(let K=0,$=0,U=0;K<=X.length;K++){let W=K?X[K-1].to:Z,G=K<X.length?X[K].from:Y;for(let j=W,z,O,H;j<G;j++)if(O=o2[z=J.charCodeAt(j)])if(O<0){for(let N=$-3;N>=0;N-=3)if(G5[N+1]==-O){let F=G5[N+2],M=F&2?q:!(F&4)?0:F&1?Q:q;if(M)O0[j]=O0[G5[N]]=M;$=N;break}}else if(G5.length==189)break;else G5[$++]=j,G5[$++]=z,G5[$++]=U;else if((H=O0[j])==2||H==1){let N=H==q;U=N?0:1;for(let F=$-3;F>=0;F-=3){let M=G5[F+2];if(M&2)break;if(N)G5[F+2]|=2;else{if(M&4)break;G5[F+2]|=4}}}}}function aN(J,Z,Y,X){for(let q=0,Q=X;q<=Y.length;q++){let K=q?Y[q-1].to:J,$=q<Y.length?Y[q].from:Z;for(let U=K;U<$;){let W=O0[U];if(W==256){let G=U+1;for(;;)if(G==$){if(q==Y.length)break;G=Y[q++].to,$=q<Y.length?Y[q].from:Z}else if(O0[G]==256)G++;else break;let j=Q==1,z=(G<Z?O0[G]:X)==1,O=j==z?j?1:2:X;for(let H=G,N=q,F=N?Y[N-1].to:J;H>U;){if(H==F)H=Y[--N].from,F=N?Y[N-1].to:J;O0[--H]=O}U=G}else Q=W,U++}}}function t2(J,Z,Y,X,q,Q,K){let $=X%2?2:1;if(X%2==q%2)for(let U=Z,W=0;U<Y;){let G=!0,j=!1;if(W==Q.length||U<Q[W].from){let N=O0[U];if(N!=$)G=!1,j=N==16}let z=!G&&$==1?[]:null,O=G?X:X+1,H=U;J:for(;;)if(W<Q.length&&H==Q[W].from){if(j)break J;let N=Q[W];if(!G)for(let F=N.to,M=W+1;;){if(F==Y)break J;if(M<Q.length&&Q[M].from==F)F=Q[M++].to;else if(O0[F]==$)break J;else break}if(W++,z)z.push(N);else{if(N.from>U)K.push(new j5(U,N.from,O));let F=N.direction==TJ!=!(O%2);e2(J,F?X+1:X,q,N.inner,N.from,N.to,K),U=N.to}H=N.to}else if(H==Y||(G?O0[H]!=$:O0[H]==$))break;else H++;if(z)t2(J,U,H,X+1,q,z,K);else if(U<H)K.push(new j5(U,H,O));U=H}else for(let U=Y,W=Q.length;U>Z;){let G=!0,j=!1;if(!W||U>Q[W-1].to){let N=O0[U-1];if(N!=$)G=!1,j=N==16}let z=!G&&$==1?[]:null,O=G?X:X+1,H=U;J:for(;;)if(W&&H==Q[W-1].to){if(j)break J;let N=Q[--W];if(!G)for(let F=N.from,M=W;;){if(F==Z)break J;if(M&&Q[M-1].to==F)F=Q[--M].from;else if(O0[F-1]==$)break J;else break}if(z)z.push(N);else{if(N.to<U)K.push(new j5(N.to,U,O));let F=N.direction==TJ!=!(O%2);e2(J,F?X+1:X,q,N.inner,N.from,N.to,K),U=N.from}H=N.from}else if(H==Z||(G?O0[H-1]!=$:O0[H-1]==$))break;else H--;if(z)t2(J,H,U,X+1,q,z,K);else if(H<U)K.push(new j5(H,U,O));U=H}}function e2(J,Z,Y,X,q,Q,K){let $=Z%2?2:1;iN(J,q,Q,X,$),sN(J,q,Q,X,$),aN(q,Q,X,$),t2(J,q,Q,Z,Y,X,K)}function rN(J,Z,Y){if(!J)return[new j5(0,0,Z==FZ?1:0)];if(Z==TJ&&!Y.length&&!nN.test(J))return yK(J.length);if(Y.length)while(J.length>O0.length)O0[O0.length]=256;let X=[],q=Z==TJ?0:1;return e2(J,q,q,Y,0,J.length,X),X}function yK(J){return[new j5(0,J,0)]}var bK="";function oN(J,Z,Y,X,q){var Q;let K=X.head-J.from,$=j5.find(Z,K,(Q=X.bidiLevel)!==null&&Q!==void 0?Q:-1,X.assoc),U=Z[$],W=U.side(q,Y);if(K==W){let z=$+=q?1:-1;if(z<0||z>=Z.length)return null;U=Z[$=z],K=U.side(!q,Y),W=U.side(q,Y)}let G=P0(J.text,K,U.forward(q,Y));if(G<U.from||G>U.to)G=W;bK=J.text.slice(Math.min(K,G),Math.max(K,G));let j=$==(q?Z.length-1:0)?null:Z[$+(q?1:-1)];if(j&&G==W&&j.level+(q?0:1)<U.level)return D.cursor(j.side(!q,Y)+J.from,j.forward(q,Y)?1:-1,j.level);return D.cursor(G+J.from,U.forward(q,Y)?-1:1,U.level)}function tN(J,Z,Y){for(let X=Z;X<Y;X++){let q=CK(J.charCodeAt(X));if(q==1)return TJ;if(q==2||q==4)return FZ}return TJ}var SK=b.define(),kK=b.define(),wK=b.define(),xK=b.define(),JZ=b.define(),hK=b.define(),vK=b.define(),MZ=b.define(),VZ=b.define(),mK=b.define({combine:(J)=>J.some((Z)=>Z)}),uK=b.define({combine:(J)=>J.some((Z)=>Z)}),gK=b.define();class A4{constructor(J,Z="nearest",Y="nearest",X=5,q=5,Q=!1){this.range=J,this.y=Z,this.x=Y,this.yMargin=X,this.xMargin=q,this.isSnapshot=Q}map(J){return J.empty?this:new A4(this.range.map(J),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(J){return this.range.to<=J.doc.length?this:new A4(D.cursor(J.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}var K9=p.define({map:(J,Z)=>J.map(Z)}),fK=p.define();function l0(J,Z,Y){let X=J.facet(xK);if(X.length)X[0](Z);else if(window.onerror&&window.onerror(String(Z),Y,void 0,void 0,Z));else if(Y)console.error(Y+":",Z);else console.error(Z)}var y5=b.define({combine:(J)=>J.length?J[0]:!0}),eN=0,_4=b.define({combine(J){return J.filter((Z,Y)=>{for(let X=0;X<Y;X++)if(J[X].plugin==Z.plugin)return!1;return!0})}});class N0{constructor(J,Z,Y,X,q){this.id=J,this.create=Z,this.domEventHandlers=Y,this.domEventObservers=X,this.baseExtensions=q(this),this.extension=this.baseExtensions.concat(_4.of({plugin:this,arg:void 0}))}of(J){return this.baseExtensions.concat(_4.of({plugin:this,arg:J}))}static define(J,Z){let{eventHandlers:Y,eventObservers:X,provide:q,decorations:Q}=Z||{};return new N0(eN++,J,Y,X,(K)=>{let $=[];if(Q)$.push(w9.of((U)=>{let W=U.plugin(K);return W?Q(W):f.none}));if(q)$.push(q(K));return $})}static fromClass(J,Z){return N0.define((Y,X)=>new J(Y,X),Z)}}class R9{constructor(J){this.spec=J,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(J){if(!this.value){if(this.spec)try{this.value=this.spec.plugin.create(J,this.spec.arg)}catch(Z){l0(J.state,Z,"CodeMirror plugin crashed"),this.deactivate()}}else if(this.mustUpdate){let Z=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(Z)}catch(Y){if(l0(Z.state,Y,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(X){}this.deactivate()}}return this}destroy(J){var Z;if((Z=this.value)===null||Z===void 0?void 0:Z.destroy)try{this.value.destroy()}catch(Y){l0(J.state,Y,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}var lK=b.define(),IZ=b.define(),w9=b.define(),pK=b.define(),DZ=b.define(),w3=b.define(),dK=b.define();function gQ(J,Z){let Y=J.state.facet(dK);if(!Y.length)return Y;let X=Y.map((Q)=>Q instanceof Function?Q(J):Q),q=[];return a.spans(X,Z.from,Z.to,{point(){},span(Q,K,$,U){let W=Q-Z.from,G=K-Z.from,j=q;for(let z=$.length-1;z>=0;z--,U--){let O=$[z].spec.bidiIsolate,H;if(O==null)O=tN(Z.text,W,G);if(U>0&&j.length&&(H=j[j.length-1]).to==W&&H.direction==O)H.to=G,j=H.inner;else{let N={from:W,to:G,direction:O,inner:[]};j.push(N),j=N.inner}}}}),q}var cK=b.define();function LZ(J){let Z=0,Y=0,X=0,q=0;for(let Q of J.state.facet(cK)){let K=Q(J);if(K){if(K.left!=null)Z=Math.max(Z,K.left);if(K.right!=null)Y=Math.max(Y,K.right);if(K.top!=null)X=Math.max(X,K.top);if(K.bottom!=null)q=Math.max(q,K.bottom)}}return{left:Z,right:Y,top:X,bottom:q}}var A3=b.define();class B1{constructor(J,Z,Y,X){this.fromA=J,this.toA=Z,this.fromB=Y,this.toB=X}join(J){return new B1(Math.min(this.fromA,J.fromA),Math.max(this.toA,J.toA),Math.min(this.fromB,J.fromB),Math.max(this.toB,J.toB))}addToSet(J){let Z=J.length,Y=this;for(;Z>0;Z--){let X=J[Z-1];if(X.fromA>Y.toA)continue;if(X.toA<Y.fromA)break;Y=Y.join(X),J.splice(Z-1,1)}return J.splice(Z,0,Y),J}static extendWithRanges(J,Z){if(Z.length==0)return J;let Y=[];for(let X=0,q=0,Q=0;;){let K=X<J.length?J[X].fromB:1e9,$=q<Z.length?Z[q]:1e9,U=Math.min(K,$);if(U==1e9)break;let W=U+Q,G=U,j=W;for(;;)if(q<Z.length&&Z[q]<=G){let z=Z[q+1];q+=2,G=Math.max(G,z);for(let O=X;O<J.length&&J[O].fromB<=G;O++)Q=J[O].toA-J[O].toB;j=Math.max(j,z+Q)}else if(X<J.length&&J[X].fromB<=G){let z=J[X++];G=Math.max(G,z.toB),j=Math.max(j,z.toA),Q=z.toA-z.toB}else break;Y.push(new B1(W,j,U,G))}return Y}}class C9{constructor(J,Z,Y){this.view=J,this.state=Z,this.transactions=Y,this.flags=0,this.startState=J.state,this.changes=y0.empty(this.startState.doc.length);for(let q of Y)this.changes=this.changes.compose(q.changes);let X=[];this.changes.iterChangedRanges((q,Q,K,$)=>X.push(new B1(q,Q,K,$))),this.changedRanges=X}static create(J,Z,Y){return new C9(J,Z,Y)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some((J)=>J.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var JR=[];class b0{constructor(J,Z,Y=0){this.dom=J,this.length=Z,this.flags=Y,this.parent=null,J.cmTile=this}get breakAfter(){return this.flags&1}get children(){return JR}isWidget(){return!1}get isHidden(){return!1}isComposite(){return!1}isLine(){return!1}isText(){return!1}isBlock(){return!1}get domAttrs(){return null}sync(J){if(this.flags|=2,this.flags&4){this.flags&=-5;let Z=this.domAttrs;if(Z)hN(this.dom,Z)}}toString(){return this.constructor.name+(this.children.length?`(${this.children})`:"")+(this.breakAfter?"#":"")}destroy(){this.parent=null}setDOM(J){this.dom=J,J.cmTile=this}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(J,Z=this.posAtStart){let Y=Z;for(let X of this.children){if(X==J)return Y;Y+=X.length+X.breakAfter}throw RangeError("Invalid child in posBefore")}posAfter(J){return this.posBefore(J)+J.length}covers(J){return!0}coordsIn(J,Z){return null}domPosFor(J,Z){let Y=i5(this.dom),X=this.length?J>0:Z>0;return new a1(this.parent.dom,Y+(X?1:0),J==0||J==this.length)}markDirty(J){if(this.flags&=-3,J)this.flags|=4;if(this.parent&&this.parent.flags&2)this.parent.markDirty(!1)}get overrideDOMText(){return null}get root(){for(let J=this;J;J=J.parent)if(J instanceof h3)return J;return null}static get(J){return J.cmTile}}class x3 extends b0{constructor(J){super(J,0);this._children=[]}isComposite(){return!0}get children(){return this._children}get lastChild(){return this.children.length?this.children[this.children.length-1]:null}append(J){this.children.push(J),J.parent=this}sync(J){if(this.flags&2)return;super.sync(J);let Z=this.dom,Y=null,X,q=(J===null||J===void 0?void 0:J.node)==Z?J:null,Q=0;for(let K of this.children){if(K.sync(J),Q+=K.length+K.breakAfter,X=Y?Y.nextSibling:Z.firstChild,q&&X!=K.dom)q.written=!0;if(K.dom.parentNode==Z)while(X&&X!=K.dom)X=fQ(X);else Z.insertBefore(K.dom,X);Y=K.dom}if(X=Y?Y.nextSibling:Z.firstChild,q&&X)q.written=!0;while(X)X=fQ(X);this.length=Q}}function fQ(J){let Z=J.nextSibling;return J.parentNode.removeChild(J),Z}class h3 extends x3{constructor(J,Z){super(Z);this.view=J}owns(J){for(;J;J=J.parent)if(J==this)return!0;return!1}isBlock(){return!0}nearest(J){for(;;){if(!J)return null;let Z=b0.get(J);if(Z&&this.owns(Z))return Z;J=J.parentNode}}blockTiles(J){for(let Z=[],Y=this,X=0,q=0;;)if(X==Y.children.length){if(!Z.length)return;if(Y=Y.parent,Y.breakAfter)q++;X=Z.pop()}else{let Q=Y.children[X++];if(Q instanceof n5)Z.push(X),Y=Q,X=0;else{let K=q+Q.length,$=J(Q,q);if($!==void 0)return $;q=K+Q.breakAfter}}}resolveBlock(J,Z){let Y,X=-1,q,Q=-1;if(this.blockTiles((K,$)=>{let U=$+K.length;if(J>=$&&J<=U){if(K.isWidget()&&Z>=-1&&Z<=1){if(K.flags&32)return!0;if(K.flags&16)Y=void 0}if(($<J||J==U&&(Z<-1?K.length:K.covers(1)))&&(!Y||!K.isWidget()&&Y.isWidget()))Y=K,X=J-$;if((U>J||J==$&&(Z>1?K.length:K.covers(-1)))&&(!q||!K.isWidget()&&q.isWidget()))q=K,Q=J-$}}),!Y&&!q)throw Error("No tile at position "+J);return Y&&Z<0||!q?{tile:Y,offset:X}:{tile:q,offset:Q}}}class n5 extends x3{constructor(J,Z){super(J);this.wrapper=Z}isBlock(){return!0}covers(J){if(!this.children.length)return!1;return J<0?this.children[0].covers(-1):this.lastChild.covers(1)}get domAttrs(){return this.wrapper.attributes}static of(J,Z){let Y=new n5(Z||document.createElement(J.tagName),J);if(!Z)Y.flags|=4;return Y}}class F4 extends x3{constructor(J,Z){super(J);this.attrs=Z}isLine(){return!0}static start(J,Z,Y){let X=new F4(Z||document.createElement("div"),J);if(!Z||!Y)X.flags|=4;return X}get domAttrs(){return this.attrs}resolveInline(J,Z,Y){let X=null,q=-1,Q=null,K=-1;function $(W,G){for(let j=0,z=0;j<W.children.length&&z<=G;j++){let O=W.children[j],H=z+O.length;if(H>=G){if(O.isComposite())$(O,G-z);else if((!Q||Q.isHidden&&(Z>0||Y&&YR(Q,O)))&&(H>G||O.flags&32))Q=O,K=G-z;else if(z<G||O.flags&16&&!O.isHidden)X=O,q=G-z}z=H}}$(this,J);let U=(Z<0?X:Q)||X||Q;return U?{tile:U,offset:U==X?q:K}:null}coordsIn(J,Z){let Y=this.resolveInline(J,Z,!0);if(!Y)return ZR(this);return Y.tile.coordsIn(Math.max(0,Y.offset),Z)}domIn(J,Z){let Y=this.resolveInline(J,Z);if(Y){let{tile:X,offset:q}=Y;if(this.dom.contains(X.dom)){if(X.isText())return new a1(X.dom,Math.min(X.dom.nodeValue.length,q));return X.domPosFor(q,X.flags&16?1:X.flags&32?-1:Z)}let Q=Y.tile.parent,K=!1;for(let $ of Q.children){if(K)return new a1($.dom,0);if($==Y.tile)K=!0}}return new a1(this.dom,0)}}function ZR(J){let Z=J.dom.lastChild;if(!Z)return J.dom.getBoundingClientRect();let Y=N9(Z);return Y[Y.length-1]||null}function YR(J,Z){let Y=J.coordsIn(0,1),X=Z.coordsIn(0,1);return Y&&X&&X.top<Y.bottom}class Q1 extends x3{constructor(J,Z){super(J);this.mark=Z}get domAttrs(){return this.mark.attrs}static of(J,Z){let Y=new Q1(Z||document.createElement(J.tagName),J);if(!Z)Y.flags|=4;return Y}}class EJ extends b0{constructor(J,Z){super(J,Z.length);this.text=Z}sync(J){if(this.flags&2)return;if(super.sync(J),this.dom.nodeValue!=this.text){if(J&&J.node==this.dom)J.written=!0;this.dom.nodeValue=this.text}}isText(){return!0}toString(){return JSON.stringify(this.text)}coordsIn(J,Z){let Y=this.dom.nodeValue.length;if(J>Y)J=Y;let X=J,q=J,Q=0;if(J==0&&Z<0||J==Y&&Z>=0){if(!(h.chrome||h.gecko)){if(J)X--,Q=1;else if(q<Y)q++,Q=-1}}else if(Z<0)X--;else if(q<Y)q++;let K=T3(this.dom,X,q).getClientRects();if(!K.length)return null;let $=K[(Q?Q<0:Z>=0)?0:K.length-1];if(h.safari&&!Q&&$.width==0)$=Array.prototype.find.call(K,(U)=>U.width)||$;return Q?E9($,Q<0):$||null}static of(J,Z){let Y=new EJ(Z||document.createTextNode(J),J);if(!Z)Y.flags|=2;return Y}}class yJ extends b0{constructor(J,Z,Y,X){super(J,Z,X);this.widget=Y}isWidget(){return!0}get isHidden(){return this.widget.isHidden}covers(J){if(this.flags&48)return!1;return(this.flags&(J<0?64:128))>0}coordsIn(J,Z){return this.coordsInWidget(J,Z,!1)}coordsInWidget(J,Z,Y){let X=this.widget.coordsAt(this.dom,J,Z);if(X)return X;if(Y)return E9(this.dom.getBoundingClientRect(),this.length?J==0:Z<=0);else{let q=this.dom.getClientRects(),Q=null;if(!q.length)return null;let K=this.flags&16?!0:this.flags&32?!1:J>0;for(let $=K?q.length-1:0;;$+=K?-1:1)if(Q=q[$],J>0?$==0:$==q.length-1||Q.top<Q.bottom)break;return E9(Q,!K)}}get overrideDOMText(){if(!this.length)return e.empty;let{root:J}=this;if(!J)return e.empty;let Z=this.posAtStart;return J.view.state.doc.slice(Z,Z+this.length)}destroy(){super.destroy(),this.widget.destroy(this.dom)}static of(J,Z,Y,X,q){if(!q){if(q=J.toDOM(Z),!J.editable)q.contentEditable="false"}return new yJ(q,Y,J,X)}}class y3 extends b0{constructor(J){let Z=document.createElement("img");Z.className="cm-widgetBuffer",Z.setAttribute("aria-hidden","true");super(Z,0,J)}get isHidden(){return!0}get overrideDOMText(){return e.empty}coordsIn(J){return this.dom.getBoundingClientRect()}}class nK{constructor(J){this.index=0,this.beforeBreak=!1,this.parents=[],this.tile=J}advance(J,Z,Y){let{tile:X,index:q,beforeBreak:Q,parents:K}=this;while(J||Z>0)if(!X.isComposite())if(q==X.length)Q=!!X.breakAfter,{tile:X,index:q}=K.pop(),q++;else if(!J)break;else{let $=Math.min(J,X.length-q);if(Y)Y.skip(X,q,q+$);J-=$,q+=$}else if(Q){if(!J)break;if(Y)Y.break();J--,Q=!1}else if(q==X.children.length){if(!J&&!K.length)break;if(Y)Y.leave(X);Q=!!X.breakAfter,{tile:X,index:q}=K.pop(),q++}else{let $=X.children[q],U=$.breakAfter;if((Z>0?$.length<=J:$.length<J)&&(!Y||Y.skip($,0,$.length)!==!1||!$.isComposite))Q=!!U,q++,J-=$.length;else if(K.push({tile:X,index:q}),X=$,q=0,Y&&$.isComposite())Y.enter($)}return this.tile=X,this.index=q,this.beforeBreak=Q,this}get root(){return this.parents.length?this.parents[0].tile:this.tile}}class iK{constructor(J,Z,Y,X){this.from=J,this.to=Z,this.wrapper=Y,this.rank=X}}class sK{constructor(J,Z,Y){this.cache=J,this.root=Z,this.blockWrappers=Y,this.curLine=null,this.lastBlock=null,this.afterWidget=null,this.pos=0,this.wrappers=[],this.wrapperPos=0}addText(J,Z,Y,X){var q;this.flushBuffer();let Q=this.ensureMarks(Z,Y),K=Q.lastChild;if(K&&K.isText()&&!(K.flags&8)){this.cache.reused.set(K,2);let $=Q.children[Q.children.length-1]=new EJ(K.dom,K.text+J);$.parent=Q}else Q.append(X||EJ.of(J,(q=this.cache.find(EJ))===null||q===void 0?void 0:q.dom));this.pos+=J.length,this.afterWidget=null}addComposition(J,Z){let Y=this.curLine;if(Y.dom!=Z.line.dom)Y.setDOM(this.cache.reused.has(Z.line)?u2(Z.line.dom):Z.line.dom),this.cache.reused.set(Z.line,2);let X=Y;for(let K=Z.marks.length-1;K>=0;K--){let $=Z.marks[K],U=X.lastChild;if(U instanceof Q1&&U.mark.eq($.mark)){if(U.dom!=$.dom)U.setDOM(u2($.dom));X=U}else{if(this.cache.reused.get($)){let G=b0.get($.dom);if(G)G.setDOM(u2($.dom))}let W=Q1.of($.mark,$.dom);X.append(W),X=W}this.cache.reused.set($,2)}let q=b0.get(J.text);if(q)this.cache.reused.set(q,2);let Q=new EJ(J.text,J.text.nodeValue);Q.flags|=8,X.append(Q)}addInlineWidget(J,Z,Y){let X=this.afterWidget&&J.flags&48&&(this.afterWidget.flags&48)==(J.flags&48);if(!X)this.flushBuffer();let q=this.ensureMarks(Z,Y);if(!X&&!(J.flags&16))q.append(this.getBuffer(1));q.append(J),this.pos+=J.length,this.afterWidget=J}addMark(J,Z,Y){this.flushBuffer(),this.ensureMarks(Z,Y).append(J),this.pos+=J.length,this.afterWidget=null}addBlockWidget(J){this.getBlockPos().append(J),this.pos+=J.length,this.lastBlock=J,this.endLine()}continueWidget(J){let Z=this.afterWidget||this.lastBlock;Z.length+=J,this.pos+=J}addLineStart(J,Z){var Y;if(!J)J=tK;let X=F4.start(J,Z||((Y=this.cache.find(F4))===null||Y===void 0?void 0:Y.dom),!!Z);this.getBlockPos().append(this.lastBlock=this.curLine=X)}addLine(J){this.getBlockPos().append(J),this.pos+=J.length,this.lastBlock=J,this.endLine()}addBreak(){this.lastBlock.flags|=1,this.endLine(),this.pos++}addLineStartIfNotCovered(J){if(!this.blockPosCovered())this.addLineStart(J)}ensureLine(J){if(!this.curLine)this.addLineStart(J)}ensureMarks(J,Z){var Y;let X=this.curLine;for(let q=J.length-1;q>=0;q--){let Q=J[q],K;if(Z>0&&(K=X.lastChild)&&K instanceof Q1&&K.mark.eq(Q))X=K,Z--;else{let $=Q1.of(Q,(Y=this.cache.find(Q1,(U)=>U.mark.eq(Q)))===null||Y===void 0?void 0:Y.dom);X.append($),X=$,Z=0}}return X}endLine(){if(this.curLine){this.flushBuffer();let J=this.curLine.lastChild;if(!J||!lQ(this.curLine,!1)||J.dom.nodeName!="BR"&&J.isWidget()&&!(h.ios&&lQ(this.curLine,!0)))this.curLine.append(this.cache.findWidget(g2,0,32)||new yJ(g2.toDOM(),0,g2,32));this.curLine=this.afterWidget=null}}updateBlockWrappers(){if(this.wrapperPos>this.pos+1e4)this.blockWrappers.goto(this.pos),this.wrappers.length=0;for(let J=this.wrappers.length-1;J>=0;J--)if(this.wrappers[J].to<this.pos)this.wrappers.splice(J,1);for(let J=this.blockWrappers;J.value&&J.from<=this.pos;J.next())if(J.to>=this.pos){let Z=new iK(J.from,J.to,J.value,J.rank),Y=this.wrappers.length;while(Y>0&&(this.wrappers[Y-1].rank-Z.rank||this.wrappers[Y-1].to-Z.to)<0)Y--;this.wrappers.splice(Y,0,Z)}this.wrapperPos=this.pos}getBlockPos(){var J;this.updateBlockWrappers();let Z=this.root;for(let Y of this.wrappers){let X=Z.lastChild;if(Y.from<this.pos&&X instanceof n5&&X.wrapper.eq(Y.wrapper))Z=X;else{let q=n5.of(Y.wrapper,(J=this.cache.find(n5,(Q)=>Q.wrapper.eq(Y.wrapper)))===null||J===void 0?void 0:J.dom);Z.append(q),Z=q}}return Z}blockPosCovered(){let J=this.lastBlock;return J!=null&&!J.breakAfter&&(!J.isWidget()||(J.flags&160)>0)}getBuffer(J){let Z=2|(J<0?16:32),Y=this.cache.find(y3,void 0,1);if(Y)Y.flags=Z;return Y||new y3(Z)}flushBuffer(){if(this.afterWidget&&!(this.afterWidget.flags&32))this.afterWidget.parent.append(this.getBuffer(-1)),this.afterWidget=null}}class aK{constructor(J){this.skipCount=0,this.text="",this.textOff=0,this.cursor=J.iter()}skip(J){if(this.textOff+J<=this.text.length)this.textOff+=J;else this.skipCount+=J-(this.text.length-this.textOff),this.text="",this.textOff=0}next(J){if(this.textOff==this.text.length){let{value:X,lineBreak:q,done:Q}=this.cursor.next(this.skipCount);if(this.skipCount=0,Q)throw Error("Ran out of text content when drawing inline views");this.text=X;let K=this.textOff=Math.min(J,X.length);return q?null:X.slice(0,K)}let Z=Math.min(this.text.length,this.textOff+J),Y=this.text.slice(this.textOff,Z);return this.textOff=Z,Y}}var T9=[yJ,F4,EJ,Q1,y3,n5,h3];for(let J=0;J<T9.length;J++)T9[J].bucket=J;class rK{constructor(J){this.view=J,this.buckets=T9.map(()=>[]),this.index=T9.map(()=>0),this.reused=new Map}add(J){if(J.demo)console.log("Add widget to cache");let Z=J.constructor.bucket,Y=this.buckets[Z];if(Y.length<6)Y.push(J);else Y[this.index[Z]=(this.index[Z]+1)%6]=J}find(J,Z,Y=2){let X=J.bucket,q=this.buckets[X],Q=this.index[X];for(let K=q.length-1;K>=0;K--){let $=(K+Q)%q.length,U=q[$];if((!Z||Z(U))&&!this.reused.has(U)){if(q.splice($,1),$<Q)this.index[X]--;return this.reused.set(U,Y),U}}return null}findWidget(J,Z,Y){let X=this.buckets[0];if(J.demo)console.log("looking for widget",J,"in cache",X.slice());if(X.length)for(let q=0,Q=0;;q++){if(q==X.length){if(Q)return null;Q=1,q=0}let K=X[q];if(!this.reused.has(K)&&(Q==0?K.widget.compare(J):K.widget.constructor==J.constructor&&J.updateDOM(K.dom,this.view))){if(X.splice(q,1),q<this.index[0])this.index[0]--;if(K.length==Z&&(K.flags&497)==Y)return this.reused.set(K,1),K;else return this.reused.set(K,2),new yJ(K.dom,Z,J,K.flags&-498|Y)}}}reuse(J){return this.reused.set(J,1),J}maybeReuse(J,Z=2){if(this.reused.has(J))return;return this.reused.set(J,Z),J.dom}clear(){for(let J=0;J<this.buckets.length;J++)this.buckets[J].length=this.index[J]=0}}class oK{constructor(J,Z,Y,X,q){this.view=J,this.decorations=X,this.disallowBlockEffectsFor=q,this.openWidget=!1,this.openMarks=0,this.cache=new rK(J),this.text=new aK(J.state.doc),this.builder=new sK(this.cache,new h3(J,J.contentDOM),a.iter(Y)),this.cache.reused.set(Z,2),this.old=new nK(Z),this.reuseWalker={skip:(Q,K,$)=>{if(this.cache.add(Q),Q.isComposite())return!1},enter:(Q)=>this.cache.add(Q),leave:()=>{},break:()=>{}}}run(J,Z){let Y=Z&&this.getCompositionContext(Z.text);for(let X=0,q=0,Q=0;;){let K=Q<J.length?J[Q++]:null,$=K?K.fromA:this.old.root.length;if($>X){let U=$-X;this.preserve(U,!Q,!K),X=$,q+=U}if(!K)break;if(Z&&K.fromA<=Z.range.fromA&&K.toA>=Z.range.toA)this.forward(K.fromA,Z.range.fromA),this.emit(q,Z.range.fromB),this.cache.clear(),this.builder.addComposition(Z,Y),this.text.skip(Z.range.toB-Z.range.fromB),this.forward(Z.range.fromA,K.toA),this.emit(Z.range.toB,K.toB);else this.forward(K.fromA,K.toA),this.emit(q,K.toB);q=K.toB,X=K.toA}if(this.builder.curLine)this.builder.endLine();return this.builder.root}preserve(J,Z,Y){let X=QR(this.old),q=this.openMarks;this.old.advance(J,Y?1:-1,{skip:(Q,K,$)=>{if(Q.isWidget())if(this.openWidget)this.builder.continueWidget($-K);else{let U=$>0||K<Q.length?yJ.of(Q.widget,this.view,$-K,Q.flags&496,this.cache.maybeReuse(Q)):this.cache.reuse(Q);if(U.flags&256)U.flags&=-2,this.builder.addBlockWidget(U);else this.builder.ensureLine(null),this.builder.addInlineWidget(U,X,q),q=X.length}else if(Q.isText()){if(this.builder.ensureLine(null),!K&&$==Q.length)this.builder.addText(Q.text,X,q,this.cache.reuse(Q));else this.cache.add(Q),this.builder.addText(Q.text.slice(K,$),X,q);q=X.length}else if(Q.isLine())Q.flags&=-2,this.cache.reused.set(Q,1),this.builder.addLine(Q);else if(Q instanceof y3)this.cache.add(Q);else if(Q instanceof Q1)this.builder.ensureLine(null),this.builder.addMark(Q,X,q),this.cache.reused.set(Q,1),q=X.length;else return!1;this.openWidget=!1},enter:(Q)=>{if(Q.isLine())this.builder.addLineStart(Q.attrs,this.cache.maybeReuse(Q));else if(this.cache.add(Q),Q instanceof Q1)X.unshift(Q.mark);this.openWidget=!1},leave:(Q)=>{if(Q.isLine()){if(X.length)X.length=q=0}else if(Q instanceof Q1)X.shift(),q=Math.min(q,X.length)},break:()=>{this.builder.addBreak(),this.openWidget=!1}}),this.text.skip(J)}emit(J,Z){let Y=null,X=this.builder,q=0,Q=a.spans(this.decorations,J,Z,{point:(K,$,U,W,G,j)=>{if(U instanceof CJ){if(this.disallowBlockEffectsFor[j]){if(U.block)throw RangeError("Block decorations may not be specified via plugins");if($>this.view.state.doc.lineAt(K).to)throw RangeError("Decorations that replace line breaks may not be specified via plugins")}if(q=W.length,G>W.length)X.continueWidget($-K);else{let z=U.widget||(U.block?bJ.block:bJ.inline),O=XR(U),H=this.cache.findWidget(z,$-K,O)||yJ.of(z,this.view,$-K,O);if(U.block){if(U.startSide>0)X.addLineStartIfNotCovered(Y);X.addBlockWidget(H)}else X.ensureLine(Y),X.addInlineWidget(H,W,G)}Y=null}else Y=qR(Y,U);if($>K)this.text.skip($-K)},span:(K,$,U,W)=>{for(let G=K;G<$;){let j=this.text.next(Math.min(512,$-G));if(j==null)X.addLineStartIfNotCovered(Y),X.addBreak(),G++;else X.ensureLine(Y),X.addText(j,U,W),G+=j.length;Y=null}}});X.addLineStartIfNotCovered(Y),this.openWidget=Q>q,this.openMarks=Q}forward(J,Z){if(Z-J<=10)this.old.advance(Z-J,1,this.reuseWalker);else this.old.advance(5,-1,this.reuseWalker),this.old.advance(Z-J-10,-1),this.old.advance(5,1,this.reuseWalker)}getCompositionContext(J){let Z=[],Y=null;for(let X=J.parentNode;;X=X.parentNode){let q=b0.get(X);if(X==this.view.contentDOM)break;if(q instanceof Q1)Z.push(q);else if(q===null||q===void 0?void 0:q.isLine())Y=q;else if(X.nodeName=="DIV"&&!Y&&X!=this.view.contentDOM)Y=new F4(X,tK);else Z.push(Q1.of(new S3({tagName:X.nodeName.toLowerCase(),attributes:vN(X)}),X))}return{line:Y,marks:Z}}}function lQ(J,Z){let Y=(X)=>{for(let q of X.children)if((Z?q.isText():q.length)||Y(q))return!0;return!1};return Y(J)}function XR(J){let Z=J.isReplace?(J.startSide<0?64:0)|(J.endSide>0?128:0):J.startSide>0?32:16;if(J.block)Z|=256;return Z}var tK={class:"cm-line"};function qR(J,Z){let Y=Z.spec.attributes,X=Z.spec.class;if(!Y&&!X)return J;if(!J)J={class:"cm-line"};if(Y)RZ(Y,J);if(X)J.class+=" "+X;return J}function QR(J){let Z=[];for(let Y=J.parents.length;Y>1;Y--){let X=Y==J.parents.length?J.tile:J.parents[Y].tile;if(X instanceof Q1)Z.push(X.mark)}return Z}function u2(J){let Z=b0.get(J);if(Z)Z.setDOM(J.cloneNode());return J}class bJ extends K1{constructor(J){super();this.tag=J}eq(J){return J.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(J){return J.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}bJ.inline=new bJ("span");bJ.block=new bJ("div");var g2=new class extends K1{toDOM(){return document.createElement("br")}get isHidden(){return!0}get editable(){return!0}};class ZZ{constructor(J){this.view=J,this.decorations=[],this.blockWrappers=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.editContextFormatting=f.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.updateDeco(),this.tile=new h3(J,J.contentDOM),this.updateInner([new B1(0,0,0,J.state.doc.length)],null)}update(J){var Z;let Y=J.changedRanges;if(this.minWidth>0&&Y.length)if(!Y.every(({fromA:W,toA:G})=>G<this.minWidthFrom||W>this.minWidthTo))this.minWidth=this.minWidthFrom=this.minWidthTo=0;else this.minWidthFrom=J.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=J.changes.mapPos(this.minWidthTo,1);this.updateEditContextFormatting(J);let X=-1;if(this.view.inputState.composing>=0&&!this.view.observer.editContext){if((Z=this.domChanged)===null||Z===void 0?void 0:Z.newSel)X=this.domChanged.newSel.head;else if(!OR(J.changes,this.hasComposition)&&!J.selectionSet)X=J.state.selection.main.head}let q=X>-1?$R(this.view,J.changes,X):null;if(this.domChanged=null,this.hasComposition){let{from:W,to:G}=this.hasComposition;Y=new B1(W,G,J.changes.mapPos(W,-1),J.changes.mapPos(G,1)).addToSet(Y.slice())}if(this.hasComposition=q?{from:q.range.fromB,to:q.range.toB}:null,(h.ie||h.chrome)&&!q&&J&&J.state.doc.lines!=J.startState.doc.lines)this.forceSelection=!0;let Q=this.decorations,K=this.blockWrappers;this.updateDeco();let $=GR(Q,this.decorations,J.changes);if($.length)Y=B1.extendWithRanges(Y,$);let U=jR(K,this.blockWrappers,J.changes);if(U.length)Y=B1.extendWithRanges(Y,U);if(q&&!Y.some((W)=>W.fromA<=q.range.fromA&&W.toA>=q.range.toA))Y=q.range.addToSet(Y.slice());if(this.tile.flags&2&&Y.length==0)return!1;else{if(this.updateInner(Y,q),J.transactions.length)this.lastUpdate=Date.now();return!0}}updateInner(J,Z){this.view.viewState.mustMeasureContent=!0;let{observer:Y}=this.view;Y.ignore(()=>{if(Z||J.length){let Q=this.tile,K=new oK(this.view,Q,this.blockWrappers,this.decorations,this.dynamicDecorationMap);this.tile=K.run(J,Z),YZ(Q,K.cache.reused)}this.tile.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.tile.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let q=h.chrome||h.ios?{node:Y.selectionRange.focusNode,written:!1}:void 0;if(this.tile.sync(q),q&&(q.written||Y.selectionRange.focusNode!=q.node||!this.tile.dom.contains(q.node)))this.forceSelection=!0;this.tile.dom.style.height=""});let X=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length){for(let q of this.tile.children)if(q.isWidget()&&q.widget instanceof A9)X.push(q.dom)}Y.updateGaps(X)}updateEditContextFormatting(J){this.editContextFormatting=this.editContextFormatting.map(J.changes);for(let Z of J.transactions)for(let Y of Z.effects)if(Y.is(fK))this.editContextFormatting=Y.value}updateSelection(J=!1,Z=!1){if(J||!this.view.observer.selectionRange.focusNode)this.view.observer.readSelectionRange();let{dom:Y}=this.tile,X=this.view.root.activeElement,q=X==Y,Q=!q&&!(this.view.state.facet(y5)||Y.tabIndex>-1)&&H9(Y,this.view.observer.selectionRange)&&!(X&&Y.contains(X));if(!(q||Z||Q))return;let K=this.forceSelection;this.forceSelection=!1;let $=this.view.state.selection.main,U,W;if($.empty)W=U=this.inlineDOMNearPos($.anchor,$.assoc||1);else W=this.inlineDOMNearPos($.head,$.head==$.from?1:-1),U=this.inlineDOMNearPos($.anchor,$.anchor==$.from?1:-1);if(h.gecko&&$.empty&&!this.hasComposition&&KR(U)){let j=document.createTextNode("");this.view.observer.ignore(()=>U.node.insertBefore(j,U.node.childNodes[U.offset]||null)),U=W=new a1(j,0),K=!0}let G=this.view.observer.selectionRange;if(K||!G.focusNode||(!L3(U.node,U.offset,G.anchorNode,G.anchorOffset)||!L3(W.node,W.offset,G.focusNode,G.focusOffset))&&!this.suppressWidgetCursorChange(G,$))this.view.observer.ignore(()=>{if(h.android&&h.chrome&&Y.contains(G.focusNode)&&zR(G.focusNode,Y))Y.blur(),Y.focus({preventScroll:!0});let j=C3(this.view.root);if(!j);else if($.empty){if(h.gecko){let z=UR(U.node,U.offset);if(z&&z!=3){let O=(z==1?BK:PK)(U.node,U.offset);if(O)U=new a1(O.node,O.offset)}}if(j.collapse(U.node,U.offset),$.bidiLevel!=null&&j.caretBidiLevel!==void 0)j.caretBidiLevel=$.bidiLevel}else if(j.extend){j.collapse(U.node,U.offset);try{j.extend(W.node,W.offset)}catch(z){}}else{let z=document.createRange();if($.anchor>$.head)[U,W]=[W,U];z.setEnd(W.node,W.offset),z.setStart(U.node,U.offset),j.removeAllRanges(),j.addRange(z)}if(Q&&this.view.root.activeElement==Y){if(Y.blur(),X)X.focus()}}),this.view.observer.setSelectionRange(U,W);this.impreciseAnchor=U.precise?null:new a1(G.anchorNode,G.anchorOffset),this.impreciseHead=W.precise?null:new a1(G.focusNode,G.focusOffset)}suppressWidgetCursorChange(J,Z){return this.hasComposition&&Z.empty&&L3(J.focusNode,J.focusOffset,J.anchorNode,J.anchorOffset)&&this.posFromDOM(J.focusNode,J.focusOffset)==Z.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:J}=this,Z=J.state.selection.main,Y=C3(J.root),{anchorNode:X,anchorOffset:q}=J.observer.selectionRange;if(!Y||!Z.empty||!Z.assoc||!Y.modify)return;let Q=this.lineAt(Z.head,Z.assoc);if(!Q)return;let K=Q.posAtStart;if(Z.head==K||Z.head==K+Q.length)return;let $=this.coordsAt(Z.head,-1),U=this.coordsAt(Z.head,1);if(!$||!U||$.bottom>U.top)return;let W=this.domAtPos(Z.head+Z.assoc,Z.assoc);Y.collapse(W.node,W.offset),Y.modify("move",Z.assoc<0?"forward":"backward","lineboundary"),J.observer.readSelectionRange();let G=J.observer.selectionRange;if(J.docView.posFromDOM(G.anchorNode,G.anchorOffset)!=Z.from)Y.collapse(X,q)}posFromDOM(J,Z){let Y=this.tile.nearest(J);if(!Y)return this.tile.dom.compareDocumentPosition(J)&2?0:this.view.state.doc.length;let X=Y.posAtStart;if(Y.isComposite()){let q;if(J==Y.dom)q=Y.dom.childNodes[Z];else{let Q=b5(J)==0?0:Z==0?-1:1;for(;;){let K=J.parentNode;if(K==Y.dom)break;if(Q==0&&K.firstChild!=K.lastChild)if(J==K.firstChild)Q=-1;else Q=1;J=K}if(Q<0)q=J;else q=J.nextSibling}if(q==Y.dom.firstChild)return X;while(q&&!b0.get(q))q=q.nextSibling;if(!q)return X+Y.length;for(let Q=0,K=X;;Q++){let $=Y.children[Q];if($.dom==q)return K;K+=$.length+$.breakAfter}}else if(Y.isText())return J==Y.dom?X+Z:X+(Z?Y.length:0);else return X}domAtPos(J,Z){let{tile:Y,offset:X}=this.tile.resolveBlock(J,Z);if(Y.isWidget())return Y.domPosFor(J,Z);return Y.domIn(X,Z)}inlineDOMNearPos(J,Z){let Y,X=-1,q=!1,Q,K=-1,$=!1;if(this.tile.blockTiles((U,W)=>{if(U.isWidget()){if(U.flags&32&&W>=J)return!0;if(U.flags&16)q=!0}else{let G=W+U.length;if(W<=J)Y=U,X=J-W,q=G<J;if(G>=J&&!Q)Q=U,K=J-W,$=W>J;if(W>J&&Q)return!0}}),!Y&&!Q)return this.domAtPos(J,Z);if(q&&Q)Y=null;else if($&&Y)Q=null;return Y&&Z<0||!Q?Y.domIn(X,Z):Q.domIn(K,Z)}coordsAt(J,Z){let{tile:Y,offset:X}=this.tile.resolveBlock(J,Z);if(Y.isWidget()){if(Y.widget instanceof A9)return null;return Y.coordsInWidget(X,Z,!0)}return Y.coordsIn(X,Z)}lineAt(J,Z){let{tile:Y}=this.tile.resolveBlock(J,Z);return Y.isLine()?Y:null}coordsForChar(J){let{tile:Z,offset:Y}=this.tile.resolveBlock(J,1);if(!Z.isLine())return null;function X(q,Q){if(q.isComposite())for(let K of q.children){if(K.length>=Q){let $=X(K,Q);if($)return $}if(Q-=K.length,Q<0)break}else if(q.isText()&&Q<q.length){let K=P0(q.text,Q);if(K==Q)return null;let $=T3(q.dom,Q,K).getClientRects();for(let U=0;U<$.length;U++){let W=$[U];if(U==$.length-1||W.top<W.bottom&&W.left<W.right)return W}}return null}return X(Z,Y)}measureVisibleLineHeights(J){let Z=[],{from:Y,to:X}=J,q=this.view.contentDOM.clientWidth,Q=q>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,K=-1,$=this.view.textDirection==W0.LTR,U=0,W=(G,j,z)=>{for(let O=0;O<G.children.length;O++){if(j>X)break;let H=G.children[O],N=j+H.length,F=H.dom.getBoundingClientRect(),{height:M}=F;if(z&&!O)U+=F.top-z.top;if(H instanceof n5){if(N>Y)W(H,j,F)}else if(j>=Y){if(U>0)Z.push(-U);if(Z.push(M+U),U=0,Q){let I=H.dom.lastChild,L=I?N9(I):[];if(L.length){let P=L[L.length-1],E=$?P.right-F.left:F.right-P.left;if(E>K)K=E,this.minWidth=q,this.minWidthFrom=j,this.minWidthTo=N}}}if(z&&O==G.children.length-1)U+=z.bottom-F.bottom;j=N+H.breakAfter}};return W(this.tile,0,null),Z}textDirectionAt(J){let{tile:Z}=this.tile.resolveBlock(J,1);return getComputedStyle(Z.dom).direction=="rtl"?W0.RTL:W0.LTR}measureTextSize(){let J=this.tile.blockTiles((Q)=>{if(Q.isLine()&&Q.children.length&&Q.length<=20){let K=0,$;for(let U of Q.children){if(!U.isText()||/[^ -~]/.test(U.text))return;let W=N9(U.dom);if(W.length!=1)return;K+=W[0].width,$=W[0].height}if(K)return{lineHeight:Q.dom.getBoundingClientRect().height,charWidth:K/Q.length,textHeight:$}}});if(J)return J;let Z=document.createElement("div"),Y,X,q;return Z.className="cm-line",Z.style.width="99999px",Z.style.position="absolute",Z.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.tile.dom.appendChild(Z);let Q=N9(Z.firstChild)[0];Y=Z.getBoundingClientRect().height,X=Q&&Q.width?Q.width/27:7,q=Q&&Q.height?Q.height:Y,Z.remove()}),{lineHeight:Y,charWidth:X,textHeight:q}}computeBlockGapDeco(){let J=[],Z=this.view.viewState;for(let Y=0,X=0;;X++){let q=X==Z.viewports.length?null:Z.viewports[X],Q=q?q.from-1:this.view.state.doc.length;if(Q>Y){let K=(Z.lineBlockAt(Q).bottom-Z.lineBlockAt(Y).top)/this.view.scaleY;J.push(f.replace({widget:new A9(K),block:!0,inclusive:!0,isBlockGap:!0}).range(Y,Q))}if(!q)break;Y=q.to+1}return f.set(J)}updateDeco(){let J=1,Z=this.view.state.facet(w9).map((q)=>{return(this.dynamicDecorationMap[J++]=typeof q=="function")?q(this.view):q}),Y=!1,X=this.view.state.facet(DZ).map((q,Q)=>{let K=typeof q=="function";if(K)Y=!0;return K?q(this.view):q});if(X.length)this.dynamicDecorationMap[J++]=Y,Z.push(a.join(X));this.decorations=[this.editContextFormatting,...Z,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];while(J<this.decorations.length)this.dynamicDecorationMap[J++]=!1;this.blockWrappers=this.view.state.facet(pK).map((q)=>typeof q=="function"?q(this.view):q)}scrollIntoView(J){if(J.isSnapshot){let U=this.view.viewState.lineBlockAt(J.range.head);this.view.scrollDOM.scrollTop=U.top-J.yMargin,this.view.scrollDOM.scrollLeft=J.xMargin;return}for(let U of this.view.state.facet(gK))try{if(U(this.view,J.range,J))return!0}catch(W){l0(this.view.state,W,"scroll handler")}let{range:Z}=J,Y=this.coordsAt(Z.head,Z.empty?Z.assoc:Z.head>Z.anchor?-1:1),X;if(!Y)return;if(!Z.empty&&(X=this.coordsAt(Z.anchor,Z.anchor>Z.head?-1:1)))Y={left:Math.min(Y.left,X.left),top:Math.min(Y.top,X.top),right:Math.max(Y.right,X.right),bottom:Math.max(Y.bottom,X.bottom)};let q=LZ(this.view),Q={left:Y.left-q.left,top:Y.top-q.top,right:Y.right+q.right,bottom:Y.bottom+q.bottom},{offsetWidth:K,offsetHeight:$}=this.view.scrollDOM;gN(this.view.scrollDOM,Q,Z.head<Z.anchor?-1:1,J.x,J.y,Math.max(Math.min(J.xMargin,K),-K),Math.max(Math.min(J.yMargin,$),-$),this.view.textDirection==W0.LTR)}lineHasWidget(J){let Z=(Y)=>Y.isWidget()||Y.children.some(Z);return Z(this.tile.resolveBlock(J,1).tile)}destroy(){YZ(this.tile)}}function YZ(J,Z){let Y=Z===null||Z===void 0?void 0:Z.get(J);if(Y!=1){if(Y==null)J.destroy();for(let X of J.children)YZ(X,Z)}}function KR(J){return J.node.nodeType==1&&J.node.firstChild&&(J.offset==0||J.node.childNodes[J.offset-1].contentEditable=="false")&&(J.offset==J.node.childNodes.length||J.node.childNodes[J.offset].contentEditable=="false")}function eK(J,Z){let Y=J.observer.selectionRange;if(!Y.focusNode)return null;let X=BK(Y.focusNode,Y.focusOffset),q=PK(Y.focusNode,Y.focusOffset),Q=X||q;if(q&&X&&q.node!=X.node){let $=b0.get(q.node);if(!$||$.isText()&&$.text!=q.node.nodeValue)Q=q;else if(J.docView.lastCompositionAfterCursor){let U=b0.get(X.node);if(!(!U||U.isText()&&U.text!=X.node.nodeValue))Q=q}}if(J.docView.lastCompositionAfterCursor=Q!=X,!Q)return null;let K=Z-Q.offset;return{from:K,to:K+Q.node.nodeValue.length,node:Q.node}}function $R(J,Z,Y){let X=eK(J,Y);if(!X)return null;let{node:q,from:Q,to:K}=X,$=q.nodeValue;if(/[\n\r]/.test($))return null;if(J.state.doc.sliceString(X.from,X.to)!=$)return null;let U=Z.invertedDesc;return{range:new B1(U.mapPos(Q),U.mapPos(K),Q,K),text:q}}function UR(J,Z){if(J.nodeType!=1)return 0;return(Z&&J.childNodes[Z-1].contentEditable=="false"?1:0)|(Z<J.childNodes.length&&J.childNodes[Z].contentEditable=="false"?2:0)}var WR=class{constructor(){this.changes=[]}compareRange(Z,Y){N4(Z,Y,this.changes)}comparePoint(Z,Y){N4(Z,Y,this.changes)}boundChange(Z){N4(Z,Z,this.changes)}};function GR(J,Z,Y){let X=new WR;return a.compare(J,Z,Y,X),X.changes}class J${constructor(){this.changes=[]}compareRange(J,Z){N4(J,Z,this.changes)}comparePoint(){}boundChange(J){N4(J,J,this.changes)}}function jR(J,Z,Y){let X=new J$;return a.compare(J,Z,Y,X),X.changes}function zR(J,Z){for(let Y=J;Y&&Y!=Z;Y=Y.assignedSlot||Y.parentNode)if(Y.nodeType==1&&Y.contentEditable=="false")return!0;return!1}function OR(J,Z){let Y=!1;if(Z)J.iterChangedRanges((X,q)=>{if(X<Z.to&&q>Z.from)Y=!0});return Y}class A9 extends K1{constructor(J){super();this.height=J}toDOM(){let J=document.createElement("div");return J.className="cm-gap",this.updateDOM(J),J}eq(J){return J.height==this.height}updateDOM(J){return J.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function _R(J,Z,Y=1){let X=J.charCategorizer(Z),q=J.doc.lineAt(Z),Q=Z-q.from;if(q.length==0)return D.cursor(Z);if(Q==0)Y=1;else if(Q==q.length)Y=-1;let K=Q,$=Q;if(Y<0)K=P0(q.text,Q,!1);else $=P0(q.text,Q);let U=X(q.text.slice(K,$));while(K>0){let W=P0(q.text,K,!1);if(X(q.text.slice(W,K))!=U)break;K=W}while($<q.length){let W=P0(q.text,$);if(X(q.text.slice($,W))!=U)break;$=W}return D.range(K+q.from,$+q.from)}function HR(J,Z,Y,X,q){let Q=Math.round((X-Z.left)*J.defaultCharacterWidth);if(J.lineWrapping&&Y.height>J.defaultLineHeight*1.5){let $=J.viewState.heightOracle.textHeight,U=Math.floor((q-Y.top-(J.defaultLineHeight-$)*0.5)/$);Q+=U*J.viewState.heightOracle.lineLength}let K=J.state.sliceDoc(Y.from,Y.to);return Y.from+Q9(K,Q,J.state.tabSize)}function XZ(J,Z,Y){let X=J.lineBlockAt(Z);if(Array.isArray(X.type)){let q;for(let Q of X.type){if(Q.from>Z)break;if(Q.to<Z)continue;if(Q.from<Z&&Q.to>Z)return Q;if(!q||Q.type==p0.Text&&(q.type!=Q.type||(Y<0?Q.from<Z:Q.to>Z)))q=Q}return q||X}return X}function NR(J,Z,Y,X){let q=XZ(J,Z.head,Z.assoc||-1),Q=!X||q.type!=p0.Text||!(J.lineWrapping||q.widgetLineBreaks)?null:J.coordsAtPos(Z.assoc<0&&Z.head>q.from?Z.head-1:Z.head);if(Q){let K=J.dom.getBoundingClientRect(),$=J.textDirectionAt(q.from),U=J.posAtCoords({x:Y==($==W0.LTR)?K.right-1:K.left+1,y:(Q.top+Q.bottom)/2});if(U!=null)return D.cursor(U,Y?-1:1)}return D.cursor(Y?q.to:q.from,Y?-1:1)}function pQ(J,Z,Y,X){let q=J.state.doc.lineAt(Z.head),Q=J.bidiSpans(q),K=J.textDirectionAt(q.from);for(let $=Z,U=null;;){let W=oN(q,Q,K,$,Y),G=bK;if(!W){if(q.number==(Y?J.state.doc.lines:1))return $;G=`
`,q=J.state.doc.line(q.number+(Y?1:-1)),Q=J.bidiSpans(q),W=J.visualLineSide(q,!Y)}if(!U){if(!X)return W;U=X(G)}else if(!U(G))return $;$=W}}function RR(J,Z,Y){let X=J.state.charCategorizer(Z),q=X(Y);return(Q)=>{let K=X(Q);if(q==j0.Space)q=K;return q==K}}function AR(J,Z,Y,X){let q=Z.head,Q=Y?1:-1;if(q==(Y?J.state.doc.length:0))return D.cursor(q,Z.assoc);let K=Z.goalColumn,$,U=J.contentDOM.getBoundingClientRect(),W=J.coordsAtPos(q,Z.assoc||-1),G=J.documentTop;if(W){if(K==null)K=W.left-U.left;$=Q<0?W.top:W.bottom}else{let O=J.viewState.lineBlockAt(q);if(K==null)K=Math.min(U.right-U.left,J.defaultCharacterWidth*(q-O.from));$=(Q<0?O.top:O.bottom)+G}let j=U.left+K,z=X!==null&&X!==void 0?X:J.viewState.heightOracle.textHeight>>1;for(let O=0;;O+=10){let H=$+(z+O)*Q,N=qZ(J,{x:j,y:H},!1,Q);return D.cursor(N.pos,N.assoc,void 0,K)}}function B3(J,Z,Y){for(;;){let X=0;for(let q of J)q.between(Z-1,Z+1,(Q,K,$)=>{if(Z>Q&&Z<K){let U=X||Y||(Z-Q<K-Z?-1:1);Z=U<0?Q:K,X=U}});if(!X)return Z}}function Z$(J,Z){let Y=null;for(let X=0;X<Z.ranges.length;X++){let q=Z.ranges[X],Q=null;if(q.empty){let K=B3(J,q.from,0);if(K!=q.from)Q=D.cursor(K,-1)}else{let K=B3(J,q.from,-1),$=B3(J,q.to,1);if(K!=q.from||$!=q.to)Q=D.range(q.from==q.anchor?K:$,q.from==q.head?K:$)}if(Q){if(!Y)Y=Z.ranges.slice();Y[X]=Q}}return Y?D.create(Y,Z.mainIndex):Z}function f2(J,Z,Y){let X=B3(J.state.facet(w3).map((q)=>q(J)),Y.from,Z.head>Y.from?-1:1);return X==Y.from?Y:D.cursor(X,X<Y.from?1:-1)}class i1{constructor(J,Z){this.pos=J,this.assoc=Z}}function qZ(J,Z,Y,X){let q=J.contentDOM.getBoundingClientRect(),Q=q.top+J.viewState.paddingTop,{x:K,y:$}=Z,U=$-Q,W;for(;;){if(U<0)return new i1(0,1);if(U>J.viewState.docHeight)return new i1(J.state.doc.length,-1);if(W=J.elementAtHeight(U),X==null)break;if(W.type==p0.Text){let z=J.docView.coordsAt(X<0?W.from:W.to,X);if(z&&(X<0?z.top<=U+Q:z.bottom>=U+Q))break}let j=J.viewState.heightOracle.textHeight/2;U=X>0?W.bottom+j:W.top-j}if(J.viewport.from>=W.to||J.viewport.to<=W.from){if(Y)return null;if(W.type==p0.Text){let j=HR(J,q,W,K,$);return new i1(j,j==W.from?1:-1)}}if(W.type!=p0.Text)return U<(W.top+W.bottom)/2?new i1(W.from,1):new i1(W.to,-1);let G=J.docView.lineAt(W.from,2);if(!G||G.length!=W.length)G=J.docView.lineAt(W.from,-2);return Y$(J,G,W.from,K,$)}function Y$(J,Z,Y,X,q){let Q=-1,K=null,$=1e9,U=1e9,W=q,G=q,j=(z,O)=>{for(let H=0;H<z.length;H++){let N=z[H];if(N.top==N.bottom)continue;let F=N.left>X?N.left-X:N.right<X?X-N.right:0,M=N.top>q?N.top-q:N.bottom<q?q-N.bottom:0;if(N.top<=G&&N.bottom>=W)W=Math.min(N.top,W),G=Math.max(N.bottom,G),M=0;if(Q<0||(M-U||F-$)<0)if(Q>=0&&U&&$<F&&K.top<=G-2&&K.bottom>=W+2)U=0;else Q=O,$=F,U=M,K=N}};if(Z.isText()){for(let O=0;O<Z.length;){let H=P0(Z.text,O);if(j(T3(Z.dom,O,H).getClientRects(),O),!$&&!U)break;O=H}return X>(K.left+K.right)/2==(dQ(J,Q+Y)==W0.LTR)?new i1(Y+P0(Z.text,Q),-1):new i1(Y+Q,1)}else{if(!Z.length)return new i1(Y,1);for(let N=0;N<Z.children.length;N++){let F=Z.children[N];if(F.flags&48)continue;let M=(F.dom.nodeType==1?F.dom:T3(F.dom,0,F.length)).getClientRects();if(j(M,N),!$&&!U)break}let z=Z.children[Q],O=Z.posBefore(z,Y);if(z.isComposite()||z.isText())return Y$(J,z,O,Math.max(K.left,Math.min(K.right,X)),q);return X>(K.left+K.right)/2==(dQ(J,Q+Y)==W0.LTR)?new i1(O+z.length,-1):new i1(O,1)}}function dQ(J,Z){let Y=J.state.doc.lineAt(Z);return J.bidiSpans(Y)[j5.find(J.bidiSpans(Y),Z-Y.from,-1,1)].dir}var F3="";class X${constructor(J,Z){this.points=J,this.view=Z,this.text="",this.lineSeparator=Z.state.facet(o.lineSeparator)}append(J){this.text+=J}lineBreak(){this.text+=F3}readRange(J,Z){if(!J)return this;let Y=J.parentNode;for(let X=J;;){this.findPointBefore(Y,X);let q=this.text.length;this.readNode(X);let Q=b0.get(X),K=X.nextSibling;if(K==Z){if((Q===null||Q===void 0?void 0:Q.breakAfter)&&!K&&Y!=this.view.contentDOM)this.lineBreak();break}let $=b0.get(K);if((Q&&$?Q.breakAfter:(Q?Q.breakAfter:P9(X))||P9(K)&&(X.nodeName!="BR"||(Q===null||Q===void 0?void 0:Q.isWidget()))&&this.text.length>q)&&!MR(K,Z))this.lineBreak();X=K}return this.findPointBefore(Y,Z),this}readTextNode(J){let Z=J.nodeValue;for(let Y of this.points)if(Y.node==J)Y.pos=this.text.length+Math.min(Y.offset,Z.length);for(let Y=0,X=this.lineSeparator?null:/\r\n?|\n/g;;){let q=-1,Q=1,K;if(this.lineSeparator)q=Z.indexOf(this.lineSeparator,Y),Q=this.lineSeparator.length;else if(K=X.exec(Z))q=K.index,Q=K[0].length;if(this.append(Z.slice(Y,q<0?Z.length:q)),q<0)break;if(this.lineBreak(),Q>1){for(let $ of this.points)if($.node==J&&$.pos>this.text.length)$.pos-=Q-1}Y=q+Q}}readNode(J){let Z=b0.get(J),Y=Z&&Z.overrideDOMText;if(Y!=null){this.findPointInside(J,Y.length);for(let X=Y.iter();!X.next().done;)if(X.lineBreak)this.lineBreak();else this.append(X.value)}else if(J.nodeType==3)this.readTextNode(J);else if(J.nodeName=="BR"){if(J.nextSibling)this.lineBreak()}else if(J.nodeType==1)this.readRange(J.firstChild,null)}findPointBefore(J,Z){for(let Y of this.points)if(Y.node==J&&J.childNodes[Y.offset]==Z)Y.pos=this.text.length}findPointInside(J,Z){for(let Y of this.points)if(J.nodeType==3?Y.node==J:J.contains(Y.node))Y.pos=this.text.length+(FR(J,Y.node,Y.offset)?Z:0)}}function FR(J,Z,Y){for(;;){if(!Z||Y<b5(Z))return!1;if(Z==J)return!0;Y=i5(Z)+1,Z=Z.parentNode}}function MR(J,Z){let Y;for(;;J=J.nextSibling){if(J==Z||!J)break;let X=b0.get(J);if(!(X===null||X===void 0?void 0:X.isWidget()))return!1;if(X)(Y||(Y=[])).push(X)}if(Y)for(let X of Y){let q=X.overrideDOMText;if(q===null||q===void 0?void 0:q.length)return!1}return!0}class QZ{constructor(J,Z){this.node=J,this.offset=Z,this.pos=-1}}class q${constructor(J,Z,Y,X){this.typeOver=X,this.bounds=null,this.text="",this.domChanged=Z>-1;let{impreciseHead:q,impreciseAnchor:Q}=J.docView;if(J.state.readOnly&&Z>-1)this.newSel=null;else if(Z>-1&&(this.bounds=Q$(J.docView.tile,Z,Y,0))){let K=q||Q?[]:IR(J),$=new X$(K,J);$.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=$.text,this.newSel=DR(K,this.bounds.from)}else{let K=J.observer.selectionRange,$=q&&q.node==K.focusNode&&q.offset==K.focusOffset||!r2(J.contentDOM,K.focusNode)?J.state.selection.main.head:J.docView.posFromDOM(K.focusNode,K.focusOffset),U=Q&&Q.node==K.anchorNode&&Q.offset==K.anchorOffset||!r2(J.contentDOM,K.anchorNode)?J.state.selection.main.anchor:J.docView.posFromDOM(K.anchorNode,K.anchorOffset),W=J.viewport;if((h.ios||h.chrome)&&J.state.selection.main.empty&&$!=U&&(W.from>0||W.to<J.state.doc.length)){let G=Math.min($,U),j=Math.max($,U),z=W.from-G,O=W.to-j;if((z==0||z==1||G==0)&&(O==0||O==-1||j==J.state.doc.length))$=0,U=J.state.doc.length}if(J.inputState.composing>-1&&J.state.selection.ranges.length>1)this.newSel=J.state.selection.replaceRange(D.range(U,$));else this.newSel=D.single(U,$)}}}function Q$(J,Z,Y,X){if(J.isComposite()){let q=-1,Q=-1,K=-1,$=-1;for(let U=0,W=X,G=X;U<J.children.length;U++){let j=J.children[U],z=W+j.length;if(W<Z&&z>Y)return Q$(j,Z,Y,W);if(z>=Z&&q==-1)q=U,Q=W;if(W>Y&&j.dom.parentNode==J.dom){K=U,$=G;break}G=z,W=z+j.breakAfter}return{from:Q,to:$<0?X+J.length:$,startDOM:(q?J.children[q-1].dom.nextSibling:null)||J.dom.firstChild,endDOM:K<J.children.length&&K>=0?J.children[K].dom:null}}else if(J.isText())return{from:X,to:X+J.length,startDOM:J.dom,endDOM:J.dom.nextSibling};else return null}function K$(J,Z){let Y,{newSel:X}=Z,q=J.state.selection.main,Q=J.inputState.lastKeyTime>Date.now()-100?J.inputState.lastKeyCode:-1;if(Z.bounds){let{from:K,to:$}=Z.bounds,U=q.from,W=null;if(Q===8||h.android&&Z.text.length<$-K)U=q.to,W="end";let G=$$(J.state.doc.sliceString(K,$,F3),Z.text,U-K,W);if(G){if(h.chrome&&Q==13&&G.toB==G.from+2&&Z.text.slice(G.from,G.toB)==F3+F3)G.toB--;Y={from:K+G.from,to:K+G.toA,insert:e.of(Z.text.slice(G.from,G.toB).split(F3))}}}else if(X&&(!J.hasFocus&&J.state.facet(y5)||X.main.eq(q)))X=null;if(!Y&&!X)return!1;if(!Y&&Z.typeOver&&!q.empty&&X&&X.main.empty)Y={from:q.from,to:q.to,insert:J.state.doc.slice(q.from,q.to)};else if((h.mac||h.android)&&Y&&Y.from==Y.to&&Y.from==q.head-1&&/^\. ?$/.test(Y.insert.toString())&&J.contentDOM.getAttribute("autocorrect")=="off"){if(X&&Y.insert.length==2)X=D.single(X.main.anchor-1,X.main.head-1);Y={from:Y.from,to:Y.to,insert:e.of([Y.insert.toString().replace("."," ")])}}else if(Y&&Y.from>=q.from&&Y.to<=q.to&&(Y.from!=q.from||Y.to!=q.to)&&q.to-q.from-(Y.to-Y.from)<=4)Y={from:q.from,to:q.to,insert:J.state.doc.slice(q.from,Y.from).append(Y.insert).append(J.state.doc.slice(Y.to,q.to))};else if(J.state.doc.lineAt(q.from).to<q.to&&J.docView.lineHasWidget(q.to)&&J.inputState.insertingTextAt>Date.now()-50)Y={from:q.from,to:q.to,insert:J.state.toText(J.inputState.insertingText)};else if(h.chrome&&Y&&Y.from==Y.to&&Y.from==q.head&&Y.insert.toString()==`
 `&&J.lineWrapping){if(X)X=D.single(X.main.anchor-1,X.main.head-1);Y={from:q.from,to:q.to,insert:e.of([" "])}}if(Y)return BZ(J,Y,X,Q);else if(X&&!X.main.eq(q)){let K=!1,$="select";if(J.inputState.lastSelectionTime>Date.now()-50){if(J.inputState.lastSelectionOrigin=="select")K=!0;if($=J.inputState.lastSelectionOrigin,$=="select.pointer")X=Z$(J.state.facet(w3).map((U)=>U(J)),X)}return J.dispatch({selection:X,scrollIntoView:K,userEvent:$}),!0}else return!1}function BZ(J,Z,Y,X=-1){if(h.ios&&J.inputState.flushIOSKey(Z))return!0;let q=J.state.selection.main;if(h.android&&(Z.to==q.to&&(Z.from==q.from||Z.from==q.from-1&&J.state.sliceDoc(Z.from,q.from)==" ")&&Z.insert.length==1&&Z.insert.lines==2&&R4(J.contentDOM,"Enter",13)||(Z.from==q.from-1&&Z.to==q.to&&Z.insert.length==0||X==8&&Z.insert.length<Z.to-Z.from&&Z.to>q.head)&&R4(J.contentDOM,"Backspace",8)||Z.from==q.from&&Z.to==q.to+1&&Z.insert.length==0&&R4(J.contentDOM,"Delete",46)))return!0;let Q=Z.insert.toString();if(J.inputState.composing>=0)J.inputState.composing++;let K,$=()=>K||(K=VR(J,Z,Y));if(!J.state.facet(hK).some((U)=>U(J,Z.from,Z.to,Q,$)))J.dispatch($());return!0}function VR(J,Z,Y){let X,q=J.state,Q=q.selection.main,K=-1;if(Z.from==Z.to&&Z.from<Q.from||Z.from>Q.to){let U=Z.from<Q.from?-1:1,W=U<0?Q.from:Q.to,G=B3(q.facet(w3).map((j)=>j(J)),W,U);if(Z.from==G)K=G}if(K>-1)X={changes:Z,selection:D.cursor(Z.from+Z.insert.length,-1)};else if(Z.from>=Q.from&&Z.to<=Q.to&&Z.to-Z.from>=(Q.to-Q.from)/3&&(!Y||Y.main.empty&&Y.main.from==Z.from+Z.insert.length)&&J.inputState.composing<0){let U=Q.from<Z.from?q.sliceDoc(Q.from,Z.from):"",W=Q.to>Z.to?q.sliceDoc(Z.to,Q.to):"";X=q.replaceSelection(J.state.toText(U+Z.insert.sliceString(0,void 0,J.state.lineBreak)+W))}else{let U=q.changes(Z),W=Y&&Y.main.to<=U.newLength?Y.main:void 0;if(q.selection.ranges.length>1&&(J.inputState.composing>=0||J.inputState.compositionPendingChange)&&Z.to<=Q.to+10&&Z.to>=Q.to-10){let G=J.state.sliceDoc(Z.from,Z.to),j,z=Y&&eK(J,Y.main.head);if(z){let H=Z.insert.length-(Z.to-Z.from);j={from:z.from,to:z.to-H}}else j=J.state.doc.lineAt(Q.head);let O=Q.to-Z.to;X=q.changeByRange((H)=>{if(H.from==Q.from&&H.to==Q.to)return{changes:U,range:W||H.map(U)};let N=H.to-O,F=N-G.length;if(J.state.sliceDoc(F,N)!=G||N>=j.from&&F<=j.to)return{range:H};let M=q.changes({from:F,to:N,insert:Z.insert}),I=H.to-Q.to;return{changes:M,range:!W?H.map(M):D.range(Math.max(0,W.anchor+I),Math.max(0,W.head+I))}})}else X={changes:U,selection:W&&q.selection.replaceRange(W)}}let $="input.type";if(J.composing||J.inputState.compositionPendingChange&&J.inputState.compositionEndedAt>Date.now()-50){if(J.inputState.compositionPendingChange=!1,$+=".compose",J.inputState.compositionFirstChange)$+=".start",J.inputState.compositionFirstChange=!1}return q.update(X,{userEvent:$,scrollIntoView:!0})}function $$(J,Z,Y,X){let q=Math.min(J.length,Z.length),Q=0;while(Q<q&&J.charCodeAt(Q)==Z.charCodeAt(Q))Q++;if(Q==q&&J.length==Z.length)return null;let K=J.length,$=Z.length;while(K>0&&$>0&&J.charCodeAt(K-1)==Z.charCodeAt($-1))K--,$--;if(X=="end"){let U=Math.max(0,Q-Math.min(K,$));Y-=K+U-Q}if(K<Q&&J.length<Z.length){let U=Y<=Q&&Y>=K?Q-Y:0;Q-=U,$=Q+($-K),K=Q}else if($<Q){let U=Y<=Q&&Y>=$?Q-Y:0;Q-=U,K=Q+(K-$),$=Q}return{from:Q,toA:K,toB:$}}function IR(J){let Z=[];if(J.root.activeElement!=J.contentDOM)return Z;let{anchorNode:Y,anchorOffset:X,focusNode:q,focusOffset:Q}=J.observer.selectionRange;if(Y){if(Z.push(new QZ(Y,X)),q!=Y||Q!=X)Z.push(new QZ(q,Q))}return Z}function DR(J,Z){if(J.length==0)return null;let Y=J[0].pos,X=J.length==2?J[1].pos:Y;return Y>-1&&X>-1?D.single(Y+Z,X+Z):null}class U${setSelectionOrigin(J){this.lastSelectionOrigin=J,this.lastSelectionTime=Date.now()}constructor(J){if(this.view=J,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=J.hasFocus,h.safari)J.contentDOM.addEventListener("input",()=>null);if(h.gecko)vR(J.contentDOM.ownerDocument)}handleEvent(J){if(!yR(this.view,J)||this.ignoreDuringComposition(J))return;if(J.type=="keydown"&&this.keydown(J))return;if(this.view.updateState!=0)Promise.resolve().then(()=>this.runHandlers(J.type,J));else this.runHandlers(J.type,J)}runHandlers(J,Z){let Y=this.handlers[J];if(Y){for(let X of Y.observers)X(this.view,Z);for(let X of Y.handlers){if(Z.defaultPrevented)break;if(X(this.view,Z)){Z.preventDefault();break}}}}ensureHandlers(J){let Z=LR(J),Y=this.handlers,X=this.view.contentDOM;for(let q in Z)if(q!="scroll"){let Q=!Z[q].handlers.length,K=Y[q];if(K&&Q!=!K.handlers.length)X.removeEventListener(q,this.handleEvent),K=null;if(!K)X.addEventListener(q,this.handleEvent,{passive:Q})}for(let q in Y)if(q!="scroll"&&!Z[q])X.removeEventListener(q,this.handleEvent);this.handlers=Z}keydown(J){if(this.lastKeyCode=J.keyCode,this.lastKeyTime=Date.now(),J.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&J.keyCode!=27&&G$.indexOf(J.keyCode)<0)this.tabFocusMode=-1;if(h.android&&h.chrome&&!J.synthetic&&(J.keyCode==13||J.keyCode==8))return this.view.observer.delayAndroidKey(J.key,J.keyCode),!0;let Z;if(h.ios&&!J.synthetic&&!J.altKey&&!J.metaKey&&((Z=W$.find((Y)=>Y.keyCode==J.keyCode))&&!J.ctrlKey||BR.indexOf(J.key)>-1&&J.ctrlKey&&!J.shiftKey))return this.pendingIOSKey=Z||J,setTimeout(()=>this.flushIOSKey(),250),!0;if(J.keyCode!=229)this.view.observer.forceFlush();return!1}flushIOSKey(J){let Z=this.pendingIOSKey;if(!Z)return!1;if(Z.key=="Enter"&&J&&J.from<J.to&&/^\S+$/.test(J.insert.toString()))return!1;return this.pendingIOSKey=void 0,R4(this.view.contentDOM,Z.key,Z.keyCode,Z instanceof KeyboardEvent?Z:void 0)}ignoreDuringComposition(J){if(!/^key/.test(J.type)||J.synthetic)return!1;if(this.composing>0)return!0;if(h.safari&&!h.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)return this.compositionPendingKey=!1,!0;return!1}startMouseSelection(J){if(this.mouseSelection)this.mouseSelection.destroy();this.mouseSelection=J}update(J){if(this.view.observer.update(J),this.mouseSelection)this.mouseSelection.update(J);if(this.draggedContent&&J.docChanged)this.draggedContent=this.draggedContent.map(J.changes);if(J.transactions.length)this.lastKeyCode=this.lastSelectionTime=0}destroy(){if(this.mouseSelection)this.mouseSelection.destroy()}}function cQ(J,Z){return(Y,X)=>{try{return Z.call(J,X,Y)}catch(q){l0(Y.state,q)}}}function LR(J){let Z=Object.create(null);function Y(X){return Z[X]||(Z[X]={observers:[],handlers:[]})}for(let X of J){let q=X.spec,Q=q&&q.plugin.domEventHandlers,K=q&&q.plugin.domEventObservers;if(Q)for(let $ in Q){let U=Q[$];if(U)Y($).handlers.push(cQ(X.value,U))}if(K)for(let $ in K){let U=K[$];if(U)Y($).observers.push(cQ(X.value,U))}}for(let X in r1)Y(X).handlers.push(r1[X]);for(let X in P1)Y(X).observers.push(P1[X]);return Z}var W$=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],BR="dthko",G$=[16,17,18,20,91,92,224,225],$9=6;function U9(J){return Math.max(0,J)*0.7+8}function PR(J,Z){return Math.max(Math.abs(J.clientX-Z.clientX),Math.abs(J.clientY-Z.clientY))}class j${constructor(J,Z,Y,X){this.view=J,this.startEvent=Z,this.style=Y,this.mustSelect=X,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=Z,this.scrollParents=fN(J.contentDOM),this.atoms=J.state.facet(w3).map((Q)=>Q(J));let q=J.contentDOM.ownerDocument;q.addEventListener("mousemove",this.move=this.move.bind(this)),q.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=Z.shiftKey,this.multiple=J.state.facet(o.allowMultipleSelections)&&ER(J,Z),this.dragging=TR(J,Z)&&_$(Z)==1?null:!1}start(J){if(this.dragging===!1)this.select(J)}move(J){if(J.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&PR(this.startEvent,J)<10)return;this.select(this.lastEvent=J);let Z=0,Y=0,X=0,q=0,Q=this.view.win.innerWidth,K=this.view.win.innerHeight;if(this.scrollParents.x)({left:X,right:Q}=this.scrollParents.x.getBoundingClientRect());if(this.scrollParents.y)({top:q,bottom:K}=this.scrollParents.y.getBoundingClientRect());let $=LZ(this.view);if(J.clientX-$.left<=X+$9)Z=-U9(X-J.clientX);else if(J.clientX+$.right>=Q-$9)Z=U9(J.clientX-Q);if(J.clientY-$.top<=q+$9)Y=-U9(q-J.clientY);else if(J.clientY+$.bottom>=K-$9)Y=U9(J.clientY-K);this.setScrollSpeed(Z,Y)}up(J){if(this.dragging==null)this.select(this.lastEvent);if(!this.dragging)J.preventDefault();this.destroy()}destroy(){this.setScrollSpeed(0,0);let J=this.view.contentDOM.ownerDocument;J.removeEventListener("mousemove",this.move),J.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(J,Z){if(this.scrollSpeed={x:J,y:Z},J||Z){if(this.scrolling<0)this.scrolling=setInterval(()=>this.scroll(),50)}else if(this.scrolling>-1)clearInterval(this.scrolling),this.scrolling=-1}scroll(){let{x:J,y:Z}=this.scrollSpeed;if(J&&this.scrollParents.x)this.scrollParents.x.scrollLeft+=J,J=0;if(Z&&this.scrollParents.y)this.scrollParents.y.scrollTop+=Z,Z=0;if(J||Z)this.view.win.scrollBy(J,Z);if(this.dragging===!1)this.select(this.lastEvent)}select(J){let{view:Z}=this,Y=Z$(this.atoms,this.style.get(J,this.extend,this.multiple));if(this.mustSelect||!Y.eq(Z.state.selection,this.dragging===!1))this.view.dispatch({selection:Y,userEvent:"select.pointer"});this.mustSelect=!1}update(J){if(J.transactions.some((Z)=>Z.isUserEvent("input.type")))this.destroy();else if(this.style.update(J))setTimeout(()=>this.select(this.lastEvent),20)}}function ER(J,Z){let Y=J.state.facet(SK);return Y.length?Y[0](Z):h.mac?Z.metaKey:Z.ctrlKey}function CR(J,Z){let Y=J.state.facet(kK);return Y.length?Y[0](Z):h.mac?!Z.altKey:!Z.ctrlKey}function TR(J,Z){let{main:Y}=J.state.selection;if(Y.empty)return!1;let X=C3(J.root);if(!X||X.rangeCount==0)return!0;let q=X.getRangeAt(0).getClientRects();for(let Q=0;Q<q.length;Q++){let K=q[Q];if(K.left<=Z.clientX&&K.right>=Z.clientX&&K.top<=Z.clientY&&K.bottom>=Z.clientY)return!0}return!1}function yR(J,Z){if(!Z.bubbles)return!0;if(Z.defaultPrevented)return!1;for(let Y=Z.target,X;Y!=J.contentDOM;Y=Y.parentNode)if(!Y||Y.nodeType==11||(X=b0.get(Y))&&X.isWidget()&&!X.isHidden&&X.widget.ignoreEvent(Z))return!1;return!0}var r1=Object.create(null),P1=Object.create(null),z$=h.ie&&h.ie_version<15||h.ios&&h.webkit_version<604;function bR(J){let Z=J.dom.parentNode;if(!Z)return;let Y=Z.appendChild(document.createElement("textarea"));Y.style.cssText="position: fixed; left: -10000px; top: 10px",Y.focus(),setTimeout(()=>{J.focus(),Y.remove(),O$(J,Y.value)},50)}function x9(J,Z,Y){for(let X of J.facet(Z))Y=X(Y,J);return Y}function O$(J,Z){Z=x9(J.state,MZ,Z);let{state:Y}=J,X,q=1,Q=Y.toText(Z),K=Q.lines==Y.selection.ranges.length;if(KZ!=null&&Y.selection.ranges.every((U)=>U.empty)&&KZ==Q.toString()){let U=-1;X=Y.changeByRange((W)=>{let G=Y.doc.lineAt(W.from);if(G.from==U)return{range:W};U=G.from;let j=Y.toText((K?Q.line(q++).text:Z)+Y.lineBreak);return{changes:{from:G.from,insert:j},range:D.cursor(W.from+j.length)}})}else if(K)X=Y.changeByRange((U)=>{let W=Q.line(q++);return{changes:{from:U.from,to:U.to,insert:W.text},range:D.cursor(U.from+W.length)}});else X=Y.replaceSelection(Q);J.dispatch(X,{userEvent:"input.paste",scrollIntoView:!0})}P1.scroll=(J)=>{J.inputState.lastScrollTop=J.scrollDOM.scrollTop,J.inputState.lastScrollLeft=J.scrollDOM.scrollLeft};r1.keydown=(J,Z)=>{if(J.inputState.setSelectionOrigin("select"),Z.keyCode==27&&J.inputState.tabFocusMode!=0)J.inputState.tabFocusMode=Date.now()+2000;return!1};P1.touchstart=(J,Z)=>{J.inputState.lastTouchTime=Date.now(),J.inputState.setSelectionOrigin("select.pointer")};P1.touchmove=(J)=>{J.inputState.setSelectionOrigin("select.pointer")};r1.mousedown=(J,Z)=>{if(J.observer.flush(),J.inputState.lastTouchTime>Date.now()-2000)return!1;let Y=null;for(let X of J.state.facet(wK))if(Y=X(J,Z),Y)break;if(!Y&&Z.button==0)Y=kR(J,Z);if(Y){let X=!J.hasFocus;if(J.inputState.startMouseSelection(new j$(J,Z,Y,X)),X)J.observer.ignore(()=>{DK(J.contentDOM);let Q=J.root.activeElement;if(Q&&!Q.contains(J.contentDOM))Q.blur()});let q=J.inputState.mouseSelection;if(q)return q.start(Z),q.dragging===!1}else J.inputState.setSelectionOrigin("select.pointer");return!1};function nQ(J,Z,Y,X){if(X==1)return D.cursor(Z,Y);else if(X==2)return _R(J.state,Z,Y);else{let q=J.docView.lineAt(Z,Y),Q=J.state.doc.lineAt(q?q.posAtEnd:Z),K=q?q.posAtStart:Q.from,$=q?q.posAtEnd:Q.to;if($<J.state.doc.length&&$==Q.to)$++;return D.range(K,$)}}var SR=h.ie&&h.ie_version<=11,iQ=null,sQ=0,aQ=0;function _$(J){if(!SR)return J.detail;let Z=iQ,Y=aQ;return iQ=J,aQ=Date.now(),sQ=!Z||Y>Date.now()-400&&Math.abs(Z.clientX-J.clientX)<2&&Math.abs(Z.clientY-J.clientY)<2?(sQ+1)%3:1}function kR(J,Z){let Y=J.posAndSideAtCoords({x:Z.clientX,y:Z.clientY},!1),X=_$(Z),q=J.state.selection;return{update(Q){if(Q.docChanged)Y.pos=Q.changes.mapPos(Y.pos),q=q.map(Q.changes)},get(Q,K,$){let U=J.posAndSideAtCoords({x:Q.clientX,y:Q.clientY},!1),W,G=nQ(J,U.pos,U.assoc,X);if(Y.pos!=U.pos&&!K){let j=nQ(J,Y.pos,Y.assoc,X),z=Math.min(j.from,G.from),O=Math.max(j.to,G.to);G=z<G.from?D.range(z,O):D.range(O,z)}if(K)return q.replaceRange(q.main.extend(G.from,G.to));else if($&&X==1&&q.ranges.length>1&&(W=wR(q,U.pos)))return W;else if($)return q.addRange(G);else return D.create([G])}}}function wR(J,Z){for(let Y=0;Y<J.ranges.length;Y++){let{from:X,to:q}=J.ranges[Y];if(X<=Z&&q>=Z)return D.create(J.ranges.slice(0,Y).concat(J.ranges.slice(Y+1)),J.mainIndex==Y?0:J.mainIndex-(J.mainIndex>Y?1:0))}return null}r1.dragstart=(J,Z)=>{let{selection:{main:Y}}=J.state;if(Z.target.draggable){let q=J.docView.tile.nearest(Z.target);if(q&&q.isWidget()){let Q=q.posAtStart,K=Q+q.length;if(Q>=Y.to||K<=Y.from)Y=D.range(Q,K)}}let{inputState:X}=J;if(X.mouseSelection)X.mouseSelection.dragging=!0;if(X.draggedContent=Y,Z.dataTransfer)Z.dataTransfer.setData("Text",x9(J.state,VZ,J.state.sliceDoc(Y.from,Y.to))),Z.dataTransfer.effectAllowed="copyMove";return!1};r1.dragend=(J)=>{return J.inputState.draggedContent=null,!1};function rQ(J,Z,Y,X){if(Y=x9(J.state,MZ,Y),!Y)return;let q=J.posAtCoords({x:Z.clientX,y:Z.clientY},!1),{draggedContent:Q}=J.inputState,K=X&&Q&&CR(J,Z)?{from:Q.from,to:Q.to}:null,$={from:q,insert:Y},U=J.state.changes(K?[K,$]:$);J.focus(),J.dispatch({changes:U,selection:{anchor:U.mapPos(q,-1),head:U.mapPos(q,1)},userEvent:K?"move.drop":"input.drop"}),J.inputState.draggedContent=null}r1.drop=(J,Z)=>{if(!Z.dataTransfer)return!1;if(J.state.readOnly)return!0;let Y=Z.dataTransfer.files;if(Y&&Y.length){let X=Array(Y.length),q=0,Q=()=>{if(++q==Y.length)rQ(J,Z,X.filter((K)=>K!=null).join(J.state.lineBreak),!1)};for(let K=0;K<Y.length;K++){let $=new FileReader;$.onerror=Q,$.onload=()=>{if(!/[\x00-\x08\x0e-\x1f]{2}/.test($.result))X[K]=$.result;Q()},$.readAsText(Y[K])}return!0}else{let X=Z.dataTransfer.getData("Text");if(X)return rQ(J,Z,X,!0),!0}return!1};r1.paste=(J,Z)=>{if(J.state.readOnly)return!0;J.observer.flush();let Y=z$?null:Z.clipboardData;if(Y)return O$(J,Y.getData("text/plain")||Y.getData("text/uri-list")),!0;else return bR(J),!1};function xR(J,Z){let Y=J.dom.parentNode;if(!Y)return;let X=Y.appendChild(document.createElement("textarea"));X.style.cssText="position: fixed; left: -10000px; top: 10px",X.value=Z,X.focus(),X.selectionEnd=Z.length,X.selectionStart=0,setTimeout(()=>{X.remove(),J.focus()},50)}function hR(J){let Z=[],Y=[],X=!1;for(let q of J.selection.ranges)if(!q.empty)Z.push(J.sliceDoc(q.from,q.to)),Y.push(q);if(!Z.length){let q=-1;for(let{from:Q}of J.selection.ranges){let K=J.doc.lineAt(Q);if(K.number>q)Z.push(K.text),Y.push({from:K.from,to:Math.min(J.doc.length,K.to+1)});q=K.number}X=!0}return{text:x9(J,VZ,Z.join(J.lineBreak)),ranges:Y,linewise:X}}var KZ=null;r1.copy=r1.cut=(J,Z)=>{let{text:Y,ranges:X,linewise:q}=hR(J.state);if(!Y&&!q)return!1;if(KZ=q?Y:null,Z.type=="cut"&&!J.state.readOnly)J.dispatch({changes:X,scrollIntoView:!0,userEvent:"delete.cut"});let Q=z$?null:Z.clipboardData;if(Q)return Q.clearData(),Q.setData("text/plain",Y),!0;else return xR(J,Y),!1};var H$=N1.define();function N$(J,Z){let Y=[];for(let X of J.facet(vK)){let q=X(J,Z);if(q)Y.push(q)}return Y.length?J.update({effects:Y,annotations:H$.of(!0)}):null}function R$(J){setTimeout(()=>{let Z=J.hasFocus;if(Z!=J.inputState.notifiedFocused){let Y=N$(J.state,Z);if(Y)J.dispatch(Y);else J.update([])}},10)}P1.focus=(J)=>{if(J.inputState.lastFocusTime=Date.now(),!J.scrollDOM.scrollTop&&(J.inputState.lastScrollTop||J.inputState.lastScrollLeft))J.scrollDOM.scrollTop=J.inputState.lastScrollTop,J.scrollDOM.scrollLeft=J.inputState.lastScrollLeft;R$(J)};P1.blur=(J)=>{J.observer.clearSelectionRange(),R$(J)};P1.compositionstart=P1.compositionupdate=(J)=>{if(J.observer.editContext)return;if(J.inputState.compositionFirstChange==null)J.inputState.compositionFirstChange=!0;if(J.inputState.composing<0)J.inputState.composing=0};P1.compositionend=(J)=>{if(J.observer.editContext)return;if(J.inputState.composing=-1,J.inputState.compositionEndedAt=Date.now(),J.inputState.compositionPendingKey=!0,J.inputState.compositionPendingChange=J.observer.pendingRecords().length>0,J.inputState.compositionFirstChange=null,h.chrome&&h.android)J.observer.flushSoon();else if(J.inputState.compositionPendingChange)Promise.resolve().then(()=>J.observer.flush());else setTimeout(()=>{if(J.inputState.composing<0&&J.docView.hasComposition)J.update([])},50)};P1.contextmenu=(J)=>{J.inputState.lastContextMenu=Date.now()};r1.beforeinput=(J,Z)=>{var Y,X;if(Z.inputType=="insertText"||Z.inputType=="insertCompositionText")J.inputState.insertingText=Z.data,J.inputState.insertingTextAt=Date.now();if(Z.inputType=="insertReplacementText"&&J.observer.editContext){let Q=(Y=Z.dataTransfer)===null||Y===void 0?void 0:Y.getData("text/plain"),K=Z.getTargetRanges();if(Q&&K.length){let $=K[0],U=J.posAtDOM($.startContainer,$.startOffset),W=J.posAtDOM($.endContainer,$.endOffset);return BZ(J,{from:U,to:W,insert:J.state.toText(Q)},null),!0}}let q;if(h.chrome&&h.android&&(q=W$.find((Q)=>Q.inputType==Z.inputType))){if(J.observer.delayAndroidKey(q.key,q.keyCode),q.key=="Backspace"||q.key=="Delete"){let Q=((X=window.visualViewport)===null||X===void 0?void 0:X.height)||0;setTimeout(()=>{var K;if((((K=window.visualViewport)===null||K===void 0?void 0:K.height)||0)>Q+10&&J.hasFocus)J.contentDOM.blur(),J.focus()},100)}}if(h.ios&&Z.inputType=="deleteContentForward")J.observer.flushSoon();if(h.safari&&Z.inputType=="insertText"&&J.inputState.composing>=0)setTimeout(()=>P1.compositionend(J,Z),20);return!1};var oQ=new Set;function vR(J){if(!oQ.has(J))oQ.add(J),J.addEventListener("copy",()=>{}),J.addEventListener("cut",()=>{})}var tQ=["pre-wrap","normal","pre-line","break-spaces"],M4=!1;function eQ(){M4=!1}class A${constructor(J){this.lineWrapping=J,this.doc=e.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(J,Z){let Y=this.doc.lineAt(Z).number-this.doc.lineAt(J).number+1;if(this.lineWrapping)Y+=Math.max(0,Math.ceil((Z-J-Y*this.lineLength*0.5)/this.lineLength));return this.lineHeight*Y}heightForLine(J){if(!this.lineWrapping)return this.lineHeight;return(1+Math.max(0,Math.ceil((J-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight}setDoc(J){return this.doc=J,this}mustRefreshForWrapping(J){return tQ.indexOf(J)>-1!=this.lineWrapping}mustRefreshForHeights(J){let Z=!1;for(let Y=0;Y<J.length;Y++){let X=J[Y];if(X<0)Y++;else if(!this.heightSamples[Math.floor(X*10)])Z=!0,this.heightSamples[Math.floor(X*10)]=!0}return Z}refresh(J,Z,Y,X,q,Q){let K=tQ.indexOf(J)>-1,$=Math.round(Z)!=Math.round(this.lineHeight)||this.lineWrapping!=K;if(this.lineWrapping=K,this.lineHeight=Z,this.charWidth=Y,this.textHeight=X,this.lineLength=q,$){this.heightSamples={};for(let U=0;U<Q.length;U++){let W=Q[U];if(W<0)U++;else this.heightSamples[Math.floor(W*10)]=!0}}return $}}class F${constructor(J,Z){this.from=J,this.heights=Z,this.index=0}get more(){return this.index<this.heights.length}}class s1{constructor(J,Z,Y,X,q){this.from=J,this.length=Z,this.top=Y,this.height=X,this._content=q}get type(){return typeof this._content=="number"?p0.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof CJ?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(J){let Z=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(J._content)?J._content:[J]);return new s1(this.from,this.length+J.length,this.top,this.height+J.height,Z)}}var H0=function(J){return J[J.ByPos=0]="ByPos",J[J.ByHeight=1]="ByHeight",J[J.ByPosNoHeight=2]="ByPosNoHeight",J}(H0||(H0={})),F9=0.001;class Z1{constructor(J,Z,Y=2){this.length=J,this.height=Z,this.flags=Y}get outdated(){return(this.flags&2)>0}set outdated(J){this.flags=(J?2:0)|this.flags&-3}setHeight(J){if(this.height!=J){if(Math.abs(this.height-J)>F9)M4=!0;this.height=J}}replace(J,Z,Y){return Z1.of(Y)}decomposeLeft(J,Z){Z.push(this)}decomposeRight(J,Z){Z.push(this)}applyChanges(J,Z,Y,X){let q=this,Q=Y.doc;for(let K=X.length-1;K>=0;K--){let{fromA:$,toA:U,fromB:W,toB:G}=X[K],j=q.lineAt($,H0.ByPosNoHeight,Y.setDoc(Z),0,0),z=j.to>=U?j:q.lineAt(U,H0.ByPosNoHeight,Y,0,0);G+=z.to-U,U=z.to;while(K>0&&j.from<=X[K-1].toA)if($=X[K-1].fromA,W=X[K-1].fromB,K--,$<j.from)j=q.lineAt($,H0.ByPosNoHeight,Y,0,0);W+=j.from-$,$=j.from;let O=EZ.build(Y.setDoc(Q),J,W,G);q=y9(q,q.replace($,U,O))}return q.updateHeight(Y,0)}static empty(){return new R1(0,0,0)}static of(J){if(J.length==1)return J[0];let Z=0,Y=J.length,X=0,q=0;for(;;)if(Z==Y)if(X>q*2){let K=J[Z-1];if(K.break)J.splice(--Z,1,K.left,null,K.right);else J.splice(--Z,1,K.left,K.right);Y+=1+K.break,X-=K.size}else if(q>X*2){let K=J[Y];if(K.break)J.splice(Y,1,K.left,null,K.right);else J.splice(Y,1,K.left,K.right);Y+=2+K.break,q-=K.size}else break;else if(X<q){let K=J[Z++];if(K)X+=K.size}else{let K=J[--Y];if(K)q+=K.size}let Q=0;if(J[Z-1]==null)Q=1,Z--;else if(J[Z]==null)Q=1,Y++;return new M$(Z1.of(J.slice(0,Z)),Q,Z1.of(J.slice(Y)))}}function y9(J,Z){if(J==Z)return J;if(J.constructor!=Z.constructor)M4=!0;return Z}Z1.prototype.size=1;var mR=f.replace({});class PZ extends Z1{constructor(J,Z,Y){super(J,Z);this.deco=Y,this.spaceAbove=0}mainBlock(J,Z){return new s1(Z,this.length,J+this.spaceAbove,this.height-this.spaceAbove,this.deco||0)}blockAt(J,Z,Y,X){return this.spaceAbove&&J<Y+this.spaceAbove?new s1(X,0,Y,this.spaceAbove,mR):this.mainBlock(Y,X)}lineAt(J,Z,Y,X,q){let Q=this.mainBlock(X,q);return this.spaceAbove?this.blockAt(0,Y,X,q).join(Q):Q}forEachLine(J,Z,Y,X,q,Q){if(J<=q+this.length&&Z>=q)Q(this.lineAt(0,H0.ByPos,Y,X,q))}setMeasuredHeight(J){let Z=J.heights[J.index++];if(Z<0)this.spaceAbove=-Z,Z=J.heights[J.index++];else this.spaceAbove=0;this.setHeight(Z)}updateHeight(J,Z=0,Y=!1,X){if(X&&X.from<=Z&&X.more)this.setMeasuredHeight(X);return this.outdated=!1,this}toString(){return`block(${this.length})`}}class R1 extends PZ{constructor(J,Z,Y){super(J,Z,null);this.collapsed=0,this.widgetHeight=0,this.breaks=0,this.spaceAbove=Y}mainBlock(J,Z){return new s1(Z,this.length,J+this.spaceAbove,this.height-this.spaceAbove,this.breaks)}replace(J,Z,Y){let X=Y[0];if(Y.length==1&&(X instanceof R1||X instanceof f0&&X.flags&4)&&Math.abs(this.length-X.length)<10){if(X instanceof f0)X=new R1(X.length,this.height,this.spaceAbove);else X.height=this.height;if(!this.outdated)X.outdated=!1;return X}else return Z1.of(Y)}updateHeight(J,Z=0,Y=!1,X){if(X&&X.from<=Z&&X.more)this.setMeasuredHeight(X);else if(Y||this.outdated)this.spaceAbove=0,this.setHeight(Math.max(this.widgetHeight,J.heightForLine(this.length-this.collapsed))+this.breaks*J.lineHeight);return this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class f0 extends Z1{constructor(J){super(J,0)}heightMetrics(J,Z){let Y=J.doc.lineAt(Z).number,X=J.doc.lineAt(Z+this.length).number,q=X-Y+1,Q,K=0;if(J.lineWrapping){let $=Math.min(this.height,J.lineHeight*q);if(Q=$/q,this.length>q+1)K=(this.height-$)/(this.length-q-1)}else Q=this.height/q;return{firstLine:Y,lastLine:X,perLine:Q,perChar:K}}blockAt(J,Z,Y,X){let{firstLine:q,lastLine:Q,perLine:K,perChar:$}=this.heightMetrics(Z,X);if(Z.lineWrapping){let U=X+(J<Z.lineHeight?0:Math.round(Math.max(0,Math.min(1,(J-Y)/this.height))*this.length)),W=Z.doc.lineAt(U),G=K+W.length*$,j=Math.max(Y,J-G/2);return new s1(W.from,W.length,j,G,0)}else{let U=Math.max(0,Math.min(Q-q,Math.floor((J-Y)/K))),{from:W,length:G}=Z.doc.line(q+U);return new s1(W,G,Y+K*U,K,0)}}lineAt(J,Z,Y,X,q){if(Z==H0.ByHeight)return this.blockAt(J,Y,X,q);if(Z==H0.ByPosNoHeight){let{from:z,to:O}=Y.doc.lineAt(J);return new s1(z,O-z,0,0,0)}let{firstLine:Q,perLine:K,perChar:$}=this.heightMetrics(Y,q),U=Y.doc.lineAt(J),W=K+U.length*$,G=U.number-Q,j=X+K*G+$*(U.from-q-G);return new s1(U.from,U.length,Math.max(X,Math.min(j,X+this.height-W)),W,0)}forEachLine(J,Z,Y,X,q,Q){J=Math.max(J,q),Z=Math.min(Z,q+this.length);let{firstLine:K,perLine:$,perChar:U}=this.heightMetrics(Y,q);for(let W=J,G=X;W<=Z;){let j=Y.doc.lineAt(W);if(W==J){let O=j.number-K;G+=$*O+U*(J-q-O)}let z=$+U*j.length;Q(new s1(j.from,j.length,G,z,0)),G+=z,W=j.to+1}}replace(J,Z,Y){let X=this.length-Z;if(X>0){let q=Y[Y.length-1];if(q instanceof f0)Y[Y.length-1]=new f0(q.length+X);else Y.push(null,new f0(X-1))}if(J>0){let q=Y[0];if(q instanceof f0)Y[0]=new f0(J+q.length);else Y.unshift(new f0(J-1),null)}return Z1.of(Y)}decomposeLeft(J,Z){Z.push(new f0(J-1),null)}decomposeRight(J,Z){Z.push(null,new f0(this.length-J-1))}updateHeight(J,Z=0,Y=!1,X){let q=Z+this.length;if(X&&X.from<=Z+this.length&&X.more){let Q=[],K=Math.max(Z,X.from),$=-1;if(X.from>Z)Q.push(new f0(X.from-Z-1).updateHeight(J,Z));while(K<=q&&X.more){let W=J.doc.lineAt(K).length;if(Q.length)Q.push(null);let G=X.heights[X.index++],j=0;if(G<0)j=-G,G=X.heights[X.index++];if($==-1)$=G;else if(Math.abs(G-$)>=F9)$=-2;let z=new R1(W,G,j);z.outdated=!1,Q.push(z),K+=W+1}if(K<=q)Q.push(null,new f0(q-K).updateHeight(J,K));let U=Z1.of(Q);if($<0||Math.abs(U.height-this.height)>=F9||Math.abs($-this.heightMetrics(J,Z).perLine)>=F9)M4=!0;return y9(this,U)}else if(Y||this.outdated)this.setHeight(J.heightForGap(Z,Z+this.length)),this.outdated=!1;return this}toString(){return`gap(${this.length})`}}class M$ extends Z1{constructor(J,Z,Y){super(J.length+Z+Y.length,J.height+Y.height,Z|(J.outdated||Y.outdated?2:0));this.left=J,this.right=Y,this.size=J.size+Y.size}get break(){return this.flags&1}blockAt(J,Z,Y,X){let q=Y+this.left.height;return J<q?this.left.blockAt(J,Z,Y,X):this.right.blockAt(J,Z,q,X+this.left.length+this.break)}lineAt(J,Z,Y,X,q){let Q=X+this.left.height,K=q+this.left.length+this.break,$=Z==H0.ByHeight?J<Q:J<K,U=$?this.left.lineAt(J,Z,Y,X,q):this.right.lineAt(J,Z,Y,Q,K);if(this.break||($?U.to<K:U.from>K))return U;let W=Z==H0.ByPosNoHeight?H0.ByPosNoHeight:H0.ByPos;if($)return U.join(this.right.lineAt(K,W,Y,Q,K));else return this.left.lineAt(K,W,Y,X,q).join(U)}forEachLine(J,Z,Y,X,q,Q){let K=X+this.left.height,$=q+this.left.length+this.break;if(this.break){if(J<$)this.left.forEachLine(J,Z,Y,X,q,Q);if(Z>=$)this.right.forEachLine(J,Z,Y,K,$,Q)}else{let U=this.lineAt($,H0.ByPos,Y,X,q);if(J<U.from)this.left.forEachLine(J,U.from-1,Y,X,q,Q);if(U.to>=J&&U.from<=Z)Q(U);if(Z>U.to)this.right.forEachLine(U.to+1,Z,Y,K,$,Q)}}replace(J,Z,Y){let X=this.left.length+this.break;if(Z<X)return this.balanced(this.left.replace(J,Z,Y),this.right);if(J>this.left.length)return this.balanced(this.left,this.right.replace(J-X,Z-X,Y));let q=[];if(J>0)this.decomposeLeft(J,q);let Q=q.length;for(let K of Y)q.push(K);if(J>0)JK(q,Q-1);if(Z<this.length){let K=q.length;this.decomposeRight(Z,q),JK(q,K)}return Z1.of(q)}decomposeLeft(J,Z){let Y=this.left.length;if(J<=Y)return this.left.decomposeLeft(J,Z);if(Z.push(this.left),this.break){if(Y++,J>=Y)Z.push(null)}if(J>Y)this.right.decomposeLeft(J-Y,Z)}decomposeRight(J,Z){let Y=this.left.length,X=Y+this.break;if(J>=X)return this.right.decomposeRight(J-X,Z);if(J<Y)this.left.decomposeRight(J,Z);if(this.break&&J<X)Z.push(null);Z.push(this.right)}balanced(J,Z){if(J.size>2*Z.size||Z.size>2*J.size)return Z1.of(this.break?[J,null,Z]:[J,Z]);return this.left=y9(this.left,J),this.right=y9(this.right,Z),this.setHeight(J.height+Z.height),this.outdated=J.outdated||Z.outdated,this.size=J.size+Z.size,this.length=J.length+this.break+Z.length,this}updateHeight(J,Z=0,Y=!1,X){let{left:q,right:Q}=this,K=Z+q.length+this.break,$=null;if(X&&X.from<=Z+q.length&&X.more)$=q=q.updateHeight(J,Z,Y,X);else q.updateHeight(J,Z,Y);if(X&&X.from<=K+Q.length&&X.more)$=Q=Q.updateHeight(J,K,Y,X);else Q.updateHeight(J,K,Y);if($)return this.balanced(q,Q);return this.height=this.left.height+this.right.height,this.outdated=!1,this}toString(){return this.left+(this.break?" ":"-")+this.right}}function JK(J,Z){let Y,X;if(J[Z]==null&&(Y=J[Z-1])instanceof f0&&(X=J[Z+1])instanceof f0)J.splice(Z-1,3,new f0(Y.length+1+X.length))}var uR=5;class EZ{constructor(J,Z){this.pos=J,this.oracle=Z,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=J}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(J,Z){if(this.lineStart>-1){let Y=Math.min(Z,this.lineEnd),X=this.nodes[this.nodes.length-1];if(X instanceof R1)X.length+=Y-this.pos;else if(Y>this.pos||!this.isCovered)this.nodes.push(new R1(Y-this.pos,-1,0));if(this.writtenTo=Y,Z>Y)this.nodes.push(null),this.writtenTo++,this.lineStart=-1}this.pos=Z}point(J,Z,Y){if(J<Z||Y.heightRelevant){let X=Y.widget?Y.widget.estimatedHeight:0,q=Y.widget?Y.widget.lineBreaks:0;if(X<0)X=this.oracle.lineHeight;let Q=Z-J;if(Y.block)this.addBlock(new PZ(Q,X,Y));else if(Q||q||X>=uR)this.addLineDeco(X,q,Q)}else if(Z>J)this.span(J,Z);if(this.lineEnd>-1&&this.lineEnd<this.pos)this.lineEnd=this.oracle.doc.lineAt(this.pos).to}enterLine(){if(this.lineStart>-1)return;let{from:J,to:Z}=this.oracle.doc.lineAt(this.pos);if(this.lineStart=J,this.lineEnd=Z,this.writtenTo<J){if(this.writtenTo<J-1||this.nodes[this.nodes.length-1]==null)this.nodes.push(this.blankContent(this.writtenTo,J-1));this.nodes.push(null)}if(this.pos>J)this.nodes.push(new R1(this.pos-J,-1,0));this.writtenTo=this.pos}blankContent(J,Z){let Y=new f0(Z-J);if(this.oracle.doc.lineAt(J).to==Z)Y.flags|=4;return Y}ensureLine(){this.enterLine();let J=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(J instanceof R1)return J;let Z=new R1(0,-1,0);return this.nodes.push(Z),Z}addBlock(J){this.enterLine();let Z=J.deco;if(Z&&Z.startSide>0&&!this.isCovered)this.ensureLine();if(this.nodes.push(J),this.writtenTo=this.pos=this.pos+J.length,Z&&Z.endSide>0)this.covering=J}addLineDeco(J,Z,Y){let X=this.ensureLine();X.length+=Y,X.collapsed+=Y,X.widgetHeight=Math.max(X.widgetHeight,J),X.breaks+=Z,this.writtenTo=this.pos=this.pos+Y}finish(J){let Z=this.nodes.length==0?null:this.nodes[this.nodes.length-1];if(this.lineStart>-1&&!(Z instanceof R1)&&!this.isCovered)this.nodes.push(new R1(0,-1,0));else if(this.writtenTo<this.pos||Z==null)this.nodes.push(this.blankContent(this.writtenTo,this.pos));let Y=J;for(let X of this.nodes){if(X instanceof R1)X.updateHeight(this.oracle,Y);Y+=X?X.length:1}return this.nodes}static build(J,Z,Y,X){let q=new EZ(Y,J);return a.spans(Z,Y,X,q,0),q.finish(Y)}}function gR(J,Z,Y){let X=new V$;return a.compare(J,Z,Y,X,0),X.changes}class V${constructor(){this.changes=[]}compareRange(){}comparePoint(J,Z,Y,X){if(J<Z||Y&&Y.heightRelevant||X&&X.heightRelevant)N4(J,Z,this.changes,5)}}function fR(J,Z){let Y=J.getBoundingClientRect(),X=J.ownerDocument,q=X.defaultView||window,Q=Math.max(0,Y.left),K=Math.min(q.innerWidth,Y.right),$=Math.max(0,Y.top),U=Math.min(q.innerHeight,Y.bottom);for(let W=J.parentNode;W&&W!=X.body;)if(W.nodeType==1){let G=W,j=window.getComputedStyle(G);if((G.scrollHeight>G.clientHeight||G.scrollWidth>G.clientWidth)&&j.overflow!="visible"){let z=G.getBoundingClientRect();Q=Math.max(Q,z.left),K=Math.min(K,z.right),$=Math.max($,z.top),U=Math.min(W==J.parentNode?q.innerHeight:U,z.bottom)}W=j.position=="absolute"||j.position=="fixed"?G.offsetParent:G.parentNode}else if(W.nodeType==11)W=W.host;else break;return{left:Q-Y.left,right:Math.max(Q,K)-Y.left,top:$-(Y.top+Z),bottom:Math.max($,U)-(Y.top+Z)}}function lR(J){let Z=J.getBoundingClientRect(),Y=J.ownerDocument.defaultView||window;return Z.left<Y.innerWidth&&Z.right>0&&Z.top<Y.innerHeight&&Z.bottom>0}function pR(J,Z){let Y=J.getBoundingClientRect();return{left:0,right:Y.right-Y.left,top:Z,bottom:Y.bottom-(Y.top+Z)}}class M9{constructor(J,Z,Y,X){this.from=J,this.to=Z,this.size=Y,this.displaySize=X}static same(J,Z){if(J.length!=Z.length)return!1;for(let Y=0;Y<J.length;Y++){let X=J[Y],q=Z[Y];if(X.from!=q.from||X.to!=q.to||X.size!=q.size)return!1}return!0}draw(J,Z){return f.replace({widget:new I$(this.displaySize*(Z?J.scaleY:J.scaleX),Z)}).range(this.from,this.to)}}class I$ extends K1{constructor(J,Z){super();this.size=J,this.vertical=Z}eq(J){return J.size==this.size&&J.vertical==this.vertical}toDOM(){let J=document.createElement("div");if(this.vertical)J.style.height=this.size+"px";else J.style.width=this.size+"px",J.style.height="2px",J.style.display="inline-block";return J}get estimatedHeight(){return this.vertical?this.size:-1}}class $Z{constructor(J){this.state=J,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=ZK,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=W0.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let Z=J.facet(IZ).some((Y)=>typeof Y!="function"&&Y.class=="cm-lineWrapping");this.heightOracle=new A$(Z),this.stateDeco=YK(J),this.heightMap=Z1.empty().applyChanges(this.stateDeco,e.empty,this.heightOracle.setDoc(J.doc),[new B1(0,0,0,J.doc.length)]);for(let Y=0;Y<2;Y++)if(this.viewport=this.getViewport(0,null),!this.updateForViewport())break;this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=f.set(this.lineGaps.map((Y)=>Y.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let J=[this.viewport],{main:Z}=this.state.selection;for(let Y=0;Y<=1;Y++){let X=Y?Z.head:Z.anchor;if(!J.some(({from:q,to:Q})=>X>=q&&X<=Q)){let{from:q,to:Q}=this.lineBlockAt(X);J.push(new M3(q,Q))}}return this.viewports=J.sort((Y,X)=>Y.from-X.from),this.updateScaler()}updateScaler(){let J=this.scaler;return this.scaler=this.heightMap.height<=7000000?ZK:new CZ(this.heightOracle,this.heightMap,this.viewports),J.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,(J)=>{this.viewportLines.push(V3(J,this.scaler))})}update(J,Z=null){this.state=J.state;let Y=this.stateDeco;this.stateDeco=YK(this.state);let X=J.changedRanges,q=B1.extendWithRanges(X,gR(Y,this.stateDeco,J?J.changes:y0.empty(this.state.doc.length))),Q=this.heightMap.height,K=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);if(eQ(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,J.startState.doc,this.heightOracle.setDoc(this.state.doc),q),this.heightMap.height!=Q||M4)J.flags|=2;if(K)this.scrollAnchorPos=J.changes.mapPos(K.from,-1),this.scrollAnchorHeight=K.top;else this.scrollAnchorPos=-1,this.scrollAnchorHeight=Q;let $=q.length?this.mapViewport(this.viewport,J.changes):this.viewport;if(Z&&(Z.range.head<$.from||Z.range.head>$.to)||!this.viewportIsAppropriate($))$=this.getViewport(0,Z);let U=$.from!=this.viewport.from||$.to!=this.viewport.to;if(this.viewport=$,J.flags|=this.updateForViewport(),U||!J.changes.empty||J.flags&2)this.updateViewportLines();if(this.lineGaps.length||this.viewport.to-this.viewport.from>4000)this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,J.changes)));if(J.flags|=this.computeVisibleRanges(J.changes),Z)this.scrollTarget=Z;if(!this.mustEnforceCursorAssoc&&(J.selectionSet||J.focusChanged)&&J.view.lineWrapping&&J.state.selection.main.empty&&J.state.selection.main.assoc&&!J.state.facet(uK))this.mustEnforceCursorAssoc=!0}measure(J){let Z=J.contentDOM,Y=window.getComputedStyle(Z),X=this.heightOracle,q=Y.whiteSpace;this.defaultTextDirection=Y.direction=="rtl"?W0.RTL:W0.LTR;let Q=this.heightOracle.mustRefreshForWrapping(q),K=Z.getBoundingClientRect(),$=Q||this.mustMeasureContent||this.contentDOMHeight!=K.height;this.contentDOMHeight=K.height,this.mustMeasureContent=!1;let U=0,W=0;if(K.width&&K.height){let{scaleX:L,scaleY:P}=VK(Z,K);if(L>0.005&&Math.abs(this.scaleX-L)>0.005||P>0.005&&Math.abs(this.scaleY-P)>0.005)this.scaleX=L,this.scaleY=P,U|=16,Q=$=!0}let G=(parseInt(Y.paddingTop)||0)*this.scaleY,j=(parseInt(Y.paddingBottom)||0)*this.scaleY;if(this.paddingTop!=G||this.paddingBottom!=j)this.paddingTop=G,this.paddingBottom=j,U|=18;if(this.editorWidth!=J.scrollDOM.clientWidth){if(X.lineWrapping)$=!0;this.editorWidth=J.scrollDOM.clientWidth,U|=16}let z=J.scrollDOM.scrollTop*this.scaleY;if(this.scrollTop!=z)this.scrollAnchorHeight=-1,this.scrollTop=z;this.scrolledToBottom=LK(J.scrollDOM);let O=(this.printing?pR:fR)(Z,this.paddingTop),H=O.top-this.pixelViewport.top,N=O.bottom-this.pixelViewport.bottom;this.pixelViewport=O;let F=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(F!=this.inView){if(this.inView=F,F)$=!0}if(!this.inView&&!this.scrollTarget&&!lR(J.dom))return 0;let M=K.width;if(this.contentDOMWidth!=M||this.editorHeight!=J.scrollDOM.clientHeight)this.contentDOMWidth=K.width,this.editorHeight=J.scrollDOM.clientHeight,U|=16;if($){let L=J.docView.measureVisibleLineHeights(this.viewport);if(X.mustRefreshForHeights(L))Q=!0;if(Q||X.lineWrapping&&Math.abs(M-this.contentDOMWidth)>X.charWidth){let{lineHeight:P,charWidth:E,textHeight:m}=J.docView.measureTextSize();if(Q=P>0&&X.refresh(q,P,E,m,Math.max(5,M/E),L),Q)J.docView.minWidth=0,U|=16}if(H>0&&N>0)W=Math.max(H,N);else if(H<0&&N<0)W=Math.min(H,N);eQ();for(let P of this.viewports){let E=P.from==this.viewport.from?L:J.docView.measureVisibleLineHeights(P);this.heightMap=(Q?Z1.empty().applyChanges(this.stateDeco,e.empty,this.heightOracle,[new B1(0,0,0,J.state.doc.length)]):this.heightMap).updateHeight(X,0,Q,new F$(P.from,E))}if(M4)U|=2}let I=!this.viewportIsAppropriate(this.viewport,W)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);if(I){if(U&2)U|=this.updateScaler();this.viewport=this.getViewport(W,this.scrollTarget),U|=this.updateForViewport()}if(U&2||I)this.updateViewportLines();if(this.lineGaps.length||this.viewport.to-this.viewport.from>4000)this.updateLineGaps(this.ensureLineGaps(Q?[]:this.lineGaps,J));if(U|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc)this.mustEnforceCursorAssoc=!1,J.docView.enforceCursorAssoc();return U}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(J,Z){let Y=0.5-Math.max(-0.5,Math.min(0.5,J/1000/2)),X=this.heightMap,q=this.heightOracle,{visibleTop:Q,visibleBottom:K}=this,$=new M3(X.lineAt(Q-Y*1000,H0.ByHeight,q,0,0).from,X.lineAt(K+(1-Y)*1000,H0.ByHeight,q,0,0).to);if(Z){let{head:U}=Z.range;if(U<$.from||U>$.to){let W=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),G=X.lineAt(U,H0.ByPos,q,0,0),j;if(Z.y=="center")j=(G.top+G.bottom)/2-W/2;else if(Z.y=="start"||Z.y=="nearest"&&U<$.from)j=G.top;else j=G.bottom-W;$=new M3(X.lineAt(j-500,H0.ByHeight,q,0,0).from,X.lineAt(j+W+500,H0.ByHeight,q,0,0).to)}}return $}mapViewport(J,Z){let Y=Z.mapPos(J.from,-1),X=Z.mapPos(J.to,1);return new M3(this.heightMap.lineAt(Y,H0.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(X,H0.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:J,to:Z},Y=0){if(!this.inView)return!0;let{top:X}=this.heightMap.lineAt(J,H0.ByPos,this.heightOracle,0,0),{bottom:q}=this.heightMap.lineAt(Z,H0.ByPos,this.heightOracle,0,0),{visibleTop:Q,visibleBottom:K}=this;return(J==0||X<=Q-Math.max(10,Math.min(-Y,250)))&&(Z==this.state.doc.length||q>=K+Math.max(10,Math.min(Y,250)))&&(X>Q-2000&&q<K+2000)}mapLineGaps(J,Z){if(!J.length||Z.empty)return J;let Y=[];for(let X of J)if(!Z.touchesRange(X.from,X.to))Y.push(new M9(Z.mapPos(X.from),Z.mapPos(X.to),X.size,X.displaySize));return Y}ensureLineGaps(J,Z){let Y=this.heightOracle.lineWrapping,X=Y?1e4:2000,q=X>>1,Q=X<<1;if(this.defaultTextDirection!=W0.LTR&&!Y)return[];let K=[],$=(W,G,j,z)=>{if(G-W<q)return;let O=this.state.selection.main,H=[O.from];if(!O.empty)H.push(O.to);for(let F of H)if(F>W&&F<G){$(W,F-10,j,z),$(F+10,G,j,z);return}let N=cR(J,(F)=>F.from>=j.from&&F.to<=j.to&&Math.abs(F.from-W)<q&&Math.abs(F.to-G)<q&&!H.some((M)=>F.from<M&&F.to>M));if(!N){if(G<j.to&&Z&&Y&&Z.visibleRanges.some((I)=>I.from<=G&&I.to>=G)){let I=Z.moveToLineBoundary(D.cursor(G),!1,!0).head;if(I>W)G=I}let F=this.gapSize(j,W,G,z),M=Y||F<2000000?F:2000000;N=new M9(W,G,F,M)}K.push(N)},U=(W)=>{if(W.length<Q||W.type!=p0.Text)return;let G=dR(W.from,W.to,this.stateDeco);if(G.total<Q)return;let j=this.scrollTarget?this.scrollTarget.range.head:null,z,O;if(Y){let H=X/this.heightOracle.lineLength*this.heightOracle.lineHeight,N,F;if(j!=null){let M=G9(G,j),I=((this.visibleBottom-this.visibleTop)/2+H)/W.height;N=M-I,F=M+I}else N=(this.visibleTop-W.top-H)/W.height,F=(this.visibleBottom-W.top+H)/W.height;z=W9(G,N),O=W9(G,F)}else{let H=G.total*this.heightOracle.charWidth,N=X*this.heightOracle.charWidth,F=0;if(H>2000000){for(let E of J)if(E.from>=W.from&&E.from<W.to&&E.size!=E.displaySize&&E.from*this.heightOracle.charWidth+F<this.pixelViewport.left)F=E.size-E.displaySize}let M=this.pixelViewport.left+F,I=this.pixelViewport.right+F,L,P;if(j!=null){let E=G9(G,j),m=((I-M)/2+N)/H;L=E-m,P=E+m}else L=(M-N)/H,P=(I+N)/H;z=W9(G,L),O=W9(G,P)}if(z>W.from)$(W.from,z,W,G);if(O<W.to)$(O,W.to,W,G)};for(let W of this.viewportLines)if(Array.isArray(W.type))W.type.forEach(U);else U(W);return K}gapSize(J,Z,Y,X){let q=G9(X,Y)-G9(X,Z);if(this.heightOracle.lineWrapping)return J.height*q;else return X.total*this.heightOracle.charWidth*q}updateLineGaps(J){if(!M9.same(J,this.lineGaps))this.lineGaps=J,this.lineGapDeco=f.set(J.map((Z)=>Z.draw(this,this.heightOracle.lineWrapping)))}computeVisibleRanges(J){let Z=this.stateDeco;if(this.lineGaps.length)Z=Z.concat(this.lineGapDeco);let Y=[];a.spans(Z,this.viewport.from,this.viewport.to,{span(q,Q){Y.push({from:q,to:Q})},point(){}},20);let X=0;if(Y.length!=this.visibleRanges.length)X=12;else for(let q=0;q<Y.length&&!(X&8);q++){let Q=this.visibleRanges[q],K=Y[q];if(Q.from!=K.from||Q.to!=K.to){if(X|=4,!(J&&J.mapPos(Q.from,-1)==K.from&&J.mapPos(Q.to,1)==K.to))X|=8}}return this.visibleRanges=Y,X}lineBlockAt(J){return J>=this.viewport.from&&J<=this.viewport.to&&this.viewportLines.find((Z)=>Z.from<=J&&Z.to>=J)||V3(this.heightMap.lineAt(J,H0.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(J){return J>=this.viewportLines[0].top&&J<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find((Z)=>Z.top<=J&&Z.bottom>=J)||V3(this.heightMap.lineAt(this.scaler.fromDOM(J),H0.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(J){let Z=this.lineBlockAtHeight(J+8);return Z.from>=this.viewport.from||this.viewportLines[0].top-J>200?Z:this.viewportLines[0]}elementAtHeight(J){return V3(this.heightMap.blockAt(this.scaler.fromDOM(J),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class M3{constructor(J,Z){this.from=J,this.to=Z}}function dR(J,Z,Y){let X=[],q=J,Q=0;if(a.spans(Y,J,Z,{span(){},point(K,$){if(K>q)X.push({from:q,to:K}),Q+=K-q;q=$}},20),q<Z)X.push({from:q,to:Z}),Q+=Z-q;return{total:Q,ranges:X}}function W9({total:J,ranges:Z},Y){if(Y<=0)return Z[0].from;if(Y>=1)return Z[Z.length-1].to;let X=Math.floor(J*Y);for(let q=0;;q++){let{from:Q,to:K}=Z[q],$=K-Q;if(X<=$)return Q+X;X-=$}}function G9(J,Z){let Y=0;for(let{from:X,to:q}of J.ranges){if(Z<=q){Y+=Z-X;break}Y+=q-X}return Y/J.total}function cR(J,Z){for(let Y of J)if(Z(Y))return Y;return}var ZK={toDOM(J){return J},fromDOM(J){return J},scale:1,eq(J){return J==this}};function YK(J){let Z=J.facet(w9).filter((X)=>typeof X!="function"),Y=J.facet(DZ).filter((X)=>typeof X!="function");if(Y.length)Z.push(a.join(Y));return Z}class CZ{constructor(J,Z,Y){let X=0,q=0,Q=0;this.viewports=Y.map(({from:K,to:$})=>{let U=Z.lineAt(K,H0.ByPos,J,0,0).top,W=Z.lineAt($,H0.ByPos,J,0,0).bottom;return X+=W-U,{from:K,to:$,top:U,bottom:W,domTop:0,domBottom:0}}),this.scale=(7000000-X)/(Z.height-X);for(let K of this.viewports)K.domTop=Q+(K.top-q)*this.scale,Q=K.domBottom=K.domTop+(K.bottom-K.top),q=K.bottom}toDOM(J){for(let Z=0,Y=0,X=0;;Z++){let q=Z<this.viewports.length?this.viewports[Z]:null;if(!q||J<q.top)return X+(J-Y)*this.scale;if(J<=q.bottom)return q.domTop+(J-q.top);Y=q.bottom,X=q.domBottom}}fromDOM(J){for(let Z=0,Y=0,X=0;;Z++){let q=Z<this.viewports.length?this.viewports[Z]:null;if(!q||J<q.domTop)return Y+(J-X)/this.scale;if(J<=q.domBottom)return q.top+(J-q.domTop);Y=q.bottom,X=q.domBottom}}eq(J){if(!(J instanceof CZ))return!1;return this.scale==J.scale&&this.viewports.length==J.viewports.length&&this.viewports.every((Z,Y)=>Z.from==J.viewports[Y].from&&Z.to==J.viewports[Y].to)}}function V3(J,Z){if(Z.scale==1)return J;let Y=Z.toDOM(J.top),X=Z.toDOM(J.bottom);return new s1(J.from,J.length,Y,X-Y,Array.isArray(J._content)?J._content.map((q)=>V3(q,Z)):J._content)}var j9=b.define({combine:(J)=>J.join(" ")}),UZ=b.define({combine:(J)=>J.indexOf(!0)>-1}),WZ=n1.newName(),D$=n1.newName(),L$=n1.newName(),B$={"&light":"."+D$,"&dark":"."+L$};function GZ(J,Z,Y){return new n1(Z,{finish(X){return/&/.test(X)?X.replace(/&\w*/,(q)=>{if(q=="&")return J;if(!Y||!Y[q])throw RangeError(`Unsupported selector: ${q}`);return Y[q]}):J+" "+X}})}var nR=GZ("."+WZ,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},B$),iR={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},l2=h.ie&&h.ie_version<=11;class P${constructor(J){if(this.view=J,this.active=!1,this.editContext=null,this.selectionRange=new IK,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=J.contentDOM,this.observer=new MutationObserver((Z)=>{for(let Y of Z)this.queue.push(Y);if((h.ie&&h.ie_version<=11||h.ios&&J.composing)&&Z.some((Y)=>Y.type=="childList"&&Y.removedNodes.length||Y.type=="characterData"&&Y.oldValue.length>Y.target.nodeValue.length))this.flushSoon();else this.flush()}),window.EditContext&&h.android&&J.constructor.EDIT_CONTEXT!==!1&&!(h.chrome&&h.chrome_version<126)){if(this.editContext=new E$(J),J.state.facet(y5))J.contentDOM.editContext=this.editContext.editContext}if(l2)this.onCharData=(Z)=>{this.queue.push({target:Z.target,type:"characterData",oldValue:Z.prevValue}),this.flushSoon()};if(this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia)this.printQuery=window.matchMedia("print");if(typeof ResizeObserver=="function")this.resizeScroll=new ResizeObserver(()=>{var Z;if(((Z=this.view.docView)===null||Z===void 0?void 0:Z.lastUpdate)<Date.now()-75)this.onResize()}),this.resizeScroll.observe(J.scrollDOM);if(this.addWindowListeners(this.win=J.win),this.start(),typeof IntersectionObserver=="function")this.intersection=new IntersectionObserver((Z)=>{if(this.parentCheck<0)this.parentCheck=setTimeout(this.listenForScroll.bind(this),1000);if(Z.length>0&&Z[Z.length-1].intersectionRatio>0!=this.intersecting){if(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView)this.onScrollChanged(document.createEvent("Event"))}},{threshold:[0,0.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver((Z)=>{if(Z.length>0&&Z[Z.length-1].intersectionRatio>0)this.onScrollChanged(document.createEvent("Event"))},{});this.listenForScroll(),this.readSelectionRange()}onScrollChanged(J){if(this.view.inputState.runHandlers("scroll",J),this.intersecting)this.view.measure()}onScroll(J){if(this.intersecting)this.flush(!1);if(this.editContext)this.view.requestMeasure(this.editContext.measureReq);this.onScrollChanged(J)}onResize(){if(this.resizeTimeout<0)this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50)}onPrint(J){if((J.type=="change"||!J.type)&&!J.matches)return;this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(J){if(this.gapIntersection&&(J.length!=this.gaps.length||this.gaps.some((Z,Y)=>Z!=J[Y]))){this.gapIntersection.disconnect();for(let Z of J)this.gapIntersection.observe(Z);this.gaps=J}}onSelectionChange(J){let Z=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:Y}=this,X=this.selectionRange;if(Y.state.facet(y5)?Y.root.activeElement!=this.dom:!H9(this.dom,X))return;let q=X.anchorNode&&Y.docView.tile.nearest(X.anchorNode);if(q&&q.isWidget()&&q.widget.ignoreEvent(J)){if(!Z)this.selectionChanged=!1;return}if((h.ie&&h.ie_version<=11||h.android&&h.chrome)&&!Y.state.selection.main.empty&&X.focusNode&&L3(X.focusNode,X.focusOffset,X.anchorNode,X.anchorOffset))this.flushSoon();else this.flush(!1)}readSelectionRange(){let{view:J}=this,Z=C3(J.root);if(!Z)return!1;let Y=h.safari&&J.root.nodeType==11&&J.root.activeElement==this.dom&&sR(this.view,Z)||Z;if(!Y||this.selectionRange.eq(Y))return!1;let X=H9(this.dom,Y);if(X&&!this.selectionChanged&&J.inputState.lastFocusTime>Date.now()-200&&J.inputState.lastTouchTime<Date.now()-300&&pN(this.dom,Y))return this.view.inputState.lastFocusTime=0,J.docView.updateSelection(),!1;if(this.selectionRange.setRange(Y),X)this.selectionChanged=!0;return!0}setSelectionRange(J,Z){this.selectionRange.set(J.node,J.offset,Z.node,Z.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let J=0,Z=null;for(let Y=this.dom;Y;)if(Y.nodeType==1){if(!Z&&J<this.scrollTargets.length&&this.scrollTargets[J]==Y)J++;else if(!Z)Z=this.scrollTargets.slice(0,J);if(Z)Z.push(Y);Y=Y.assignedSlot||Y.parentNode}else if(Y.nodeType==11)Y=Y.host;else break;if(J<this.scrollTargets.length&&!Z)Z=this.scrollTargets.slice(0,J);if(Z){for(let Y of this.scrollTargets)Y.removeEventListener("scroll",this.onScroll);for(let Y of this.scrollTargets=Z)Y.addEventListener("scroll",this.onScroll)}}ignore(J){if(!this.active)return J();try{return this.stop(),J()}finally{this.start(),this.clear()}}start(){if(this.active)return;if(this.observer.observe(this.dom,iR),l2)this.dom.addEventListener("DOMCharacterDataModified",this.onCharData);this.active=!0}stop(){if(!this.active)return;if(this.active=!1,this.observer.disconnect(),l2)this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData)}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(J,Z){var Y;if(!this.delayedAndroidKey){let X=()=>{let q=this.delayedAndroidKey;if(q){if(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=q.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&q.force)R4(this.dom,q.key,q.keyCode)}};this.flushingAndroidKey=this.view.win.requestAnimationFrame(X)}if(!this.delayedAndroidKey||J=="Enter")this.delayedAndroidKey={key:J,keyCode:Z,force:this.lastChange<Date.now()-50||!!((Y=this.delayedAndroidKey)===null||Y===void 0?void 0:Y.force)}}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){if(this.delayedFlush<0)this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()})}forceFlush(){if(this.delayedFlush>=0)this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1;this.flush()}pendingRecords(){for(let J of this.observer.takeRecords())this.queue.push(J);return this.queue}processRecords(){let J=this.pendingRecords();if(J.length)this.queue=[];let Z=-1,Y=-1,X=!1;for(let q of J){let Q=this.readMutation(q);if(!Q)continue;if(Q.typeOver)X=!0;if(Z==-1)({from:Z,to:Y}=Q);else Z=Math.min(Q.from,Z),Y=Math.max(Q.to,Y)}return{from:Z,to:Y,typeOver:X}}readChange(){let{from:J,to:Z,typeOver:Y}=this.processRecords(),X=this.selectionChanged&&H9(this.dom,this.selectionRange);if(J<0&&!X)return null;if(J>-1)this.lastChange=Date.now();this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let q=new q$(this.view,J,Z,Y);return this.view.docView.domChanged={newSel:q.newSel?q.newSel.main:null},q}flush(J=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;if(J)this.readSelectionRange();let Z=this.readChange();if(!Z)return this.view.requestMeasure(),!1;let Y=this.view.state,X=K$(this.view,Z);if(this.view.state==Y&&(Z.domChanged||Z.newSel&&!Z.newSel.main.eq(this.view.state.selection.main)))this.view.update([]);return X}readMutation(J){let Z=this.view.docView.tile.nearest(J.target);if(!Z||Z.isWidget())return null;if(Z.markDirty(J.type=="attributes"),J.type=="childList"){let Y=XK(Z,J.previousSibling||J.target.previousSibling,-1),X=XK(Z,J.nextSibling||J.target.nextSibling,1);return{from:Y?Z.posAfter(Y):Z.posAtStart,to:X?Z.posBefore(X):Z.posAtEnd,typeOver:!1}}else if(J.type=="characterData")return{from:Z.posAtStart,to:Z.posAtEnd,typeOver:J.target.nodeValue==J.oldValue};else return null}setWindow(J){if(J!=this.win)this.removeWindowListeners(this.win),this.win=J,this.addWindowListeners(this.win)}addWindowListeners(J){if(J.addEventListener("resize",this.onResize),this.printQuery)if(this.printQuery.addEventListener)this.printQuery.addEventListener("change",this.onPrint);else this.printQuery.addListener(this.onPrint);else J.addEventListener("beforeprint",this.onPrint);J.addEventListener("scroll",this.onScroll),J.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(J){if(J.removeEventListener("scroll",this.onScroll),J.removeEventListener("resize",this.onResize),this.printQuery)if(this.printQuery.removeEventListener)this.printQuery.removeEventListener("change",this.onPrint);else this.printQuery.removeListener(this.onPrint);else J.removeEventListener("beforeprint",this.onPrint);J.document.removeEventListener("selectionchange",this.onSelectionChange)}update(J){if(this.editContext){if(this.editContext.update(J),J.startState.facet(y5)!=J.state.facet(y5))J.view.contentDOM.editContext=J.state.facet(y5)?this.editContext.editContext:null}}destroy(){var J,Z,Y;this.stop(),(J=this.intersection)===null||J===void 0||J.disconnect(),(Z=this.gapIntersection)===null||Z===void 0||Z.disconnect(),(Y=this.resizeScroll)===null||Y===void 0||Y.disconnect();for(let X of this.scrollTargets)X.removeEventListener("scroll",this.onScroll);if(this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext)this.view.contentDOM.editContext=null,this.editContext.destroy()}}function XK(J,Z,Y){while(Z){let X=b0.get(Z);if(X&&X.parent==J)return X;let q=Z.parentNode;Z=q!=J.dom?q:Y>0?Z.nextSibling:Z.previousSibling}return null}function qK(J,Z){let{startContainer:Y,startOffset:X,endContainer:q,endOffset:Q}=Z,K=J.docView.domAtPos(J.state.selection.main.anchor,1);if(L3(K.node,K.offset,q,Q))[Y,X,q,Q]=[q,Q,Y,X];return{anchorNode:Y,anchorOffset:X,focusNode:q,focusOffset:Q}}function sR(J,Z){if(Z.getComposedRanges){let q=Z.getComposedRanges(J.root)[0];if(q)return qK(J,q)}let Y=null;function X(q){q.preventDefault(),q.stopImmediatePropagation(),Y=q.getTargetRanges()[0]}return J.contentDOM.addEventListener("beforeinput",X,!0),J.dom.ownerDocument.execCommand("indent"),J.contentDOM.removeEventListener("beforeinput",X,!0),Y?qK(J,Y):null}class E${constructor(J){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(J.state);let Z=this.editContext=new window.EditContext({text:J.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,J.state.selection.main.anchor))),selectionEnd:this.toContextPos(J.state.selection.main.head)});this.handlers.textupdate=(Y)=>{let X=J.state.selection.main,{anchor:q,head:Q}=X,K=this.toEditorPos(Y.updateRangeStart),$=this.toEditorPos(Y.updateRangeEnd);if(J.inputState.composing>=0&&!this.composing)this.composing={contextBase:Y.updateRangeStart,editorBase:K,drifted:!1};let U=$-K>Y.text.length;if(K==this.from&&q<this.from)K=q;else if($==this.to&&q>this.to)$=q;let W=$$(J.state.sliceDoc(K,$),Y.text,(U?X.from:X.to)-K,U?"end":null);if(!W){let j=D.single(this.toEditorPos(Y.selectionStart),this.toEditorPos(Y.selectionEnd));if(!j.main.eq(X))J.dispatch({selection:j,userEvent:"select"});return}let G={from:W.from+K,to:W.toA+K,insert:e.of(Y.text.slice(W.from,W.toB).split(`
`))};if((h.mac||h.android)&&G.from==Q-1&&/^\. ?$/.test(Y.text)&&J.contentDOM.getAttribute("autocorrect")=="off")G={from:K,to:$,insert:e.of([Y.text.replace("."," ")])};if(this.pendingContextChange=G,!J.state.readOnly){let j=this.to-this.from+(G.to-G.from+G.insert.length);BZ(J,G,D.single(this.toEditorPos(Y.selectionStart,j),this.toEditorPos(Y.selectionEnd,j)))}if(this.pendingContextChange)this.revertPending(J.state),this.setSelection(J.state);if(G.from<G.to&&!G.insert.length&&J.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(Z.text.slice(Math.max(0,Y.updateRangeStart-1),Math.min(Z.text.length,Y.updateRangeStart+1))))this.handlers.compositionend(Y)},this.handlers.characterboundsupdate=(Y)=>{let X=[],q=null;for(let Q=this.toEditorPos(Y.rangeStart),K=this.toEditorPos(Y.rangeEnd);Q<K;Q++){let $=J.coordsForChar(Q);q=$&&new DOMRect($.left,$.top,$.right-$.left,$.bottom-$.top)||q||new DOMRect,X.push(q)}Z.updateCharacterBounds(Y.rangeStart,X)},this.handlers.textformatupdate=(Y)=>{let X=[];for(let q of Y.getTextFormats()){let{underlineStyle:Q,underlineThickness:K}=q;if(!/none/i.test(Q)&&!/none/i.test(K)){let $=this.toEditorPos(q.rangeStart),U=this.toEditorPos(q.rangeEnd);if($<U){let W=`text-decoration: underline ${/^[a-z]/.test(Q)?Q+" ":Q=="Dashed"?"dashed ":Q=="Squiggle"?"wavy ":""}${/thin/i.test(K)?1:2}px`;X.push(f.mark({attributes:{style:W}}).range($,U))}}}J.dispatch({effects:fK.of(f.set(X))})},this.handlers.compositionstart=()=>{if(J.inputState.composing<0)J.inputState.composing=0,J.inputState.compositionFirstChange=!0},this.handlers.compositionend=()=>{if(J.inputState.composing=-1,J.inputState.compositionFirstChange=null,this.composing){let{drifted:Y}=this.composing;if(this.composing=null,Y)this.reset(J.state)}};for(let Y in this.handlers)Z.addEventListener(Y,this.handlers[Y]);this.measureReq={read:(Y)=>{this.editContext.updateControlBounds(Y.contentDOM.getBoundingClientRect());let X=C3(Y.root);if(X&&X.rangeCount)this.editContext.updateSelectionBounds(X.getRangeAt(0).getBoundingClientRect())}}}applyEdits(J){let Z=0,Y=!1,X=this.pendingContextChange;if(J.changes.iterChanges((q,Q,K,$,U)=>{if(Y)return;let W=U.length-(Q-q);if(X&&Q>=X.to)if(X.from==q&&X.to==Q&&X.insert.eq(U)){X=this.pendingContextChange=null,Z+=W,this.to+=W;return}else X=null,this.revertPending(J.state);if(q+=Z,Q+=Z,Q<=this.from)this.from+=W,this.to+=W;else if(q<this.to){if(q<this.from||Q>this.to||this.to-this.from+U.length>30000){Y=!0;return}this.editContext.updateText(this.toContextPos(q),this.toContextPos(Q),U.toString()),this.to+=W}Z+=W}),X&&!Y)this.revertPending(J.state);return!Y}update(J){let Z=this.pendingContextChange,Y=J.startState.selection.main;if(this.composing&&(this.composing.drifted||!J.changes.touchesRange(Y.from,Y.to)&&J.transactions.some((X)=>!X.isUserEvent("input.type")&&X.changes.touchesRange(this.from,this.to))))this.composing.drifted=!0,this.composing.editorBase=J.changes.mapPos(this.composing.editorBase);else if(!this.applyEdits(J)||!this.rangeIsValid(J.state))this.pendingContextChange=null,this.reset(J.state);else if(J.docChanged||J.selectionSet||Z)this.setSelection(J.state);if(J.geometryChanged||J.docChanged||J.selectionSet)J.view.requestMeasure(this.measureReq)}resetRange(J){let{head:Z}=J.selection.main;this.from=Math.max(0,Z-1e4),this.to=Math.min(J.doc.length,Z+1e4)}reset(J){this.resetRange(J),this.editContext.updateText(0,this.editContext.text.length,J.doc.sliceString(this.from,this.to)),this.setSelection(J)}revertPending(J){let Z=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(Z.from),this.toContextPos(Z.from+Z.insert.length),J.doc.sliceString(Z.from,Z.to))}setSelection(J){let{main:Z}=J.selection,Y=this.toContextPos(Math.max(this.from,Math.min(this.to,Z.anchor))),X=this.toContextPos(Z.head);if(this.editContext.selectionStart!=Y||this.editContext.selectionEnd!=X)this.editContext.updateSelection(Y,X)}rangeIsValid(J){let{head:Z}=J.selection.main;return!(this.from>0&&Z-this.from<500||this.to<J.doc.length&&this.to-Z<500||this.to-this.from>30000)}toEditorPos(J,Z=this.to-this.from){J=Math.min(J,Z);let Y=this.composing;return Y&&Y.drifted?Y.editorBase+(J-Y.contextBase):J+this.from}toContextPos(J){let Z=this.composing;return Z&&Z.drifted?Z.contextBase+(J-Z.editorBase):J-this.from}destroy(){for(let J in this.handlers)this.editContext.removeEventListener(J,this.handlers[J])}}class C{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(J={}){var Z;if(this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),J.parent)J.parent.appendChild(this.dom);let{dispatch:Y}=J;if(this.dispatchTransactions=J.dispatchTransactions||Y&&((X)=>X.forEach((q)=>Y(q,this)))||((X)=>this.update(X)),this.dispatch=this.dispatch.bind(this),this._root=J.root||lN(J.parent)||document,this.viewState=new $Z(J.state||o.create(J)),J.scrollTo&&J.scrollTo.is(K9))this.viewState.scrollTarget=J.scrollTo.value.clip(this.viewState.state);this.plugins=this.state.facet(_4).map((X)=>new R9(X));for(let X of this.plugins)X.update(this);if(this.observer=new P$(this),this.inputState=new U$(this),this.inputState.ensureHandlers(this.plugins),this.docView=new ZZ(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),(Z=document.fonts)===null||Z===void 0?void 0:Z.ready)document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...J){let Z=J.length==1&&J[0]instanceof D0?J:J.length==1&&Array.isArray(J[0])?J[0]:[this.state.update(...J)];this.dispatchTransactions(Z,this)}update(J){if(this.updateState!=0)throw Error("Calls to EditorView.update are not allowed while an update is in progress");let Z=!1,Y=!1,X,q=this.state;for(let j of J){if(j.startState!=q)throw RangeError("Trying to update state with a transaction that doesn't start from the previous state.");q=j.state}if(this.destroyed){this.viewState.state=q;return}let Q=this.hasFocus,K=0,$=null;if(J.some((j)=>j.annotation(H$)))this.inputState.notifiedFocused=Q,K=1;else if(Q!=this.inputState.notifiedFocused){if(this.inputState.notifiedFocused=Q,$=N$(q,Q),!$)K=1}let U=this.observer.delayedAndroidKey,W=null;if(U){if(this.observer.clearDelayedAndroidKey(),W=this.observer.readChange(),W&&!this.state.doc.eq(q.doc)||!this.state.selection.eq(q.selection))W=null}else this.observer.clear();if(q.facet(o.phrases)!=this.state.facet(o.phrases))return this.setState(q);X=C9.create(this,q,J),X.flags|=K;let G=this.viewState.scrollTarget;try{this.updateState=2;for(let j of J){if(G)G=G.map(j.changes);if(j.scrollIntoView){let{main:z}=j.state.selection;G=new A4(z.empty?z:D.cursor(z.head,z.head>z.anchor?-1:1))}for(let z of j.effects)if(z.is(K9))G=z.value.clip(this.state)}if(this.viewState.update(X,G),this.bidiCache=b9.update(this.bidiCache,X.changes),!X.empty)this.updatePlugins(X),this.inputState.update(X);if(Z=this.docView.update(X),this.state.facet(A3)!=this.styleModules)this.mountStyles();Y=this.updateAttrs(),this.showAnnouncements(J),this.docView.updateSelection(Z,J.some((j)=>j.isUserEvent("select.pointer")))}finally{this.updateState=0}if(X.startState.facet(j9)!=X.state.facet(j9))this.viewState.mustMeasureContent=!0;if(Z||Y||G||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)this.requestMeasure();if(Z)this.docViewUpdate();if(!X.empty)for(let j of this.state.facet(JZ))try{j(X)}catch(z){l0(this.state,z,"update listener")}if($||W)Promise.resolve().then(()=>{if($&&this.state==$.startState)this.dispatch($);if(W){if(!K$(this,W)&&U.force)R4(this.contentDOM,U.key,U.keyCode)}})}setState(J){if(this.updateState!=0)throw Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=J;return}this.updateState=2;let Z=this.hasFocus;try{for(let Y of this.plugins)Y.destroy(this);this.viewState=new $Z(J),this.plugins=J.facet(_4).map((Y)=>new R9(Y)),this.pluginMap.clear();for(let Y of this.plugins)Y.update(this);this.docView.destroy(),this.docView=new ZZ(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}if(Z)this.focus();this.requestMeasure()}updatePlugins(J){let Z=J.startState.facet(_4),Y=J.state.facet(_4);if(Z!=Y){let X=[];for(let q of Y){let Q=Z.indexOf(q);if(Q<0)X.push(new R9(q));else{let K=this.plugins[Q];K.mustUpdate=J,X.push(K)}}for(let q of this.plugins)if(q.mustUpdate!=J)q.destroy(this);this.plugins=X,this.pluginMap.clear()}else for(let X of this.plugins)X.mustUpdate=J;for(let X=0;X<this.plugins.length;X++)this.plugins[X].update(this);if(Z!=Y)this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let J of this.plugins){let Z=J.value;if(Z&&Z.docViewUpdate)try{Z.docViewUpdate(this)}catch(Y){l0(this.state,Y,"doc view update listener")}}}measure(J=!0){if(this.destroyed)return;if(this.measureScheduled>-1)this.win.cancelAnimationFrame(this.measureScheduled);if(this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}if(this.measureScheduled=0,J)this.observer.forceFlush();let Z=null,Y=this.scrollDOM,X=Y.scrollTop*this.scaleY,{scrollAnchorPos:q,scrollAnchorHeight:Q}=this.viewState;if(Math.abs(X-this.viewState.scrollTop)>1)Q=-1;this.viewState.scrollAnchorHeight=-1;try{for(let K=0;;K++){if(Q<0)if(LK(Y))q=-1,Q=this.viewState.heightMap.height;else{let z=this.viewState.scrollAnchorAt(X);q=z.from,Q=z.top}this.updateState=1;let $=this.viewState.measure(this);if(!$&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(K>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let U=[];if(!($&4))[this.measureRequests,U]=[U,this.measureRequests];let W=U.map((z)=>{try{return z.read(this)}catch(O){return l0(this.state,O),QK}}),G=C9.create(this,this.state,[]),j=!1;if(G.flags|=$,!Z)Z=G;else Z.flags|=$;if(this.updateState=2,!G.empty){if(this.updatePlugins(G),this.inputState.update(G),this.updateAttrs(),j=this.docView.update(G),j)this.docViewUpdate()}for(let z=0;z<U.length;z++)if(W[z]!=QK)try{let O=U[z];if(O.write)O.write(W[z],this)}catch(O){l0(this.state,O)}if(j)this.docView.updateSelection(!0);if(!G.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,Q=-1;continue}else{let O=(q<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(q).top)-Q;if(O>1||O<-1){X=X+O,Y.scrollTop=X/this.scaleY,Q=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(Z&&!Z.empty)for(let K of this.state.facet(JZ))K(Z)}get themeClasses(){return WZ+" "+(this.state.facet(UZ)?L$:D$)+" "+this.state.facet(j9)}updateAttrs(){let J=KK(this,lK,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),Z={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:!this.state.facet(y5)?"false":"true",class:"cm-content",style:`${h.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};if(this.state.readOnly)Z["aria-readonly"]="true";KK(this,IZ,Z);let Y=this.observer.ignore(()=>{let X=vQ(this.contentDOM,this.contentAttrs,Z),q=vQ(this.dom,this.editorAttrs,J);return X||q});return this.editorAttrs=J,this.contentAttrs=Z,Y}showAnnouncements(J){let Z=!0;for(let Y of J)for(let X of Y.effects)if(X.is(C.announce)){if(Z)this.announceDOM.textContent="";Z=!1;let q=this.announceDOM.appendChild(document.createElement("div"));q.textContent=X.value}}mountStyles(){this.styleModules=this.state.facet(A3);let J=this.state.facet(C.cspNonce);n1.mount(this.root,this.styleModules.concat(nR).reverse(),J?{nonce:J}:void 0)}readMeasured(){if(this.updateState==2)throw Error("Reading the editor layout isn't allowed during an update");if(this.updateState==0&&this.measureScheduled>-1)this.measure(!1)}requestMeasure(J){if(this.measureScheduled<0)this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure());if(J){if(this.measureRequests.indexOf(J)>-1)return;if(J.key!=null){for(let Z=0;Z<this.measureRequests.length;Z++)if(this.measureRequests[Z].key===J.key){this.measureRequests[Z]=J;return}}this.measureRequests.push(J)}}plugin(J){let Z=this.pluginMap.get(J);if(Z===void 0||Z&&Z.plugin!=J)this.pluginMap.set(J,Z=this.plugins.find((Y)=>Y.plugin==J)||null);return Z&&Z.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(J){return this.readMeasured(),this.viewState.elementAtHeight(J)}lineBlockAtHeight(J){return this.readMeasured(),this.viewState.lineBlockAtHeight(J)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(J){return this.viewState.lineBlockAt(J)}get contentHeight(){return this.viewState.contentHeight}moveByChar(J,Z,Y){return f2(this,J,pQ(this,J,Z,Y))}moveByGroup(J,Z){return f2(this,J,pQ(this,J,Z,(Y)=>RR(this,J.head,Y)))}visualLineSide(J,Z){let Y=this.bidiSpans(J),X=this.textDirectionAt(J.from),q=Y[Z?Y.length-1:0];return D.cursor(q.side(Z,X)+J.from,q.forward(!Z,X)?1:-1)}moveToLineBoundary(J,Z,Y=!0){return NR(this,J,Z,Y)}moveVertically(J,Z,Y){return f2(this,J,AR(this,J,Z,Y))}domAtPos(J,Z=1){return this.docView.domAtPos(J,Z)}posAtDOM(J,Z=0){return this.docView.posFromDOM(J,Z)}posAtCoords(J,Z=!0){this.readMeasured();let Y=qZ(this,J,Z);return Y&&Y.pos}posAndSideAtCoords(J,Z=!0){return this.readMeasured(),qZ(this,J,Z)}coordsAtPos(J,Z=1){this.readMeasured();let Y=this.docView.coordsAt(J,Z);if(!Y||Y.left==Y.right)return Y;let X=this.state.doc.lineAt(J),q=this.bidiSpans(X),Q=q[j5.find(q,J-X.from,-1,Z)];return E9(Y,Q.dir==W0.LTR==Z>0)}coordsForChar(J){return this.readMeasured(),this.docView.coordsForChar(J)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(J){if(!this.state.facet(mK)||J<this.viewport.from||J>this.viewport.to)return this.textDirection;return this.readMeasured(),this.docView.textDirectionAt(J)}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(J){if(J.length>aR)return yK(J.length);let Z=this.textDirectionAt(J.from),Y;for(let q of this.bidiCache)if(q.from==J.from&&q.dir==Z&&(q.fresh||TK(q.isolates,Y=gQ(this,J))))return q.order;if(!Y)Y=gQ(this,J);let X=rN(J.text,Z,Y);return this.bidiCache.push(new b9(J.from,J.to,Z,Y,!0,X)),X}get hasFocus(){var J;return(this.dom.ownerDocument.hasFocus()||h.safari&&((J=this.inputState)===null||J===void 0?void 0:J.lastContextMenu)>Date.now()-30000)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{DK(this.contentDOM),this.docView.updateSelection()})}setRoot(J){if(this._root!=J)this._root=J,this.observer.setWindow((J.nodeType==9?J:J.ownerDocument).defaultView||window),this.mountStyles()}destroy(){if(this.root.activeElement==this.contentDOM)this.contentDOM.blur();for(let J of this.plugins)J.destroy(this);if(this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1)this.win.cancelAnimationFrame(this.measureScheduled);this.destroyed=!0}static scrollIntoView(J,Z={}){return K9.of(new A4(typeof J=="number"?D.cursor(J):J,Z.y,Z.x,Z.yMargin,Z.xMargin))}scrollSnapshot(){let{scrollTop:J,scrollLeft:Z}=this.scrollDOM,Y=this.viewState.scrollAnchorAt(J);return K9.of(new A4(D.cursor(Y.from),"start","start",Y.top-J,Z,!0))}setTabFocusMode(J){if(J==null)this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1;else if(typeof J=="boolean")this.inputState.tabFocusMode=J?0:-1;else if(this.inputState.tabFocusMode!=0)this.inputState.tabFocusMode=Date.now()+J}static domEventHandlers(J){return N0.define(()=>({}),{eventHandlers:J})}static domEventObservers(J){return N0.define(()=>({}),{eventObservers:J})}static theme(J,Z){let Y=n1.newName(),X=[j9.of(Y),A3.of(GZ(`.${Y}`,J))];if(Z&&Z.dark)X.push(UZ.of(!0));return X}static baseTheme(J){return L1.lowest(A3.of(GZ("."+WZ,J,B$)))}static findFromDOM(J){var Z;let Y=J.querySelector(".cm-content"),X=Y&&b0.get(Y)||b0.get(J);return((Z=X===null||X===void 0?void 0:X.root)===null||Z===void 0?void 0:Z.view)||null}}C.styleModule=A3;C.inputHandler=hK;C.clipboardInputFilter=MZ;C.clipboardOutputFilter=VZ;C.scrollHandler=gK;C.focusChangeEffect=vK;C.perLineTextDirection=mK;C.exceptionSink=xK;C.updateListener=JZ;C.editable=y5;C.mouseSelectionStyle=wK;C.dragMovesSelection=kK;C.clickAddsSelectionRange=SK;C.decorations=w9;C.blockWrappers=pK;C.outerDecorations=DZ;C.atomicRanges=w3;C.bidiIsolatedRanges=dK;C.scrollMargins=cK;C.darkTheme=UZ;C.cspNonce=b.define({combine:(J)=>J.length?J[0]:""});C.contentAttributes=IZ;C.editorAttributes=lK;C.lineWrapping=C.contentAttributes.of({class:"cm-lineWrapping"});C.announce=p.define();var aR=4096,QK={};class b9{constructor(J,Z,Y,X,q,Q){this.from=J,this.to=Z,this.dir=Y,this.isolates=X,this.fresh=q,this.order=Q}static update(J,Z){if(Z.empty&&!J.some((q)=>q.fresh))return J;let Y=[],X=J.length?J[J.length-1].dir:W0.LTR;for(let q=Math.max(0,J.length-10);q<J.length;q++){let Q=J[q];if(Q.dir==X&&!Z.touchesRange(Q.from,Q.to))Y.push(new b9(Z.mapPos(Q.from,1),Z.mapPos(Q.to,-1),Q.dir,Q.isolates,!1,Q.order))}return Y}}function KK(J,Z,Y){for(let X=J.state.facet(Z),q=X.length-1;q>=0;q--){let Q=X[q],K=typeof Q=="function"?Q(J):Q;if(K)RZ(K,Y)}return Y}var rR=h.mac?"mac":h.windows?"win":h.linux?"linux":"key";function oR(J,Z){let Y=J.split(/-(?!$)/),X=Y[Y.length-1];if(X=="Space")X=" ";let q,Q,K,$;for(let U=0;U<Y.length-1;++U){let W=Y[U];if(/^(cmd|meta|m)$/i.test(W))$=!0;else if(/^a(lt)?$/i.test(W))q=!0;else if(/^(c|ctrl|control)$/i.test(W))Q=!0;else if(/^s(hift)?$/i.test(W))K=!0;else if(/^mod$/i.test(W))if(Z=="mac")$=!0;else Q=!0;else throw Error("Unrecognized modifier name: "+W)}if(q)X="Alt-"+X;if(Q)X="Ctrl-"+X;if($)X="Meta-"+X;if(K)X="Shift-"+X;return X}function z9(J,Z,Y){if(Z.altKey)J="Alt-"+J;if(Z.ctrlKey)J="Ctrl-"+J;if(Z.metaKey)J="Meta-"+J;if(Y!==!1&&Z.shiftKey)J="Shift-"+J;return J}var tR=L1.default(C.domEventHandlers({keydown(J,Z){return y$(C$(Z.state),J,Z,"editor")}})),V4=b.define({enables:tR}),$K=new WeakMap;function C$(J){let Z=J.facet(V4),Y=$K.get(Z);if(!Y)$K.set(Z,Y=JA(Z.reduce((X,q)=>X.concat(q),[])));return Y}function T$(J,Z,Y){return y$(C$(J.state),Z,J,Y)}var c5=null,eR=4000;function JA(J,Z=rR){let Y=Object.create(null),X=Object.create(null),q=(K,$)=>{let U=X[K];if(U==null)X[K]=$;else if(U!=$)throw Error("Key binding "+K+" is used both as a regular binding and as a multi-stroke prefix")},Q=(K,$,U,W,G)=>{var j,z;let O=Y[K]||(Y[K]=Object.create(null)),H=$.split(/ (?!$)/).map((M)=>oR(M,Z));for(let M=1;M<H.length;M++){let I=H.slice(0,M).join(" ");if(q(I,!0),!O[I])O[I]={preventDefault:!0,stopPropagation:!1,run:[(L)=>{let P=c5={view:L,prefix:I,scope:K};return setTimeout(()=>{if(c5==P)c5=null},eR),!0}]}}let N=H.join(" ");q(N,!1);let F=O[N]||(O[N]={preventDefault:!1,stopPropagation:!1,run:((z=(j=O._any)===null||j===void 0?void 0:j.run)===null||z===void 0?void 0:z.slice())||[]});if(U)F.run.push(U);if(W)F.preventDefault=!0;if(G)F.stopPropagation=!0};for(let K of J){let $=K.scope?K.scope.split(" "):["editor"];if(K.any)for(let W of $){let G=Y[W]||(Y[W]=Object.create(null));if(!G._any)G._any={preventDefault:!1,stopPropagation:!1,run:[]};let{any:j}=K;for(let z in G)G[z].run.push((O)=>j(O,jZ))}let U=K[Z]||K.key;if(!U)continue;for(let W of $)if(Q(W,U,K.run,K.preventDefault,K.stopPropagation),K.shift)Q(W,"Shift-"+U,K.shift,K.preventDefault,K.stopPropagation)}return Y}var jZ=null;function y$(J,Z,Y,X){jZ=Z;let q=SQ(Z),Q=g0(q,0),K=H1(Q)==q.length&&q!=" ",$="",U=!1,W=!1,G=!1;if(c5&&c5.view==Y&&c5.scope==X){if($=c5.prefix+" ",G$.indexOf(Z.keyCode)<0)W=!0,c5=null}let j=new Set,z=(F)=>{if(F){for(let M of F.run)if(!j.has(M)){if(j.add(M),M(Y)){if(F.stopPropagation)G=!0;return!0}}if(F.preventDefault){if(F.stopPropagation)G=!0;W=!0}}return!1},O=J[X],H,N;if(O){if(z(O[$+z9(q,Z,!K)]))U=!0;else if(K&&(Z.altKey||Z.metaKey||Z.ctrlKey)&&!(h.windows&&Z.ctrlKey&&Z.altKey)&&!(h.mac&&Z.altKey&&!(Z.ctrlKey||Z.metaKey))&&(H=T5[Z.keyCode])&&H!=q){if(z(O[$+z9(H,Z,!0)]))U=!0;else if(Z.shiftKey&&(N=O4[Z.keyCode])!=q&&N!=H&&z(O[$+z9(N,Z,!1)]))U=!0}else if(K&&Z.shiftKey&&z(O[$+z9(q,Z,!0)]))U=!0;if(!U&&z(O._any))U=!0}if(W)U=!0;if(U&&G)Z.stopPropagation();return jZ=null,U}class v3{constructor(J,Z,Y,X,q){this.className=J,this.left=Z,this.top=Y,this.width=X,this.height=q}draw(){let J=document.createElement("div");return J.className=this.className,this.adjust(J),J}update(J,Z){if(Z.className!=this.className)return!1;return this.adjust(J),!0}adjust(J){if(J.style.left=this.left+"px",J.style.top=this.top+"px",this.width!=null)J.style.width=this.width+"px";J.style.height=this.height+"px"}eq(J){return this.left==J.left&&this.top==J.top&&this.width==J.width&&this.height==J.height&&this.className==J.className}static forRange(J,Z,Y){if(Y.empty){let X=J.coordsAtPos(Y.head,Y.assoc||1);if(!X)return[];let q=b$(J);return[new v3(Z,X.left-q.left,X.top-q.top,null,X.bottom-X.top)]}else return ZA(J,Z,Y)}}function b$(J){let Z=J.scrollDOM.getBoundingClientRect();return{left:(J.textDirection==W0.LTR?Z.left:Z.right-J.scrollDOM.clientWidth*J.scaleX)-J.scrollDOM.scrollLeft*J.scaleX,top:Z.top-J.scrollDOM.scrollTop*J.scaleY}}function UK(J,Z,Y,X){let q=J.coordsAtPos(Z,Y*2);if(!q)return X;let Q=J.dom.getBoundingClientRect(),K=(q.top+q.bottom)/2,$=J.posAtCoords({x:Q.left+1,y:K}),U=J.posAtCoords({x:Q.right-1,y:K});if($==null||U==null)return X;return{from:Math.max(X.from,Math.min($,U)),to:Math.min(X.to,Math.max($,U))}}function ZA(J,Z,Y){if(Y.to<=J.viewport.from||Y.from>=J.viewport.to)return[];let X=Math.max(Y.from,J.viewport.from),q=Math.min(Y.to,J.viewport.to),Q=J.textDirection==W0.LTR,K=J.contentDOM,$=K.getBoundingClientRect(),U=b$(J),W=K.querySelector(".cm-line"),G=W&&window.getComputedStyle(W),j=$.left+(G?parseInt(G.paddingLeft)+Math.min(0,parseInt(G.textIndent)):0),z=$.right-(G?parseInt(G.paddingRight):0),O=XZ(J,X,1),H=XZ(J,q,-1),N=O.type==p0.Text?O:null,F=H.type==p0.Text?H:null;if(N&&(J.lineWrapping||O.widgetLineBreaks))N=UK(J,X,1,N);if(F&&(J.lineWrapping||H.widgetLineBreaks))F=UK(J,q,-1,F);if(N&&F&&N.from==F.from&&N.to==F.to)return I(L(Y.from,Y.to,N));else{let E=N?L(Y.from,null,N):P(O,!1),m=F?L(null,Y.to,F):P(H,!0),x=[];if((N||O).to<(F||H).from-(N&&F?1:0)||O.widgetLineBreaks>1&&E.bottom+J.defaultLineHeight/2<m.top)x.push(M(j,E.bottom,z,m.top));else if(E.bottom<m.top&&J.elementAtHeight((E.bottom+m.top)/2).type==p0.Text)E.bottom=m.top=(E.bottom+m.top)/2;return I(E).concat(x).concat(I(m))}function M(E,m,x,s){return new v3(Z,E-U.left,m-U.top,x-E,s-m)}function I({top:E,bottom:m,horizontal:x}){let s=[];for(let Z0=0;Z0<x.length;Z0+=2)s.push(M(x[Z0],E,x[Z0+1],m));return s}function L(E,m,x){let s=1e9,Z0=-1e9,z0=[];function t(Q0,_0,t0,O1,Y5){let u0=J.coordsAtPos(Q0,Q0==x.to?-2:2),I1=J.coordsAtPos(t0,t0==x.from?2:-2);if(!u0||!I1)return;if(s=Math.min(u0.top,I1.top,s),Z0=Math.max(u0.bottom,I1.bottom,Z0),Y5==W0.LTR)z0.push(Q&&_0?j:u0.left,Q&&O1?z:I1.right);else z0.push(!Q&&O1?j:I1.left,!Q&&_0?z:u0.right)}let c=E!==null&&E!==void 0?E:x.from,G0=m!==null&&m!==void 0?m:x.to;for(let Q0 of J.visibleRanges)if(Q0.to>c&&Q0.from<G0)for(let _0=Math.max(Q0.from,c),t0=Math.min(Q0.to,G0);;){let O1=J.state.doc.lineAt(_0);for(let Y5 of J.bidiSpans(O1)){let u0=Y5.from+O1.from,I1=Y5.to+O1.from;if(u0>=t0)break;if(I1>_0)t(Math.max(u0,_0),E==null&&u0<=c,Math.min(I1,t0),m==null&&I1>=G0,Y5.dir)}if(_0=O1.to+1,_0>=t0)break}if(z0.length==0)t(c,E==null,G0,m==null,J.textDirection);return{top:s,bottom:Z0,horizontal:z0}}function P(E,m){let x=$.top+(m?E.top:E.bottom);return{top:x,bottom:x,horizontal:[]}}}function YA(J,Z){return J.constructor==Z.constructor&&J.eq(Z)}class S${constructor(J,Z){if(this.view=J,this.layer=Z,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=J.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),Z.above)this.dom.classList.add("cm-layer-above");if(Z.class)this.dom.classList.add(Z.class);if(this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(J.state),J.requestMeasure(this.measureReq),Z.mount)Z.mount(this.dom,J)}update(J){if(J.startState.facet(V9)!=J.state.facet(V9))this.setOrder(J.state);if(this.layer.update(J,this.dom)||J.geometryChanged)this.scale(),J.view.requestMeasure(this.measureReq)}docViewUpdate(J){if(this.layer.updateOnDocViewUpdate!==!1)J.requestMeasure(this.measureReq)}setOrder(J){let Z=0,Y=J.facet(V9);while(Z<Y.length&&Y[Z]!=this.layer)Z++;this.dom.style.zIndex=String((this.layer.above?150:-1)-Z)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:J,scaleY:Z}=this.view;if(J!=this.scaleX||Z!=this.scaleY)this.scaleX=J,this.scaleY=Z,this.dom.style.transform=`scale(${1/J}, ${1/Z})`}draw(J){if(J.length!=this.drawn.length||J.some((Z,Y)=>!YA(Z,this.drawn[Y]))){let Z=this.dom.firstChild,Y=0;for(let X of J)if(X.update&&Z&&X.constructor&&this.drawn[Y].constructor&&X.update(Z,this.drawn[Y]))Z=Z.nextSibling,Y++;else this.dom.insertBefore(X.draw(),Z);while(Z){let X=Z.nextSibling;Z.remove(),Z=X}if(this.drawn=J,h.safari&&h.safari_version>=26)this.dom.style.display=this.dom.firstChild?"":"none"}}destroy(){if(this.layer.destroy)this.layer.destroy(this.dom,this.view);this.dom.remove()}}var V9=b.define();function k$(J){return[N0.define((Z)=>new S$(Z,J)),V9.of(J)]}var b3=b.define({combine(J){return i0(J,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(Z,Y)=>Math.min(Z,Y),drawRangeCursor:(Z,Y)=>Z||Y})}});function w$(J={}){return[b3.of(J),XA,qA,QA,uK.of(!0)]}function x$(J){return J.startState.facet(b3)!=J.state.facet(b3)}var XA=k$({above:!0,markers(J){let{state:Z}=J,Y=Z.facet(b3),X=[];for(let q of Z.selection.ranges){let Q=q==Z.selection.main;if(q.empty||Y.drawRangeCursor){let K=Q?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",$=q.empty?q:D.cursor(q.head,q.head>q.anchor?-1:1);for(let U of v3.forRange(J,K,$))X.push(U)}}return X},update(J,Z){if(J.transactions.some((X)=>X.selection))Z.style.animationName=Z.style.animationName=="cm-blink"?"cm-blink2":"cm-blink";let Y=x$(J);if(Y)WK(J.state,Z);return J.docChanged||J.selectionSet||Y},mount(J,Z){WK(Z.state,J)},class:"cm-cursorLayer"});function WK(J,Z){Z.style.animationDuration=J.facet(b3).cursorBlinkRate+"ms"}var qA=k$({above:!1,markers(J){return J.state.selection.ranges.map((Z)=>Z.empty?[]:v3.forRange(J,"cm-selectionBackground",Z)).reduce((Z,Y)=>Z.concat(Y))},update(J,Z){return J.docChanged||J.selectionSet||J.viewportChanged||x$(J)},class:"cm-selectionLayer"}),QA=L1.highest(C.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),h$=p.define({map(J,Z){return J==null?null:Z.mapPos(J)}}),I3=M0.define({create(){return null},update(J,Z){if(J!=null)J=Z.changes.mapPos(J);return Z.effects.reduce((Y,X)=>X.is(h$)?X.value:Y,J)}}),KA=N0.fromClass(class{constructor(J){this.view=J,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(J){var Z;let Y=J.state.field(I3);if(Y==null){if(this.cursor!=null)(Z=this.cursor)===null||Z===void 0||Z.remove(),this.cursor=null}else{if(!this.cursor)this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor";if(J.startState.field(I3)!=Y||J.docChanged||J.geometryChanged)this.view.requestMeasure(this.measureReq)}}readPos(){let{view:J}=this,Z=J.state.field(I3),Y=Z!=null&&J.coordsAtPos(Z);if(!Y)return null;let X=J.scrollDOM.getBoundingClientRect();return{left:Y.left-X.left+J.scrollDOM.scrollLeft*J.scaleX,top:Y.top-X.top+J.scrollDOM.scrollTop*J.scaleY,height:Y.bottom-Y.top}}drawCursor(J){if(this.cursor){let{scaleX:Z,scaleY:Y}=this.view;if(J)this.cursor.style.left=J.left/Z+"px",this.cursor.style.top=J.top/Y+"px",this.cursor.style.height=J.height/Y+"px";else this.cursor.style.left="-100000px"}}destroy(){if(this.cursor)this.cursor.remove()}setDropPos(J){if(this.view.state.field(I3)!=J)this.view.dispatch({effects:h$.of(J)})}},{eventObservers:{dragover(J){this.setDropPos(this.view.posAtCoords({x:J.clientX,y:J.clientY}))},dragleave(J){if(J.target==this.view.contentDOM||!this.view.contentDOM.contains(J.relatedTarget))this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function v$(){return[I3,KA]}function GK(J,Z,Y,X,q){Z.lastIndex=0;for(let Q=J.iterRange(Y,X),K=Y,$;!Q.next().done;K+=Q.value.length)if(!Q.lineBreak)while($=Z.exec(Q.value))q(K+$.index,$)}function $A(J,Z){let Y=J.visibleRanges;if(Y.length==1&&Y[0].from==J.viewport.from&&Y[0].to==J.viewport.to)return Y;let X=[];for(let{from:q,to:Q}of Y)if(q=Math.max(J.state.doc.lineAt(q).from,q-Z),Q=Math.min(J.state.doc.lineAt(Q).to,Q+Z),X.length&&X[X.length-1].to>=q)X[X.length-1].to=Q;else X.push({from:q,to:Q});return X}class m${constructor(J){let{regexp:Z,decoration:Y,decorate:X,boundary:q,maxLength:Q=1000}=J;if(!Z.global)throw RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=Z,X)this.addMatch=(K,$,U,W)=>X(W,U,U+K[0].length,K,$);else if(typeof Y=="function")this.addMatch=(K,$,U,W)=>{let G=Y(K,$,U);if(G)W(U,U+K[0].length,G)};else if(Y)this.addMatch=(K,$,U,W)=>W(U,U+K[0].length,Y);else throw RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=q,this.maxLength=Q}createDeco(J){let Z=new e0,Y=Z.add.bind(Z);for(let{from:X,to:q}of $A(J,this.maxLength))GK(J.state.doc,this.regexp,X,q,(Q,K)=>this.addMatch(K,J,Q,Y));return Z.finish()}updateDeco(J,Z){let Y=1e9,X=-1;if(J.docChanged)J.changes.iterChanges((q,Q,K,$)=>{if($>=J.view.viewport.from&&K<=J.view.viewport.to)Y=Math.min(K,Y),X=Math.max($,X)});if(J.viewportMoved||X-Y>1000)return this.createDeco(J.view);if(X>-1)return this.updateRange(J.view,Z.map(J.changes),Y,X);return Z}updateRange(J,Z,Y,X){for(let q of J.visibleRanges){let Q=Math.max(q.from,Y),K=Math.min(q.to,X);if(K>=Q){let $=J.state.doc.lineAt(Q),U=$.to<K?J.state.doc.lineAt(K):$,W=Math.max(q.from,$.from),G=Math.min(q.to,U.to);if(this.boundary){for(;Q>$.from;Q--)if(this.boundary.test($.text[Q-1-$.from])){W=Q;break}for(;K<U.to;K++)if(this.boundary.test(U.text[K-U.from])){G=K;break}}let j=[],z,O=(H,N,F)=>j.push(F.range(H,N));if($==U){this.regexp.lastIndex=W-$.from;while((z=this.regexp.exec($.text))&&z.index<G-$.from)this.addMatch(z,J,z.index+$.from,O)}else GK(J.state.doc,this.regexp,W,G,(H,N)=>this.addMatch(N,J,H,O));Z=Z.update({filterFrom:W,filterTo:G,filter:(H,N)=>H<W||N>G,add:j})}}return Z}}var zZ=/x/.unicode!=null?"gu":"g",UA=new RegExp(`[\x00-\b
-\x1F-\u2028\u2029\uFEFF-]`,zZ),WA={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"},p2=null;function GA(){var J;if(p2==null&&typeof document<"u"&&document.body){let Z=document.body.style;p2=((J=Z.tabSize)!==null&&J!==void 0?J:Z.MozTabSize)!=null}return p2||!1}var I9=b.define({combine(J){let Z=i0(J,{render:null,specialChars:UA,addSpecialChars:null});if(Z.replaceTabs=!GA())Z.specialChars=new RegExp("\t|"+Z.specialChars.source,zZ);if(Z.addSpecialChars)Z.specialChars=new RegExp(Z.specialChars.source+"|"+Z.addSpecialChars.source,zZ);return Z}});function u$(J={}){return[I9.of(J),jA()]}var jK=null;function jA(){return jK||(jK=N0.fromClass(class{constructor(J){this.view=J,this.decorations=f.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(J.state.facet(I9)),this.decorations=this.decorator.createDeco(J)}makeDecorator(J){return new m$({regexp:J.specialChars,decoration:(Z,Y,X)=>{let{doc:q}=Y.state,Q=g0(Z[0],0);if(Q==9){let K=q.lineAt(X),$=Y.state.tabSize,U=C5(K.text,$,X-K.from);return f.replace({widget:new f$(($-U%$)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[Q]||(this.decorationCache[Q]=f.replace({widget:new g$(J,Q)}))},boundary:J.replaceTabs?void 0:/[^]/})}update(J){let Z=J.state.facet(I9);if(J.startState.facet(I9)!=Z)this.decorator=this.makeDecorator(Z),this.decorations=this.decorator.createDeco(J.view);else this.decorations=this.decorator.updateDeco(J,this.decorations)}},{decorations:(J)=>J.decorations}))}var zA="";function OA(J){if(J>=32)return zA;if(J==10)return"";return String.fromCharCode(9216+J)}class g$ extends K1{constructor(J,Z){super();this.options=J,this.code=Z}eq(J){return J.code==this.code}toDOM(J){let Z=OA(this.code),Y=J.state.phrase("Control character")+" "+(WA[this.code]||"0x"+this.code.toString(16)),X=this.options.render&&this.options.render(this.code,Y,Z);if(X)return X;let q=document.createElement("span");return q.textContent=Z,q.title=Y,q.setAttribute("aria-label",Y),q.className="cm-specialChar",q}ignoreEvent(){return!1}}class f$ extends K1{constructor(J){super();this.width=J}eq(J){return J.width==this.width}toDOM(){let J=document.createElement("span");return J.textContent="\t",J.className="cm-tab",J.style.width=this.width+"px",J}ignoreEvent(){return!1}}function l$(){return HA}var _A=f.line({class:"cm-activeLine"}),HA=N0.fromClass(class{constructor(J){this.decorations=this.getDeco(J)}update(J){if(J.docChanged||J.selectionSet)this.decorations=this.getDeco(J.view)}getDeco(J){let Z=-1,Y=[];for(let X of J.state.selection.ranges){let q=J.lineBlockAt(X.head);if(q.from>Z)Y.push(_A.range(q.from)),Z=q.from}return f.set(Y)}},{decorations:(J)=>J.decorations});var OZ=2000;function NA(J,Z,Y){let X=Math.min(Z.line,Y.line),q=Math.max(Z.line,Y.line),Q=[];if(Z.off>OZ||Y.off>OZ||Z.col<0||Y.col<0){let K=Math.min(Z.off,Y.off),$=Math.max(Z.off,Y.off);for(let U=X;U<=q;U++){let W=J.doc.line(U);if(W.length<=$)Q.push(D.range(W.from+K,W.to+$))}}else{let K=Math.min(Z.col,Y.col),$=Math.max(Z.col,Y.col);for(let U=X;U<=q;U++){let W=J.doc.line(U),G=Q9(W.text,K,J.tabSize,!0);if(G<0)Q.push(D.cursor(W.to));else{let j=Q9(W.text,$,J.tabSize);Q.push(D.range(W.from+G,W.from+j))}}}return Q}function RA(J,Z){let Y=J.coordsAtPos(J.viewport.from);return Y?Math.round(Math.abs((Y.left-Z)/J.defaultCharacterWidth)):-1}function zK(J,Z){let Y=J.posAtCoords({x:Z.clientX,y:Z.clientY},!1),X=J.state.doc.lineAt(Y),q=Y-X.from,Q=q>OZ?-1:q==X.length?RA(J,Z.clientX):C5(X.text,J.state.tabSize,Y-X.from);return{line:X.number,col:Q,off:q}}function AA(J,Z){let Y=zK(J,Z),X=J.state.selection;if(!Y)return null;return{update(q){if(q.docChanged){let Q=q.changes.mapPos(q.startState.doc.line(Y.line).from),K=q.state.doc.lineAt(Q);Y={line:K.number,col:Y.col,off:Math.min(Y.off,K.length)},X=X.map(q.changes)}},get(q,Q,K){let $=zK(J,q);if(!$)return X;let U=NA(J.state,Y,$);if(!U.length)return X;if(K)return D.create(U.concat(X.ranges));else return D.create(U)}}}function p$(J){let Z=(J===null||J===void 0?void 0:J.eventFilter)||((Y)=>Y.altKey&&Y.button==0);return C.mouseSelectionStyle.of((Y,X)=>Z(X)?AA(Y,X):null)}var FA={Alt:[18,(J)=>!!J.altKey],Control:[17,(J)=>!!J.ctrlKey],Shift:[16,(J)=>!!J.shiftKey],Meta:[91,(J)=>!!J.metaKey]},MA={style:"cursor: crosshair"};function d$(J={}){let[Z,Y]=FA[J.key||"Alt"],X=N0.fromClass(class{constructor(q){this.view=q,this.isDown=!1}set(q){if(this.isDown!=q)this.isDown=q,this.view.update([])}},{eventObservers:{keydown(q){this.set(q.keyCode==Z||Y(q))},keyup(q){if(q.keyCode==Z||!Y(q))this.set(!1)},mousemove(q){this.set(Y(q))}}});return[X,C.contentAttributes.of((q)=>{var Q;return((Q=q.plugin(X))===null||Q===void 0?void 0:Q.isDown)?MA:null})]}var O9="-10000px";class TZ{constructor(J,Z,Y,X){this.facet=Z,this.createTooltipView=Y,this.removeTooltipView=X,this.input=J.state.facet(Z),this.tooltips=this.input.filter((Q)=>Q);let q=null;this.tooltipViews=this.tooltips.map((Q)=>q=Y(Q,q))}update(J,Z){var Y;let X=J.state.facet(this.facet),q=X.filter(($)=>$);if(X===this.input){for(let $ of this.tooltipViews)if($.update)$.update(J);return!1}let Q=[],K=Z?[]:null;for(let $=0;$<q.length;$++){let U=q[$],W=-1;if(!U)continue;for(let G=0;G<this.tooltips.length;G++){let j=this.tooltips[G];if(j&&j.create==U.create)W=G}if(W<0){if(Q[$]=this.createTooltipView(U,$?Q[$-1]:null),K)K[$]=!!U.above}else{let G=Q[$]=this.tooltipViews[W];if(K)K[$]=Z[W];if(G.update)G.update(J)}}for(let $ of this.tooltipViews)if(Q.indexOf($)<0)this.removeTooltipView($),(Y=$.destroy)===null||Y===void 0||Y.call($);if(Z)K.forEach(($,U)=>Z[U]=$),Z.length=K.length;return this.input=X,this.tooltips=q,this.tooltipViews=Q,!0}}function VA(J){let Z=J.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:Z.clientHeight,right:Z.clientWidth}}var d2=b.define({combine:(J)=>{var Z,Y,X;return{position:h.ios?"absolute":((Z=J.find((q)=>q.position))===null||Z===void 0?void 0:Z.position)||"fixed",parent:((Y=J.find((q)=>q.parent))===null||Y===void 0?void 0:Y.parent)||null,tooltipSpace:((X=J.find((q)=>q.tooltipSpace))===null||X===void 0?void 0:X.tooltipSpace)||VA}}}),OK=new WeakMap,yZ=N0.fromClass(class{constructor(J){this.view=J,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let Z=J.state.facet(d2);this.position=Z.position,this.parent=Z.parent,this.classes=J.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new TZ(J,m3,(Y,X)=>this.createTooltip(Y,X),(Y)=>{if(this.resizeObserver)this.resizeObserver.unobserve(Y.dom);Y.dom.remove()}),this.above=this.manager.tooltips.map((Y)=>!!Y.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver((Y)=>{if(Date.now()>this.lastTransaction-50&&Y.length>0&&Y[Y.length-1].intersectionRatio<1)this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),J.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){if(this.parent)this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container);else this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let J of this.manager.tooltipViews)this.intersectionObserver.observe(J.dom)}}measureSoon(){if(this.measureTimeout<0)this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50)}update(J){if(J.transactions.length)this.lastTransaction=Date.now();let Z=this.manager.update(J,this.above);if(Z)this.observeIntersection();let Y=Z||J.geometryChanged,X=J.state.facet(d2);if(X.position!=this.position&&!this.madeAbsolute){this.position=X.position;for(let q of this.manager.tooltipViews)q.dom.style.position=this.position;Y=!0}if(X.parent!=this.parent){if(this.parent)this.container.remove();this.parent=X.parent,this.createContainer();for(let q of this.manager.tooltipViews)this.container.appendChild(q.dom);Y=!0}else if(this.parent&&this.view.themeClasses!=this.classes)this.classes=this.container.className=this.view.themeClasses;if(Y)this.maybeMeasure()}createTooltip(J,Z){let Y=J.create(this.view),X=Z?Z.dom:null;if(Y.dom.classList.add("cm-tooltip"),J.arrow&&!Y.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let q=document.createElement("div");q.className="cm-tooltip-arrow",Y.dom.appendChild(q)}if(Y.dom.style.position=this.position,Y.dom.style.top=O9,Y.dom.style.left="0px",this.container.insertBefore(Y.dom,X),Y.mount)Y.mount(this.view);if(this.resizeObserver)this.resizeObserver.observe(Y.dom);return Y}destroy(){var J,Z,Y;this.view.win.removeEventListener("resize",this.measureSoon);for(let X of this.manager.tooltipViews)X.dom.remove(),(J=X.destroy)===null||J===void 0||J.call(X);if(this.parent)this.container.remove();(Z=this.resizeObserver)===null||Z===void 0||Z.disconnect(),(Y=this.intersectionObserver)===null||Y===void 0||Y.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let J=1,Z=1,Y=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:Q}=this.manager.tooltipViews[0];if(h.safari){let K=Q.getBoundingClientRect();Y=Math.abs(K.top+1e4)>1||Math.abs(K.left)>1}else Y=!!Q.offsetParent&&Q.offsetParent!=this.container.ownerDocument.body}if(Y||this.position=="absolute")if(this.parent){let Q=this.parent.getBoundingClientRect();if(Q.width&&Q.height)J=Q.width/this.parent.offsetWidth,Z=Q.height/this.parent.offsetHeight}else({scaleX:J,scaleY:Z}=this.view.viewState);let X=this.view.scrollDOM.getBoundingClientRect(),q=LZ(this.view);return{visible:{left:X.left+q.left,top:X.top+q.top,right:X.right-q.right,bottom:X.bottom-q.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((Q,K)=>{let $=this.manager.tooltipViews[K];return $.getCoords?$.getCoords(Q.pos):this.view.coordsAtPos(Q.pos)}),size:this.manager.tooltipViews.map(({dom:Q})=>Q.getBoundingClientRect()),space:this.view.state.facet(d2).tooltipSpace(this.view),scaleX:J,scaleY:Z,makeAbsolute:Y}}writeMeasure(J){var Z;if(J.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let $ of this.manager.tooltipViews)$.dom.style.position="absolute"}let{visible:Y,space:X,scaleX:q,scaleY:Q}=J,K=[];for(let $=0;$<this.manager.tooltips.length;$++){let U=this.manager.tooltips[$],W=this.manager.tooltipViews[$],{dom:G}=W,j=J.pos[$],z=J.size[$];if(!j||U.clip!==!1&&(j.bottom<=Math.max(Y.top,X.top)||j.top>=Math.min(Y.bottom,X.bottom)||j.right<Math.max(Y.left,X.left)-0.1||j.left>Math.min(Y.right,X.right)+0.1)){G.style.top=O9;continue}let O=U.arrow?W.dom.querySelector(".cm-tooltip-arrow"):null,H=O?7:0,N=z.right-z.left,F=(Z=OK.get(W))!==null&&Z!==void 0?Z:z.bottom-z.top,M=W.offset||DA,I=this.view.textDirection==W0.LTR,L=z.width>X.right-X.left?I?X.left:X.right-z.width:I?Math.max(X.left,Math.min(j.left-(O?14:0)+M.x,X.right-N)):Math.min(Math.max(X.left,j.left-N+(O?14:0)-M.x),X.right-N),P=this.above[$];if(!U.strictSide&&(P?j.top-F-H-M.y<X.top:j.bottom+F+H+M.y>X.bottom)&&P==X.bottom-j.bottom>j.top-X.top)P=this.above[$]=!P;let E=(P?j.top-X.top:X.bottom-j.bottom)-H;if(E<F&&W.resize!==!1){if(E<this.view.defaultLineHeight){G.style.top=O9;continue}OK.set(W,F),G.style.height=(F=E)/Q+"px"}else if(G.style.height)G.style.height="";let m=P?j.top-F-H-M.y:j.bottom+H+M.y,x=L+N;if(W.overlap!==!0){for(let s of K)if(s.left<x&&s.right>L&&s.top<m+F&&s.bottom>m)m=P?s.top-F-2-H:s.bottom+H+2}if(this.position=="absolute")G.style.top=(m-J.parent.top)/Q+"px",_K(G,(L-J.parent.left)/q);else G.style.top=m/Q+"px",_K(G,L/q);if(O){let s=j.left+(I?M.x:-M.x)-(L+14-7);O.style.left=s/q+"px"}if(W.overlap!==!0)K.push({left:L,top:m,right:x,bottom:m+F});if(G.classList.toggle("cm-tooltip-above",P),G.classList.toggle("cm-tooltip-below",!P),W.positioned)W.positioned(J.space)}}maybeMeasure(){if(this.manager.tooltips.length){if(this.view.inView)this.view.requestMeasure(this.measureReq);if(this.inView!=this.view.inView){if(this.inView=this.view.inView,!this.inView)for(let J of this.manager.tooltipViews)J.dom.style.top=O9}}}},{eventObservers:{scroll(){this.maybeMeasure()}}});function _K(J,Z){let Y=parseInt(J.style.left,10);if(isNaN(Y)||Math.abs(Z-Y)>1)J.style.left=Z+"px"}var IA=C.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),DA={x:0,y:0},m3=b.define({enables:[yZ,IA]}),S9=b.define({combine:(J)=>J.reduce((Z,Y)=>Z.concat(Y),[])});class h9{static create(J){return new h9(J)}constructor(J){this.view=J,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new TZ(J,S9,(Z,Y)=>this.createHostedView(Z,Y),(Z)=>Z.dom.remove())}createHostedView(J,Z){let Y=J.create(this.view);if(Y.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(Y.dom,Z?Z.dom.nextSibling:this.dom.firstChild),this.mounted&&Y.mount)Y.mount(this.view);return Y}mount(J){for(let Z of this.manager.tooltipViews)if(Z.mount)Z.mount(J);this.mounted=!0}positioned(J){for(let Z of this.manager.tooltipViews)if(Z.positioned)Z.positioned(J)}update(J){this.manager.update(J)}destroy(){var J;for(let Z of this.manager.tooltipViews)(J=Z.destroy)===null||J===void 0||J.call(Z)}passProp(J){let Z=void 0;for(let Y of this.manager.tooltipViews){let X=Y[J];if(X!==void 0){if(Z===void 0)Z=X;else if(Z!==X)return}}return Z}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}var LA=m3.compute([S9],(J)=>{let Z=J.facet(S9);if(Z.length===0)return null;return{pos:Math.min(...Z.map((Y)=>Y.pos)),end:Math.max(...Z.map((Y)=>{var X;return(X=Y.end)!==null&&X!==void 0?X:Y.pos})),create:h9.create,above:Z[0].above,arrow:Z.some((Y)=>Y.arrow)}});class c${constructor(J,Z,Y,X,q){this.view=J,this.source=Z,this.field=Y,this.setHover=X,this.hoverTime=q,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:J.dom,time:0},this.checkHover=this.checkHover.bind(this),J.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),J.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){if(this.pending)this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20)}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let J=Date.now()-this.lastMove.time;if(J<this.hoverTime)this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-J);else this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:J,lastMove:Z}=this,Y=J.docView.tile.nearest(Z.target);if(!Y)return;let X,q=1;if(Y.isWidget())X=Y.posAtStart;else{if(X=J.posAtCoords(Z),X==null)return;let K=J.coordsAtPos(X);if(!K||Z.y<K.top||Z.y>K.bottom||Z.x<K.left-J.defaultCharacterWidth||Z.x>K.right+J.defaultCharacterWidth)return;let $=J.bidiSpans(J.state.doc.lineAt(X)).find((W)=>W.from<=X&&W.to>=X),U=$&&$.dir==W0.RTL?-1:1;q=Z.x<K.left?-U:U}let Q=this.source(J,X,q);if(Q===null||Q===void 0?void 0:Q.then){let K=this.pending={pos:X};Q.then(($)=>{if(this.pending==K){if(this.pending=null,$&&!(Array.isArray($)&&!$.length))J.dispatch({effects:this.setHover.of(Array.isArray($)?$:[$])})}},($)=>l0(J.state,$,"hover tooltip"))}else if(Q&&!(Array.isArray(Q)&&!Q.length))J.dispatch({effects:this.setHover.of(Array.isArray(Q)?Q:[Q])})}get tooltip(){let J=this.view.plugin(yZ),Z=J?J.manager.tooltips.findIndex((Y)=>Y.create==h9.create):-1;return Z>-1?J.manager.tooltipViews[Z]:null}mousemove(J){var Z,Y;if(this.lastMove={x:J.clientX,y:J.clientY,target:J.target,time:Date.now()},this.hoverTimeout<0)this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime);let{active:X,tooltip:q}=this;if(X.length&&q&&!BA(q.dom,J)||this.pending){let{pos:Q}=X[0]||this.pending,K=(Y=(Z=X[0])===null||Z===void 0?void 0:Z.end)!==null&&Y!==void 0?Y:Q;if(Q==K?this.view.posAtCoords(this.lastMove)!=Q:!PA(this.view,Q,K,J.clientX,J.clientY))this.view.dispatch({effects:this.setHover.of([])}),this.pending=null}}mouseleave(J){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:Z}=this;if(Z.length){let{tooltip:Y}=this;if(!(Y&&Y.dom.contains(J.relatedTarget)))this.view.dispatch({effects:this.setHover.of([])});else this.watchTooltipLeave(Y.dom)}}watchTooltipLeave(J){let Z=(Y)=>{if(J.removeEventListener("mouseleave",Z),this.active.length&&!this.view.dom.contains(Y.relatedTarget))this.view.dispatch({effects:this.setHover.of([])})};J.addEventListener("mouseleave",Z)}destroy(){clearTimeout(this.hoverTimeout),clearTimeout(this.restartTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}var _9=4;function BA(J,Z){let{left:Y,right:X,top:q,bottom:Q}=J.getBoundingClientRect(),K;if(K=J.querySelector(".cm-tooltip-arrow")){let $=K.getBoundingClientRect();q=Math.min($.top,q),Q=Math.max($.bottom,Q)}return Z.clientX>=Y-_9&&Z.clientX<=X+_9&&Z.clientY>=q-_9&&Z.clientY<=Q+_9}function PA(J,Z,Y,X,q,Q){let K=J.scrollDOM.getBoundingClientRect(),$=J.documentTop+J.documentPadding.top+J.contentHeight;if(K.left>X||K.right<X||K.top>q||Math.min(K.bottom,$)<q)return!1;let U=J.posAtCoords({x:X,y:q},!1);return U>=Z&&U<=Y}function n$(J,Z={}){let Y=p.define(),X=M0.define({create(){return[]},update(q,Q){if(q.length){if(Z.hideOnChange&&(Q.docChanged||Q.selection))q=[];else if(Z.hideOn)q=q.filter((K)=>!Z.hideOn(Q,K));if(Q.docChanged){let K=[];for(let $ of q){let U=Q.changes.mapPos($.pos,-1,x0.TrackDel);if(U!=null){let W=Object.assign(Object.create(null),$);if(W.pos=U,W.end!=null)W.end=Q.changes.mapPos(W.end);K.push(W)}}q=K}}for(let K of Q.effects){if(K.is(Y))q=K.value;if(K.is(EA))q=[]}return q},provide:(q)=>S9.from(q)});return{active:X,extension:[X,N0.define((q)=>new c$(q,J,X,Y,Z.hoverTime||300)),LA]}}function bZ(J,Z){let Y=J.plugin(yZ);if(!Y)return null;let X=Y.manager.tooltips.indexOf(Z);return X<0?null:Y.manager.tooltipViews[X]}var EA=p.define();var HK=b.define({combine(J){let Z,Y;for(let X of J)Z=Z||X.topContainer,Y=Y||X.bottomContainer;return{topContainer:Z,bottomContainer:Y}}});function kJ(J,Z){let Y=J.plugin(i$),X=Y?Y.specs.indexOf(Z):-1;return X>-1?Y.panels[X]:null}var i$=N0.fromClass(class{constructor(J){this.input=J.state.facet(SJ),this.specs=this.input.filter((Y)=>Y),this.panels=this.specs.map((Y)=>Y(J));let Z=J.state.facet(HK);this.top=new D3(J,!0,Z.topContainer),this.bottom=new D3(J,!1,Z.bottomContainer),this.top.sync(this.panels.filter((Y)=>Y.top)),this.bottom.sync(this.panels.filter((Y)=>!Y.top));for(let Y of this.panels)if(Y.dom.classList.add("cm-panel"),Y.mount)Y.mount()}update(J){let Z=J.state.facet(HK);if(this.top.container!=Z.topContainer)this.top.sync([]),this.top=new D3(J.view,!0,Z.topContainer);if(this.bottom.container!=Z.bottomContainer)this.bottom.sync([]),this.bottom=new D3(J.view,!1,Z.bottomContainer);this.top.syncClasses(),this.bottom.syncClasses();let Y=J.state.facet(SJ);if(Y!=this.input){let X=Y.filter((U)=>U),q=[],Q=[],K=[],$=[];for(let U of X){let W=this.specs.indexOf(U),G;if(W<0)G=U(J.view),$.push(G);else if(G=this.panels[W],G.update)G.update(J);q.push(G),(G.top?Q:K).push(G)}this.specs=X,this.panels=q,this.top.sync(Q),this.bottom.sync(K);for(let U of $)if(U.dom.classList.add("cm-panel"),U.mount)U.mount()}else for(let X of this.panels)if(X.update)X.update(J)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:(J)=>C.scrollMargins.of((Z)=>{let Y=Z.plugin(J);return Y&&{top:Y.top.scrollMargin(),bottom:Y.bottom.scrollMargin()}})});class D3{constructor(J,Z,Y){this.view=J,this.top=Z,this.container=Y,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(J){for(let Z of this.panels)if(Z.destroy&&J.indexOf(Z)<0)Z.destroy();this.panels=J,this.syncDOM()}syncDOM(){if(this.panels.length==0){if(this.dom)this.dom.remove(),this.dom=void 0;return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let Z=this.container||this.view.dom;Z.insertBefore(this.dom,this.top?Z.firstChild:null)}let J=this.dom.firstChild;for(let Z of this.panels)if(Z.dom.parentNode==this.dom){while(J!=Z.dom)J=NK(J);J=J.nextSibling}else this.dom.insertBefore(Z.dom,J);while(J)J=NK(J)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!this.container||this.classes==this.view.themeClasses)return;for(let J of this.classes.split(" "))if(J)this.container.classList.remove(J);for(let J of(this.classes=this.view.themeClasses).split(" "))if(J)this.container.classList.add(J)}}function NK(J){let Z=J.nextSibling;return J.remove(),Z}var SJ=b.define({enables:i$});class E1 extends c1{compare(J){return this==J||this.constructor==J.constructor&&this.eq(J)}eq(J){return!1}destroy(J){}}E1.prototype.elementClass="";E1.prototype.toDOM=void 0;E1.prototype.mapMode=x0.TrackBefore;E1.prototype.startSide=E1.prototype.endSide=-1;E1.prototype.point=!0;var D9=b.define(),CA=b.define(),TA={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>a.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},P3=b.define();function SZ(J){return[s$(),P3.of({...TA,...J})]}var _Z=b.define({combine:(J)=>J.some((Z)=>Z)});function s$(J){let Z=[yA];if(J&&J.fixed===!1)Z.push(_Z.of(!0));return Z}var yA=N0.fromClass(class{constructor(J){this.view=J,this.domAfter=null,this.prevViewport=J.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=J.state.facet(P3).map((Z)=>new NZ(J,Z)),this.fixed=!J.state.facet(_Z);for(let Z of this.gutters)if(Z.config.side=="after")this.getDOMAfter().appendChild(Z.dom);else this.dom.appendChild(Z.dom);if(this.fixed)this.dom.style.position="sticky";this.syncGutters(!1),J.scrollDOM.insertBefore(this.dom,J.contentDOM)}getDOMAfter(){if(!this.domAfter)this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter);return this.domAfter}update(J){if(this.updateGutters(J)){let Z=this.prevViewport,Y=J.view.viewport,X=Math.min(Z.to,Y.to)-Math.max(Z.from,Y.from);this.syncGutters(X<(Y.to-Y.from)*0.8)}if(J.geometryChanged){let Z=this.view.contentHeight/this.view.scaleY+"px";if(this.dom.style.minHeight=Z,this.domAfter)this.domAfter.style.minHeight=Z}if(this.view.state.facet(_Z)!=!this.fixed){if(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter)this.domAfter.style.position=this.fixed?"sticky":""}this.prevViewport=J.view.viewport}syncGutters(J){let Z=this.dom.nextSibling;if(J){if(this.dom.remove(),this.domAfter)this.domAfter.remove()}let Y=a.iter(this.view.state.facet(D9),this.view.viewport.from),X=[],q=this.gutters.map((Q)=>new a$(Q,this.view.viewport,-this.view.documentPadding.top));for(let Q of this.view.viewportLineBlocks){if(X.length)X=[];if(Array.isArray(Q.type)){let K=!0;for(let $ of Q.type)if($.type==p0.Text&&K){HZ(Y,X,$.from);for(let U of q)U.line(this.view,$,X);K=!1}else if($.widget)for(let U of q)U.widget(this.view,$)}else if(Q.type==p0.Text){HZ(Y,X,Q.from);for(let K of q)K.line(this.view,Q,X)}else if(Q.widget)for(let K of q)K.widget(this.view,Q)}for(let Q of q)Q.finish();if(J){if(this.view.scrollDOM.insertBefore(this.dom,Z),this.domAfter)this.view.scrollDOM.appendChild(this.domAfter)}}updateGutters(J){let Z=J.startState.facet(P3),Y=J.state.facet(P3),X=J.docChanged||J.heightChanged||J.viewportChanged||!a.eq(J.startState.facet(D9),J.state.facet(D9),J.view.viewport.from,J.view.viewport.to);if(Z==Y){for(let q of this.gutters)if(q.update(J))X=!0}else{X=!0;let q=[];for(let Q of Y){let K=Z.indexOf(Q);if(K<0)q.push(new NZ(this.view,Q));else this.gutters[K].update(J),q.push(this.gutters[K])}for(let Q of this.gutters)if(Q.dom.remove(),q.indexOf(Q)<0)Q.destroy();for(let Q of q)if(Q.config.side=="after")this.getDOMAfter().appendChild(Q.dom);else this.dom.appendChild(Q.dom);this.gutters=q}return X}destroy(){for(let J of this.gutters)J.destroy();if(this.dom.remove(),this.domAfter)this.domAfter.remove()}},{provide:(J)=>C.scrollMargins.of((Z)=>{let Y=Z.plugin(J);if(!Y||Y.gutters.length==0||!Y.fixed)return null;let X=Y.dom.offsetWidth*Z.scaleX,q=Y.domAfter?Y.domAfter.offsetWidth*Z.scaleX:0;return Z.textDirection==W0.LTR?{left:X,right:q}:{right:X,left:q}})});function RK(J){return Array.isArray(J)?J:[J]}function HZ(J,Z,Y){while(J.value&&J.from<=Y){if(J.from==Y)Z.push(J.value);J.next()}}class a${constructor(J,Z,Y){this.gutter=J,this.height=Y,this.i=0,this.cursor=a.iter(J.markers,Z.from)}addElement(J,Z,Y){let{gutter:X}=this,q=(Z.top-this.height)/J.scaleY,Q=Z.height/J.scaleY;if(this.i==X.elements.length){let K=new kZ(J,Q,q,Y);X.elements.push(K),X.dom.appendChild(K.dom)}else X.elements[this.i].update(J,Q,q,Y);this.height=Z.bottom,this.i++}line(J,Z,Y){let X=[];if(HZ(this.cursor,X,Z.from),Y.length)X=X.concat(Y);let q=this.gutter.config.lineMarker(J,Z,X);if(q)X.unshift(q);let Q=this.gutter;if(X.length==0&&!Q.config.renderEmptyElements)return;this.addElement(J,Z,X)}widget(J,Z){let Y=this.gutter.config.widgetMarker(J,Z.widget,Z),X=Y?[Y]:null;for(let q of J.state.facet(CA)){let Q=q(J,Z.widget,Z);if(Q)(X||(X=[])).push(Q)}if(X)this.addElement(J,Z,X)}finish(){let J=this.gutter;while(J.elements.length>this.i){let Z=J.elements.pop();J.dom.removeChild(Z.dom),Z.destroy()}}}class NZ{constructor(J,Z){this.view=J,this.config=Z,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let Y in Z.domEventHandlers)this.dom.addEventListener(Y,(X)=>{let q=X.target,Q;if(q!=this.dom&&this.dom.contains(q)){while(q.parentNode!=this.dom)q=q.parentNode;let $=q.getBoundingClientRect();Q=($.top+$.bottom)/2}else Q=X.clientY;let K=J.lineBlockAtHeight(Q-J.documentTop);if(Z.domEventHandlers[Y](J,K,X))X.preventDefault()});if(this.markers=RK(Z.markers(J)),Z.initialSpacer)this.spacer=new kZ(J,0,0,[Z.initialSpacer(J)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none"}update(J){let Z=this.markers;if(this.markers=RK(this.config.markers(J.view)),this.spacer&&this.config.updateSpacer){let X=this.config.updateSpacer(this.spacer.markers[0],J);if(X!=this.spacer.markers[0])this.spacer.update(J.view,0,0,[X])}let Y=J.view.viewport;return!a.eq(this.markers,Z,Y.from,Y.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(J):!1)}destroy(){for(let J of this.elements)J.destroy()}}class kZ{constructor(J,Z,Y,X){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(J,Z,Y,X)}update(J,Z,Y,X){if(this.height!=Z)this.height=Z,this.dom.style.height=Z+"px";if(this.above!=Y)this.dom.style.marginTop=(this.above=Y)?Y+"px":"";if(!bA(this.markers,X))this.setMarkers(J,X)}setMarkers(J,Z){let Y="cm-gutterElement",X=this.dom.firstChild;for(let q=0,Q=0;;){let K=Q,$=q<Z.length?Z[q++]:null,U=!1;if($){let W=$.elementClass;if(W)Y+=" "+W;for(let G=Q;G<this.markers.length;G++)if(this.markers[G].compare($)){K=G,U=!0;break}}else K=this.markers.length;while(Q<K){let W=this.markers[Q++];if(W.toDOM){W.destroy(X);let G=X.nextSibling;X.remove(),X=G}}if(!$)break;if($.toDOM)if(U)X=X.nextSibling;else this.dom.insertBefore($.toDOM(J),X);if(U)Q++}this.dom.className=Y,this.markers=Z}destroy(){this.setMarkers(null,[])}}function bA(J,Z){if(J.length!=Z.length)return!1;for(let Y=0;Y<J.length;Y++)if(!J[Y].compare(Z[Y]))return!1;return!0}var SA=b.define(),kA=b.define(),H4=b.define({combine(J){return i0(J,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(Z,Y){let X=Object.assign({},Z);for(let q in Y){let Q=X[q],K=Y[q];X[q]=Q?($,U,W)=>Q($,U,W)||K($,U,W):K}return X}})}});class L9 extends E1{constructor(J){super();this.number=J}eq(J){return this.number==J.number}toDOM(){return document.createTextNode(this.number)}}function c2(J,Z){return J.state.facet(H4).formatNumber(Z,J.state)}var wA=P3.compute([H4],(J)=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(Z){return Z.state.facet(SA)},lineMarker(Z,Y,X){if(X.some((q)=>q.toDOM))return null;return new L9(c2(Z,Z.state.doc.lineAt(Y.from).number))},widgetMarker:(Z,Y,X)=>{for(let q of Z.state.facet(kA)){let Q=q(Z,Y,X);if(Q)return Q}return null},lineMarkerChange:(Z)=>Z.startState.facet(H4)!=Z.state.facet(H4),initialSpacer(Z){return new L9(c2(Z,AK(Z.state.doc.lines)))},updateSpacer(Z,Y){let X=c2(Y.view,AK(Y.view.state.doc.lines));return X==Z.number?Z:new L9(X)},domEventHandlers:J.facet(H4).domEventHandlers,side:"before"}));function r$(J={}){return[H4.of(J),s$(),wA]}function AK(J){let Z=9;while(Z<J)Z=Z*10+9;return Z}var xA=new class extends E1{constructor(){super(...arguments);this.elementClass="cm-activeLineGutter"}},hA=D9.compute(["selection"],(J)=>{let Z=[],Y=-1;for(let X of J.selection.ranges){let q=J.doc.lineAt(X.head).from;if(q>Y)Y=q,Z.push(xA.range(q))}return a.of(Z)});function o$(){return hA}var ZU=1024,vA=0;class m9{constructor(J,Z){this.from=J,this.to=Z}}class i{constructor(J={}){this.id=vA++,this.perNode=!!J.perNode,this.deserialize=J.deserialize||(()=>{throw Error("This node type doesn't define a deserialize function")}),this.combine=J.combine||null}add(J){if(this.perNode)throw RangeError("Can't add per-node props to node types");if(typeof J!="function")J=s0.match(J);return(Z)=>{let Y=J(Z);return Y===void 0?null:[this,Y]}}}i.closedBy=new i({deserialize:(J)=>J.split(" ")});i.openedBy=new i({deserialize:(J)=>J.split(" ")});i.group=new i({deserialize:(J)=>J.split(" ")});i.isolate=new i({deserialize:(J)=>{if(J&&J!="rtl"&&J!="ltr"&&J!="auto")throw RangeError("Invalid value for isolate: "+J);return J||"auto"}});i.contextHash=new i({perNode:!0});i.lookAhead=new i({perNode:!0});i.mounted=new i({perNode:!0});class I4{constructor(J,Z,Y,X=!1){this.tree=J,this.overlay=Z,this.parser=Y,this.bracketed=X}static get(J){return J&&J.props&&J.props[i.mounted.id]}}var mA=Object.create(null);class s0{constructor(J,Z,Y,X=0){this.name=J,this.props=Z,this.id=Y,this.flags=X}static define(J){let Z=J.props&&J.props.length?Object.create(null):mA,Y=(J.top?1:0)|(J.skipped?2:0)|(J.error?4:0)|(J.name==null?8:0),X=new s0(J.name||"",Z,J.id,Y);if(J.props)for(let q of J.props){if(!Array.isArray(q))q=q(X);if(q){if(q[0].perNode)throw RangeError("Can't store a per-node prop on a node type");Z[q[0].id]=q[1]}}return X}prop(J){return this.props[J.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(J){if(typeof J=="string"){if(this.name==J)return!0;let Z=this.prop(i.group);return Z?Z.indexOf(J)>-1:!1}return this.id==J}static match(J){let Z=Object.create(null);for(let Y in J)for(let X of Y.split(" "))Z[X]=J[Y];return(Y)=>{for(let X=Y.prop(i.group),q=-1;q<(X?X.length:0);q++){let Q=Z[q<0?Y.name:X[q]];if(Q)return Q}}}}s0.none=new s0("",Object.create(null),0,8);class g3{constructor(J){this.types=J;for(let Z=0;Z<J.length;Z++)if(J[Z].id!=Z)throw RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...J){let Z=[];for(let Y of this.types){let X=null;for(let q of J){let Q=q(Y);if(Q){if(!X)X=Object.assign({},Y.props);let K=Q[1],$=Q[0];if($.combine&&$.id in X)K=$.combine(X[$.id],K);X[$.id]=K}}Z.push(X?new s0(Y.name,X,Y.id,Y.flags):Y)}return new g3(Z)}}var v9=new WeakMap,t$=new WeakMap,R0;(function(J){J[J.ExcludeBuffers=1]="ExcludeBuffers",J[J.IncludeAnonymous=2]="IncludeAnonymous",J[J.IgnoreMounts=4]="IgnoreMounts",J[J.IgnoreOverlays=8]="IgnoreOverlays",J[J.EnterBracketed=16]="EnterBracketed"})(R0||(R0={}));class B0{constructor(J,Z,Y,X,q){if(this.type=J,this.children=Z,this.positions=Y,this.length=X,this.props=null,q&&q.length){this.props=Object.create(null);for(let[Q,K]of q)this.props[typeof Q=="number"?Q:Q.id]=K}}toString(){let J=I4.get(this);if(J&&!J.overlay)return J.tree.toString();let Z="";for(let Y of this.children){let X=Y.toString();if(X){if(Z)Z+=",";Z+=X}}return!this.type.name?Z:(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(Z.length?"("+Z+")":"")}cursor(J=0){return new g9(this.topNode,J)}cursorAt(J,Z=0,Y=0){let X=v9.get(this)||this.topNode,q=new g9(X);return q.moveTo(J,Z),v9.set(this,q._tree),q}get topNode(){return new $1(this,0,0,null)}resolve(J,Z=0){let Y=u3(v9.get(this)||this.topNode,J,Z,!1);return v9.set(this,Y),Y}resolveInner(J,Z=0){let Y=u3(t$.get(this)||this.topNode,J,Z,!0);return t$.set(this,Y),Y}resolveStack(J,Z=0){return uA(this,J,Z)}iterate(J){let{enter:Z,leave:Y,from:X=0,to:q=this.length}=J,Q=J.mode||0,K=(Q&R0.IncludeAnonymous)>0;for(let $=this.cursor(Q|R0.IncludeAnonymous);;){let U=!1;if($.from<=q&&$.to>=X&&(!K&&$.type.isAnonymous||Z($)!==!1)){if($.firstChild())continue;U=!0}for(;;){if(U&&Y&&(K||!$.type.isAnonymous))Y($);if($.nextSibling())break;if(!$.parent())return;U=!0}}}prop(J){return!J.perNode?this.type.prop(J):this.props?this.props[J.id]:void 0}get propValues(){let J=[];if(this.props)for(let Z in this.props)J.push([+Z,this.props[Z]]);return J}balance(J={}){return this.children.length<=8?this:mZ(s0.none,this.children,this.positions,0,this.children.length,0,this.length,(Z,Y,X)=>new B0(this.type,Z,Y,X,this.propValues),J.makeTree||((Z,Y,X)=>new B0(s0.none,Z,Y,X)))}static build(J){return gA(J)}}B0.empty=new B0(s0.none,[],[],0);class xZ{constructor(J,Z){this.buffer=J,this.index=Z}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new xZ(this.buffer,this.index)}}class s5{constructor(J,Z,Y){this.buffer=J,this.length=Z,this.set=Y}get type(){return s0.none}toString(){let J=[];for(let Z=0;Z<this.buffer.length;)J.push(this.childString(Z)),Z=this.buffer[Z+3];return J.join(",")}childString(J){let Z=this.buffer[J],Y=this.buffer[J+3],X=this.set.types[Z],q=X.name;if(/\W/.test(q)&&!X.isError)q=JSON.stringify(q);if(J+=4,Y==J)return q;let Q=[];while(J<Y)Q.push(this.childString(J)),J=this.buffer[J+3];return q+"("+Q.join(",")+")"}findChild(J,Z,Y,X,q){let{buffer:Q}=this,K=-1;for(let $=J;$!=Z;$=Q[$+3])if(YU(q,X,Q[$+1],Q[$+2])){if(K=$,Y>0)break}return K}slice(J,Z,Y){let X=this.buffer,q=new Uint16Array(Z-J),Q=0;for(let K=J,$=0;K<Z;){q[$++]=X[K++],q[$++]=X[K++]-Y;let U=q[$++]=X[K++]-Y;q[$++]=X[K++]-J,Q=Math.max(Q,U)}return new s5(q,Q,this.set)}}function YU(J,Z,Y,X){switch(J){case-2:return Y<Z;case-1:return X>=Z&&Y<Z;case 0:return Y<Z&&X>Z;case 1:return Y<=Z&&X>Z;case 2:return X>Z;case 4:return!0}}function u3(J,Z,Y,X){var q;while(J.from==J.to||(Y<1?J.from>=Z:J.from>Z)||(Y>-1?J.to<=Z:J.to<Z)){let K=!X&&J instanceof $1&&J.index<0?null:J.parent;if(!K)return J;J=K}let Q=X?0:R0.IgnoreOverlays;if(X){for(let K=J,$=K.parent;$;K=$,$=K.parent)if(K instanceof $1&&K.index<0&&((q=$.enter(Z,Y,Q))===null||q===void 0?void 0:q.from)!=K.from)J=$}for(;;){let K=J.enter(Z,Y,Q);if(!K)return J;J=K}}class hZ{cursor(J=0){return new g9(this,J)}getChild(J,Z=null,Y=null){let X=e$(this,J,Z,Y);return X.length?X[0]:null}getChildren(J,Z=null,Y=null){return e$(this,J,Z,Y)}resolve(J,Z=0){return u3(this,J,Z,!1)}resolveInner(J,Z=0){return u3(this,J,Z,!0)}matchContext(J){return wZ(this.parent,J)}enterUnfinishedNodesBefore(J){let Z=this.childBefore(J),Y=this;while(Z){let X=Z.lastChild;if(!X||X.to!=Z.to)break;if(X.type.isError&&X.from==X.to)Y=Z,Z=X.prevSibling;else Z=X}return Y}get node(){return this}get next(){return this.parent}}class $1 extends hZ{constructor(J,Z,Y,X){super();this._tree=J,this.from=Z,this.index=Y,this._parent=X}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(J,Z,Y,X,q=0){var Q;for(let K=this;;){for(let{children:$,positions:U}=K._tree,W=Z>0?$.length:-1;J!=W;J+=Z){let G=$[J],j=U[J]+K.from;if(!(q&R0.EnterBracketed&&G instanceof B0&&((Q=I4.get(G))===null||Q===void 0?void 0:Q.overlay)===null&&(j>=Y||j+G.length<=Y))&&!YU(X,Y,j,j+G.length))continue;if(G instanceof s5){if(q&R0.ExcludeBuffers)continue;let z=G.findChild(0,G.buffer.length,Z,Y-j,X);if(z>-1)return new z5(new XU(K,G,J,j),null,z)}else if(q&R0.IncludeAnonymous||(!G.type.isAnonymous||vZ(G))){let z;if(!(q&R0.IgnoreMounts)&&(z=I4.get(G))&&!z.overlay)return new $1(z.tree,j,J,K);let O=new $1(G,j,J,K);return q&R0.IncludeAnonymous||!O.type.isAnonymous?O:O.nextChild(Z<0?G.children.length-1:0,Z,Y,X,q)}}if(q&R0.IncludeAnonymous||!K.type.isAnonymous)return null;if(K.index>=0)J=K.index+Z;else J=Z<0?-1:K._parent._tree.children.length;if(K=K._parent,!K)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(J){return this.nextChild(0,1,J,2)}childBefore(J){return this.nextChild(this._tree.children.length-1,-1,J,-2)}prop(J){return this._tree.prop(J)}enter(J,Z,Y=0){let X;if(!(Y&R0.IgnoreOverlays)&&(X=I4.get(this._tree))&&X.overlay){let q=J-this.from,Q=Y&R0.EnterBracketed&&X.bracketed;for(let{from:K,to:$}of X.overlay)if((Z>0||Q?K<=q:K<q)&&(Z<0||Q?$>=q:$>q))return new $1(X.tree,X.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,J,Z,Y)}nextSignificantParent(){let J=this;while(J.type.isAnonymous&&J._parent)J=J._parent;return J}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function e$(J,Z,Y,X){let q=J.cursor(),Q=[];if(!q.firstChild())return Q;if(Y!=null){for(let K=!1;!K;)if(K=q.type.is(Y),!q.nextSibling())return Q}for(;;){if(X!=null&&q.type.is(X))return Q;if(q.type.is(Z))Q.push(q.node);if(!q.nextSibling())return X==null?Q:[]}}function wZ(J,Z,Y=Z.length-1){for(let X=J;Y>=0;X=X.parent){if(!X)return!1;if(!X.type.isAnonymous){if(Z[Y]&&Z[Y]!=X.name)return!1;Y--}}return!0}class XU{constructor(J,Z,Y,X){this.parent=J,this.buffer=Z,this.index=Y,this.start=X}}class z5 extends hZ{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(J,Z,Y){super();this.context=J,this._parent=Z,this.index=Y,this.type=J.buffer.set.types[J.buffer.buffer[Y]]}child(J,Z,Y){let{buffer:X}=this.context,q=X.findChild(this.index+4,X.buffer[this.index+3],J,Z-this.context.start,Y);return q<0?null:new z5(this.context,this,q)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(J){return this.child(1,J,2)}childBefore(J){return this.child(-1,J,-2)}prop(J){return this.type.prop(J)}enter(J,Z,Y=0){if(Y&R0.ExcludeBuffers)return null;let{buffer:X}=this.context,q=X.findChild(this.index+4,X.buffer[this.index+3],Z>0?1:-1,J-this.context.start,Z);return q<0?null:new z5(this.context,this,q)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(J){return this._parent?null:this.context.parent.nextChild(this.context.index+J,J,0,4)}get nextSibling(){let{buffer:J}=this.context,Z=J.buffer[this.index+3];if(Z<(this._parent?J.buffer[this._parent.index+3]:J.buffer.length))return new z5(this.context,this._parent,Z);return this.externalSibling(1)}get prevSibling(){let{buffer:J}=this.context,Z=this._parent?this._parent.index+4:0;if(this.index==Z)return this.externalSibling(-1);return new z5(this.context,this._parent,J.findChild(Z,this.index,-1,0,4))}get tree(){return null}toTree(){let J=[],Z=[],{buffer:Y}=this.context,X=this.index+4,q=Y.buffer[this.index+3];if(q>X){let Q=Y.buffer[this.index+1];J.push(Y.slice(X,q,Q)),Z.push(0)}return new B0(this.type,J,Z,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function qU(J){if(!J.length)return null;let Z=0,Y=J[0];for(let Q=1;Q<J.length;Q++){let K=J[Q];if(K.from>Y.from||K.to<Y.to)Y=K,Z=Q}let X=Y instanceof $1&&Y.index<0?null:Y.parent,q=J.slice();if(X)q[Z]=X;else q.splice(Z,1);return new QU(q,Y)}class QU{constructor(J,Z){this.heads=J,this.node=Z}get next(){return qU(this.heads)}}function uA(J,Z,Y){let X=J.resolveInner(Z,Y),q=null;for(let Q=X instanceof $1?X:X.context.parent;Q;Q=Q.parent)if(Q.index<0){let K=Q.parent;(q||(q=[X])).push(K.resolve(Z,Y)),Q=K}else{let K=I4.get(Q.tree);if(K&&K.overlay&&K.overlay[0].from<=Z&&K.overlay[K.overlay.length-1].to>=Z){let $=new $1(K.tree,K.overlay[0].from+Q.from,-1,Q);(q||(q=[X])).push(u3($,Z,Y,!1))}}return q?qU(q):X}class g9{get name(){return this.type.name}constructor(J,Z=0){if(this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,this.mode=Z&~R0.EnterBracketed,J instanceof $1)this.yieldNode(J);else{this._tree=J.context.parent,this.buffer=J.context;for(let Y=J._parent;Y;Y=Y._parent)this.stack.unshift(Y.index);this.bufferNode=J,this.yieldBuf(J.index)}}yieldNode(J){if(!J)return!1;return this._tree=J,this.type=J.type,this.from=J.from,this.to=J.to,!0}yieldBuf(J,Z){this.index=J;let{start:Y,buffer:X}=this.buffer;return this.type=Z||X.set.types[X.buffer[J]],this.from=Y+X.buffer[J+1],this.to=Y+X.buffer[J+2],!0}yield(J){if(!J)return!1;if(J instanceof $1)return this.buffer=null,this.yieldNode(J);return this.buffer=J.context,this.yieldBuf(J.index,J.type)}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(J,Z,Y){if(!this.buffer)return this.yield(this._tree.nextChild(J<0?this._tree._tree.children.length-1:0,J,Z,Y,this.mode));let{buffer:X}=this.buffer,q=X.findChild(this.index+4,X.buffer[this.index+3],J,Z-this.buffer.start,Y);if(q<0)return!1;return this.stack.push(this.index),this.yieldBuf(q)}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(J){return this.enterChild(1,J,2)}childBefore(J){return this.enterChild(-1,J,-2)}enter(J,Z,Y=this.mode){if(!this.buffer)return this.yield(this._tree.enter(J,Z,Y));return Y&R0.ExcludeBuffers?!1:this.enterChild(1,J,Z)}parent(){if(!this.buffer)return this.yieldNode(this.mode&R0.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let J=this.mode&R0.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(J)}sibling(J){if(!this.buffer)return!this._tree._parent?!1:this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+J,J,0,4,this.mode));let{buffer:Z}=this.buffer,Y=this.stack.length-1;if(J<0){let X=Y<0?0:this.stack[Y]+4;if(this.index!=X)return this.yieldBuf(Z.findChild(X,this.index,-1,0,4))}else{let X=Z.buffer[this.index+3];if(X<(Y<0?Z.buffer.length:Z.buffer[this.stack[Y]+3]))return this.yieldBuf(X)}return Y<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+J,J,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(J){let Z,Y,{buffer:X}=this;if(X){if(J>0){if(this.index<X.buffer.buffer.length)return!1}else for(let q=0;q<this.index;q++)if(X.buffer.buffer[q+3]<this.index)return!1;({index:Z,parent:Y}=X)}else({index:Z,_parent:Y}=this._tree);for(;Y;{index:Z,_parent:Y}=Y)if(Z>-1)for(let q=Z+J,Q=J<0?-1:Y._tree.children.length;q!=Q;q+=J){let K=Y._tree.children[q];if(this.mode&R0.IncludeAnonymous||K instanceof s5||!K.type.isAnonymous||vZ(K))return!1}return!0}move(J,Z){if(Z&&this.enterChild(J,0,4))return!0;for(;;){if(this.sibling(J))return!0;if(this.atLastNode(J)||!this.parent())return!1}}next(J=!0){return this.move(1,J)}prev(J=!0){return this.move(-1,J)}moveTo(J,Z=0){while(this.from==this.to||(Z<1?this.from>=J:this.from>J)||(Z>-1?this.to<=J:this.to<J))if(!this.parent())break;while(this.enterChild(1,J,Z));return this}get node(){if(!this.buffer)return this._tree;let J=this.bufferNode,Z=null,Y=0;if(J&&J.context==this.buffer)J:for(let X=this.index,q=this.stack.length;q>=0;){for(let Q=J;Q;Q=Q._parent)if(Q.index==X){if(X==this.index)return Q;Z=Q,Y=q+1;break J}X=this.stack[--q]}for(let X=Y;X<this.stack.length;X++)Z=new z5(this.buffer,Z,this.stack[X]);return this.bufferNode=new z5(this.buffer,Z,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(J,Z){for(let Y=0;;){let X=!1;if(this.type.isAnonymous||J(this)!==!1){if(this.firstChild()){Y++;continue}if(!this.type.isAnonymous)X=!0}for(;;){if(X&&Z)Z(this);if(X=this.type.isAnonymous,!Y)return;if(this.nextSibling())break;this.parent(),Y--,X=!0}}}matchContext(J){if(!this.buffer)return wZ(this.node.parent,J);let{buffer:Z}=this.buffer,{types:Y}=Z.set;for(let X=J.length-1,q=this.stack.length-1;X>=0;q--){if(q<0)return wZ(this._tree,J,X);let Q=Y[Z.buffer[this.stack[q]]];if(!Q.isAnonymous){if(J[X]&&J[X]!=Q.name)return!1;X--}}return!0}}function vZ(J){return J.children.some((Z)=>Z instanceof s5||!Z.type.isAnonymous||vZ(Z))}function gA(J){var Z;let{buffer:Y,nodeSet:X,maxBufferLength:q=1024,reused:Q=[],minRepeatType:K=X.types.length}=J,$=Array.isArray(Y)?new xZ(Y,Y.length):Y,U=X.types,W=0,G=0;function j(E,m,x,s,Z0,z0){let{id:t,start:c,end:G0,size:Q0}=$,_0=G,t0=W;if(Q0<0)if($.next(),Q0==-1){let L5=Q[t];x.push(L5),s.push(c-E);return}else if(Q0==-3){W=t;return}else if(Q0==-4){G=t;return}else throw RangeError(`Unrecognized record size: ${Q0}`);let O1=U[t],Y5,u0,I1=c-E;if(G0-c<=q&&(u0=F($.pos-m,Z0))){let L5=new Uint16Array(u0.size-u0.skip),D1=$.pos-u0.size,X5=L5.length;while($.pos>D1)X5=M(u0.start,L5,X5);Y5=new s5(L5,G0-u0.start,X),I1=u0.start-E}else{let L5=$.pos-Q0;$.next();let D1=[],X5=[],$J=t>=K?t:-1,iJ=0,I7=G0;while($.pos>L5)if($J>=0&&$.id==$J&&$.size>=0){if($.end<=I7-q)H(D1,X5,c,iJ,$.end,I7,$J,_0,t0),iJ=D1.length,I7=$.end;$.next()}else if(z0>2500)z(c,L5,D1,X5);else j(c,L5,D1,X5,$J,z0+1);if($J>=0&&iJ>0&&iJ<D1.length)H(D1,X5,c,iJ,c,I7,$J,_0,t0);if(D1.reverse(),X5.reverse(),$J>-1&&iJ>0){let AX=O(O1,t0);Y5=mZ(O1,D1,X5,0,D1.length,0,G0-c,AX,AX)}else Y5=N(O1,D1,X5,G0-c,_0-G0,t0)}x.push(Y5),s.push(I1)}function z(E,m,x,s){let Z0=[],z0=0,t=-1;while($.pos>m){let{id:c,start:G0,end:Q0,size:_0}=$;if(_0>4)$.next();else if(t>-1&&G0<t)break;else{if(t<0)t=Q0-q;Z0.push(c,G0,Q0),z0++,$.next()}}if(z0){let c=new Uint16Array(z0*4),G0=Z0[Z0.length-2];for(let Q0=Z0.length-3,_0=0;Q0>=0;Q0-=3)c[_0++]=Z0[Q0],c[_0++]=Z0[Q0+1]-G0,c[_0++]=Z0[Q0+2]-G0,c[_0++]=_0;x.push(new s5(c,Z0[2]-G0,X)),s.push(G0-E)}}function O(E,m){return(x,s,Z0)=>{let z0=0,t=x.length-1,c,G0;if(t>=0&&(c=x[t])instanceof B0){if(!t&&c.type==E&&c.length==Z0)return c;if(G0=c.prop(i.lookAhead))z0=s[t]+c.length+G0}return N(E,x,s,Z0,z0,m)}}function H(E,m,x,s,Z0,z0,t,c,G0){let Q0=[],_0=[];while(E.length>s)Q0.push(E.pop()),_0.push(m.pop()+x-Z0);E.push(N(X.types[t],Q0,_0,z0-Z0,c-z0,G0)),m.push(Z0-x)}function N(E,m,x,s,Z0,z0,t){if(z0){let c=[i.contextHash,z0];t=t?[c].concat(t):[c]}if(Z0>25){let c=[i.lookAhead,Z0];t=t?[c].concat(t):[c]}return new B0(E,m,x,s,t)}function F(E,m){let x=$.fork(),s=0,Z0=0,z0=0,t=x.end-q,c={size:0,start:0,skip:0};J:for(let G0=x.pos-E;x.pos>G0;){let Q0=x.size;if(x.id==m&&Q0>=0){c.size=s,c.start=Z0,c.skip=z0,z0+=4,s+=4,x.next();continue}let _0=x.pos-Q0;if(Q0<0||_0<G0||x.start<t)break;let t0=x.id>=K?4:0,O1=x.start;x.next();while(x.pos>_0){if(x.size<0)if(x.size==-3||x.size==-4)t0+=4;else break J;else if(x.id>=K)t0+=4;x.next()}Z0=O1,s+=Q0,z0+=t0}if(m<0||s==E)c.size=s,c.start=Z0,c.skip=z0;return c.size>4?c:void 0}function M(E,m,x){let{id:s,start:Z0,end:z0,size:t}=$;if($.next(),t>=0&&s<K){let c=x;if(t>4){let G0=$.pos-(t-4);while($.pos>G0)x=M(E,m,x)}m[--x]=c,m[--x]=z0-E,m[--x]=Z0-E,m[--x]=s}else if(t==-3)W=s;else if(t==-4)G=s;return x}let I=[],L=[];while($.pos>0)j(J.start||0,J.bufferStart||0,I,L,-1,0);let P=(Z=J.length)!==null&&Z!==void 0?Z:I.length?L[0]+I[0].length:0;return new B0(U[J.topID],I.reverse(),L.reverse(),P)}var JU=new WeakMap;function u9(J,Z){if(!J.isAnonymous||Z instanceof s5||Z.type!=J)return 1;let Y=JU.get(Z);if(Y==null){Y=1;for(let X of Z.children){if(X.type!=J||!(X instanceof B0)){Y=1;break}Y+=u9(J,X)}JU.set(Z,Y)}return Y}function mZ(J,Z,Y,X,q,Q,K,$,U){let W=0;for(let H=X;H<q;H++)W+=u9(J,Z[H]);let G=Math.ceil(W*1.5/8),j=[],z=[];function O(H,N,F,M,I){for(let L=F;L<M;){let P=L,E=N[L],m=u9(J,H[L]);L++;for(;L<M;L++){let x=u9(J,H[L]);if(m+x>=G)break;m+=x}if(L==P+1){if(m>G){let x=H[P];O(x.children,x.positions,0,x.children.length,N[P]+I);continue}j.push(H[P])}else{let x=N[L-1]+H[L-1].length-E;j.push(mZ(J,H,N,P,L,E,x,null,U))}z.push(E+I-Q)}}return O(Z,Y,X,q,0),($||U)(j,z,K)}class uZ{constructor(){this.map=new WeakMap}setBuffer(J,Z,Y){let X=this.map.get(J);if(!X)this.map.set(J,X=new Map);X.set(Z,Y)}getBuffer(J,Z){let Y=this.map.get(J);return Y&&Y.get(Z)}set(J,Z){if(J instanceof z5)this.setBuffer(J.context.buffer,J.index,Z);else if(J instanceof $1)this.map.set(J.tree,Z)}get(J){return J instanceof z5?this.getBuffer(J.context.buffer,J.index):J instanceof $1?this.map.get(J.tree):void 0}cursorSet(J,Z){if(J.buffer)this.setBuffer(J.buffer.buffer,J.index,Z);else this.map.set(J.tree,Z)}cursorGet(J){return J.buffer?this.getBuffer(J.buffer.buffer,J.index):this.map.get(J.tree)}}class a5{constructor(J,Z,Y,X,q=!1,Q=!1){this.from=J,this.to=Z,this.tree=Y,this.offset=X,this.open=(q?1:0)|(Q?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(J,Z=[],Y=!1){let X=[new a5(0,J.length,J,0,!1,Y)];for(let q of Z)if(q.to>J.length)X.push(q);return X}static applyChanges(J,Z,Y=128){if(!Z.length)return J;let X=[],q=1,Q=J.length?J[0]:null;for(let K=0,$=0,U=0;;K++){let W=K<Z.length?Z[K]:null,G=W?W.fromA:1e9;if(G-$>=Y)while(Q&&Q.from<G){let j=Q;if($>=j.from||G<=j.to||U){let z=Math.max(j.from,$)-U,O=Math.min(j.to,G)-U;j=z>=O?null:new a5(z,O,j.tree,j.offset+U,K>0,!!W)}if(j)X.push(j);if(Q.to>G)break;Q=q<J.length?J[q++]:null}if(!W)break;$=W.toA,U=W.toA-W.toB}return X}}class f3{startParse(J,Z,Y){if(typeof J=="string")J=new KU(J);return Y=!Y?[new m9(0,J.length)]:Y.length?Y.map((X)=>new m9(X.from,X.to)):[new m9(0,0)],this.createParse(J,Z||[],Y)}parse(J,Z,Y){let X=this.startParse(J,Z,Y);for(;;){let q=X.advance();if(q)return q}}}class KU{constructor(J){this.string=J}get length(){return this.string.length}chunk(J){return this.string.slice(J)}get lineChunks(){return!1}read(J,Z){return this.string.slice(J,Z)}}var GP=new i({perNode:!0});var fA=0;class C1{constructor(J,Z,Y,X){this.name=J,this.set=Z,this.base=Y,this.modified=X,this.id=fA++}toString(){let{name:J}=this;for(let Z of this.modified)if(Z.name)J=`${Z.name}(${J})`;return J}static define(J,Z){let Y=typeof J=="string"?J:"?";if(J instanceof C1)Z=J;if(Z===null||Z===void 0?void 0:Z.base)throw Error("Can not derive from a modified tag");let X=new C1(Y,[],null,[]);if(X.set.push(X),Z)for(let q of Z.set)X.set.push(q);return X}static defineModifier(J){let Z=new d9(J);return(Y)=>{if(Y.modified.indexOf(Z)>-1)return Y;return d9.get(Y.base||Y,Y.modified.concat(Z).sort((X,q)=>X.id-q.id))}}}var lA=0;class d9{constructor(J){this.name=J,this.instances=[],this.id=lA++}static get(J,Z){if(!Z.length)return J;let Y=Z[0].instances.find((K)=>K.base==J&&pA(Z,K.modified));if(Y)return Y;let X=[],q=new C1(J.name,X,J,Z);for(let K of Z)K.instances.push(q);let Q=dA(Z);for(let K of J.set)if(!K.modified.length)for(let $ of Q)X.push(d9.get(K,$));return q}}function pA(J,Z){return J.length==Z.length&&J.every((Y,X)=>Y==Z[X])}function dA(J){let Z=[[]];for(let Y=0;Y<J.length;Y++)for(let X=0,q=Z.length;X<q;X++)Z.push(Z[X].concat(J[Y]));return Z.sort((Y,X)=>X.length-Y.length)}function c9(J){let Z=Object.create(null);for(let Y in J){let X=J[Y];if(!Array.isArray(X))X=[X];for(let q of Y.split(" "))if(q){let Q=[],K=2,$=q;for(let j=0;;){if($=="..."&&j>0&&j+3==q.length){K=1;break}let z=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec($);if(!z)throw RangeError("Invalid path: "+q);if(Q.push(z[0]=="*"?"":z[0][0]=='"'?JSON.parse(z[0]):z[0]),j+=z[0].length,j==q.length)break;let O=q[j++];if(j==q.length&&O=="!"){K=0;break}if(O!="/")throw RangeError("Invalid path: "+q);$=q.slice(j)}let U=Q.length-1,W=Q[U];if(!W)throw RangeError("Invalid path: "+q);let G=new D4(X,K,U>0?Q.slice(0,U):null);Z[W]=G.sort(Z[W])}}return WU.add(Z)}var WU=new i({combine(J,Z){let Y,X,q;while(J||Z){if(!J||Z&&J.depth>=Z.depth)q=Z,Z=Z.next;else q=J,J=J.next;if(Y&&Y.mode==q.mode&&!q.context&&!Y.context)continue;let Q=new D4(q.tags,q.mode,q.context);if(Y)Y.next=Q;else X=Q;Y=Q}return X}});class D4{constructor(J,Z,Y,X){this.tags=J,this.mode=Z,this.context=Y,this.next=X}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(J){if(!J||J.depth<this.depth)return this.next=J,this;return J.next=this.sort(J.next),J}get depth(){return this.context?this.context.length:0}}D4.empty=new D4([],2,null);function lZ(J,Z){let Y=Object.create(null);for(let Q of J)if(!Array.isArray(Q.tag))Y[Q.tag.id]=Q.class;else for(let K of Q.tag)Y[K.id]=Q.class;let{scope:X,all:q=null}=Z||{};return{style:(Q)=>{let K=q;for(let $ of Q)for(let U of $.set){let W=Y[U.id];if(W){K=K?K+" "+W:W;break}}return K},scope:X}}function cA(J,Z){let Y=null;for(let X of J){let q=X.style(Z);if(q)Y=Y?Y+" "+q:q}return Y}function GU(J,Z,Y,X=0,q=J.length){let Q=new jU(X,Array.isArray(Z)?Z:[Z],Y);Q.highlightRange(J.cursor(),X,q,"",Q.highlighters),Q.flush(q)}class jU{constructor(J,Z,Y){this.at=J,this.highlighters=Z,this.span=Y,this.class=""}startSpan(J,Z){if(Z!=this.class){if(this.flush(J),J>this.at)this.at=J;this.class=Z}}flush(J){if(J>this.at&&this.class)this.span(this.at,J,this.class)}highlightRange(J,Z,Y,X,q){let{type:Q,from:K,to:$}=J;if(K>=Y||$<=Z)return;if(Q.isTop)q=this.highlighters.filter((z)=>!z.scope||z.scope(Q));let U=X,W=nA(J)||D4.empty,G=cA(q,W.tags);if(G){if(U)U+=" ";if(U+=G,W.mode==1)X+=(X?" ":"")+G}if(this.startSpan(Math.max(Z,K),U),W.opaque)return;let j=J.tree&&J.tree.prop(i.mounted);if(j&&j.overlay){let z=J.node.enter(j.overlay[0].from+K,1),O=this.highlighters.filter((N)=>!N.scope||N.scope(j.tree.type)),H=J.firstChild();for(let N=0,F=K;;N++){let M=N<j.overlay.length?j.overlay[N]:null,I=M?M.from+K:$,L=Math.max(Z,F),P=Math.min(Y,I);if(L<P&&H){while(J.from<P)if(this.highlightRange(J,L,P,X,q),this.startSpan(Math.min(P,J.to),U),J.to>=I||!J.nextSibling())break}if(!M||I>Y)break;if(F=M.to+K,F>Z)this.highlightRange(z.cursor(),Math.max(Z,M.from+K),Math.min(Y,F),"",O),this.startSpan(Math.min(Y,F),U)}if(H)J.parent()}else if(J.firstChild()){if(j)X="";do{if(J.to<=Z)continue;if(J.from>=Y)break;this.highlightRange(J,Z,Y,X,q),this.startSpan(Math.min(Y,J.to),U)}while(J.nextSibling());J.parent()}}}function nA(J){let Z=J.type.prop(WU);while(Z&&Z.context&&!J.matchContext(Z.context))Z=Z.next;return Z||null}var T=C1.define,f9=T(),r5=T(),$U=T(r5),UU=T(r5),o5=T(),l9=T(o5),gZ=T(o5),H5=T(),wJ=T(H5),O5=T(),_5=T(),fZ=T(),l3=T(fZ),p9=T(),V={comment:f9,lineComment:T(f9),blockComment:T(f9),docComment:T(f9),name:r5,variableName:T(r5),typeName:$U,tagName:T($U),propertyName:UU,attributeName:T(UU),className:T(r5),labelName:T(r5),namespace:T(r5),macroName:T(r5),literal:o5,string:l9,docString:T(l9),character:T(l9),attributeValue:T(l9),number:gZ,integer:T(gZ),float:T(gZ),bool:T(o5),regexp:T(o5),escape:T(o5),color:T(o5),url:T(o5),keyword:O5,self:T(O5),null:T(O5),atom:T(O5),unit:T(O5),modifier:T(O5),operatorKeyword:T(O5),controlKeyword:T(O5),definitionKeyword:T(O5),moduleKeyword:T(O5),operator:_5,derefOperator:T(_5),arithmeticOperator:T(_5),logicOperator:T(_5),bitwiseOperator:T(_5),compareOperator:T(_5),updateOperator:T(_5),definitionOperator:T(_5),typeOperator:T(_5),controlOperator:T(_5),punctuation:fZ,separator:T(fZ),bracket:l3,angleBracket:T(l3),squareBracket:T(l3),paren:T(l3),brace:T(l3),content:H5,heading:wJ,heading1:T(wJ),heading2:T(wJ),heading3:T(wJ),heading4:T(wJ),heading5:T(wJ),heading6:T(wJ),contentSeparator:T(H5),list:T(H5),quote:T(H5),emphasis:T(H5),strong:T(H5),link:T(H5),monospace:T(H5),strikethrough:T(H5),inserted:T(),deleted:T(),changed:T(),invalid:T(),meta:p9,documentMeta:T(p9),annotation:T(p9),processingInstruction:T(p9),definition:C1.defineModifier("definition"),constant:C1.defineModifier("constant"),function:C1.defineModifier("function"),standard:C1.defineModifier("standard"),local:C1.defineModifier("local"),special:C1.defineModifier("special")};for(let J in V){let Z=V[J];if(Z instanceof C1)Z.name=J}var OP=lZ([{tag:V.link,class:"tok-link"},{tag:V.heading,class:"tok-heading"},{tag:V.emphasis,class:"tok-emphasis"},{tag:V.strong,class:"tok-strong"},{tag:V.keyword,class:"tok-keyword"},{tag:V.atom,class:"tok-atom"},{tag:V.bool,class:"tok-bool"},{tag:V.url,class:"tok-url"},{tag:V.labelName,class:"tok-labelName"},{tag:V.inserted,class:"tok-inserted"},{tag:V.deleted,class:"tok-deleted"},{tag:V.literal,class:"tok-literal"},{tag:V.string,class:"tok-string"},{tag:V.number,class:"tok-number"},{tag:[V.regexp,V.escape,V.special(V.string)],class:"tok-string2"},{tag:V.variableName,class:"tok-variableName"},{tag:V.local(V.variableName),class:"tok-variableName tok-local"},{tag:V.definition(V.variableName),class:"tok-variableName tok-definition"},{tag:V.special(V.variableName),class:"tok-variableName2"},{tag:V.definition(V.propertyName),class:"tok-propertyName tok-definition"},{tag:V.typeName,class:"tok-typeName"},{tag:V.namespace,class:"tok-namespace"},{tag:V.className,class:"tok-className"},{tag:V.macroName,class:"tok-macroName"},{tag:V.propertyName,class:"tok-propertyName"},{tag:V.operator,class:"tok-operator"},{tag:V.comment,class:"tok-comment"},{tag:V.meta,class:"tok-meta"},{tag:V.invalid,class:"tok-invalid"},{tag:V.punctuation,class:"tok-punctuation"}]);var pZ,L4=new i;function rZ(J){return b.define({combine:J?(Z)=>Z.concat(J):void 0})}var r9=new i;class T1{constructor(J,Z,Y=[],X=""){if(this.data=J,this.name=X,!o.prototype.hasOwnProperty("tree"))Object.defineProperty(o.prototype,"tree",{get(){return E0(this)}});this.parser=Z,this.extension=[t5.of(this),o.languageData.of((q,Q,K)=>{let $=zU(q,Q,K),U=$.type.prop(L4);if(!U)return[];let W=q.facet(U),G=$.type.prop(r9);if(G){let j=$.resolve(Q-$.from,K);for(let z of G)if(z.test(j,q)){let O=q.facet(z.facet);return z.type=="replace"?O:O.concat(W)}}return W})].concat(Y)}isActiveAt(J,Z,Y=-1){return zU(J,Z,Y).type.prop(L4)==this.data}findRegions(J){let Z=J.facet(t5);if((Z===null||Z===void 0?void 0:Z.data)==this.data)return[{from:0,to:J.doc.length}];if(!Z||!Z.allowsNesting)return[];let Y=[],X=(q,Q)=>{if(q.prop(L4)==this.data){Y.push({from:Q,to:Q+q.length});return}let K=q.prop(i.mounted);if(K){if(K.tree.prop(L4)==this.data){if(K.overlay)for(let $ of K.overlay)Y.push({from:$.from+Q,to:$.to+Q});else Y.push({from:Q,to:Q+q.length});return}else if(K.overlay){let $=Y.length;if(X(K.tree,K.overlay[0].from+Q),Y.length>$)return}}for(let $=0;$<q.children.length;$++){let U=q.children[$];if(U instanceof B0)X(U,q.positions[$]+Q)}};return X(E0(J),0),Y}get allowsNesting(){return!0}}T1.setState=p.define();function zU(J,Z,Y){let X=J.facet(t5),q=E0(J).topNode;if(!X||X.allowsNesting){for(let Q=q;Q;Q=Q.enter(Z,Y,R0.ExcludeBuffers|R0.EnterBracketed))if(Q.type.isTop)q=Q}return q}class d3 extends T1{constructor(J,Z,Y){super(J,Z,[],Y);this.parser=Z}static define(J){let Z=rZ(J.languageData);return new d3(Z,J.parser.configure({props:[L4.add((Y)=>Y.isTop?Z:void 0)]}),J.name)}configure(J,Z){return new d3(this.data,this.parser.configure(J),Z||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function E0(J){let Z=J.field(T1.state,!1);return Z?Z.tree:B0.empty}class FU{constructor(J){this.doc=J,this.cursorPos=0,this.string="",this.cursor=J.iter()}get length(){return this.doc.length}syncTo(J){return this.string=this.cursor.next(J-this.cursorPos).value,this.cursorPos=J+this.string.length,this.cursorPos-this.string.length}chunk(J){return this.syncTo(J),this.string}get lineChunks(){return!0}read(J,Z){let Y=this.cursorPos-this.string.length;if(J<Y||Z>=this.cursorPos)return this.doc.sliceString(J,Z);else return this.string.slice(J-Y,Z-Y)}}var p3=null;class i9{constructor(J,Z,Y=[],X,q,Q,K,$){this.parser=J,this.state=Z,this.fragments=Y,this.tree=X,this.treeLen=q,this.viewport=Q,this.skipped=K,this.scheduleOn=$,this.parse=null,this.tempSkipped=[]}static create(J,Z,Y){return new i9(J,Z,[],B0.empty,0,Y,[],null)}startParse(){return this.parser.startParse(new FU(this.state.doc),this.fragments)}work(J,Z){if(Z!=null&&Z>=this.state.doc.length)Z=void 0;if(this.tree!=B0.empty&&this.isDone(Z!==null&&Z!==void 0?Z:this.state.doc.length))return this.takeTree(),!0;return this.withContext(()=>{var Y;if(typeof J=="number"){let X=Date.now()+J;J=()=>Date.now()>X}if(!this.parse)this.parse=this.startParse();if(Z!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>Z)&&Z<this.state.doc.length)this.parse.stopAt(Z);for(;;){let X=this.parse.advance();if(X)if(this.fragments=this.withoutTempSkipped(a5.addTree(X,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(Y=this.parse.stoppedAt)!==null&&Y!==void 0?Y:this.state.doc.length,this.tree=X,this.parse=null,this.treeLen<(Z!==null&&Z!==void 0?Z:this.state.doc.length))this.parse=this.startParse();else return!0;if(J())return!1}})}takeTree(){let J,Z;if(this.parse&&(J=this.parse.parsedPos)>=this.treeLen){if(this.parse.stoppedAt==null||this.parse.stoppedAt>J)this.parse.stopAt(J);this.withContext(()=>{while(!(Z=this.parse.advance()));}),this.treeLen=J,this.tree=Z,this.fragments=this.withoutTempSkipped(a5.addTree(this.tree,this.fragments,!0)),this.parse=null}}withContext(J){let Z=p3;p3=this;try{return J()}finally{p3=Z}}withoutTempSkipped(J){for(let Z;Z=this.tempSkipped.pop();)J=OU(J,Z.from,Z.to);return J}changes(J,Z){let{fragments:Y,tree:X,treeLen:q,viewport:Q,skipped:K}=this;if(this.takeTree(),!J.empty){let $=[];if(J.iterChangedRanges((U,W,G,j)=>$.push({fromA:U,toA:W,fromB:G,toB:j})),Y=a5.applyChanges(Y,$),X=B0.empty,q=0,Q={from:J.mapPos(Q.from,-1),to:J.mapPos(Q.to,1)},this.skipped.length){K=[];for(let U of this.skipped){let W=J.mapPos(U.from,1),G=J.mapPos(U.to,-1);if(W<G)K.push({from:W,to:G})}}}return new i9(this.parser,Z,Y,X,q,Q,K,this.scheduleOn)}updateViewport(J){if(this.viewport.from==J.from&&this.viewport.to==J.to)return!1;this.viewport=J;let Z=this.skipped.length;for(let Y=0;Y<this.skipped.length;Y++){let{from:X,to:q}=this.skipped[Y];if(X<J.to&&q>J.from)this.fragments=OU(this.fragments,X,q),this.skipped.splice(Y--,1)}if(this.skipped.length>=Z)return!1;return this.reset(),!0}reset(){if(this.parse)this.takeTree(),this.parse=null}skipUntilInView(J,Z){this.skipped.push({from:J,to:Z})}static getSkippingParser(J){return new class extends f3{createParse(Z,Y,X){let q=X[0].from,Q=X[X.length-1].to;return{parsedPos:q,advance(){let $=p3;if($){for(let U of X)$.tempSkipped.push(U);if(J)$.scheduleOn=$.scheduleOn?Promise.all([$.scheduleOn,J]):J}return this.parsedPos=Q,new B0(s0.none,[],[],Q-q)},stoppedAt:null,stopAt(){}}}}}isDone(J){J=Math.min(J,this.state.doc.length);let Z=this.fragments;return this.treeLen>=J&&Z.length&&Z[0].from==0&&Z[0].to>=J}static get(){return p3}}function OU(J,Z,Y){return a5.applyChanges(J,[{fromA:Z,toA:Y,fromB:Z,toB:Y}])}class B4{constructor(J){this.context=J,this.tree=J.tree}apply(J){if(!J.docChanged&&this.tree==this.context.tree)return this;let Z=this.context.changes(J.changes,J.state),Y=this.context.treeLen==J.startState.doc.length?void 0:Math.max(J.changes.mapPos(this.context.treeLen),Z.viewport.to);if(!Z.work(20,Y))Z.takeTree();return new B4(Z)}static init(J){let Z=Math.min(3000,J.doc.length),Y=i9.create(J.facet(t5).parser,J,{from:0,to:Z});if(!Y.work(20,Z))Y.takeTree();return new B4(Y)}}T1.state=M0.define({create:B4.init,update(J,Z){for(let Y of Z.effects)if(Y.is(T1.setState))return Y.value;if(Z.startState.facet(t5)!=Z.state.facet(t5))return B4.init(Z.state);return J.apply(Z)}});var MU=(J)=>{let Z=setTimeout(()=>J(),500);return()=>clearTimeout(Z)};if(typeof requestIdleCallback<"u")MU=(J)=>{let Z=-1,Y=setTimeout(()=>{Z=requestIdleCallback(J,{timeout:400})},100);return()=>Z<0?clearTimeout(Y):cancelIdleCallback(Z)};var dZ=typeof navigator<"u"&&((pZ=navigator.scheduling)===null||pZ===void 0?void 0:pZ.isInputPending)?()=>navigator.scheduling.isInputPending():null,iA=N0.fromClass(class{constructor(Z){this.view=Z,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(Z){let Y=this.view.state.field(T1.state).context;if(Y.updateViewport(Z.view.viewport)||this.view.viewport.to>Y.treeLen)this.scheduleWork();if(Z.docChanged||Z.selectionSet){if(this.view.hasFocus)this.chunkBudget+=50;this.scheduleWork()}this.checkAsyncSchedule(Y)}scheduleWork(){if(this.working)return;let{state:Z}=this.view,Y=Z.field(T1.state);if(Y.tree!=Y.context.tree||!Y.context.isDone(Z.doc.length))this.working=MU(this.work)}work(Z){this.working=null;let Y=Date.now();if(this.chunkEnd<Y&&(this.chunkEnd<0||this.view.hasFocus))this.chunkEnd=Y+30000,this.chunkBudget=3000;if(this.chunkBudget<=0)return;let{state:X,viewport:{to:q}}=this.view,Q=X.field(T1.state);if(Q.tree==Q.context.tree&&Q.context.isDone(q+1e5))return;let K=Date.now()+Math.min(this.chunkBudget,100,Z&&!dZ?Math.max(25,Z.timeRemaining()-5):1e9),$=Q.context.treeLen<q&&X.doc.length>q+1000,U=Q.context.work(()=>{return dZ&&dZ()||Date.now()>K},q+($?0:1e5));if(this.chunkBudget-=Date.now()-Y,U||this.chunkBudget<=0)Q.context.takeTree(),this.view.dispatch({effects:T1.setState.of(new B4(Q.context))});if(this.chunkBudget>0&&!(U&&!$))this.scheduleWork();this.checkAsyncSchedule(Q.context)}checkAsyncSchedule(Z){if(Z.scheduleOn)this.workScheduled++,Z.scheduleOn.then(()=>this.scheduleWork()).catch((Y)=>l0(this.view.state,Y)).then(()=>this.workScheduled--),Z.scheduleOn=null}destroy(){if(this.working)this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),t5=b.define({combine(J){return J.length?J[0]:null},enables:(J)=>[T1.state,iA,C.contentAttributes.compute([J],(Z)=>{let Y=Z.facet(J);return Y&&Y.name?{"data-language":Y.name}:{}})]});class o9{constructor(J,Z=[]){this.language=J,this.support=Z,this.extension=[J,Z]}}var sA=b.define(),P4=b.define({combine:(J)=>{if(!J.length)return"  ";let Z=J[0];if(!Z||/\S/.test(Z)||Array.from(Z).some((Y)=>Y!=Z[0]))throw Error("Invalid indent unit: "+JSON.stringify(J[0]));return Z}});function c3(J){let Z=J.facet(P4);return Z.charCodeAt(0)==9?J.tabSize*Z.length:Z.length}function E4(J,Z){let Y="",X=J.tabSize,q=J.facet(P4)[0];if(q=="\t"){while(Z>=X)Y+="\t",Z-=X;q=" "}for(let Q=0;Q<Z;Q++)Y+=q;return Y}function t9(J,Z){if(J instanceof o)J=new C4(J);for(let X of J.state.facet(sA)){let q=X(J,Z);if(q!==void 0)return q}let Y=E0(J.state);return Y.length>=Z?aA(J,Y,Z):null}class C4{constructor(J,Z={}){this.state=J,this.options=Z,this.unit=c3(J)}lineAt(J,Z=1){let Y=this.state.doc.lineAt(J),{simulateBreak:X,simulateDoubleBreak:q}=this.options;if(X!=null&&X>=Y.from&&X<=Y.to)if(q&&X==J)return{text:"",from:J};else if(Z<0?X<J:X<=J)return{text:Y.text.slice(X-Y.from),from:X};else return{text:Y.text.slice(0,X-Y.from),from:Y.from};return Y}textAfterPos(J,Z=1){if(this.options.simulateDoubleBreak&&J==this.options.simulateBreak)return"";let{text:Y,from:X}=this.lineAt(J,Z);return Y.slice(J-X,Math.min(Y.length,J+100-X))}column(J,Z=1){let{text:Y,from:X}=this.lineAt(J,Z),q=this.countColumn(Y,J-X),Q=this.options.overrideIndentation?this.options.overrideIndentation(X):-1;if(Q>-1)q+=Q-this.countColumn(Y,Y.search(/\S|$/));return q}countColumn(J,Z=J.length){return C5(J,this.state.tabSize,Z)}lineIndent(J,Z=1){let{text:Y,from:X}=this.lineAt(J,Z),q=this.options.overrideIndentation;if(q){let Q=q(X);if(Q>-1)return Q}return this.countColumn(Y,Y.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}var oZ=new i;function aA(J,Z,Y){let X=Z.resolveStack(Y),q=Z.resolveInner(Y,-1).resolve(Y,0).enterUnfinishedNodesBefore(Y);if(q!=X.node){let Q=[];for(let K=q;K&&!(K.from<X.node.from||K.to>X.node.to||K.from==X.node.from&&K.type==X.node.type);K=K.parent)Q.push(K);for(let K=Q.length-1;K>=0;K--)X={node:Q[K],next:X}}return VU(X,J,Y)}function VU(J,Z,Y){for(let X=J;X;X=X.next){let q=oA(X.node);if(q)return q(tZ.create(Z,Y,X))}return 0}function rA(J){return J.pos==J.options.simulateBreak&&J.options.simulateDoubleBreak}function oA(J){let Z=J.type.prop(oZ);if(Z)return Z;let Y=J.firstChild,X;if(Y&&(X=Y.type.prop(i.closedBy))){let q=J.lastChild,Q=q&&X.indexOf(q.name)>-1;return(K)=>DU(K,!0,1,void 0,Q&&!rA(K)?q.from:void 0)}return J.parent==null?tA:null}function tA(){return 0}class tZ extends C4{constructor(J,Z,Y){super(J.state,J.options);this.base=J,this.pos=Z,this.context=Y}get node(){return this.context.node}static create(J,Z,Y){return new tZ(J,Z,Y)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(J){let Z=this.state.doc.lineAt(J.from);for(;;){let Y=J.resolve(Z.from);while(Y.parent&&Y.parent.from==Y.from)Y=Y.parent;if(eA(Y,J))break;Z=this.state.doc.lineAt(Y.from)}return this.lineIndent(Z.from)}continue(){return VU(this.context.next,this.base,this.pos)}}function eA(J,Z){for(let Y=Z;Y;Y=Y.parent)if(J==Y)return!0;return!1}function JF(J){let Z=J.node,Y=Z.childAfter(Z.from),X=Z.lastChild;if(!Y)return null;let q=J.options.simulateBreak,Q=J.state.doc.lineAt(Y.from),K=q==null||q<=Q.from?Q.to:Math.min(Q.to,q);for(let $=Y.to;;){let U=Z.childAfter($);if(!U||U==X)return null;if(!U.type.isSkipped){if(U.from>=K)return null;let W=/^ */.exec(Q.text.slice(Y.to-Q.from))[0].length;return{from:Y.from,to:Y.to+W}}$=U.to}}function IU({closing:J,align:Z=!0,units:Y=1}){return(X)=>DU(X,Z,Y,J)}function DU(J,Z,Y,X,q){let Q=J.textAfter,K=Q.match(/^\s*/)[0].length,$=X&&Q.slice(K,K+X.length)==X||q==J.pos+K,U=Z?JF(J):null;if(U)return $?J.column(U.from):J.column(U.to);return J.baseIndent+($?0:J.unit*Y)}var LU=(J)=>J.baseIndent;function e9({except:J,units:Z=1}={}){return(Y)=>{let X=J&&J.test(Y.textAfter);return Y.baseIndent+(X?0:Z*Y.unit)}}var ZF=200;function BU(){return o.transactionFilter.of((J)=>{if(!J.docChanged||!J.isUserEvent("input.type")&&!J.isUserEvent("input.complete"))return J;let Z=J.startState.languageDataAt("indentOnInput",J.startState.selection.main.head);if(!Z.length)return J;let Y=J.newDoc,{head:X}=J.newSelection.main,q=Y.lineAt(X);if(X>q.from+ZF)return J;let Q=Y.sliceString(q.from,X);if(!Z.some((W)=>W.test(Q)))return J;let{state:K}=J,$=-1,U=[];for(let{head:W}of K.selection.ranges){let G=K.doc.lineAt(W);if(G.from==$)continue;$=G.from;let j=t9(K,G.from);if(j==null)continue;let z=/^\s*/.exec(G.text)[0],O=E4(K,j);if(z!=O)U.push({from:G.from,to:G.from+z.length,insert:O})}return U.length?[J,{changes:U,sequential:!0}]:J})}var YF=b.define(),eZ=new i;function PU(J){let{firstChild:Z,lastChild:Y}=J;return Z&&Z.to<Y.from?{from:Z.to,to:Y.type.isError?J.to:Y.from}:null}function XF(J,Z,Y){let X=E0(J);if(X.length<Y)return null;let q=X.resolveStack(Y,1),Q=null;for(let K=q;K;K=K.next){let $=K.node;if($.to<=Y||$.from>Y)continue;if(Q&&$.from<Z)break;let U=$.type.prop(eZ);if(U&&($.to<X.length-50||X.length==J.doc.length||!qF($))){let W=U($,J);if(W&&W.from<=Y&&W.from>=Z&&W.to>Y)Q=W}}return Q}function qF(J){let Z=J.lastChild;return Z&&Z.to==J.to&&Z.type.isError}function s9(J,Z,Y){for(let X of J.facet(YF)){let q=X(J,Z,Y);if(q)return q}return XF(J,Z,Y)}function EU(J,Z){let Y=Z.mapPos(J.from,1),X=Z.mapPos(J.to,-1);return Y>=X?void 0:{from:Y,to:X}}var J6=p.define({map:EU}),n3=p.define({map:EU});function CU(J){let Z=[];for(let{head:Y}of J.state.selection.ranges){if(Z.some((X)=>X.from<=Y&&X.to>=Y))continue;Z.push(J.lineBlockAt(Y))}return Z}var xJ=M0.define({create(){return f.none},update(J,Z){if(Z.isUserEvent("delete"))Z.changes.iterChangedRanges((Y,X)=>J=_U(J,Y,X));J=J.map(Z.changes);for(let Y of Z.effects)if(Y.is(J6)&&!QF(J,Y.value.from,Y.value.to)){let{preparePlaceholder:X}=Z.state.facet(JY),q=!X?HU:f.replace({widget:new wU(X(Z.state,Y.value))});J=J.update({add:[q.range(Y.value.from,Y.value.to)]})}else if(Y.is(n3))J=J.update({filter:(X,q)=>Y.value.from!=X||Y.value.to!=q,filterFrom:Y.value.from,filterTo:Y.value.to});if(Z.selection)J=_U(J,Z.selection.main.head);return J},provide:(J)=>C.decorations.from(J),toJSON(J,Z){let Y=[];return J.between(0,Z.doc.length,(X,q)=>{Y.push(X,q)}),Y},fromJSON(J){if(!Array.isArray(J)||J.length%2)throw RangeError("Invalid JSON for fold state");let Z=[];for(let Y=0;Y<J.length;){let X=J[Y++],q=J[Y++];if(typeof X!="number"||typeof q!="number")throw RangeError("Invalid JSON for fold state");Z.push(HU.range(X,q))}return f.set(Z,!0)}});function _U(J,Z,Y=Z){let X=!1;return J.between(Z,Y,(q,Q)=>{if(q<Y&&Q>Z)X=!0}),!X?J:J.update({filterFrom:Z,filterTo:Y,filter:(q,Q)=>q>=Y||Q<=Z})}function a9(J,Z,Y){var X;let q=null;return(X=J.field(xJ,!1))===null||X===void 0||X.between(Z,Y,(Q,K)=>{if(!q||q.from>Q)q={from:Q,to:K}}),q}function QF(J,Z,Y){let X=!1;return J.between(Z,Z,(q,Q)=>{if(q==Z&&Q==Y)X=!0}),X}function TU(J,Z){return J.field(xJ,!1)?Z:Z.concat(p.appendConfig.of(SU()))}var KF=(J)=>{for(let Z of CU(J)){let Y=s9(J.state,Z.from,Z.to);if(Y)return J.dispatch({effects:TU(J.state,[J6.of(Y),yU(J,Y)])}),!0}return!1},$F=(J)=>{if(!J.state.field(xJ,!1))return!1;let Z=[];for(let Y of CU(J)){let X=a9(J.state,Y.from,Y.to);if(X)Z.push(n3.of(X),yU(J,X,!1))}if(Z.length)J.dispatch({effects:Z});return Z.length>0};function yU(J,Z,Y=!0){let X=J.state.doc.lineAt(Z.from).number,q=J.state.doc.lineAt(Z.to).number;return C.announce.of(`${J.state.phrase(Y?"Folded lines":"Unfolded lines")} ${X} ${J.state.phrase("to")} ${q}.`)}var UF=(J)=>{let{state:Z}=J,Y=[];for(let X=0;X<Z.doc.length;){let q=J.lineBlockAt(X),Q=s9(Z,q.from,q.to);if(Q)Y.push(J6.of(Q));X=(Q?J.lineBlockAt(Q.to):q).to+1}if(Y.length)J.dispatch({effects:TU(J.state,Y)});return!!Y.length},WF=(J)=>{let Z=J.state.field(xJ,!1);if(!Z||!Z.size)return!1;let Y=[];return Z.between(0,J.state.doc.length,(X,q)=>{Y.push(n3.of({from:X,to:q}))}),J.dispatch({effects:Y}),!0};var bU=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:KF},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:$F},{key:"Ctrl-Alt-[",run:UF},{key:"Ctrl-Alt-]",run:WF}],GF={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},JY=b.define({combine(J){return i0(J,GF)}});function SU(J){let Z=[xJ,zF];if(J)Z.push(JY.of(J));return Z}function kU(J,Z){let{state:Y}=J,X=Y.facet(JY),q=(K)=>{let $=J.lineBlockAt(J.posAtDOM(K.target)),U=a9(J.state,$.from,$.to);if(U)J.dispatch({effects:n3.of(U)});K.preventDefault()};if(X.placeholderDOM)return X.placeholderDOM(J,q,Z);let Q=document.createElement("span");return Q.textContent=X.placeholderText,Q.setAttribute("aria-label",Y.phrase("folded code")),Q.title=Y.phrase("unfold"),Q.className="cm-foldPlaceholder",Q.onclick=q,Q}var HU=f.replace({widget:new class extends K1{toDOM(J){return kU(J,null)}}});class wU extends K1{constructor(J){super();this.value=J}eq(J){return this.value==J.value}toDOM(J){return kU(J,this.value)}}var jF={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class n9 extends E1{constructor(J,Z){super();this.config=J,this.open=Z}eq(J){return this.config==J.config&&this.open==J.open}toDOM(J){if(this.config.markerDOM)return this.config.markerDOM(this.open);let Z=document.createElement("span");return Z.textContent=this.open?this.config.openText:this.config.closedText,Z.title=J.state.phrase(this.open?"Fold line":"Unfold line"),Z}}function xU(J={}){let Z={...jF,...J},Y=new n9(Z,!0),X=new n9(Z,!1),q=N0.fromClass(class{constructor(K){this.from=K.viewport.from,this.markers=this.buildMarkers(K)}update(K){if(K.docChanged||K.viewportChanged||K.startState.facet(t5)!=K.state.facet(t5)||K.startState.field(xJ,!1)!=K.state.field(xJ,!1)||E0(K.startState)!=E0(K.state)||Z.foldingChanged(K))this.markers=this.buildMarkers(K.view)}buildMarkers(K){let $=new e0;for(let U of K.viewportLineBlocks){let W=a9(K.state,U.from,U.to)?X:s9(K.state,U.from,U.to)?Y:null;if(W)$.add(U.from,U.from,W)}return $.finish()}}),{domEventHandlers:Q}=Z;return[q,SZ({class:"cm-foldGutter",markers(K){var $;return(($=K.plugin(q))===null||$===void 0?void 0:$.markers)||a.empty},initialSpacer(){return new n9(Z,!1)},domEventHandlers:{...Q,click:(K,$,U)=>{if(Q.click&&Q.click(K,$,U))return!0;let W=a9(K.state,$.from,$.to);if(W)return K.dispatch({effects:n3.of(W)}),!0;let G=s9(K.state,$.from,$.to);if(G)return K.dispatch({effects:J6.of(G)}),!0;return!1}}}),SU()]}var zF=C.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class T4{constructor(J,Z){this.specs=J;let Y;function X(K){let $=n1.newName();return(Y||(Y=Object.create(null)))["."+$]=K,$}let q=typeof Z.all=="string"?Z.all:Z.all?X(Z.all):void 0,Q=Z.scope;this.scope=Q instanceof T1?(K)=>K.prop(L4)==Q.data:Q?(K)=>K==Q:void 0,this.style=lZ(J.map((K)=>({tag:K.tag,class:K.class||X(Object.assign({},K,{tag:null}))})),{all:q}).style,this.module=Y?new n1(Y):null,this.themeType=Z.themeType}static define(J,Z){return new T4(J,Z||{})}}var iZ=b.define(),hU=b.define({combine(J){return J.length?[J[0]]:null}});function cZ(J){let Z=J.facet(iZ);return Z.length?Z:J.facet(hU)}function y4(J,Z){let Y=[OF],X;if(J instanceof T4){if(J.module)Y.push(C.styleModule.of(J.module));X=J.themeType}if(Z===null||Z===void 0?void 0:Z.fallback)Y.push(hU.of(J));else if(X)Y.push(iZ.computeN([C.darkTheme],(q)=>{return q.facet(C.darkTheme)==(X=="dark")?[J]:[]}));else Y.push(iZ.of(J));return Y}class vU{constructor(J){this.markCache=Object.create(null),this.tree=E0(J.state),this.decorations=this.buildDeco(J,cZ(J.state)),this.decoratedTo=J.viewport.to}update(J){let Z=E0(J.state),Y=cZ(J.state),X=Y!=cZ(J.startState),{viewport:q}=J.view,Q=J.changes.mapPos(this.decoratedTo,1);if(Z.length<q.to&&!X&&Z.type==this.tree.type&&Q>=q.to)this.decorations=this.decorations.map(J.changes),this.decoratedTo=Q;else if(Z!=this.tree||J.viewportChanged||X)this.tree=Z,this.decorations=this.buildDeco(J.view,Y),this.decoratedTo=q.to}buildDeco(J,Z){if(!Z||!this.tree.length)return f.none;let Y=new e0;for(let{from:X,to:q}of J.visibleRanges)GU(this.tree,Z,(Q,K,$)=>{Y.add(Q,K,this.markCache[$]||(this.markCache[$]=f.mark({class:$})))},X,q);return Y.finish()}}var OF=L1.high(N0.fromClass(vU,{decorations:(J)=>J.decorations})),Z6=T4.define([{tag:V.meta,color:"#404740"},{tag:V.link,textDecoration:"underline"},{tag:V.heading,textDecoration:"underline",fontWeight:"bold"},{tag:V.emphasis,fontStyle:"italic"},{tag:V.strong,fontWeight:"bold"},{tag:V.strikethrough,textDecoration:"line-through"},{tag:V.keyword,color:"#708"},{tag:[V.atom,V.bool,V.url,V.contentSeparator,V.labelName],color:"#219"},{tag:[V.literal,V.inserted],color:"#164"},{tag:[V.string,V.deleted],color:"#a11"},{tag:[V.regexp,V.escape,V.special(V.string)],color:"#e40"},{tag:V.definition(V.variableName),color:"#00f"},{tag:V.local(V.variableName),color:"#30a"},{tag:[V.typeName,V.namespace],color:"#085"},{tag:V.className,color:"#167"},{tag:[V.special(V.variableName),V.macroName],color:"#256"},{tag:V.definition(V.propertyName),color:"#00c"},{tag:V.comment,color:"#940"},{tag:V.invalid,color:"#f00"}]),_F=C.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),mU=1e4,uU="()[]{}",gU=b.define({combine(J){return i0(J,{afterCursor:!0,brackets:uU,maxScanDistance:mU,renderMatch:RF})}}),HF=f.mark({class:"cm-matchingBracket"}),NF=f.mark({class:"cm-nonmatchingBracket"});function RF(J){let Z=[],Y=J.matched?HF:NF;if(Z.push(Y.range(J.start.from,J.start.to)),J.end)Z.push(Y.range(J.end.from,J.end.to));return Z}var AF=M0.define({create(){return f.none},update(J,Z){if(!Z.docChanged&&!Z.selection)return J;let Y=[],X=Z.state.facet(gU);for(let q of Z.state.selection.ranges){if(!q.empty)continue;let Q=o1(Z.state,q.head,-1,X)||q.head>0&&o1(Z.state,q.head-1,1,X)||X.afterCursor&&(o1(Z.state,q.head,1,X)||q.head<Z.state.doc.length&&o1(Z.state,q.head+1,-1,X));if(Q)Y=Y.concat(X.renderMatch(Q,Z.state))}return f.set(Y,!0)},provide:(J)=>C.decorations.from(J)}),FF=[AF,_F];function fU(J={}){return[gU.of(J),FF]}var MF=new i;function sZ(J,Z,Y){let X=J.prop(Z<0?i.openedBy:i.closedBy);if(X)return X;if(J.name.length==1){let q=Y.indexOf(J.name);if(q>-1&&q%2==(Z<0?1:0))return[Y[q+Z]]}return null}function aZ(J){let Z=J.type.prop(MF);return Z?Z(J.node):J}function o1(J,Z,Y,X={}){let q=X.maxScanDistance||mU,Q=X.brackets||uU,K=E0(J),$=K.resolveInner(Z,Y);for(let U=$;U;U=U.parent){let W=sZ(U.type,Y,Q);if(W&&U.from<U.to){let G=aZ(U);if(G&&(Y>0?Z>=G.from&&Z<G.to:Z>G.from&&Z<=G.to))return VF(J,Z,Y,U,G,W,Q)}}return IF(J,Z,Y,K,$.type,q,Q)}function VF(J,Z,Y,X,q,Q,K){let $=X.parent,U={from:q.from,to:q.to},W=0,G=$===null||$===void 0?void 0:$.cursor();if(G&&(Y<0?G.childBefore(X.from):G.childAfter(X.to)))do if(Y<0?G.to<=X.from:G.from>=X.to){if(W==0&&Q.indexOf(G.type.name)>-1&&G.from<G.to){let j=aZ(G);return{start:U,end:j?{from:j.from,to:j.to}:void 0,matched:!0}}else if(sZ(G.type,Y,K))W++;else if(sZ(G.type,-Y,K)){if(W==0){let j=aZ(G);return{start:U,end:j&&j.from<j.to?{from:j.from,to:j.to}:void 0,matched:!1}}W--}}while(Y<0?G.prevSibling():G.nextSibling());return{start:U,matched:!1}}function IF(J,Z,Y,X,q,Q,K){let $=Y<0?J.sliceDoc(Z-1,Z):J.sliceDoc(Z,Z+1),U=K.indexOf($);if(U<0||U%2==0!=Y>0)return null;let W={from:Y<0?Z-1:Z,to:Y>0?Z+1:Z},G=J.doc.iterRange(Z,Y>0?J.doc.length:0),j=0;for(let z=0;!G.next().done&&z<=Q;){let O=G.value;if(Y<0)z+=O.length;let H=Z+z*Y;for(let N=Y>0?0:O.length-1,F=Y>0?O.length:-1;N!=F;N+=Y){let M=K.indexOf(O[N]);if(M<0||X.resolveInner(H+N,1).type!=q)continue;if(M%2==0==Y>0)j++;else if(j==1)return{start:W,end:{from:H+N,to:H+N+1},matched:M>>1==U>>1};else j--}if(Y>0)z+=O.length}return G.done?{start:W,matched:!1}:null}var DF=Object.create(null),NU=[s0.none];var RU=[],AU=Object.create(null),LF=Object.create(null);for(let[J,Z]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])LF[J]=BF(DF,Z);function nZ(J,Z){if(RU.indexOf(J)>-1)return;RU.push(J),console.warn(Z)}function BF(J,Z){let Y=[];for(let $ of Z.split(" ")){let U=[];for(let W of $.split(".")){let G=J[W]||V[W];if(!G)nZ(W,`Unknown highlighting tag ${W}`);else if(typeof G=="function")if(!U.length)nZ(W,`Modifier ${W} used at start of tag`);else U=U.map(G);else if(U.length)nZ(W,`Tag ${W} used as modifier`);else U=Array.isArray(G)?G:[G]}for(let W of U)Y.push(W)}if(!Y.length)return 0;let X=Z.replace(/ /g,"_"),q=X+" "+Y.map(($)=>$.id),Q=AU[q];if(Q)return Q.id;let K=AU[q]=s0.define({id:NU.length,name:X,props:[c9({[X]:Y})]});return NU.push(K),K.id}var MP={rtl:f.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"rtl"},bidiIsolate:W0.RTL}),ltr:f.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"ltr"},bidiIsolate:W0.LTR}),auto:f.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"auto"},bidiIsolate:null})};var PF=(J)=>{let{state:Z}=J,Y=Z.doc.lineAt(Z.selection.main.from),X=$Y(J.state,Y.from);return X.line?EF(J):X.block?TF(J):!1};function KY(J,Z){return({state:Y,dispatch:X})=>{if(Y.readOnly)return!1;let q=J(Z,Y);if(!q)return!1;return X(Y.update(q)),!0}}var EF=KY(SF,0);var CF=KY(rU,0);var TF=KY((J,Z)=>rU(J,Z,bF(Z)),0);function $Y(J,Z){let Y=J.languageDataAt("commentTokens",Z,1);return Y.length?Y[0]:{}}var i3=50;function yF(J,{open:Z,close:Y},X,q){let Q=J.sliceDoc(X-i3,X),K=J.sliceDoc(q,q+i3),$=/\s*$/.exec(Q)[0].length,U=/^\s*/.exec(K)[0].length,W=Q.length-$;if(Q.slice(W-Z.length,W)==Z&&K.slice(U,U+Y.length)==Y)return{open:{pos:X-$,margin:$&&1},close:{pos:q+U,margin:U&&1}};let G,j;if(q-X<=2*i3)G=j=J.sliceDoc(X,q);else G=J.sliceDoc(X,X+i3),j=J.sliceDoc(q-i3,q);let z=/^\s*/.exec(G)[0].length,O=/\s*$/.exec(j)[0].length,H=j.length-O-Y.length;if(G.slice(z,z+Z.length)==Z&&j.slice(H,H+Y.length)==Y)return{open:{pos:X+z+Z.length,margin:/\s/.test(G.charAt(z+Z.length))?1:0},close:{pos:q-O-Y.length,margin:/\s/.test(j.charAt(H-1))?1:0}};return null}function bF(J){let Z=[];for(let Y of J.selection.ranges){let X=J.doc.lineAt(Y.from),q=Y.to<=X.to?X:J.doc.lineAt(Y.to);if(q.from>X.from&&q.from==Y.to)q=Y.to==X.to+1?X:J.doc.lineAt(Y.to-1);let Q=Z.length-1;if(Q>=0&&Z[Q].to>X.from)Z[Q].to=q.to;else Z.push({from:X.from+/^\s*/.exec(X.text)[0].length,to:q.to})}return Z}function rU(J,Z,Y=Z.selection.ranges){let X=Y.map((Q)=>$Y(Z,Q.from).block);if(!X.every((Q)=>Q))return null;let q=Y.map((Q,K)=>yF(Z,X[K],Q.from,Q.to));if(J!=2&&!q.every((Q)=>Q))return{changes:Z.changes(Y.map((Q,K)=>{if(q[K])return[];return[{from:Q.from,insert:X[K].open+" "},{from:Q.to,insert:" "+X[K].close}]}))};else if(J!=1&&q.some((Q)=>Q)){let Q=[];for(let K=0,$;K<q.length;K++)if($=q[K]){let U=X[K],{open:W,close:G}=$;Q.push({from:W.pos-U.open.length,to:W.pos+W.margin},{from:G.pos-G.margin,to:G.pos+U.close.length})}return{changes:Q}}return null}function SF(J,Z,Y=Z.selection.ranges){let X=[],q=-1;for(let{from:Q,to:K}of Y){let $=X.length,U=1e9,W=$Y(Z,Q).line;if(!W)continue;for(let G=Q;G<=K;){let j=Z.doc.lineAt(G);if(j.from>q&&(Q==K||K>j.from)){q=j.from;let z=/^\s*/.exec(j.text)[0].length,O=z==j.length,H=j.text.slice(z,z+W.length)==W?z:-1;if(z<j.text.length&&z<U)U=z;X.push({line:j,comment:H,token:W,indent:z,empty:O,single:!1})}G=j.to+1}if(U<1e9){for(let G=$;G<X.length;G++)if(X[G].indent<X[G].line.text.length)X[G].indent=U}if(X.length==$+1)X[$].single=!0}if(J!=2&&X.some((Q)=>Q.comment<0&&(!Q.empty||Q.single))){let Q=[];for(let{line:$,token:U,indent:W,empty:G,single:j}of X)if(j||!G)Q.push({from:$.from+W,insert:U+" "});let K=Z.changes(Q);return{changes:K,selection:Z.selection.map(K,1)}}else if(J!=1&&X.some((Q)=>Q.comment>=0)){let Q=[];for(let{line:K,comment:$,token:U}of X)if($>=0){let W=K.from+$,G=W+U.length;if(K.text[G-K.from]==" ")G++;Q.push({from:W,to:G})}return{changes:Q}}return null}var YY=N1.define(),kF=N1.define(),wF=b.define(),oU=b.define({combine(J){return i0(J,{minDepth:100,newGroupDelay:500,joinToEvent:(Z,Y)=>Y},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(Z,Y)=>(X,q)=>Z(X,q)||Y(X,q)})}}),tU=M0.define({create(){return N5.empty},update(J,Z){let Y=Z.state.facet(oU),X=Z.annotation(YY);if(X){let U=U1.fromTransaction(Z,X.selection),W=X.side,G=W==0?J.undone:J.done;if(U)G=X6(G,G.length,Y.minDepth,U);else G=YW(G,Z.startState.selection);return new N5(W==0?X.rest:G,W==0?G:X.rest)}let q=Z.annotation(kF);if(q=="full"||q=="before")J=J.isolate();if(Z.annotation(D0.addToHistory)===!1)return!Z.changes.empty?J.addMapping(Z.changes.desc):J;let Q=U1.fromTransaction(Z),K=Z.annotation(D0.time),$=Z.annotation(D0.userEvent);if(Q)J=J.addChanges(Q,K,$,Y,Z);else if(Z.selection)J=J.addSelection(Z.startState.selection,K,$,Y.newGroupDelay);if(q=="full"||q=="after")J=J.isolate();return J},toJSON(J){return{done:J.done.map((Z)=>Z.toJSON()),undone:J.undone.map((Z)=>Z.toJSON())}},fromJSON(J){return new N5(J.done.map(U1.fromJSON),J.undone.map(U1.fromJSON))}});function eU(J={}){return[tU,oU.of(J),C.domEventHandlers({beforeinput(Z,Y){let X=Z.inputType=="historyUndo"?JW:Z.inputType=="historyRedo"?XY:null;if(!X)return!1;return Z.preventDefault(),X(Y)}})]}function q6(J,Z){return function({state:Y,dispatch:X}){if(!Z&&Y.readOnly)return!1;let q=Y.field(tU,!1);if(!q)return!1;let Q=q.pop(J,Y,Z);if(!Q)return!1;return X(Q),!0}}var JW=q6(0,!1),XY=q6(1,!1),xF=q6(0,!0),hF=q6(1,!0);class U1{constructor(J,Z,Y,X,q){this.changes=J,this.effects=Z,this.mapped=Y,this.startSelection=X,this.selectionsAfter=q}setSelAfter(J){return new U1(this.changes,this.effects,this.mapped,this.startSelection,J)}toJSON(){var J,Z,Y;return{changes:(J=this.changes)===null||J===void 0?void 0:J.toJSON(),mapped:(Z=this.mapped)===null||Z===void 0?void 0:Z.toJSON(),startSelection:(Y=this.startSelection)===null||Y===void 0?void 0:Y.toJSON(),selectionsAfter:this.selectionsAfter.map((X)=>X.toJSON())}}static fromJSON(J){return new U1(J.changes&&y0.fromJSON(J.changes),[],J.mapped&&d1.fromJSON(J.mapped),J.startSelection&&D.fromJSON(J.startSelection),J.selectionsAfter.map(D.fromJSON))}static fromTransaction(J,Z){let Y=y1;for(let X of J.startState.facet(wF)){let q=X(J);if(q.length)Y=Y.concat(q)}if(!Y.length&&J.changes.empty)return null;return new U1(J.changes.invert(J.startState.doc),Y,void 0,Z||J.startState.selection,y1)}static selection(J){return new U1(void 0,y1,void 0,void 0,J)}}function X6(J,Z,Y,X){let q=Z+1>Y+20?Z-Y-1:0,Q=J.slice(q,Z);return Q.push(X),Q}function vF(J,Z){let Y=[],X=!1;return J.iterChangedRanges((q,Q)=>Y.push(q,Q)),Z.iterChangedRanges((q,Q,K,$)=>{for(let U=0;U<Y.length;){let W=Y[U++],G=Y[U++];if($>=W&&K<=G)X=!0}}),X}function mF(J,Z){return J.ranges.length==Z.ranges.length&&J.ranges.filter((Y,X)=>Y.empty!=Z.ranges[X].empty).length===0}function ZW(J,Z){return!J.length?Z:!Z.length?J:J.concat(Z)}var y1=[],uF=200;function YW(J,Z){if(!J.length)return[U1.selection([Z])];else{let Y=J[J.length-1],X=Y.selectionsAfter.slice(Math.max(0,Y.selectionsAfter.length-uF));if(X.length&&X[X.length-1].eq(Z))return J;return X.push(Z),X6(J,J.length-1,1e9,Y.setSelAfter(X))}}function gF(J){let Z=J[J.length-1],Y=J.slice();return Y[J.length-1]=Z.setSelAfter(Z.selectionsAfter.slice(0,Z.selectionsAfter.length-1)),Y}function ZY(J,Z){if(!J.length)return J;let Y=J.length,X=y1;while(Y){let q=fF(J[Y-1],Z,X);if(q.changes&&!q.changes.empty||q.effects.length){let Q=J.slice(0,Y);return Q[Y-1]=q,Q}else Z=q.mapped,Y--,X=q.selectionsAfter}return X.length?[U1.selection(X)]:y1}function fF(J,Z,Y){let X=ZW(J.selectionsAfter.length?J.selectionsAfter.map(($)=>$.map(Z)):y1,Y);if(!J.changes)return U1.selection(X);let q=J.changes.map(Z),Q=Z.mapDesc(J.changes,!0),K=J.mapped?J.mapped.composeDesc(Q):Q;return new U1(q,p.mapEffects(J.effects,Z),K,J.startSelection.map(Q),X)}var lF=/^(input\.type|delete)($|\.)/;class N5{constructor(J,Z,Y=0,X=void 0){this.done=J,this.undone=Z,this.prevTime=Y,this.prevUserEvent=X}isolate(){return this.prevTime?new N5(this.done,this.undone):this}addChanges(J,Z,Y,X,q){let Q=this.done,K=Q[Q.length-1];if(K&&K.changes&&!K.changes.empty&&J.changes&&(!Y||lF.test(Y))&&(!K.selectionsAfter.length&&Z-this.prevTime<X.newGroupDelay&&X.joinToEvent(q,vF(K.changes,J.changes))||Y=="input.type.compose"))Q=X6(Q,Q.length-1,X.minDepth,new U1(J.changes.compose(K.changes),ZW(p.mapEffects(J.effects,K.changes),K.effects),K.mapped,K.startSelection,y1));else Q=X6(Q,Q.length,X.minDepth,J);return new N5(Q,y1,Z,Y)}addSelection(J,Z,Y,X){let q=this.done.length?this.done[this.done.length-1].selectionsAfter:y1;if(q.length>0&&Z-this.prevTime<X&&Y==this.prevUserEvent&&Y&&/^select($|\.)/.test(Y)&&mF(q[q.length-1],J))return this;return new N5(YW(this.done,J),this.undone,Z,Y)}addMapping(J){return new N5(ZY(this.done,J),ZY(this.undone,J),this.prevTime,this.prevUserEvent)}pop(J,Z,Y){let X=J==0?this.done:this.undone;if(X.length==0)return null;let q=X[X.length-1],Q=q.selectionsAfter[0]||Z.selection;if(Y&&q.selectionsAfter.length)return Z.update({selection:q.selectionsAfter[q.selectionsAfter.length-1],annotations:YY.of({side:J,rest:gF(X),selection:Q}),userEvent:J==0?"select.undo":"select.redo",scrollIntoView:!0});else if(!q.changes)return null;else{let K=X.length==1?y1:X.slice(0,X.length-1);if(q.mapped)K=ZY(K,q.mapped);return Z.update({changes:q.changes,selection:q.startSelection,effects:q.effects,annotations:YY.of({side:J,rest:K,selection:Q}),filter:!1,userEvent:J==0?"undo":"redo",scrollIntoView:!0})}}}N5.empty=new N5(y1,y1);var XW=[{key:"Mod-z",run:JW,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:XY,preventDefault:!0},{linux:"Ctrl-Shift-z",run:XY,preventDefault:!0},{key:"Mod-u",run:xF,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:hF,preventDefault:!0}];function b4(J,Z){return D.create(J.ranges.map(Z),J.mainIndex)}function t1(J,Z){return J.update({selection:Z,scrollIntoView:!0,userEvent:"select"})}function e1({state:J,dispatch:Z},Y){let X=b4(J.selection,Y);if(X.eq(J.selection,!0))return!1;return Z(t1(J,X)),!0}function Q6(J,Z){return D.cursor(Z?J.to:J.from)}function qW(J,Z){return e1(J,(Y)=>Y.empty?J.moveByChar(Y,Z):Q6(Y,Z))}function a0(J){return J.textDirectionAt(J.state.selection.main.head)==W0.LTR}var QW=(J)=>qW(J,!a0(J)),KW=(J)=>qW(J,a0(J));function $W(J,Z){return e1(J,(Y)=>Y.empty?J.moveByGroup(Y,Z):Q6(Y,Z))}var pF=(J)=>$W(J,!a0(J)),dF=(J)=>$W(J,a0(J));var TP=typeof Intl<"u"&&Intl.Segmenter?new Intl.Segmenter(void 0,{granularity:"word"}):null;function cF(J,Z,Y){if(Z.type.prop(Y))return!0;let X=Z.to-Z.from;return X&&(X>2||/[^\s,.;:]/.test(J.sliceDoc(Z.from,Z.to)))||Z.firstChild}function K6(J,Z,Y){let X=E0(J).resolveInner(Z.head),q=Y?i.closedBy:i.openedBy;for(let U=Z.head;;){let W=Y?X.childAfter(U):X.childBefore(U);if(!W)break;if(cF(J,W,q))X=W;else U=Y?W.to:W.from}let Q=X.type.prop(q),K,$;if(Q&&(K=Y?o1(J,X.from,1):o1(J,X.to,-1))&&K.matched)$=Y?K.end.to:K.end.from;else $=Y?X.to:X.from;return D.cursor($,Y?-1:1)}var nF=(J)=>e1(J,(Z)=>K6(J.state,Z,!a0(J))),iF=(J)=>e1(J,(Z)=>K6(J.state,Z,a0(J)));function UW(J,Z){return e1(J,(Y)=>{if(!Y.empty)return Q6(Y,Z);let X=J.moveVertically(Y,Z);return X.head!=Y.head?X:J.moveToLineBoundary(Y,Z)})}var WW=(J)=>UW(J,!1),GW=(J)=>UW(J,!0);function jW(J){let Z=J.scrollDOM.clientHeight<J.scrollDOM.scrollHeight-2,Y=0,X=0,q;if(Z){for(let Q of J.state.facet(C.scrollMargins)){let K=Q(J);if(K===null||K===void 0?void 0:K.top)Y=Math.max(K===null||K===void 0?void 0:K.top,Y);if(K===null||K===void 0?void 0:K.bottom)X=Math.max(K===null||K===void 0?void 0:K.bottom,X)}q=J.scrollDOM.clientHeight-Y-X}else q=(J.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:Y,marginBottom:X,selfScroll:Z,height:Math.max(J.defaultLineHeight,q-5)}}function zW(J,Z){let Y=jW(J),{state:X}=J,q=b4(X.selection,(K)=>{return K.empty?J.moveVertically(K,Z,Y.height):Q6(K,Z)});if(q.eq(X.selection))return!1;let Q;if(Y.selfScroll){let K=J.coordsAtPos(X.selection.main.head),$=J.scrollDOM.getBoundingClientRect(),U=$.top+Y.marginTop,W=$.bottom-Y.marginBottom;if(K&&K.top>U&&K.bottom<W)Q=C.scrollIntoView(q.main.head,{y:"start",yMargin:K.top-U})}return J.dispatch(t1(X,q),{effects:Q}),!0}var lU=(J)=>zW(J,!1),qY=(J)=>zW(J,!0);function e5(J,Z,Y){let X=J.lineBlockAt(Z.head),q=J.moveToLineBoundary(Z,Y);if(q.head==Z.head&&q.head!=(Y?X.to:X.from))q=J.moveToLineBoundary(Z,Y,!1);if(!Y&&q.head==X.from&&X.length){let Q=/^\s*/.exec(J.state.sliceDoc(X.from,Math.min(X.from+100,X.to)))[0].length;if(Q&&Z.head!=X.from+Q)q=D.cursor(X.from+Q)}return q}var sF=(J)=>e1(J,(Z)=>e5(J,Z,!0)),aF=(J)=>e1(J,(Z)=>e5(J,Z,!1)),rF=(J)=>e1(J,(Z)=>e5(J,Z,!a0(J))),oF=(J)=>e1(J,(Z)=>e5(J,Z,a0(J))),tF=(J)=>e1(J,(Z)=>D.cursor(J.lineBlockAt(Z.head).from,1)),eF=(J)=>e1(J,(Z)=>D.cursor(J.lineBlockAt(Z.head).to,-1));function JM(J,Z,Y){let X=!1,q=b4(J.selection,(Q)=>{let K=o1(J,Q.head,-1)||o1(J,Q.head,1)||Q.head>0&&o1(J,Q.head-1,1)||Q.head<J.doc.length&&o1(J,Q.head+1,-1);if(!K||!K.end)return Q;X=!0;let $=K.start.from==Q.head?K.end.to:K.end.from;return Y?D.range(Q.anchor,$):D.cursor($)});if(!X)return!1;return Z(t1(J,q)),!0}var ZM=({state:J,dispatch:Z})=>JM(J,Z,!1);function b1(J,Z){let Y=b4(J.state.selection,(X)=>{let q=Z(X);return D.range(X.anchor,q.head,q.goalColumn,q.bidiLevel||void 0)});if(Y.eq(J.state.selection))return!1;return J.dispatch(t1(J.state,Y)),!0}function OW(J,Z){return b1(J,(Y)=>J.moveByChar(Y,Z))}var _W=(J)=>OW(J,!a0(J)),HW=(J)=>OW(J,a0(J));function NW(J,Z){return b1(J,(Y)=>J.moveByGroup(Y,Z))}var YM=(J)=>NW(J,!a0(J)),XM=(J)=>NW(J,a0(J));var qM=(J)=>b1(J,(Z)=>K6(J.state,Z,!a0(J))),QM=(J)=>b1(J,(Z)=>K6(J.state,Z,a0(J)));function RW(J,Z){return b1(J,(Y)=>J.moveVertically(Y,Z))}var AW=(J)=>RW(J,!1),FW=(J)=>RW(J,!0);function MW(J,Z){return b1(J,(Y)=>J.moveVertically(Y,Z,jW(J).height))}var pU=(J)=>MW(J,!1),dU=(J)=>MW(J,!0),KM=(J)=>b1(J,(Z)=>e5(J,Z,!0)),$M=(J)=>b1(J,(Z)=>e5(J,Z,!1)),UM=(J)=>b1(J,(Z)=>e5(J,Z,!a0(J))),WM=(J)=>b1(J,(Z)=>e5(J,Z,a0(J))),GM=(J)=>b1(J,(Z)=>D.cursor(J.lineBlockAt(Z.head).from)),jM=(J)=>b1(J,(Z)=>D.cursor(J.lineBlockAt(Z.head).to)),cU=({state:J,dispatch:Z})=>{return Z(t1(J,{anchor:0})),!0},nU=({state:J,dispatch:Z})=>{return Z(t1(J,{anchor:J.doc.length})),!0},iU=({state:J,dispatch:Z})=>{return Z(t1(J,{anchor:J.selection.main.anchor,head:0})),!0},sU=({state:J,dispatch:Z})=>{return Z(t1(J,{anchor:J.selection.main.anchor,head:J.doc.length})),!0},zM=({state:J,dispatch:Z})=>{return Z(J.update({selection:{anchor:0,head:J.doc.length},userEvent:"select"})),!0},OM=({state:J,dispatch:Z})=>{let Y=$6(J).map(({from:X,to:q})=>D.range(X,Math.min(q+1,J.doc.length)));return Z(J.update({selection:D.create(Y),userEvent:"select"})),!0},_M=({state:J,dispatch:Z})=>{let Y=b4(J.selection,(X)=>{let q=E0(J),Q=q.resolveStack(X.from,1);if(X.empty){let K=q.resolveStack(X.from,-1);if(K.node.from>=Q.node.from&&K.node.to<=Q.node.to)Q=K}for(let K=Q;K;K=K.next){let{node:$}=K;if(($.from<X.from&&$.to>=X.to||$.to>X.to&&$.from<=X.from)&&K.next)return D.range($.to,$.from)}return X});if(Y.eq(J.selection))return!1;return Z(t1(J,Y)),!0};function VW(J,Z){let{state:Y}=J,X=Y.selection,q=Y.selection.ranges.slice();for(let Q of Y.selection.ranges){let K=Y.doc.lineAt(Q.head);if(Z?K.to<J.state.doc.length:K.from>0)for(let $=Q;;){let U=J.moveVertically($,Z);if(U.head<K.from||U.head>K.to){if(!q.some((W)=>W.head==U.head))q.push(U);break}else if(U.head==$.head)break;else $=U}}if(q.length==X.ranges.length)return!1;return J.dispatch(t1(Y,D.create(q,q.length-1))),!0}var HM=(J)=>VW(J,!1),NM=(J)=>VW(J,!0),RM=({state:J,dispatch:Z})=>{let Y=J.selection,X=null;if(Y.ranges.length>1)X=D.create([Y.main]);else if(!Y.main.empty)X=D.create([D.cursor(Y.main.head)]);if(!X)return!1;return Z(t1(J,X)),!0};function s3(J,Z){if(J.state.readOnly)return!1;let Y="delete.selection",{state:X}=J,q=X.changeByRange((Q)=>{let{from:K,to:$}=Q;if(K==$){let U=Z(Q);if(U<K)Y="delete.backward",U=Y6(J,U,!1);else if(U>K)Y="delete.forward",U=Y6(J,U,!0);K=Math.min(K,U),$=Math.max($,U)}else K=Y6(J,K,!1),$=Y6(J,$,!0);return K==$?{range:Q}:{changes:{from:K,to:$},range:D.cursor(K,K<Q.head?-1:1)}});if(q.changes.empty)return!1;return J.dispatch(X.update(q,{scrollIntoView:!0,userEvent:Y,effects:Y=="delete.selection"?C.announce.of(X.phrase("Selection deleted")):void 0})),!0}function Y6(J,Z,Y){if(J instanceof C)for(let X of J.state.facet(C.atomicRanges).map((q)=>q(J)))X.between(Z,Z,(q,Q)=>{if(q<Z&&Q>Z)Z=Y?Q:q});return Z}var IW=(J,Z,Y)=>s3(J,(X)=>{let q=X.from,{state:Q}=J,K=Q.doc.lineAt(q),$,U;if(Y&&!Z&&q>K.from&&q<K.from+200&&!/[^ \t]/.test($=K.text.slice(0,q-K.from))){if($[$.length-1]=="\t")return q-1;let W=C5($,Q.tabSize),G=W%c3(Q)||c3(Q);for(let j=0;j<G&&$[$.length-1-j]==" ";j++)q--;U=q}else if(U=P0(K.text,q-K.from,Z,Z)+K.from,U==q&&K.number!=(Z?Q.doc.lines:1))U+=Z?1:-1;else if(!Z&&/[\ufe00-\ufe0f]/.test(K.text.slice(U-K.from,q-K.from)))U=P0(K.text,U-K.from,!1,!1)+K.from;return U}),QY=(J)=>IW(J,!1,!0);var DW=(J)=>IW(J,!0,!1),LW=(J,Z)=>s3(J,(Y)=>{let X=Y.head,{state:q}=J,Q=q.doc.lineAt(X),K=q.charCategorizer(X);for(let $=null;;){if(X==(Z?Q.to:Q.from)){if(X==Y.head&&Q.number!=(Z?q.doc.lines:1))X+=Z?1:-1;break}let U=P0(Q.text,X-Q.from,Z)+Q.from,W=Q.text.slice(Math.min(X,U)-Q.from,Math.max(X,U)-Q.from),G=K(W);if($!=null&&G!=$)break;if(W!=" "||X!=Y.head)$=G;X=U}return X}),BW=(J)=>LW(J,!1),AM=(J)=>LW(J,!0);var FM=(J)=>s3(J,(Z)=>{let Y=J.lineBlockAt(Z.head).to;return Z.head<Y?Y:Math.min(J.state.doc.length,Z.head+1)});var MM=(J)=>s3(J,(Z)=>{let Y=J.moveToLineBoundary(Z,!1).head;return Z.head>Y?Y:Math.max(0,Z.head-1)}),VM=(J)=>s3(J,(Z)=>{let Y=J.moveToLineBoundary(Z,!0).head;return Z.head<Y?Y:Math.min(J.state.doc.length,Z.head+1)});var IM=({state:J,dispatch:Z})=>{if(J.readOnly)return!1;let Y=J.changeByRange((X)=>{return{changes:{from:X.from,to:X.to,insert:e.of(["",""])},range:D.cursor(X.from)}});return Z(J.update(Y,{scrollIntoView:!0,userEvent:"input"})),!0},DM=({state:J,dispatch:Z})=>{if(J.readOnly)return!1;let Y=J.changeByRange((X)=>{if(!X.empty||X.from==0||X.from==J.doc.length)return{range:X};let q=X.from,Q=J.doc.lineAt(q),K=q==Q.from?q-1:P0(Q.text,q-Q.from,!1)+Q.from,$=q==Q.to?q+1:P0(Q.text,q-Q.from,!0)+Q.from;return{changes:{from:K,to:$,insert:J.doc.slice(q,$).append(J.doc.slice(K,q))},range:D.cursor($)}});if(Y.changes.empty)return!1;return Z(J.update(Y,{scrollIntoView:!0,userEvent:"move.character"})),!0};function $6(J){let Z=[],Y=-1;for(let X of J.selection.ranges){let q=J.doc.lineAt(X.from),Q=J.doc.lineAt(X.to);if(!X.empty&&X.to==Q.from)Q=J.doc.lineAt(X.to-1);if(Y>=q.number){let K=Z[Z.length-1];K.to=Q.to,K.ranges.push(X)}else Z.push({from:q.from,to:Q.to,ranges:[X]});Y=Q.number+1}return Z}function PW(J,Z,Y){if(J.readOnly)return!1;let X=[],q=[];for(let Q of $6(J)){if(Y?Q.to==J.doc.length:Q.from==0)continue;let K=J.doc.lineAt(Y?Q.to+1:Q.from-1),$=K.length+1;if(Y){X.push({from:Q.to,to:K.to},{from:Q.from,insert:K.text+J.lineBreak});for(let U of Q.ranges)q.push(D.range(Math.min(J.doc.length,U.anchor+$),Math.min(J.doc.length,U.head+$)))}else{X.push({from:K.from,to:Q.from},{from:Q.to,insert:J.lineBreak+K.text});for(let U of Q.ranges)q.push(D.range(U.anchor-$,U.head-$))}}if(!X.length)return!1;return Z(J.update({changes:X,scrollIntoView:!0,selection:D.create(q,J.selection.mainIndex),userEvent:"move.line"})),!0}var LM=({state:J,dispatch:Z})=>PW(J,Z,!1),BM=({state:J,dispatch:Z})=>PW(J,Z,!0);function EW(J,Z,Y){if(J.readOnly)return!1;let X=[];for(let Q of $6(J))if(Y)X.push({from:Q.from,insert:J.doc.slice(Q.from,Q.to)+J.lineBreak});else X.push({from:Q.to,insert:J.lineBreak+J.doc.slice(Q.from,Q.to)});let q=J.changes(X);return Z(J.update({changes:q,selection:J.selection.map(q,Y?1:-1),scrollIntoView:!0,userEvent:"input.copyline"})),!0}var PM=({state:J,dispatch:Z})=>EW(J,Z,!1),EM=({state:J,dispatch:Z})=>EW(J,Z,!0),CM=(J)=>{if(J.state.readOnly)return!1;let{state:Z}=J,Y=Z.changes($6(Z).map(({from:q,to:Q})=>{if(q>0)q--;else if(Q<Z.doc.length)Q++;return{from:q,to:Q}})),X=b4(Z.selection,(q)=>{let Q=void 0;if(J.lineWrapping){let K=J.lineBlockAt(q.head),$=J.coordsAtPos(q.head,q.assoc||1);if($)Q=K.bottom+J.documentTop-$.bottom+J.defaultLineHeight/2}return J.moveVertically(q,!0,Q)}).map(Y);return J.dispatch({changes:Y,selection:X,scrollIntoView:!0,userEvent:"delete.line"}),!0};function TM(J,Z){if(/\(\)|\[\]|\{\}/.test(J.sliceDoc(Z-1,Z+1)))return{from:Z,to:Z};let Y=E0(J).resolveInner(Z),X=Y.childBefore(Z),q=Y.childAfter(Z),Q;if(X&&q&&X.to<=Z&&q.from>=Z&&(Q=X.type.prop(i.closedBy))&&Q.indexOf(q.name)>-1&&J.doc.lineAt(X.to).from==J.doc.lineAt(q.from).from&&!/\S/.test(J.sliceDoc(X.to,q.from)))return{from:X.to,to:q.from};return null}var aU=CW(!1),yM=CW(!0);function CW(J){return({state:Z,dispatch:Y})=>{if(Z.readOnly)return!1;let X=Z.changeByRange((q)=>{let{from:Q,to:K}=q,$=Z.doc.lineAt(Q),U=!J&&Q==K&&TM(Z,Q);if(J)Q=K=(K<=$.to?$:Z.doc.lineAt(K)).to;let W=new C4(Z,{simulateBreak:Q,simulateDoubleBreak:!!U}),G=t9(W,Q);if(G==null)G=C5(/^\s*/.exec(Z.doc.lineAt(Q).text)[0],Z.tabSize);while(K<$.to&&/\s/.test($.text[K-$.from]))K++;if(U)({from:Q,to:K}=U);else if(Q>$.from&&Q<$.from+100&&!/\S/.test($.text.slice(0,Q)))Q=$.from;let j=["",E4(Z,G)];if(U)j.push(E4(Z,W.lineIndent($.from,-1)));return{changes:{from:Q,to:K,insert:e.of(j)},range:D.cursor(Q+1+j[1].length)}});return Y(Z.update(X,{scrollIntoView:!0,userEvent:"input"})),!0}}function UY(J,Z){let Y=-1;return J.changeByRange((X)=>{let q=[];for(let K=X.from;K<=X.to;){let $=J.doc.lineAt(K);if($.number>Y&&(X.empty||X.to>$.from))Z($,q,X),Y=$.number;K=$.to+1}let Q=J.changes(q);return{changes:q,range:D.range(Q.mapPos(X.anchor,1),Q.mapPos(X.head,1))}})}var bM=({state:J,dispatch:Z})=>{if(J.readOnly)return!1;let Y=Object.create(null),X=new C4(J,{overrideIndentation:(Q)=>{let K=Y[Q];return K==null?-1:K}}),q=UY(J,(Q,K,$)=>{let U=t9(X,Q.from);if(U==null)return;if(!/\S/.test(Q.text))U=0;let W=/^\s*/.exec(Q.text)[0],G=E4(J,U);if(W!=G||$.from<Q.from+W.length)Y[Q.from]=U,K.push({from:Q.from,to:Q.from+W.length,insert:G})});if(!q.changes.empty)Z(J.update(q,{userEvent:"indent"}));return!0},SM=({state:J,dispatch:Z})=>{if(J.readOnly)return!1;return Z(J.update(UY(J,(Y,X)=>{X.push({from:Y.from,insert:J.facet(P4)})}),{userEvent:"input.indent"})),!0},kM=({state:J,dispatch:Z})=>{if(J.readOnly)return!1;return Z(J.update(UY(J,(Y,X)=>{let q=/^\s*/.exec(Y.text)[0];if(!q)return;let Q=C5(q,J.tabSize),K=0,$=E4(J,Math.max(0,Q-c3(J)));while(K<q.length&&K<$.length&&q.charCodeAt(K)==$.charCodeAt(K))K++;X.push({from:Y.from+K,to:Y.from+q.length,insert:$.slice(K)})}),{userEvent:"delete.dedent"})),!0},wM=(J)=>{return J.setTabFocusMode(),!0};var xM=[{key:"Ctrl-b",run:QW,shift:_W,preventDefault:!0},{key:"Ctrl-f",run:KW,shift:HW},{key:"Ctrl-p",run:WW,shift:AW},{key:"Ctrl-n",run:GW,shift:FW},{key:"Ctrl-a",run:tF,shift:GM},{key:"Ctrl-e",run:eF,shift:jM},{key:"Ctrl-d",run:DW},{key:"Ctrl-h",run:QY},{key:"Ctrl-k",run:FM},{key:"Ctrl-Alt-h",run:BW},{key:"Ctrl-o",run:IM},{key:"Ctrl-t",run:DM},{key:"Ctrl-v",run:qY}],hM=[{key:"ArrowLeft",run:QW,shift:_W,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:pF,shift:YM,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:rF,shift:UM,preventDefault:!0},{key:"ArrowRight",run:KW,shift:HW,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:dF,shift:XM,preventDefault:!0},{mac:"Cmd-ArrowRight",run:oF,shift:WM,preventDefault:!0},{key:"ArrowUp",run:WW,shift:AW,preventDefault:!0},{mac:"Cmd-ArrowUp",run:cU,shift:iU},{mac:"Ctrl-ArrowUp",run:lU,shift:pU},{key:"ArrowDown",run:GW,shift:FW,preventDefault:!0},{mac:"Cmd-ArrowDown",run:nU,shift:sU},{mac:"Ctrl-ArrowDown",run:qY,shift:dU},{key:"PageUp",run:lU,shift:pU},{key:"PageDown",run:qY,shift:dU},{key:"Home",run:aF,shift:$M,preventDefault:!0},{key:"Mod-Home",run:cU,shift:iU},{key:"End",run:sF,shift:KM,preventDefault:!0},{key:"Mod-End",run:nU,shift:sU},{key:"Enter",run:aU,shift:aU},{key:"Mod-a",run:zM},{key:"Backspace",run:QY,shift:QY,preventDefault:!0},{key:"Delete",run:DW,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:BW,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:AM,preventDefault:!0},{mac:"Mod-Backspace",run:MM,preventDefault:!0},{mac:"Mod-Delete",run:VM,preventDefault:!0}].concat(xM.map((J)=>({mac:J.key,run:J.run,shift:J.shift}))),TW=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:nF,shift:qM},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:iF,shift:QM},{key:"Alt-ArrowUp",run:LM},{key:"Shift-Alt-ArrowUp",run:PM},{key:"Alt-ArrowDown",run:BM},{key:"Shift-Alt-ArrowDown",run:EM},{key:"Mod-Alt-ArrowUp",run:HM},{key:"Mod-Alt-ArrowDown",run:NM},{key:"Escape",run:RM},{key:"Mod-Enter",run:yM},{key:"Alt-l",mac:"Ctrl-l",run:OM},{key:"Mod-i",run:_M,preventDefault:!0},{key:"Mod-[",run:kM},{key:"Mod-]",run:SM},{key:"Mod-Alt-\\",run:bM},{key:"Shift-Mod-k",run:CM},{key:"Shift-Mod-\\",run:ZM},{key:"Mod-/",run:PF},{key:"Alt-A",run:CF},{key:"Ctrl-m",mac:"Shift-Alt-m",run:wM}].concat(hM);var yW=typeof String.prototype.normalize=="function"?(J)=>J.normalize("NFKD"):(J)=>J;class hJ{constructor(J,Z,Y=0,X=J.length,q,Q){this.test=Q,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=J.iterRange(Y,X),this.bufferStart=Y,this.normalize=q?(K)=>q(yW(K)):yW,this.query=this.normalize(Z)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return g0(this.buffer,this.bufferPos)}next(){while(this.matches.length)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let J=this.peek();if(J<0)return this.done=!0,this;let Z=N3(J),Y=this.bufferStart+this.bufferPos;this.bufferPos+=H1(J);let X=this.normalize(Z);if(X.length)for(let q=0,Q=Y;;q++){let K=X.charCodeAt(q),$=this.match(K,Q,this.bufferPos+this.bufferStart);if(q==X.length-1){if($)return this.value=$,this;break}if(Q==Y&&q<Z.length&&Z.charCodeAt(q)==K)Q++}}}match(J,Z,Y){let X=null;for(let q=0;q<this.matches.length;q+=2){let Q=this.matches[q],K=!1;if(this.query.charCodeAt(Q)==J)if(Q==this.query.length-1)X={from:this.matches[q+1],to:Y};else this.matches[q]++,K=!0;if(!K)this.matches.splice(q,2),q-=2}if(this.query.charCodeAt(0)==J)if(this.query.length==1)X={from:Z,to:Y};else this.matches.push(1,Z);if(X&&this.test&&!this.test(X.from,X.to,this.buffer,this.bufferStart))X=null;return X}}if(typeof Symbol<"u")hJ.prototype[Symbol.iterator]=function(){return this};var wW={from:-1,to:-1,match:/.*/.exec("")},zY="gm"+(/x/.unicode==null?"":"u");class OY{constructor(J,Z,Y,X=0,q=J.length){if(this.text=J,this.to=q,this.curLine="",this.done=!1,this.value=wW,/\\[sWDnr]|\n|\r|\[\^/.test(Z))return new _Y(J,Z,Y,X,q);this.re=new RegExp(Z,zY+((Y===null||Y===void 0?void 0:Y.ignoreCase)?"i":"")),this.test=Y===null||Y===void 0?void 0:Y.test,this.iter=J.iter();let Q=J.lineAt(X);this.curLineStart=Q.from,this.matchPos=j6(J,X),this.getLine(this.curLineStart)}getLine(J){if(this.iter.next(J),this.iter.lineBreak)this.curLine="";else{if(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to)this.curLine=this.curLine.slice(0,this.to-this.curLineStart);this.iter.next()}}nextLine(){if(this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to)this.curLine="";else this.getLine(0)}next(){for(let J=this.matchPos-this.curLineStart;;){this.re.lastIndex=J;let Z=this.matchPos<=this.to&&this.re.exec(this.curLine);if(Z){let Y=this.curLineStart+Z.index,X=Y+Z[0].length;if(this.matchPos=j6(this.text,X+(Y==X?1:0)),Y==this.curLineStart+this.curLine.length)this.nextLine();if((Y<X||Y>this.value.to)&&(!this.test||this.test(Y,X,Z)))return this.value={from:Y,to:X,match:Z},this;J=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),J=0;else return this.done=!0,this}}}var WY=new WeakMap;class w4{constructor(J,Z){this.from=J,this.text=Z}get to(){return this.from+this.text.length}static get(J,Z,Y){let X=WY.get(J);if(!X||X.from>=Y||X.to<=Z){let K=new w4(Z,J.sliceString(Z,Y));return WY.set(J,K),K}if(X.from==Z&&X.to==Y)return X;let{text:q,from:Q}=X;if(Q>Z)q=J.sliceString(Z,Q)+q,Q=Z;if(X.to<Y)q+=J.sliceString(X.to,Y);return WY.set(J,new w4(Q,q)),new w4(Z,q.slice(Z-Q,Y-Q))}}class _Y{constructor(J,Z,Y,X,q){this.text=J,this.to=q,this.done=!1,this.value=wW,this.matchPos=j6(J,X),this.re=new RegExp(Z,zY+((Y===null||Y===void 0?void 0:Y.ignoreCase)?"i":"")),this.test=Y===null||Y===void 0?void 0:Y.test,this.flat=w4.get(J,X,this.chunkEnd(X+5000))}chunkEnd(J){return J>=this.to?this.to:this.text.lineAt(J).to}next(){for(;;){let J=this.re.lastIndex=this.matchPos-this.flat.from,Z=this.re.exec(this.flat.text);if(Z&&!Z[0]&&Z.index==J)this.re.lastIndex=J+1,Z=this.re.exec(this.flat.text);if(Z){let Y=this.flat.from+Z.index,X=Y+Z[0].length;if((this.flat.to>=this.to||Z.index+Z[0].length<=this.flat.text.length-10)&&(!this.test||this.test(Y,X,Z)))return this.value={from:Y,to:X,match:Z},this.matchPos=j6(this.text,X+(Y==X?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=w4.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}if(typeof Symbol<"u")OY.prototype[Symbol.iterator]=_Y.prototype[Symbol.iterator]=function(){return this};function vM(J){try{return new RegExp(J,zY),!0}catch(Z){return!1}}function j6(J,Z){if(Z>=J.length)return Z;let Y=J.lineAt(Z),X;while(Z<Y.to&&(X=Y.text.charCodeAt(Z-Y.from))>=56320&&X<57344)Z++;return Z}function GY(J){let Z=String(J.state.doc.lineAt(J.state.selection.main.head).number),Y=$0("input",{class:"cm-textfield",name:"line",value:Z}),X=$0("form",{class:"cm-gotoLine",onkeydown:(Q)=>{if(Q.keyCode==27)Q.preventDefault(),J.dispatch({effects:a3.of(!1)}),J.focus();else if(Q.keyCode==13)Q.preventDefault(),q()},onsubmit:(Q)=>{Q.preventDefault(),q()}},$0("label",J.state.phrase("Go to line"),": ",Y)," ",$0("button",{class:"cm-button",type:"submit"},J.state.phrase("go")),$0("button",{name:"close",onclick:()=>{J.dispatch({effects:a3.of(!1)}),J.focus()},"aria-label":J.state.phrase("close"),type:"button"},[""]));function q(){let Q=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(Y.value);if(!Q)return;let{state:K}=J,$=K.doc.lineAt(K.selection.main.head),[,U,W,G,j]=Q,z=G?+G.slice(1):0,O=W?+W:$.number;if(W&&j){let F=O/100;if(U)F=F*(U=="-"?-1:1)+$.number/K.doc.lines;O=Math.round(K.doc.lines*F)}else if(W&&U)O=O*(U=="-"?-1:1)+$.number;let H=K.doc.line(Math.max(1,Math.min(K.doc.lines,O))),N=D.cursor(H.from+Math.max(0,Math.min(z,H.length)));J.dispatch({effects:[a3.of(!1),C.scrollIntoView(N.from,{y:"center"})],selection:N}),J.focus()}return{dom:X}}var a3=p.define(),bW=M0.define({create(){return!0},update(J,Z){for(let Y of Z.effects)if(Y.is(a3))J=Y.value;return J},provide:(J)=>SJ.from(J,(Z)=>Z?GY:null)}),mM=(J)=>{let Z=kJ(J,GY);if(!Z){let Y=[a3.of(!0)];if(J.state.field(bW,!1)==null)Y.push(p.appendConfig.of([bW,uM]));J.dispatch({effects:Y}),Z=kJ(J,GY)}if(Z)Z.dom.querySelector("input").select();return!0},uM=C.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),gM={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},xW=b.define({combine(J){return i0(J,gM,{highlightWordAroundCursor:(Z,Y)=>Z||Y,minSelectionLength:Math.min,maxMatches:Math.min})}});function hW(J){let Z=[cM,dM];if(J)Z.push(xW.of(J));return Z}var fM=f.mark({class:"cm-selectionMatch"}),lM=f.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function SW(J,Z,Y,X){return(Y==0||J(Z.sliceDoc(Y-1,Y))!=j0.Word)&&(X==Z.doc.length||J(Z.sliceDoc(X,X+1))!=j0.Word)}function pM(J,Z,Y,X){return J(Z.sliceDoc(Y,Y+1))==j0.Word&&J(Z.sliceDoc(X-1,X))==j0.Word}var dM=N0.fromClass(class{constructor(J){this.decorations=this.getDeco(J)}update(J){if(J.selectionSet||J.docChanged||J.viewportChanged)this.decorations=this.getDeco(J.view)}getDeco(J){let Z=J.state.facet(xW),{state:Y}=J,X=Y.selection;if(X.ranges.length>1)return f.none;let q=X.main,Q,K=null;if(q.empty){if(!Z.highlightWordAroundCursor)return f.none;let U=Y.wordAt(q.head);if(!U)return f.none;K=Y.charCategorizer(q.head),Q=Y.sliceDoc(U.from,U.to)}else{let U=q.to-q.from;if(U<Z.minSelectionLength||U>200)return f.none;if(Z.wholeWords){if(Q=Y.sliceDoc(q.from,q.to),K=Y.charCategorizer(q.head),!(SW(K,Y,q.from,q.to)&&pM(K,Y,q.from,q.to)))return f.none}else if(Q=Y.sliceDoc(q.from,q.to),!Q)return f.none}let $=[];for(let U of J.visibleRanges){let W=new hJ(Y.doc,Q,U.from,U.to);while(!W.next().done){let{from:G,to:j}=W.value;if(!K||SW(K,Y,G,j)){if(q.empty&&G<=q.from&&j>=q.to)$.push(lM.range(G,j));else if(G>=q.to||j<=q.from)$.push(fM.range(G,j));if($.length>Z.maxMatches)return f.none}}}return f.set($)}},{decorations:(J)=>J.decorations}),cM=C.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),nM=({state:J,dispatch:Z})=>{let{selection:Y}=J,X=D.create(Y.ranges.map((q)=>J.wordAt(q.head)||D.cursor(q.head)),Y.mainIndex);if(X.eq(Y))return!1;return Z(J.update({selection:X})),!0};function iM(J,Z){let{main:Y,ranges:X}=J.selection,q=J.wordAt(Y.head),Q=q&&q.from==Y.from&&q.to==Y.to;for(let K=!1,$=new hJ(J.doc,Z,X[X.length-1].to);;)if($.next(),$.done){if(K)return null;$=new hJ(J.doc,Z,0,Math.max(0,X[X.length-1].from-1)),K=!0}else{if(K&&X.some((U)=>U.from==$.value.from))continue;if(Q){let U=J.wordAt($.value.from);if(!U||U.from!=$.value.from||U.to!=$.value.to)continue}return $.value}}var sM=({state:J,dispatch:Z})=>{let{ranges:Y}=J.selection;if(Y.some((Q)=>Q.from===Q.to))return nM({state:J,dispatch:Z});let X=J.sliceDoc(Y[0].from,Y[0].to);if(J.selection.ranges.some((Q)=>J.sliceDoc(Q.from,Q.to)!=X))return!1;let q=iM(J,X);if(!q)return!1;return Z(J.update({selection:J.selection.addRange(D.range(q.from,q.to),!1),effects:C.scrollIntoView(q.to)})),!0},x4=b.define({combine(J){return i0(J,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:(Z)=>new dW(Z),scrollToMatch:(Z)=>C.scrollIntoView(Z)})}});class HY{constructor(J){this.search=J.search,this.caseSensitive=!!J.caseSensitive,this.literal=!!J.literal,this.regexp=!!J.regexp,this.replace=J.replace||"",this.valid=!!this.search&&(!this.regexp||vM(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!J.wholeWord}unquote(J){return this.literal?J:J.replace(/\\([nrt\\])/g,(Z,Y)=>Y=="n"?`
`:Y=="r"?"\r":Y=="t"?"\t":"\\")}eq(J){return this.search==J.search&&this.replace==J.replace&&this.caseSensitive==J.caseSensitive&&this.regexp==J.regexp&&this.wholeWord==J.wholeWord}create(){return this.regexp?new mW(this):new vW(this)}getCursor(J,Z=0,Y){let X=J.doc?J:o.create({doc:J});if(Y==null)Y=X.doc.length;return this.regexp?k4(this,X,Z,Y):S4(this,X,Z,Y)}}class NY{constructor(J){this.spec=J}}function S4(J,Z,Y,X){return new hJ(Z.doc,J.unquoted,Y,X,J.caseSensitive?void 0:(q)=>q.toLowerCase(),J.wholeWord?aM(Z.doc,Z.charCategorizer(Z.selection.main.head)):void 0)}function aM(J,Z){return(Y,X,q,Q)=>{if(Q>Y||Q+q.length<X)Q=Math.max(0,Y-2),q=J.sliceString(Q,Math.min(J.length,X+2));return(Z(z6(q,Y-Q))!=j0.Word||Z(O6(q,Y-Q))!=j0.Word)&&(Z(O6(q,X-Q))!=j0.Word||Z(z6(q,X-Q))!=j0.Word)}}class vW extends NY{constructor(J){super(J)}nextMatch(J,Z,Y){let X=S4(this.spec,J,Y,J.doc.length).nextOverlapping();if(X.done){let q=Math.min(J.doc.length,Z+this.spec.unquoted.length);X=S4(this.spec,J,0,q).nextOverlapping()}return X.done||X.value.from==Z&&X.value.to==Y?null:X.value}prevMatchInRange(J,Z,Y){for(let X=Y;;){let q=Math.max(Z,X-1e4-this.spec.unquoted.length),Q=S4(this.spec,J,q,X),K=null;while(!Q.nextOverlapping().done)K=Q.value;if(K)return K;if(q==Z)return null;X-=1e4}}prevMatch(J,Z,Y){let X=this.prevMatchInRange(J,0,Z);if(!X)X=this.prevMatchInRange(J,Math.max(0,Y-this.spec.unquoted.length),J.doc.length);return X&&(X.from!=Z||X.to!=Y)?X:null}getReplacement(J){return this.spec.unquote(this.spec.replace)}matchAll(J,Z){let Y=S4(this.spec,J,0,J.doc.length),X=[];while(!Y.next().done){if(X.length>=Z)return null;X.push(Y.value)}return X}highlight(J,Z,Y,X){let q=S4(this.spec,J,Math.max(0,Z-this.spec.unquoted.length),Math.min(Y+this.spec.unquoted.length,J.doc.length));while(!q.next().done)X(q.value.from,q.value.to)}}function k4(J,Z,Y,X){return new OY(Z.doc,J.search,{ignoreCase:!J.caseSensitive,test:J.wholeWord?rM(Z.charCategorizer(Z.selection.main.head)):void 0},Y,X)}function z6(J,Z){return J.slice(P0(J,Z,!1),Z)}function O6(J,Z){return J.slice(Z,P0(J,Z))}function rM(J){return(Z,Y,X)=>!X[0].length||(J(z6(X.input,X.index))!=j0.Word||J(O6(X.input,X.index))!=j0.Word)&&(J(O6(X.input,X.index+X[0].length))!=j0.Word||J(z6(X.input,X.index+X[0].length))!=j0.Word)}class mW extends NY{nextMatch(J,Z,Y){let X=k4(this.spec,J,Y,J.doc.length).next();if(X.done)X=k4(this.spec,J,0,Z).next();return X.done?null:X.value}prevMatchInRange(J,Z,Y){for(let X=1;;X++){let q=Math.max(Z,Y-X*1e4),Q=k4(this.spec,J,q,Y),K=null;while(!Q.next().done)K=Q.value;if(K&&(q==Z||K.from>q+10))return K;if(q==Z)return null}}prevMatch(J,Z,Y){return this.prevMatchInRange(J,0,Z)||this.prevMatchInRange(J,Y,J.doc.length)}getReplacement(J){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(Z,Y)=>{if(Y=="&")return J.match[0];if(Y=="$")return"$";for(let X=Y.length;X>0;X--){let q=+Y.slice(0,X);if(q>0&&q<J.match.length)return J.match[q]+Y.slice(X)}return Z})}matchAll(J,Z){let Y=k4(this.spec,J,0,J.doc.length),X=[];while(!Y.next().done){if(X.length>=Z)return null;X.push(Y.value)}return X}highlight(J,Z,Y,X){let q=k4(this.spec,J,Math.max(0,Z-250),Math.min(Y+250,J.doc.length));while(!q.next().done)X(q.value.from,q.value.to)}}var r3=p.define(),RY=p.define(),JJ=M0.define({create(J){return new G6(jY(J).create(),null)},update(J,Z){for(let Y of Z.effects)if(Y.is(r3))J=new G6(Y.value.create(),J.panel);else if(Y.is(RY))J=new G6(J.query,Y.value?AY:null);return J},provide:(J)=>SJ.from(J,(Z)=>Z.panel)});class G6{constructor(J,Z){this.query=J,this.panel=Z}}var oM=f.mark({class:"cm-searchMatch"}),tM=f.mark({class:"cm-searchMatch cm-searchMatch-selected"}),eM=N0.fromClass(class{constructor(J){this.view=J,this.decorations=this.highlight(J.state.field(JJ))}update(J){let Z=J.state.field(JJ);if(Z!=J.startState.field(JJ)||J.docChanged||J.selectionSet||J.viewportChanged)this.decorations=this.highlight(Z)}highlight({query:J,panel:Z}){if(!Z||!J.spec.valid)return f.none;let{view:Y}=this,X=new e0;for(let q=0,Q=Y.visibleRanges,K=Q.length;q<K;q++){let{from:$,to:U}=Q[q];while(q<K-1&&U>Q[q+1].from-500)U=Q[++q].to;J.highlight(Y.state,$,U,(W,G)=>{let j=Y.state.selection.ranges.some((z)=>z.from==W&&z.to==G);X.add(W,G,j?tM:oM)})}return X.finish()}},{decorations:(J)=>J.decorations});function o3(J){return(Z)=>{let Y=Z.state.field(JJ,!1);return Y&&Y.query.spec.valid?J(Z,Y):fW(Z)}}var _6=o3((J,{query:Z})=>{let{to:Y}=J.state.selection.main,X=Z.nextMatch(J.state,Y,Y);if(!X)return!1;let q=D.single(X.from,X.to),Q=J.state.facet(x4);return J.dispatch({selection:q,effects:[FY(J,X),Q.scrollToMatch(q.main,J)],userEvent:"select.search"}),gW(J),!0}),H6=o3((J,{query:Z})=>{let{state:Y}=J,{from:X}=Y.selection.main,q=Z.prevMatch(Y,X,X);if(!q)return!1;let Q=D.single(q.from,q.to),K=J.state.facet(x4);return J.dispatch({selection:Q,effects:[FY(J,q),K.scrollToMatch(Q.main,J)],userEvent:"select.search"}),gW(J),!0}),JV=o3((J,{query:Z})=>{let Y=Z.matchAll(J.state,1000);if(!Y||!Y.length)return!1;return J.dispatch({selection:D.create(Y.map((X)=>D.range(X.from,X.to))),userEvent:"select.search.matches"}),!0}),ZV=({state:J,dispatch:Z})=>{let Y=J.selection;if(Y.ranges.length>1||Y.main.empty)return!1;let{from:X,to:q}=Y.main,Q=[],K=0;for(let $=new hJ(J.doc,J.sliceDoc(X,q));!$.next().done;){if(Q.length>1000)return!1;if($.value.from==X)K=Q.length;Q.push(D.range($.value.from,$.value.to))}return Z(J.update({selection:D.create(Q,K),userEvent:"select.search.matches"})),!0},kW=o3((J,{query:Z})=>{let{state:Y}=J,{from:X,to:q}=Y.selection.main;if(Y.readOnly)return!1;let Q=Z.nextMatch(Y,X,X);if(!Q)return!1;let K=Q,$=[],U,W,G=[];if(K.from==X&&K.to==q)W=Y.toText(Z.getReplacement(K)),$.push({from:K.from,to:K.to,insert:W}),K=Z.nextMatch(Y,K.from,K.to),G.push(C.announce.of(Y.phrase("replaced match on line $",Y.doc.lineAt(X).number)+"."));let j=J.state.changes($);if(K)U=D.single(K.from,K.to).map(j),G.push(FY(J,K)),G.push(Y.facet(x4).scrollToMatch(U.main,J));return J.dispatch({changes:j,selection:U,effects:G,userEvent:"input.replace"}),!0}),YV=o3((J,{query:Z})=>{if(J.state.readOnly)return!1;let Y=Z.matchAll(J.state,1e9).map((q)=>{let{from:Q,to:K}=q;return{from:Q,to:K,insert:Z.getReplacement(q)}});if(!Y.length)return!1;let X=J.state.phrase("replaced $ matches",Y.length)+".";return J.dispatch({changes:Y,effects:C.announce.of(X),userEvent:"input.replace.all"}),!0});function AY(J){return J.state.facet(x4).createPanel(J)}function jY(J,Z){var Y,X,q,Q,K;let $=J.selection.main,U=$.empty||$.to>$.from+100?"":J.sliceDoc($.from,$.to);if(Z&&!U)return Z;let W=J.facet(x4);return new HY({search:((Y=Z===null||Z===void 0?void 0:Z.literal)!==null&&Y!==void 0?Y:W.literal)?U:U.replace(/\n/g,"\\n"),caseSensitive:(X=Z===null||Z===void 0?void 0:Z.caseSensitive)!==null&&X!==void 0?X:W.caseSensitive,literal:(q=Z===null||Z===void 0?void 0:Z.literal)!==null&&q!==void 0?q:W.literal,regexp:(Q=Z===null||Z===void 0?void 0:Z.regexp)!==null&&Q!==void 0?Q:W.regexp,wholeWord:(K=Z===null||Z===void 0?void 0:Z.wholeWord)!==null&&K!==void 0?K:W.wholeWord})}function uW(J){let Z=kJ(J,AY);return Z&&Z.dom.querySelector("[main-field]")}function gW(J){let Z=uW(J);if(Z&&Z==J.root.activeElement)Z.select()}var fW=(J)=>{let Z=J.state.field(JJ,!1);if(Z&&Z.panel){let Y=uW(J);if(Y&&Y!=J.root.activeElement){let X=jY(J.state,Z.query.spec);if(X.valid)J.dispatch({effects:r3.of(X)});Y.focus(),Y.select()}}else J.dispatch({effects:[RY.of(!0),Z?r3.of(jY(J.state,Z.query.spec)):p.appendConfig.of(qV)]});return!0},lW=(J)=>{let Z=J.state.field(JJ,!1);if(!Z||!Z.panel)return!1;let Y=kJ(J,AY);if(Y&&Y.dom.contains(J.root.activeElement))J.focus();return J.dispatch({effects:RY.of(!1)}),!0},pW=[{key:"Mod-f",run:fW,scope:"editor search-panel"},{key:"F3",run:_6,shift:H6,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:_6,shift:H6,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:lW,scope:"editor search-panel"},{key:"Mod-Shift-l",run:ZV},{key:"Mod-Alt-g",run:mM},{key:"Mod-d",run:sM,preventDefault:!0}];class dW{constructor(J){this.view=J;let Z=this.query=J.state.field(JJ).query.spec;this.commit=this.commit.bind(this),this.searchField=$0("input",{value:Z.search,placeholder:A1(J,"Find"),"aria-label":A1(J,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=$0("input",{value:Z.replace,placeholder:A1(J,"Replace"),"aria-label":A1(J,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=$0("input",{type:"checkbox",name:"case",form:"",checked:Z.caseSensitive,onchange:this.commit}),this.reField=$0("input",{type:"checkbox",name:"re",form:"",checked:Z.regexp,onchange:this.commit}),this.wordField=$0("input",{type:"checkbox",name:"word",form:"",checked:Z.wholeWord,onchange:this.commit});function Y(X,q,Q){return $0("button",{class:"cm-button",name:X,onclick:q,type:"button"},Q)}this.dom=$0("div",{onkeydown:(X)=>this.keydown(X),class:"cm-search"},[this.searchField,Y("next",()=>_6(J),[A1(J,"next")]),Y("prev",()=>H6(J),[A1(J,"previous")]),Y("select",()=>JV(J),[A1(J,"all")]),$0("label",null,[this.caseField,A1(J,"match case")]),$0("label",null,[this.reField,A1(J,"regexp")]),$0("label",null,[this.wordField,A1(J,"by word")]),...J.state.readOnly?[]:[$0("br"),this.replaceField,Y("replace",()=>kW(J),[A1(J,"replace")]),Y("replaceAll",()=>YV(J),[A1(J,"replace all")])],$0("button",{name:"close",onclick:()=>lW(J),"aria-label":A1(J,"close"),type:"button"},[""])])}commit(){let J=new HY({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});if(!J.eq(this.query))this.query=J,this.view.dispatch({effects:r3.of(J)})}keydown(J){if(T$(this.view,J,"search-panel"))J.preventDefault();else if(J.keyCode==13&&J.target==this.searchField)J.preventDefault(),(J.shiftKey?H6:_6)(this.view);else if(J.keyCode==13&&J.target==this.replaceField)J.preventDefault(),kW(this.view)}update(J){for(let Z of J.transactions)for(let Y of Z.effects)if(Y.is(r3)&&!Y.value.eq(this.query))this.setQuery(Y.value)}setQuery(J){this.query=J,this.searchField.value=J.search,this.replaceField.value=J.replace,this.caseField.checked=J.caseSensitive,this.reField.checked=J.regexp,this.wordField.checked=J.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(x4).top}}function A1(J,Z){return J.state.phrase(Z)}var U6=30,W6=/[\s\.,:;?!]/;function FY(J,{from:Z,to:Y}){let X=J.state.doc.lineAt(Z),q=J.state.doc.lineAt(Y).to,Q=Math.max(X.from,Z-U6),K=Math.min(q,Y+U6),$=J.state.sliceDoc(Q,K);if(Q!=X.from){for(let U=0;U<U6;U++)if(!W6.test($[U+1])&&W6.test($[U])){$=$.slice(U);break}}if(K!=q){for(let U=$.length-1;U>$.length-U6;U--)if(!W6.test($[U-1])&&W6.test($[U])){$=$.slice(0,U);break}}return C.announce.of(`${J.state.phrase("current match")}. ${$} ${J.state.phrase("on line")} ${X.number}.`)}var XV=C.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),qV=[JJ,L1.low(eM),XV];class LY{constructor(J,Z,Y,X){this.state=J,this.pos=Z,this.explicit=Y,this.view=X,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(J){let Z=E0(this.state).resolveInner(this.pos,-1);while(Z&&J.indexOf(Z.name)<0)Z=Z.parent;return Z?{from:Z.from,to:this.pos,text:this.state.sliceDoc(Z.from,this.pos),type:Z.type}:null}matchBefore(J){let Z=this.state.doc.lineAt(this.pos),Y=Math.max(Z.from,this.pos-250),X=Z.text.slice(Y-Z.from,this.pos-Z.from),q=X.search(JG(J,!1));return q<0?null:{from:Y+q,to:this.pos,text:X.slice(q)}}get aborted(){return this.abortListeners==null}addEventListener(J,Z,Y){if(J=="abort"&&this.abortListeners){if(this.abortListeners.push(Z),Y&&Y.onDocChange)this.abortOnDocChange=!0}}}function cW(J){let Z=Object.keys(J).join(""),Y=/\w/.test(Z);if(Y)Z=Z.replace(/\w/g,"");return`[${Y?"\\w":""}${Z.replace(/[^\w\s]/g,"\\$&")}]`}function QV(J){let Z=Object.create(null),Y=Object.create(null);for(let{label:q}of J){Z[q[0]]=!0;for(let Q=1;Q<q.length;Q++)Y[q[Q]]=!0}let X=cW(Z)+cW(Y)+"*$";return[new RegExp("^"+X),new RegExp(X)]}function BY(J){let Z=J.map((q)=>typeof q=="string"?{label:q}:q),[Y,X]=Z.every((q)=>/^\w+$/.test(q.label))?[/\w*$/,/\w+$/]:QV(Z);return(q)=>{let Q=q.matchBefore(X);return Q||q.explicit?{from:Q?Q.from:q.pos,options:Z,validFor:Y}:null}}function eW(J,Z){return(Y)=>{for(let X=E0(Y.state).resolveInner(Y.pos,-1);X;X=X.parent){if(J.indexOf(X.name)>-1)return null;if(X.type.isTop)break}return Z(Y)}}class DY{constructor(J,Z,Y,X){this.completion=J,this.source=Z,this.match=Y,this.score=X}}function mJ(J){return J.selection.main.from}function JG(J,Z){var Y;let{source:X}=J,q=Z&&X[0]!="^",Q=X[X.length-1]!="$";if(!q&&!Q)return J;return new RegExp(`${q?"^":""}(?:${X})${Q?"$":""}`,(Y=J.flags)!==null&&Y!==void 0?Y:J.ignoreCase?"i":"")}var PY=N1.define();function KV(J,Z,Y,X){let{main:q}=J.selection,Q=Y-q.from,K=X-q.from;return{...J.changeByRange(($)=>{if($!=q&&Y!=X&&J.sliceDoc($.from+Q,$.from+K)!=J.sliceDoc(Y,X))return{range:$};let U=J.toText(Z);return{changes:{from:$.from+Q,to:X==q.from?$.to:$.from+K,insert:U},range:D.cursor($.from+Q+U.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}var nW=new WeakMap;function $V(J){if(!Array.isArray(J))return J;let Z=nW.get(J);if(!Z)nW.set(J,Z=BY(J));return Z}var R6=p.define(),t3=p.define();class ZG{constructor(J){this.pattern=J,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let Z=0;Z<J.length;){let Y=g0(J,Z),X=H1(Y);this.chars.push(Y);let q=J.slice(Z,Z+X),Q=q.toUpperCase();this.folded.push(g0(Q==q?q.toLowerCase():Q,0)),Z+=X}this.astral=J.length!=this.chars.length}ret(J,Z){return this.score=J,this.matched=Z,this}match(J){if(this.pattern.length==0)return this.ret(-100,[]);if(J.length<this.pattern.length)return null;let{chars:Z,folded:Y,any:X,precise:q,byWord:Q}=this;if(Z.length==1){let M=g0(J,0),I=H1(M),L=I==J.length?0:-100;if(M==Z[0]);else if(M==Y[0])L+=-200;else return null;return this.ret(L,[0,I])}let K=J.indexOf(this.pattern);if(K==0)return this.ret(J.length==this.pattern.length?0:-100,[0,this.pattern.length]);let $=Z.length,U=0;if(K<0){for(let M=0,I=Math.min(J.length,200);M<I&&U<$;){let L=g0(J,M);if(L==Z[U]||L==Y[U])X[U++]=M;M+=H1(L)}if(U<$)return null}let W=0,G=0,j=!1,z=0,O=-1,H=-1,N=/[a-z]/.test(J),F=!0;for(let M=0,I=Math.min(J.length,200),L=0;M<I&&G<$;){let P=g0(J,M);if(K<0){if(W<$&&P==Z[W])q[W++]=M;if(z<$)if(P==Z[z]||P==Y[z]){if(z==0)O=M;H=M+1,z++}else z=0}let E,m=P<255?P>=48&&P<=57||P>=97&&P<=122?2:P>=65&&P<=90?1:0:(E=N3(P))!=E.toLowerCase()?1:E!=E.toUpperCase()?2:0;if(!M||m==1&&N||L==0&&m!=0){if(Z[G]==P||Y[G]==P&&(j=!0))Q[G++]=M;else if(Q.length)F=!1}L=m,M+=H1(P)}if(G==$&&Q[0]==0&&F)return this.result(-100+(j?-200:0),Q,J);if(z==$&&O==0)return this.ret(-200-J.length+(H==J.length?0:-100),[0,H]);if(K>-1)return this.ret(-700-J.length,[K,K+this.pattern.length]);if(z==$)return this.ret(-900-J.length,[O,H]);if(G==$)return this.result(-100+(j?-200:0)+-700+(F?0:-1100),Q,J);return Z.length==2?null:this.result((X[0]?-700:0)+-200+-1100,X,J)}result(J,Z,Y){let X=[],q=0;for(let Q of Z){let K=Q+(this.astral?H1(g0(Y,Q)):1);if(q&&X[q-1]==Q)X[q-1]=K;else X[q++]=Q,X[q++]=K}return this.ret(J-Y.length,X)}}class YG{constructor(J){this.pattern=J,this.matched=[],this.score=0,this.folded=J.toLowerCase()}match(J){if(J.length<this.pattern.length)return null;let Z=J.slice(0,this.pattern.length),Y=Z==this.pattern?0:Z.toLowerCase()==this.folded?-200:null;if(Y==null)return null;return this.matched=[0,Z.length],this.score=Y+(J.length==this.pattern.length?0:-100),this}}var v0=b.define({combine(J){return i0(J,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:UV,filterStrict:!1,compareCompletions:(Z,Y)=>(Z.sortText||Z.label).localeCompare(Y.sortText||Y.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(Z,Y)=>Z&&Y,closeOnBlur:(Z,Y)=>Z&&Y,icons:(Z,Y)=>Z&&Y,tooltipClass:(Z,Y)=>(X)=>iW(Z(X),Y(X)),optionClass:(Z,Y)=>(X)=>iW(Z(X),Y(X)),addToOptions:(Z,Y)=>Z.concat(Y),filterStrict:(Z,Y)=>Z||Y})}});function iW(J,Z){return J?Z?J+" "+Z:J:Z}function UV(J,Z,Y,X,q,Q){let K=J.textDirection==W0.RTL,$=K,U=!1,W="top",G,j,z=Z.left-q.left,O=q.right-Z.right,H=X.right-X.left,N=X.bottom-X.top;if($&&z<Math.min(H,O))$=!1;else if(!$&&O<Math.min(H,z))$=!0;if(H<=($?z:O))G=Math.max(q.top,Math.min(Y.top,q.bottom-N))-Z.top,j=Math.min(400,$?z:O);else{U=!0,j=Math.min(400,(K?Z.right:q.right-Z.left)-30);let I=q.bottom-Z.bottom;if(I>=N||I>Z.top)G=Y.bottom-Z.top;else W="bottom",G=Z.bottom-Y.top}let F=(Z.bottom-Z.top)/Q.offsetHeight,M=(Z.right-Z.left)/Q.offsetWidth;return{style:`${W}: ${G/F}px; max-width: ${j/M}px`,class:"cm-completionInfo-"+(U?K?"left-narrow":"right-narrow":$?"left":"right")}}function WV(J){let Z=J.addToOptions.slice();if(J.icons)Z.push({render(Y){let X=document.createElement("div");if(X.classList.add("cm-completionIcon"),Y.type)X.classList.add(...Y.type.split(/\s+/g).map((q)=>"cm-completionIcon-"+q));return X.setAttribute("aria-hidden","true"),X},position:20});return Z.push({render(Y,X,q,Q){let K=document.createElement("span");K.className="cm-completionLabel";let $=Y.displayLabel||Y.label,U=0;for(let W=0;W<Q.length;){let G=Q[W++],j=Q[W++];if(G>U)K.appendChild(document.createTextNode($.slice(U,G)));let z=K.appendChild(document.createElement("span"));z.appendChild(document.createTextNode($.slice(G,j))),z.className="cm-completionMatchedText",U=j}if(U<$.length)K.appendChild(document.createTextNode($.slice(U)));return K},position:50},{render(Y){if(!Y.detail)return null;let X=document.createElement("span");return X.className="cm-completionDetail",X.textContent=Y.detail,X},position:80}),Z.sort((Y,X)=>Y.position-X.position).map((Y)=>Y.render)}function MY(J,Z,Y){if(J<=Y)return{from:0,to:J};if(Z<0)Z=0;if(Z<=J>>1){let q=Math.floor(Z/Y);return{from:q*Y,to:(q+1)*Y}}let X=Math.floor((J-Z)/Y);return{from:J-(X+1)*Y,to:J-X*Y}}class XG{constructor(J,Z,Y){this.view=J,this.stateField=Z,this.applyCompletion=Y,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:($)=>this.placeInfo($),key:this},this.space=null,this.currentClass="";let X=J.state.field(Z),{options:q,selected:Q}=X.open,K=J.state.facet(v0);this.optionContent=WV(K),this.optionClass=K.optionClass,this.tooltipClass=K.tooltipClass,this.range=MY(q.length,Q,K.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(J.state),this.dom.addEventListener("mousedown",($)=>{let{options:U}=J.state.field(Z).open;for(let W=$.target,G;W&&W!=this.dom;W=W.parentNode)if(W.nodeName=="LI"&&(G=/-(\d+)$/.exec(W.id))&&+G[1]<U.length){this.applyCompletion(J,U[+G[1]]),$.preventDefault();return}}),this.dom.addEventListener("focusout",($)=>{let U=J.state.field(this.stateField,!1);if(U&&U.tooltip&&J.state.facet(v0).closeOnBlur&&$.relatedTarget!=J.contentDOM)J.dispatch({effects:t3.of(null)})}),this.showOptions(q,X.id)}mount(){this.updateSel()}showOptions(J,Z){if(this.list)this.list.remove();this.list=this.dom.appendChild(this.createListBox(J,Z,this.range)),this.list.addEventListener("scroll",()=>{if(this.info)this.view.requestMeasure(this.placeInfoReq)})}update(J){var Z;let Y=J.state.field(this.stateField),X=J.startState.field(this.stateField);if(this.updateTooltipClass(J.state),Y!=X){let{options:q,selected:Q,disabled:K}=Y.open;if(!X.open||X.open.options!=q)this.range=MY(q.length,Q,J.state.facet(v0).maxRenderedOptions),this.showOptions(q,Y.id);if(this.updateSel(),K!=((Z=X.open)===null||Z===void 0?void 0:Z.disabled))this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!K)}}updateTooltipClass(J){let Z=this.tooltipClass(J);if(Z!=this.currentClass){for(let Y of this.currentClass.split(" "))if(Y)this.dom.classList.remove(Y);for(let Y of Z.split(" "))if(Y)this.dom.classList.add(Y);this.currentClass=Z}}positioned(J){if(this.space=J,this.info)this.view.requestMeasure(this.placeInfoReq)}updateSel(){let J=this.view.state.field(this.stateField),Z=J.open;if(Z.selected>-1&&Z.selected<this.range.from||Z.selected>=this.range.to)this.range=MY(Z.options.length,Z.selected,this.view.state.facet(v0).maxRenderedOptions),this.showOptions(Z.options,J.id);let Y=this.updateSelectedOption(Z.selected);if(Y){this.destroyInfo();let{completion:X}=Z.options[Z.selected],{info:q}=X;if(!q)return;let Q=typeof q==="string"?document.createTextNode(q):q(X);if(!Q)return;if("then"in Q)Q.then((K)=>{if(K&&this.view.state.field(this.stateField,!1)==J)this.addInfoPane(K,X)}).catch((K)=>l0(this.view.state,K,"completion info"));else this.addInfoPane(Q,X),Y.setAttribute("aria-describedby",this.info.id)}}addInfoPane(J,Z){this.destroyInfo();let Y=this.info=document.createElement("div");if(Y.className="cm-tooltip cm-completionInfo",Y.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),J.nodeType!=null)Y.appendChild(J),this.infoDestroy=null;else{let{dom:X,destroy:q}=J;Y.appendChild(X),this.infoDestroy=q||null}this.dom.appendChild(Y),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(J){let Z=null;for(let Y=this.list.firstChild,X=this.range.from;Y;Y=Y.nextSibling,X++)if(Y.nodeName!="LI"||!Y.id)X--;else if(X==J){if(!Y.hasAttribute("aria-selected"))Y.setAttribute("aria-selected","true"),Z=Y}else if(Y.hasAttribute("aria-selected"))Y.removeAttribute("aria-selected"),Y.removeAttribute("aria-describedby");if(Z)jV(this.list,Z);return Z}measureInfo(){let J=this.dom.querySelector("[aria-selected]");if(!J||!this.info)return null;let Z=this.dom.getBoundingClientRect(),Y=this.info.getBoundingClientRect(),X=J.getBoundingClientRect(),q=this.space;if(!q){let Q=this.dom.ownerDocument.documentElement;q={left:0,top:0,right:Q.clientWidth,bottom:Q.clientHeight}}if(X.top>Math.min(q.bottom,Z.bottom)-10||X.bottom<Math.max(q.top,Z.top)+10)return null;return this.view.state.facet(v0).positionInfo(this.view,Z,X,Y,q,this.dom)}placeInfo(J){if(this.info)if(J){if(J.style)this.info.style.cssText=J.style;this.info.className="cm-tooltip cm-completionInfo "+(J.class||"")}else this.info.style.cssText="top: -1e6px"}createListBox(J,Z,Y){let X=document.createElement("ul");X.id=Z,X.setAttribute("role","listbox"),X.setAttribute("aria-expanded","true"),X.setAttribute("aria-label",this.view.state.phrase("Completions")),X.addEventListener("mousedown",(Q)=>{if(Q.target==X)Q.preventDefault()});let q=null;for(let Q=Y.from;Q<Y.to;Q++){let{completion:K,match:$}=J[Q],{section:U}=K;if(U){let j=typeof U=="string"?U:U.name;if(j!=q&&(Q>Y.from||Y.from==0))if(q=j,typeof U!="string"&&U.header)X.appendChild(U.header(U));else{let z=X.appendChild(document.createElement("completion-section"));z.textContent=j}}let W=X.appendChild(document.createElement("li"));W.id=Z+"-"+Q,W.setAttribute("role","option");let G=this.optionClass(K);if(G)W.className=G;for(let j of this.optionContent){let z=j(K,this.view.state,this.view,$);if(z)W.appendChild(z)}}if(Y.from)X.classList.add("cm-completionListIncompleteTop");if(Y.to<J.length)X.classList.add("cm-completionListIncompleteBottom");return X}destroyInfo(){if(this.info){if(this.infoDestroy)this.infoDestroy();this.info.remove(),this.info=null}}destroy(){this.destroyInfo()}}function GV(J,Z){return(Y)=>new XG(Y,J,Z)}function jV(J,Z){let Y=J.getBoundingClientRect(),X=Z.getBoundingClientRect(),q=Y.height/J.offsetHeight;if(X.top<Y.top)J.scrollTop-=(Y.top-X.top)/q;else if(X.bottom>Y.bottom)J.scrollTop+=(X.bottom-Y.bottom)/q}function sW(J){return(J.boost||0)*100+(J.apply?10:0)+(J.info?5:0)+(J.type?1:0)}function zV(J,Z){let Y=[],X=null,q=null,Q=(G)=>{Y.push(G);let{section:j}=G.completion;if(j){if(!X)X=[];let z=typeof j=="string"?j:j.name;if(!X.some((O)=>O.name==z))X.push(typeof j=="string"?{name:z}:j)}},K=Z.facet(v0);for(let G of J)if(G.hasResult()){let j=G.result.getMatch;if(G.result.filter===!1)for(let z of G.result.options)Q(new DY(z,G.source,j?j(z):[],1e9-Y.length));else{let z=Z.sliceDoc(G.from,G.to),O,H=K.filterStrict?new YG(z):new ZG(z);for(let N of G.result.options)if(O=H.match(N.label)){let F=!N.displayLabel?O.matched:j?j(N,O.matched):[],M=O.score+(N.boost||0);if(Q(new DY(N,G.source,F,M)),typeof N.section=="object"&&N.section.rank==="dynamic"){let{name:I}=N.section;if(!q)q=Object.create(null);q[I]=Math.max(M,q[I]||-1e9)}}}}if(X){let G=Object.create(null),j=0,z=(O,H)=>{return(O.rank==="dynamic"&&H.rank==="dynamic"?q[H.name]-q[O.name]:0)||(typeof O.rank=="number"?O.rank:1e9)-(typeof H.rank=="number"?H.rank:1e9)||(O.name<H.name?-1:1)};for(let O of X.sort(z))j-=1e5,G[O.name]=j;for(let O of Y){let{section:H}=O.completion;if(H)O.score+=G[typeof H=="string"?H:H.name]}}let $=[],U=null,W=K.compareCompletions;for(let G of Y.sort((j,z)=>z.score-j.score||W(j.completion,z.completion))){let j=G.completion;if(!U||U.label!=j.label||U.detail!=j.detail||U.type!=null&&j.type!=null&&U.type!=j.type||U.apply!=j.apply||U.boost!=j.boost)$.push(G);else if(sW(G.completion)>sW(U))$[$.length-1]=G;U=G.completion}return $}class h4{constructor(J,Z,Y,X,q,Q){this.options=J,this.attrs=Z,this.tooltip=Y,this.timestamp=X,this.selected=q,this.disabled=Q}setSelected(J,Z){return J==this.selected||J>=this.options.length?this:new h4(this.options,aW(Z,J),this.tooltip,this.timestamp,J,this.disabled)}static build(J,Z,Y,X,q,Q){if(X&&!Q&&J.some((U)=>U.isPending))return X.setDisabled();let K=zV(J,Z);if(!K.length)return X&&J.some((U)=>U.isPending)?X.setDisabled():null;let $=Z.facet(v0).selectOnOpen?0:-1;if(X&&X.selected!=$&&X.selected!=-1){let U=X.options[X.selected].completion;for(let W=0;W<K.length;W++)if(K[W].completion==U){$=W;break}}return new h4(K,aW(Y,$),{pos:J.reduce((U,W)=>W.hasResult()?Math.min(U,W.from):U,1e8),create:AV,above:q.aboveCursor},X?X.timestamp:Date.now(),$,!1)}map(J){return new h4(this.options,this.attrs,{...this.tooltip,pos:J.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new h4(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class A6{constructor(J,Z,Y){this.active=J,this.id=Z,this.open=Y}static start(){return new A6(NV,"cm-ac-"+Math.floor(Math.random()*2000000).toString(36),null)}update(J){let{state:Z}=J,Y=Z.facet(v0),q=(Y.override||Z.languageDataAt("autocomplete",mJ(Z)).map($V)).map(($)=>{return(this.active.find((W)=>W.source==$)||new S1($,this.active.some((W)=>W.state!=0)?1:0)).update(J,Y)});if(q.length==this.active.length&&q.every(($,U)=>$==this.active[U]))q=this.active;let Q=this.open,K=J.effects.some(($)=>$.is(EY));if(Q&&J.docChanged)Q=Q.map(J.changes);if(J.selection||q.some(($)=>$.hasResult()&&J.changes.touchesRange($.from,$.to))||!OV(q,this.active)||K)Q=h4.build(q,Z,this.id,Q,Y,K);else if(Q&&Q.disabled&&!q.some(($)=>$.isPending))Q=null;if(!Q&&q.every(($)=>!$.isPending)&&q.some(($)=>$.hasResult()))q=q.map(($)=>$.hasResult()?new S1($.source,0):$);for(let $ of J.effects)if($.is(QG))Q=Q&&Q.setSelected($.value,this.id);return q==this.active&&Q==this.open?this:new A6(q,this.id,Q)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?_V:HV}}function OV(J,Z){if(J==Z)return!0;for(let Y=0,X=0;;){while(Y<J.length&&!J[Y].hasResult())Y++;while(X<Z.length&&!Z[X].hasResult())X++;let q=Y==J.length,Q=X==Z.length;if(q||Q)return q==Q;if(J[Y++].result!=Z[X++].result)return!1}}var _V={"aria-autocomplete":"list"},HV={};function aW(J,Z){let Y={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":J};if(Z>-1)Y["aria-activedescendant"]=J+"-"+Z;return Y}var NV=[];function qG(J,Z){if(J.isUserEvent("input.complete")){let X=J.annotation(PY);if(X&&Z.activateOnCompletion(X))return 12}let Y=J.isUserEvent("input.type");return Y&&Z.activateOnTyping?5:Y?1:J.isUserEvent("delete.backward")?2:J.selection?8:J.docChanged?16:0}class S1{constructor(J,Z,Y=!1){this.source=J,this.state=Z,this.explicit=Y}hasResult(){return!1}get isPending(){return this.state==1}update(J,Z){let Y=qG(J,Z),X=this;if(Y&8||Y&16&&this.touches(J))X=new S1(X.source,0);if(Y&4&&X.state==0)X=new S1(this.source,1);X=X.updateFor(J,Y);for(let q of J.effects)if(q.is(R6))X=new S1(X.source,1,q.value);else if(q.is(t3))X=new S1(X.source,0);else if(q.is(EY)){for(let Q of q.value)if(Q.source==X.source)X=Q}return X}updateFor(J,Z){return this.map(J.changes)}map(J){return this}touches(J){return J.changes.touchesRange(mJ(J.state))}}class v4 extends S1{constructor(J,Z,Y,X,q,Q){super(J,3,Z);this.limit=Y,this.result=X,this.from=q,this.to=Q}hasResult(){return!0}updateFor(J,Z){var Y;if(!(Z&3))return this.map(J.changes);let X=this.result;if(X.map&&!J.changes.empty)X=X.map(X,J.changes);let q=J.changes.mapPos(this.from),Q=J.changes.mapPos(this.to,1),K=mJ(J.state);if(K>Q||!X||Z&2&&(mJ(J.startState)==this.from||K<this.limit))return new S1(this.source,Z&4?1:0);let $=J.changes.mapPos(this.limit);if(RV(X.validFor,J.state,q,Q))return new v4(this.source,this.explicit,$,X,q,Q);if(X.update&&(X=X.update(X,q,Q,new LY(J.state,K,!1))))return new v4(this.source,this.explicit,$,X,X.from,(Y=X.to)!==null&&Y!==void 0?Y:mJ(J.state));return new S1(this.source,1,this.explicit)}map(J){if(J.empty)return this;if(!(this.result.map?this.result.map(this.result,J):this.result))return new S1(this.source,0);return new v4(this.source,this.explicit,J.mapPos(this.limit),this.result,J.mapPos(this.from),J.mapPos(this.to,1))}touches(J){return J.changes.touchesRange(this.from,this.to)}}function RV(J,Z,Y,X){if(!J)return!1;let q=Z.sliceDoc(Y,X);return typeof J=="function"?J(q,Y,X,Z):JG(J,!0).test(q)}var EY=p.define({map(J,Z){return J.map((Y)=>Y.map(Z))}}),QG=p.define(),W1=M0.define({create(){return A6.start()},update(J,Z){return J.update(Z)},provide:(J)=>[m3.from(J,(Z)=>Z.tooltip),C.contentAttributes.from(J,(Z)=>Z.attrs)]});function CY(J,Z){let Y=Z.completion.apply||Z.completion.label,X=J.state.field(W1).active.find((q)=>q.source==Z.source);if(!(X instanceof v4))return!1;if(typeof Y=="string")J.dispatch({...KV(J.state,Y,X.from,X.to),annotations:PY.of(Z.completion)});else Y(J,Z.completion,X.from,X.to);return!0}var AV=GV(W1,CY);function N6(J,Z="option"){return(Y)=>{let X=Y.state.field(W1,!1);if(!X||!X.open||X.open.disabled||Date.now()-X.open.timestamp<Y.state.facet(v0).interactionDelay)return!1;let q=1,Q;if(Z=="page"&&(Q=bZ(Y,X.open.tooltip)))q=Math.max(2,Math.floor(Q.dom.offsetHeight/Q.dom.querySelector("li").offsetHeight)-1);let{length:K}=X.open.options,$=X.open.selected>-1?X.open.selected+q*(J?1:-1):J?0:K-1;if($<0)$=Z=="page"?0:K-1;else if($>=K)$=Z=="page"?K-1:0;return Y.dispatch({effects:QG.of($)}),!0}}var FV=(J)=>{let Z=J.state.field(W1,!1);if(J.state.readOnly||!Z||!Z.open||Z.open.selected<0||Z.open.disabled||Date.now()-Z.open.timestamp<J.state.facet(v0).interactionDelay)return!1;return CY(J,Z.open.options[Z.open.selected])},VY=(J)=>{if(!J.state.field(W1,!1))return!1;return J.dispatch({effects:R6.of(!0)}),!0},MV=(J)=>{let Z=J.state.field(W1,!1);if(!Z||!Z.active.some((Y)=>Y.state!=0))return!1;return J.dispatch({effects:t3.of(null)}),!0};class KG{constructor(J,Z){this.active=J,this.context=Z,this.time=Date.now(),this.updates=[],this.done=void 0}}var VV=50,IV=1000,DV=N0.fromClass(class{constructor(J){this.view=J,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let Z of J.state.field(W1).active)if(Z.isPending)this.startQuery(Z)}update(J){let Z=J.state.field(W1),Y=J.state.facet(v0);if(!J.selectionSet&&!J.docChanged&&J.startState.field(W1)==Z)return;let X=J.transactions.some((Q)=>{let K=qG(Q,Y);return K&8||(Q.selection||Q.docChanged)&&!(K&3)});for(let Q=0;Q<this.running.length;Q++){let K=this.running[Q];if(X||K.context.abortOnDocChange&&J.docChanged||K.updates.length+J.transactions.length>VV&&Date.now()-K.time>IV){for(let $ of K.context.abortListeners)try{$()}catch(U){l0(this.view.state,U)}K.context.abortListeners=null,this.running.splice(Q--,1)}else K.updates.push(...J.transactions)}if(this.debounceUpdate>-1)clearTimeout(this.debounceUpdate);if(J.transactions.some((Q)=>Q.effects.some((K)=>K.is(R6))))this.pendingStart=!0;let q=this.pendingStart?50:Y.activateOnTypingDelay;if(this.debounceUpdate=Z.active.some((Q)=>Q.isPending&&!this.running.some((K)=>K.active.source==Q.source))?setTimeout(()=>this.startUpdate(),q):-1,this.composing!=0){for(let Q of J.transactions)if(Q.isUserEvent("input.type"))this.composing=2;else if(this.composing==2&&Q.selection)this.composing=3}}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:J}=this.view,Z=J.field(W1);for(let Y of Z.active)if(Y.isPending&&!this.running.some((X)=>X.active.source==Y.source))this.startQuery(Y);if(this.running.length&&Z.open&&Z.open.disabled)this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(v0).updateSyncTime)}startQuery(J){let{state:Z}=this.view,Y=mJ(Z),X=new LY(Z,Y,J.explicit,this.view),q=new KG(J,X);this.running.push(q),Promise.resolve(J.source(X)).then((Q)=>{if(!q.context.aborted)q.done=Q||null,this.scheduleAccept()},(Q)=>{this.view.dispatch({effects:t3.of(null)}),l0(this.view.state,Q)})}scheduleAccept(){if(this.running.every((J)=>J.done!==void 0))this.accept();else if(this.debounceAccept<0)this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(v0).updateSyncTime)}accept(){var J;if(this.debounceAccept>-1)clearTimeout(this.debounceAccept);this.debounceAccept=-1;let Z=[],Y=this.view.state.facet(v0),X=this.view.state.field(W1);for(let q=0;q<this.running.length;q++){let Q=this.running[q];if(Q.done===void 0)continue;if(this.running.splice(q--,1),Q.done){let $=mJ(Q.updates.length?Q.updates[0].startState:this.view.state),U=Math.min($,Q.done.from+(Q.active.explicit?0:1)),W=new v4(Q.active.source,Q.active.explicit,U,Q.done,Q.done.from,(J=Q.done.to)!==null&&J!==void 0?J:$);for(let G of Q.updates)W=W.update(G,Y);if(W.hasResult()){Z.push(W);continue}}let K=X.active.find(($)=>$.source==Q.active.source);if(K&&K.isPending)if(Q.done==null){let $=new S1(Q.active.source,0);for(let U of Q.updates)$=$.update(U,Y);if(!$.isPending)Z.push($)}else this.startQuery(K)}if(Z.length||X.open&&X.open.disabled)this.view.dispatch({effects:EY.of(Z)})}},{eventHandlers:{blur(J){let Z=this.view.state.field(W1,!1);if(Z&&Z.tooltip&&this.view.state.facet(v0).closeOnBlur){let Y=Z.open&&bZ(this.view,Z.open.tooltip);if(!Y||!Y.dom.contains(J.relatedTarget))setTimeout(()=>this.view.dispatch({effects:t3.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){if(this.composing==3)setTimeout(()=>this.view.dispatch({effects:R6.of(!1)}),20);this.composing=0}}}),LV=typeof navigator=="object"&&/Win/.test(navigator.platform),BV=L1.highest(C.domEventHandlers({keydown(J,Z){let Y=Z.state.field(W1,!1);if(!Y||!Y.open||Y.open.disabled||Y.open.selected<0||J.key.length>1||J.ctrlKey&&!(LV&&J.altKey)||J.metaKey)return!1;let X=Y.open.options[Y.open.selected],q=Y.active.find((K)=>K.source==X.source),Q=X.completion.commitCharacters||q.result.commitCharacters;if(Q&&Q.indexOf(J.key)>-1)CY(Z,X);return!1}})),$G=C.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:0.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:0.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"'\uD835\uDC65'"}},".cm-completionIcon-constant":{"&:after":{content:"'\uD835\uDC36'"}},".cm-completionIcon-type":{"&:after":{content:"'\uD835\uDC61'"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"'\uD83D\uDD11'"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class UG{constructor(J,Z,Y,X){this.field=J,this.line=Z,this.from=Y,this.to=X}}class TY{constructor(J,Z,Y){this.field=J,this.from=Z,this.to=Y}map(J){let Z=J.mapPos(this.from,-1,x0.TrackDel),Y=J.mapPos(this.to,1,x0.TrackDel);return Z==null||Y==null?null:new TY(this.field,Z,Y)}}class yY{constructor(J,Z){this.lines=J,this.fieldPositions=Z}instantiate(J,Z){let Y=[],X=[Z],q=J.doc.lineAt(Z),Q=/^\s*/.exec(q.text)[0];for(let $ of this.lines){if(Y.length){let U=Q,W=/^\t*/.exec($)[0].length;for(let G=0;G<W;G++)U+=J.facet(P4);X.push(Z+U.length-W),$=U+$.slice(W)}Y.push($),Z+=$.length+1}let K=this.fieldPositions.map(($)=>new TY($.field,X[$.line]+$.from,X[$.line]+$.to));return{text:Y,ranges:K}}static parse(J){let Z=[],Y=[],X=[],q;for(let Q of J.split(/\r\n?|\n/)){while(q=/[#$]\{(?:(\d+)(?::([^{}]*))?|((?:\\[{}]|[^{}])*))\}/.exec(Q)){let K=q[1]?+q[1]:null,$=q[2]||q[3]||"",U=-1,W=$.replace(/\\[{}]/g,(G)=>G[1]);for(let G=0;G<Z.length;G++)if(K!=null?Z[G].seq==K:W?Z[G].name==W:!1)U=G;if(U<0){let G=0;while(G<Z.length&&(K==null||Z[G].seq!=null&&Z[G].seq<K))G++;Z.splice(G,0,{seq:K,name:W}),U=G;for(let j of X)if(j.field>=U)j.field++}for(let G of X)if(G.line==Y.length&&G.from>q.index){let j=q[2]?3+(q[1]||"").length:2;G.from-=j,G.to-=j}X.push(new UG(U,Y.length,q.index,q.index+W.length)),Q=Q.slice(0,q.index)+$+Q.slice(q.index+q[0].length)}Q=Q.replace(/\\([{}])/g,(K,$,U)=>{for(let W of X)if(W.line==Y.length&&W.from>U)W.from--,W.to--;return $}),Y.push(Q)}return new yY(Y,X)}}var PV=f.widget({widget:new class extends K1{toDOM(){let J=document.createElement("span");return J.className="cm-snippetFieldPosition",J}ignoreEvent(){return!1}}}),EV=f.mark({class:"cm-snippetField"});class m4{constructor(J,Z){this.ranges=J,this.active=Z,this.deco=f.set(J.map((Y)=>(Y.from==Y.to?PV:EV).range(Y.from,Y.to)),!0)}map(J){let Z=[];for(let Y of this.ranges){let X=Y.map(J);if(!X)return null;Z.push(X)}return new m4(Z,this.active)}selectionInsideField(J){return J.ranges.every((Z)=>this.ranges.some((Y)=>Y.field==this.active&&Y.from<=Z.from&&Y.to>=Z.to))}}var Z7=p.define({map(J,Z){return J&&J.map(Z)}}),CV=p.define(),e3=M0.define({create(){return null},update(J,Z){for(let Y of Z.effects){if(Y.is(Z7))return Y.value;if(Y.is(CV)&&J)return new m4(J.ranges,Y.value)}if(J&&Z.docChanged)J=J.map(Z.changes);if(J&&Z.selection&&!J.selectionInsideField(Z.selection))J=null;return J},provide:(J)=>C.decorations.from(J,(Z)=>Z?Z.deco:f.none)});function bY(J,Z){return D.create(J.filter((Y)=>Y.field==Z).map((Y)=>D.range(Y.from,Y.to)))}function TV(J){let Z=yY.parse(J);return(Y,X,q,Q)=>{let{text:K,ranges:$}=Z.instantiate(Y.state,q),{main:U}=Y.state.selection,W={changes:{from:q,to:Q==U.from?U.to:Q,insert:e.of(K)},scrollIntoView:!0,annotations:X?[PY.of(X),D0.userEvent.of("input.complete")]:void 0};if($.length)W.selection=bY($,0);if($.some((G)=>G.field>0)){let G=new m4($,0),j=W.effects=[Z7.of(G)];if(Y.state.field(e3,!1)===void 0)j.push(p.appendConfig.of([e3,wV,xV,$G]))}Y.dispatch(Y.state.update(W))}}function WG(J){return({state:Z,dispatch:Y})=>{let X=Z.field(e3,!1);if(!X||J<0&&X.active==0)return!1;let q=X.active+J,Q=J>0&&!X.ranges.some((K)=>K.field==q+J);return Y(Z.update({selection:bY(X.ranges,q),effects:Z7.of(Q?null:new m4(X.ranges,q)),scrollIntoView:!0})),!0}}var yV=({state:J,dispatch:Z})=>{if(!J.field(e3,!1))return!1;return Z(J.update({effects:Z7.of(null)})),!0},bV=WG(1),SV=WG(-1);var kV=[{key:"Tab",run:bV,shift:SV},{key:"Escape",run:yV}],rW=b.define({combine(J){return J.length?J[0]:kV}}),wV=L1.highest(V4.compute([rW],(J)=>J.facet(rW)));function Y1(J,Z){return{...Z,apply:TV(J)}}var xV=C.domEventHandlers({mousedown(J,Z){let Y=Z.state.field(e3,!1),X;if(!Y||(X=Z.posAtCoords({x:J.clientX,y:J.clientY}))==null)return!1;let q=Y.ranges.find((Q)=>Q.from<=X&&Q.to>=X);if(!q||q.field==Y.active)return!1;return Z.dispatch({selection:bY(Y.ranges,q.field),effects:Z7.of(Y.ranges.some((Q)=>Q.field>q.field)?new m4(Y.ranges,q.field):null),scrollIntoView:!0}),!0}});var J7={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},vJ=p.define({map(J,Z){let Y=Z.mapPos(J,-1,x0.TrackAfter);return Y==null?void 0:Y}}),SY=new class extends c1{};SY.startSide=1;SY.endSide=-1;var GG=M0.define({create(){return a.empty},update(J,Z){if(J=J.map(Z.changes),Z.selection){let Y=Z.state.doc.lineAt(Z.selection.main.head);J=J.update({filter:(X)=>X>=Y.from&&X<=Y.to})}for(let Y of Z.effects)if(Y.is(vJ))J=J.update({add:[SY.range(Y.value,Y.value+1)]});return J}});function jG(){return[vV,GG]}var IY="()[]{}<>";function zG(J){for(let Z=0;Z<IY.length;Z+=2)if(IY.charCodeAt(Z)==J)return IY.charAt(Z+1);return N3(J<128?J:J+1)}function OG(J,Z){return J.languageDataAt("closeBrackets",Z)[0]||J7}var hV=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),vV=C.inputHandler.of((J,Z,Y,X)=>{if((hV?J.composing:J.compositionStarted)||J.state.readOnly)return!1;let q=J.state.selection.main;if(X.length>2||X.length==2&&H1(g0(X,0))==1||Z!=q.from||Y!=q.to)return!1;let Q=uV(J.state,X);if(!Q)return!1;return J.dispatch(Q),!0}),mV=({state:J,dispatch:Z})=>{if(J.readOnly)return!1;let X=OG(J,J.selection.main.head).brackets||J7.brackets,q=null,Q=J.changeByRange((K)=>{if(K.empty){let $=gV(J.doc,K.head);for(let U of X)if(U==$&&F6(J.doc,K.head)==zG(g0(U,0)))return{changes:{from:K.head-U.length,to:K.head+U.length},range:D.cursor(K.head-U.length)}}return{range:q=K}});if(!q)Z(J.update(Q,{scrollIntoView:!0,userEvent:"delete.backward"}));return!q},_G=[{key:"Backspace",run:mV}];function uV(J,Z){let Y=OG(J,J.selection.main.head),X=Y.brackets||J7.brackets;for(let q of X){let Q=zG(g0(q,0));if(Z==q)return Q==q?pV(J,q,X.indexOf(q+q+q)>-1,Y):fV(J,q,Q,Y.before||J7.before);if(Z==Q&&HG(J,J.selection.main.from))return lV(J,q,Q)}return null}function HG(J,Z){let Y=!1;return J.field(GG).between(0,J.doc.length,(X)=>{if(X==Z)Y=!0}),Y}function F6(J,Z){let Y=J.sliceString(Z,Z+2);return Y.slice(0,H1(g0(Y,0)))}function gV(J,Z){let Y=J.sliceString(Z-2,Z);return H1(g0(Y,0))==Y.length?Y:Y.slice(1)}function fV(J,Z,Y,X){let q=null,Q=J.changeByRange((K)=>{if(!K.empty)return{changes:[{insert:Z,from:K.from},{insert:Y,from:K.to}],effects:vJ.of(K.to+Z.length),range:D.range(K.anchor+Z.length,K.head+Z.length)};let $=F6(J.doc,K.head);if(!$||/\s/.test($)||X.indexOf($)>-1)return{changes:{insert:Z+Y,from:K.head},effects:vJ.of(K.head+Z.length),range:D.cursor(K.head+Z.length)};return{range:q=K}});return q?null:J.update(Q,{scrollIntoView:!0,userEvent:"input.type"})}function lV(J,Z,Y){let X=null,q=J.changeByRange((Q)=>{if(Q.empty&&F6(J.doc,Q.head)==Y)return{changes:{from:Q.head,to:Q.head+Y.length,insert:Y},range:D.cursor(Q.head+Y.length)};return X={range:Q}});return X?null:J.update(q,{scrollIntoView:!0,userEvent:"input.type"})}function pV(J,Z,Y,X){let q=X.stringPrefixes||J7.stringPrefixes,Q=null,K=J.changeByRange(($)=>{if(!$.empty)return{changes:[{insert:Z,from:$.from},{insert:Z,from:$.to}],effects:vJ.of($.to+Z.length),range:D.range($.anchor+Z.length,$.head+Z.length)};let U=$.head,W=F6(J.doc,U),G;if(W==Z){if(oW(J,U))return{changes:{insert:Z+Z,from:U},effects:vJ.of(U+Z.length),range:D.cursor(U+Z.length)};else if(HG(J,U)){let z=Y&&J.sliceDoc(U,U+Z.length*3)==Z+Z+Z?Z+Z+Z:Z;return{changes:{from:U,to:U+z.length,insert:z},range:D.cursor(U+z.length)}}}else if(Y&&J.sliceDoc(U-2*Z.length,U)==Z+Z&&(G=tW(J,U-2*Z.length,q))>-1&&oW(J,G))return{changes:{insert:Z+Z+Z+Z,from:U},effects:vJ.of(U+Z.length),range:D.cursor(U+Z.length)};else if(J.charCategorizer(U)(W)!=j0.Word){if(tW(J,U,q)>-1&&!dV(J,U,Z,q))return{changes:{insert:Z+Z,from:U},effects:vJ.of(U+Z.length),range:D.cursor(U+Z.length)}}return{range:Q=$}});return Q?null:J.update(K,{scrollIntoView:!0,userEvent:"input.type"})}function oW(J,Z){let Y=E0(J).resolveInner(Z+1);return Y.parent&&Y.from==Z}function dV(J,Z,Y,X){let q=E0(J).resolveInner(Z,-1),Q=X.reduce((K,$)=>Math.max(K,$.length),0);for(let K=0;K<5;K++){let $=J.sliceDoc(q.from,Math.min(q.to,q.from+Y.length+Q)),U=$.indexOf(Y);if(!U||U>-1&&X.indexOf($.slice(0,U))>-1){let G=q.firstChild;while(G&&G.from==q.from&&G.to-G.from>Y.length+U){if(J.sliceDoc(G.to-Y.length,G.to)==Y)return!1;G=G.firstChild}return!0}let W=q.to==Z&&q.parent;if(!W)break;q=W}return!1}function tW(J,Z,Y){let X=J.charCategorizer(Z);if(X(J.sliceDoc(Z-1,Z))!=j0.Word)return Z;for(let q of Y){let Q=Z-q.length;if(J.sliceDoc(Q,Z)==q&&X(J.sliceDoc(Q-1,Q))!=j0.Word)return Q}return-1}function NG(J={}){return[BV,W1,v0.of(J),DV,cV,$G]}var kY=[{key:"Ctrl-Space",run:VY},{mac:"Alt-`",run:VY},{mac:"Alt-i",run:VY},{key:"Escape",run:MV},{key:"ArrowDown",run:N6(!0)},{key:"ArrowUp",run:N6(!1)},{key:"PageDown",run:N6(!0,"page")},{key:"PageUp",run:N6(!1,"page")},{key:"Enter",run:FV}],cV=L1.highest(V4.computeN([v0],(J)=>J.facet(v0).defaultKeymap?[kY]:[]));class wY{constructor(J,Z,Y){this.from=J,this.to=Z,this.diagnostic=Y}}class uJ{constructor(J,Z,Y){this.diagnostics=J,this.panel=Z,this.selected=Y}static init(J,Z,Y){let X=Y.facet(Y7).markerFilter;if(X)J=X(J,Y);let q=J.slice().sort((z,O)=>z.from-O.from||z.to-O.to),Q=new e0,K=[],$=0,U=Y.doc.iter(),W=0,G=Y.doc.length;for(let z=0;;){let O=z==q.length?null:q[z];if(!O&&!K.length)break;let H,N;if(K.length)H=$,N=K.reduce((I,L)=>Math.min(I,L.to),O&&O.from>H?O.from:1e8);else{if(H=O.from,H>G)break;N=O.to,K.push(O),z++}while(z<q.length){let I=q[z];if(I.from==H&&(I.to>I.from||I.to==H))K.push(I),z++,N=Math.min(I.to,N);else{N=Math.min(I.from,N);break}}N=Math.min(N,G);let F=!1;if(K.some((I)=>I.from==H&&(I.to==N||N==G))){if(F=H==N,!F&&N-H<10){let I=H-(W+U.value.length);if(I>0)U.next(I),W=H;for(let L=H;;){if(L>=N){F=!0;break}if(!U.lineBreak&&W+U.value.length>L)break;L=W+U.value.length,W+=U.value.length,U.next()}}}let M=YI(K);if(F)Q.add(H,H,f.widget({widget:new LG(M),diagnostics:K.slice()}));else{let I=K.reduce((L,P)=>P.markClass?L+" "+P.markClass:L,"");Q.add(H,N,f.mark({class:"cm-lintRange cm-lintRange-"+M+I,diagnostics:K.slice(),inclusiveEnd:K.some((L)=>L.to>N)}))}if($=N,$==G)break;for(let I=0;I<K.length;I++)if(K[I].to<=$)K.splice(I--,1)}let j=Q.finish();return new uJ(j,Z,u4(j))}}function u4(J,Z=null,Y=0){let X=null;return J.between(Y,1e9,(q,Q,{spec:K})=>{if(Z&&K.diagnostics.indexOf(Z)<0)return;if(!X)X=new wY(q,Q,Z||K.diagnostics[0]);else if(K.diagnostics.indexOf(X.diagnostic)<0)return!1;else X=new wY(X.from,Q,X.diagnostic)}),X}function nV(J,Z){let Y=Z.pos,X=Z.end||Y,q=J.state.facet(Y7).hideOn(J,Y,X);if(q!=null)return q;let Q=J.startState.doc.lineAt(Z.pos);return!!(J.effects.some((K)=>K.is(FG))||J.changes.touchesRange(Q.from,Math.max(Q.to,X)))}function iV(J,Z){return J.field(F1,!1)?Z:Z.concat(p.appendConfig.of(XI))}var FG=p.define(),hY=p.define(),MG=p.define(),F1=M0.define({create(){return new uJ(f.none,null,null)},update(J,Z){if(Z.docChanged&&J.diagnostics.size){let Y=J.diagnostics.map(Z.changes),X=null,q=J.panel;if(J.selected){let Q=Z.changes.mapPos(J.selected.from,1);X=u4(Y,J.selected.diagnostic,Q)||u4(Y,null,Q)}if(!Y.size&&q&&Z.state.facet(Y7).autoPanel)q=null;J=new uJ(Y,q,X)}for(let Y of Z.effects)if(Y.is(FG)){let X=!Z.state.facet(Y7).autoPanel?J.panel:Y.value.length?X7.open:null;J=uJ.init(Y.value,X,Z.state)}else if(Y.is(hY))J=new uJ(J.diagnostics,Y.value?X7.open:null,J.selected);else if(Y.is(MG))J=new uJ(J.diagnostics,J.panel,Y.value);return J},provide:(J)=>[SJ.from(J,(Z)=>Z.panel),C.decorations.from(J,(Z)=>Z.diagnostics)]});var sV=f.mark({class:"cm-lintRange cm-lintRange-active"});function aV(J,Z,Y){let{diagnostics:X}=J.state.field(F1),q,Q=-1,K=-1;X.between(Z-(Y<0?1:0),Z+(Y>0?1:0),(U,W,{spec:G})=>{if(Z>=U&&Z<=W&&(U==W||(Z>U||Y>0)&&(Z<W||Y<0)))return q=G.diagnostics,Q=U,K=W,!1});let $=J.state.facet(Y7).tooltipFilter;if(q&&$)q=$(q,J.state);if(!q)return null;return{pos:Q,end:K,above:J.state.doc.lineAt(Q).to<K,create(){return{dom:rV(J,q)}}}}function rV(J,Z){return $0("ul",{class:"cm-tooltip-lint"},Z.map((Y)=>DG(J,Y,!1)))}var oV=(J)=>{let Z=J.state.field(F1,!1);if(!Z||!Z.panel)J.dispatch({effects:iV(J.state,[hY.of(!0)])});let Y=kJ(J,X7.open);if(Y)Y.dom.querySelector(".cm-panel-lint ul").focus();return!0},RG=(J)=>{let Z=J.state.field(F1,!1);if(!Z||!Z.panel)return!1;return J.dispatch({effects:hY.of(!1)}),!0},tV=(J)=>{let Z=J.state.field(F1,!1);if(!Z)return!1;let Y=J.state.selection.main,X=Z.diagnostics.iter(Y.to+1);if(!X.value){if(X=Z.diagnostics.iter(0),!X.value||X.from==Y.from&&X.to==Y.to)return!1}return J.dispatch({selection:{anchor:X.from,head:X.to},scrollIntoView:!0}),!0};var VG=[{key:"Mod-Shift-m",run:oV,preventDefault:!0},{key:"F8",run:tV}];var Y7=b.define({combine(J){return{sources:J.map((Z)=>Z.source).filter((Z)=>Z!=null),...i0(J.map((Z)=>Z.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:AG,tooltipFilter:AG,needsRefresh:(Z,Y)=>!Z?Y:!Y?Z:(X)=>Z(X)||Y(X),hideOn:(Z,Y)=>!Z?Y:!Y?Z:(X,q,Q)=>Z(X,q,Q)||Y(X,q,Q),autoPanel:(Z,Y)=>Z||Y})}}});function AG(J,Z){return!J?Z:!Z?J:(Y,X)=>Z(J(Y,X),X)}function IG(J){let Z=[];if(J)J:for(let{name:Y}of J){for(let X=0;X<Y.length;X++){let q=Y[X];if(/[a-zA-Z]/.test(q)&&!Z.some((Q)=>Q.toLowerCase()==q.toLowerCase())){Z.push(q);continue J}}Z.push("")}return Z}function DG(J,Z,Y){var X;let q=Y?IG(Z.actions):[];return $0("li",{class:"cm-diagnostic cm-diagnostic-"+Z.severity},$0("span",{class:"cm-diagnosticText"},Z.renderMessage?Z.renderMessage(J):Z.message),(X=Z.actions)===null||X===void 0?void 0:X.map((Q,K)=>{let $=!1,U=(O)=>{if(O.preventDefault(),$)return;$=!0;let H=u4(J.state.field(F1).diagnostics,Z);if(H)Q.apply(J,H.from,H.to)},{name:W}=Q,G=q[K]?W.indexOf(q[K]):-1,j=G<0?W:[W.slice(0,G),$0("u",W.slice(G,G+1)),W.slice(G+1)],z=Q.markClass?" "+Q.markClass:"";return $0("button",{type:"button",class:"cm-diagnosticAction"+z,onclick:U,onmousedown:U,"aria-label":` Action: ${W}${G<0?"":` (access key "${q[K]})"`}.`},j)}),Z.source&&$0("div",{class:"cm-diagnosticSource"},Z.source))}class LG extends K1{constructor(J){super();this.sev=J}eq(J){return J.sev==this.sev}toDOM(){return $0("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class xY{constructor(J,Z){this.diagnostic=Z,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=DG(J,Z,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class X7{constructor(J){this.view=J,this.items=[];let Z=(X)=>{if(X.keyCode==27)RG(this.view),this.view.focus();else if(X.keyCode==38||X.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(X.keyCode==40||X.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(X.keyCode==36)this.moveSelection(0);else if(X.keyCode==35)this.moveSelection(this.items.length-1);else if(X.keyCode==13)this.view.focus();else if(X.keyCode>=65&&X.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:q}=this.items[this.selectedIndex],Q=IG(q.actions);for(let K=0;K<Q.length;K++)if(Q[K].toUpperCase().charCodeAt(0)==X.keyCode){let $=u4(this.view.state.field(F1).diagnostics,q);if($)q.actions[K].apply(J,$.from,$.to)}}else return;X.preventDefault()},Y=(X)=>{for(let q=0;q<this.items.length;q++)if(this.items[q].dom.contains(X.target))this.moveSelection(q)};this.list=$0("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:Z,onclick:Y}),this.dom=$0("div",{class:"cm-panel-lint"},this.list,$0("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>RG(this.view)},"")),this.update()}get selectedIndex(){let J=this.view.state.field(F1).selected;if(!J)return-1;for(let Z=0;Z<this.items.length;Z++)if(this.items[Z].diagnostic==J.diagnostic)return Z;return-1}update(){let{diagnostics:J,selected:Z}=this.view.state.field(F1),Y=0,X=!1,q=null,Q=new Set;J.between(0,this.view.state.doc.length,(K,$,{spec:U})=>{for(let W of U.diagnostics){if(Q.has(W))continue;Q.add(W);let G=-1,j;for(let z=Y;z<this.items.length;z++)if(this.items[z].diagnostic==W){G=z;break}if(G<0)j=new xY(this.view,W),this.items.splice(Y,0,j),X=!0;else if(j=this.items[G],G>Y)this.items.splice(Y,G-Y),X=!0;if(Z&&j.diagnostic==Z.diagnostic){if(!j.dom.hasAttribute("aria-selected"))j.dom.setAttribute("aria-selected","true"),q=j}else if(j.dom.hasAttribute("aria-selected"))j.dom.removeAttribute("aria-selected");Y++}});while(Y<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0))X=!0,this.items.pop();if(this.items.length==0)this.items.push(new xY(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),X=!0;if(q)this.list.setAttribute("aria-activedescendant",q.id),this.view.requestMeasure({key:this,read:()=>({sel:q.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:K,panel:$})=>{let U=$.height/this.list.offsetHeight;if(K.top<$.top)this.list.scrollTop-=($.top-K.top)/U;else if(K.bottom>$.bottom)this.list.scrollTop+=(K.bottom-$.bottom)/U}});else if(this.selectedIndex<0)this.list.removeAttribute("aria-activedescendant");if(X)this.sync()}sync(){let J=this.list.firstChild;function Z(){let Y=J;J=Y.nextSibling,Y.remove()}for(let Y of this.items)if(Y.dom.parentNode==this.list){while(J!=Y.dom)Z();J=Y.dom.nextSibling}else this.list.insertBefore(Y.dom,J);while(J)Z()}moveSelection(J){if(this.selectedIndex<0)return;let Z=this.view.state.field(F1),Y=u4(Z.diagnostics,this.items[J].diagnostic);if(!Y)return;this.view.dispatch({selection:{anchor:Y.from,head:Y.to},scrollIntoView:!0,effects:MG.of(Y)})}static open(J){return new X7(J)}}function eV(J,Z='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${Z}>${encodeURIComponent(J)}</svg>')`}function M6(J){return eV(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${J}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}var JI=C.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:0.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:M6("#d11")},".cm-lintRange-warning":{backgroundImage:M6("orange")},".cm-lintRange-info":{backgroundImage:M6("#999")},".cm-lintRange-hint":{backgroundImage:M6("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function ZI(J){return J=="error"?4:J=="warning"?3:J=="info"?2:1}function YI(J){let Z="hint",Y=1;for(let X of J){let q=ZI(X.severity);if(q>Y)Y=q,Z=X.severity}return Z}var XI=[F1,C.decorations.compute([F1],(J)=>{let{selected:Z,panel:Y}=J.field(F1);return!Z||!Y||Z.from==Z.to?f.none:f.set([sV.range(Z.from,Z.to)])}),n$(aV,{hideOn:nV}),JI];var BG=(()=>[r$(),o$(),u$(),eU(),xU(),w$(),v$(),o.allowMultipleSelections.of(!0),BU(),y4(Z6,{fallback:!0}),fU(),jG(),NG(),p$(),d$(),l$(),hW(),V4.of([..._G,...TW,...pW,...XW,...bU,...kY,...VG])])();class V6{constructor(J,Z,Y,X,q,Q,K,$,U,W=0,G){this.p=J,this.stack=Z,this.state=Y,this.reducePos=X,this.pos=q,this.score=Q,this.buffer=K,this.bufferBase=$,this.curContext=U,this.lookAhead=W,this.parent=G}toString(){return`[${this.stack.filter((J,Z)=>Z%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(J,Z,Y=0){let X=J.parser.context;return new V6(J,[],Z,Y,Y,0,[],0,X?new uY(X,X.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(J,Z){this.stack.push(this.state,Z,this.bufferBase+this.buffer.length),this.state=J}reduce(J){var Z;let Y=J>>19,X=J&65535,{parser:q}=this.p,Q=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),K=q.dynamicPrecedence(X);if(K)this.score+=K;if(Y==0){if(this.pushState(q.getGoto(this.state,X,!0),this.reducePos),X<q.minRepeatTerm)this.storeNode(X,this.reducePos,this.reducePos,Q?8:4,!0);this.reduceContext(X,this.reducePos);return}let $=this.stack.length-(Y-1)*3-(J&262144?6:0),U=$?this.stack[$-2]:this.p.ranges[0].from,W=this.reducePos-U;if(W>=2000&&!((Z=this.p.parser.nodeSet.types[X])===null||Z===void 0?void 0:Z.isAnonymous)){if(U==this.p.lastBigReductionStart)this.p.bigReductionCount++,this.p.lastBigReductionSize=W;else if(this.p.lastBigReductionSize<W)this.p.bigReductionCount=1,this.p.lastBigReductionStart=U,this.p.lastBigReductionSize=W}let G=$?this.stack[$-1]:0,j=this.bufferBase+this.buffer.length-G;if(X<q.minRepeatTerm||J&131072){let z=q.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(X,U,z,j+4,!0)}if(J&262144)this.state=this.stack[$];else{let z=this.stack[$-3];this.state=q.getGoto(z,X,!0)}while(this.stack.length>$)this.stack.pop();this.reduceContext(X,U)}storeNode(J,Z,Y,X=4,q=!1){if(J==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let Q=this,K=this.buffer.length;if(K==0&&Q.parent)K=Q.bufferBase-Q.parent.bufferBase,Q=Q.parent;if(K>0&&Q.buffer[K-4]==0&&Q.buffer[K-1]>-1){if(Z==Y)return;if(Q.buffer[K-2]>=Z){Q.buffer[K-2]=Y;return}}}if(!q||this.pos==Y)this.buffer.push(J,Z,Y,X);else{let Q=this.buffer.length;if(Q>0&&(this.buffer[Q-4]!=0||this.buffer[Q-1]<0)){let K=!1;for(let $=Q;$>0&&this.buffer[$-2]>Y;$-=4)if(this.buffer[$-1]>=0){K=!0;break}if(K){while(Q>0&&this.buffer[Q-2]>Y)if(this.buffer[Q]=this.buffer[Q-4],this.buffer[Q+1]=this.buffer[Q-3],this.buffer[Q+2]=this.buffer[Q-2],this.buffer[Q+3]=this.buffer[Q-1],Q-=4,X>4)X-=4}}this.buffer[Q]=J,this.buffer[Q+1]=Z,this.buffer[Q+2]=Y,this.buffer[Q+3]=X}}shift(J,Z,Y,X){if(J&131072)this.pushState(J&65535,this.pos);else if((J&262144)==0){let q=J,{parser:Q}=this.p;if(this.pos=X,!Q.stateFlag(q,1)&&(X>Y||Z<=Q.maxNode))this.reducePos=X;if(this.pushState(q,Math.min(Y,this.reducePos)),this.shiftContext(Z,Y),Z<=Q.maxNode)this.buffer.push(Z,Y,X,4)}else if(this.pos=X,this.shiftContext(Z,Y),Z<=this.p.parser.maxNode)this.buffer.push(Z,Y,X,4)}apply(J,Z,Y,X){if(J&65536)this.reduce(J);else this.shift(J,Z,Y,X)}useNode(J,Z){let Y=this.p.reused.length-1;if(Y<0||this.p.reused[Y]!=J)this.p.reused.push(J),Y++;let X=this.pos;if(this.reducePos=this.pos=X+J.length,this.pushState(Z,X),this.buffer.push(Y,X,this.reducePos,-1),this.curContext)this.updateContext(this.curContext.tracker.reuse(this.curContext.context,J,this,this.p.stream.reset(this.pos-J.length)))}split(){let J=this,Z=J.buffer.length;while(Z>0&&J.buffer[Z-2]>J.reducePos)Z-=4;let Y=J.buffer.slice(Z),X=J.bufferBase+Z;while(J&&X==J.bufferBase)J=J.parent;return new V6(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,Y,X,this.curContext,this.lookAhead,J)}recoverByDelete(J,Z){let Y=J<=this.p.parser.maxNode;if(Y)this.storeNode(J,this.pos,Z,4);this.storeNode(0,this.pos,Z,Y?8:4),this.pos=this.reducePos=Z,this.score-=190}canShift(J){for(let Z=new bG(this);;){let Y=this.p.parser.stateSlot(Z.state,4)||this.p.parser.hasAction(Z.state,J);if(Y==0)return!1;if((Y&65536)==0)return!0;Z.reduce(Y)}}recoverByInsert(J){if(this.stack.length>=300)return[];let Z=this.p.parser.nextStates(this.state);if(Z.length>8||this.stack.length>=120){let X=[];for(let q=0,Q;q<Z.length;q+=2)if((Q=Z[q+1])!=this.state&&this.p.parser.hasAction(Q,J))X.push(Z[q],Q);if(this.stack.length<120)for(let q=0;X.length<8&&q<Z.length;q+=2){let Q=Z[q+1];if(!X.some((K,$)=>$&1&&K==Q))X.push(Z[q],Q)}Z=X}let Y=[];for(let X=0;X<Z.length&&Y.length<4;X+=2){let q=Z[X+1];if(q==this.state)continue;let Q=this.split();Q.pushState(q,this.pos),Q.storeNode(0,Q.pos,Q.pos,4,!0),Q.shiftContext(Z[X],this.pos),Q.reducePos=this.pos,Q.score-=200,Y.push(Q)}return Y}forceReduce(){let{parser:J}=this.p,Z=J.stateSlot(this.state,5);if((Z&65536)==0)return!1;if(!J.validAction(this.state,Z)){let Y=Z>>19,X=Z&65535,q=this.stack.length-Y*3;if(q<0||J.getGoto(this.stack[q],X,!1)<0){let Q=this.findForcedReduction();if(Q==null)return!1;Z=Q}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(Z),!0}findForcedReduction(){let{parser:J}=this.p,Z=[],Y=(X,q)=>{if(Z.includes(X))return;return Z.push(X),J.allActions(X,(Q)=>{if(Q&393216);else if(Q&65536){let K=(Q>>19)-q;if(K>1){let $=Q&65535,U=this.stack.length-K*3;if(U>=0&&J.getGoto(this.stack[U],$,!1)>=0)return K<<19|65536|$}}else{let K=Y(Q,q+1);if(K!=null)return K}})};return Y(this.state,0)}forceAll(){while(!this.p.parser.stateFlag(this.state,2))if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:J}=this.p;return J.data[J.stateSlot(this.state,1)]==65535&&!J.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(J){if(this.state!=J.state||this.stack.length!=J.stack.length)return!1;for(let Z=0;Z<this.stack.length;Z+=3)if(this.stack[Z]!=J.stack[Z])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(J){return this.p.parser.dialect.flags[J]}shiftContext(J,Z){if(this.curContext)this.updateContext(this.curContext.tracker.shift(this.curContext.context,J,this,this.p.stream.reset(Z)))}reduceContext(J,Z){if(this.curContext)this.updateContext(this.curContext.tracker.reduce(this.curContext.context,J,this,this.p.stream.reset(Z)))}emitContext(){let J=this.buffer.length-1;if(J<0||this.buffer[J]!=-3)this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let J=this.buffer.length-1;if(J<0||this.buffer[J]!=-4)this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(J){if(J!=this.curContext.context){let Z=new uY(this.curContext.tracker,J);if(Z.hash!=this.curContext.hash)this.emitContext();this.curContext=Z}}setLookAhead(J){if(J<=this.lookAhead)return!1;return this.emitLookAhead(),this.lookAhead=J,!0}close(){if(this.curContext&&this.curContext.tracker.strict)this.emitContext();if(this.lookAhead>0)this.emitLookAhead()}}class uY{constructor(J,Z){this.tracker=J,this.context=Z,this.hash=J.strict?J.hash(Z):0}}class bG{constructor(J){this.start=J,this.state=J.state,this.stack=J.stack,this.base=this.stack.length}reduce(J){let Z=J&65535,Y=J>>19;if(Y==0){if(this.stack==this.start.stack)this.stack=this.stack.slice();this.stack.push(this.state,0,0),this.base+=3}else this.base-=(Y-1)*3;let X=this.start.p.parser.getGoto(this.stack[this.base-3],Z,!0);this.state=X}}class I6{constructor(J,Z,Y){if(this.stack=J,this.pos=Z,this.index=Y,this.buffer=J.buffer,this.index==0)this.maybeNext()}static create(J,Z=J.bufferBase+J.buffer.length){return new I6(J,Z,Z-J.bufferBase)}maybeNext(){let J=this.stack.parent;if(J!=null)this.index=this.stack.bufferBase-J.bufferBase,this.stack=J,this.buffer=J.buffer}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){if(this.index-=4,this.pos-=4,this.index==0)this.maybeNext()}fork(){return new I6(this.stack,this.pos,this.index)}}function q7(J,Z=Uint16Array){if(typeof J!="string")return J;let Y=null;for(let X=0,q=0;X<J.length;){let Q=0;for(;;){let K=J.charCodeAt(X++),$=!1;if(K==126){Q=65535;break}if(K>=92)K--;if(K>=34)K--;let U=K-32;if(U>=46)U-=46,$=!0;if(Q+=U,$)break;Q*=46}if(Y)Y[q++]=Q;else Y=new Z(Q)}return Y}class Q7{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}var PG=new Q7;class SG{constructor(J,Z){this.input=J,this.ranges=Z,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=PG,this.rangeIndex=0,this.pos=this.chunkPos=Z[0].from,this.range=Z[0],this.end=Z[Z.length-1].to,this.readNext()}resolveOffset(J,Z){let Y=this.range,X=this.rangeIndex,q=this.pos+J;while(q<Y.from){if(!X)return null;let Q=this.ranges[--X];q-=Y.from-Q.to,Y=Q}while(Z<0?q>Y.to:q>=Y.to){if(X==this.ranges.length-1)return null;let Q=this.ranges[++X];q+=Q.from-Y.to,Y=Q}return q}clipPos(J){if(J>=this.range.from&&J<this.range.to)return J;for(let Z of this.ranges)if(Z.to>J)return Math.max(J,Z.from);return this.end}peek(J){let Z=this.chunkOff+J,Y,X;if(Z>=0&&Z<this.chunk.length)Y=this.pos+J,X=this.chunk.charCodeAt(Z);else{let q=this.resolveOffset(J,1);if(q==null)return-1;if(Y=q,Y>=this.chunk2Pos&&Y<this.chunk2Pos+this.chunk2.length)X=this.chunk2.charCodeAt(Y-this.chunk2Pos);else{let Q=this.rangeIndex,K=this.range;while(K.to<=Y)K=this.ranges[++Q];if(this.chunk2=this.input.chunk(this.chunk2Pos=Y),Y+this.chunk2.length>K.to)this.chunk2=this.chunk2.slice(0,K.to-Y);X=this.chunk2.charCodeAt(0)}}if(Y>=this.token.lookAhead)this.token.lookAhead=Y+1;return X}acceptToken(J,Z=0){let Y=Z?this.resolveOffset(Z,-1):this.pos;if(Y==null||Y<this.token.start)throw RangeError("Token end out of bounds");this.token.value=J,this.token.end=Y}acceptTokenTo(J,Z){this.token.value=J,this.token.end=Z}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:J,chunkPos:Z}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=J,this.chunk2Pos=Z,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let J=this.input.chunk(this.pos),Z=this.pos+J.length;this.chunk=Z>this.range.to?J.slice(0,this.range.to-this.pos):J,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){if(this.chunkOff>=this.chunk.length){if(this.getChunk(),this.chunkOff==this.chunk.length)return this.next=-1}return this.next=this.chunk.charCodeAt(this.chunkOff)}advance(J=1){this.chunkOff+=J;while(this.pos+J>=this.range.to){if(this.rangeIndex==this.ranges.length-1)return this.setDone();J-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}if(this.pos+=J,this.pos>=this.token.lookAhead)this.token.lookAhead=this.pos+1;return this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(J,Z){if(Z)this.token=Z,Z.start=J,Z.lookAhead=J+1,Z.value=Z.extended=-1;else this.token=PG;if(this.pos!=J){if(this.pos=J,J==this.end)return this.setDone(),this;while(J<this.range.from)this.range=this.ranges[--this.rangeIndex];while(J>=this.range.to)this.range=this.ranges[++this.rangeIndex];if(J>=this.chunkPos&&J<this.chunkPos+this.chunk.length)this.chunkOff=J-this.chunkPos;else this.chunk="",this.chunkOff=0;this.readNext()}return this}read(J,Z){if(J>=this.chunkPos&&Z<=this.chunkPos+this.chunk.length)return this.chunk.slice(J-this.chunkPos,Z-this.chunkPos);if(J>=this.chunk2Pos&&Z<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(J-this.chunk2Pos,Z-this.chunk2Pos);if(J>=this.range.from&&Z<=this.range.to)return this.input.read(J,Z);let Y="";for(let X of this.ranges){if(X.from>=Z)break;if(X.to>J)Y+=this.input.read(Math.max(X.from,J),Math.min(X.to,Z))}return Y}}class gJ{constructor(J,Z){this.data=J,this.id=Z}token(J,Z){let{parser:Y}=Z.p;kG(this.data,J,Z,this.id,Y.data,Y.tokenPrecTable)}}gJ.prototype.contextual=gJ.prototype.fallback=gJ.prototype.extend=!1;class $7{constructor(J,Z,Y){this.precTable=Z,this.elseToken=Y,this.data=typeof J=="string"?q7(J):J}token(J,Z){let Y=J.pos,X=0;for(;;){let q=J.next<0,Q=J.resolveOffset(1,1);if(kG(this.data,J,Z,0,this.data,this.precTable),J.token.value>-1)break;if(this.elseToken==null)return;if(!q)X++;if(Q==null)break;J.reset(Q,J.token)}if(X)J.reset(Y,J.token),J.acceptToken(this.elseToken,X)}}$7.prototype.contextual=gJ.prototype.fallback=gJ.prototype.extend=!1;class fJ{constructor(J,Z={}){this.token=J,this.contextual=!!Z.contextual,this.fallback=!!Z.fallback,this.extend=!!Z.extend}}function kG(J,Z,Y,X,q,Q){let K=0,$=1<<X,{dialect:U}=Y.p.parser;J:for(;;){if(($&J[K])==0)break;let W=J[K+1];for(let O=K+3;O<W;O+=2)if((J[O+1]&$)>0){let H=J[O];if(U.allows(H)&&(Z.token.value==-1||Z.token.value==H||qI(H,Z.token.value,q,Q))){Z.acceptToken(H);break}}let G=Z.next,j=0,z=J[K+2];if(Z.next<0&&z>j&&J[W+z*3-3]==65535){K=J[W+z*3-1];continue J}for(;j<z;){let O=j+z>>1,H=W+O+(O<<1),N=J[H],F=J[H+1]||65536;if(G<N)z=O;else if(G>=F)j=O+1;else{K=J[H+2],Z.advance();continue J}}break}}function EG(J,Z,Y){for(let X=Z,q;(q=J[X])!=65535;X++)if(q==Y)return X-Z;return-1}function qI(J,Z,Y,X){let q=EG(Y,X,Z);return q<0||EG(Y,X,J)<q}var M1=typeof process<"u"&&process.env&&/\bparse\b/.test(process.env.LOG),vY=null;function CG(J,Z,Y){let X=J.cursor(R0.IncludeAnonymous);X.moveTo(Z);for(;;)if(!(Y<0?X.childBefore(Z):X.childAfter(Z)))for(;;){if((Y<0?X.to<Z:X.from>Z)&&!X.type.isError)return Y<0?Math.max(0,Math.min(X.to-1,Z-25)):Math.min(J.length,Math.max(X.from+1,Z+25));if(Y<0?X.prevSibling():X.nextSibling())break;if(!X.parent())return Y<0?0:J.length}}class wG{constructor(J,Z){this.fragments=J,this.nodeSet=Z,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let J=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(J){this.safeFrom=J.openStart?CG(J.tree,J.from+J.offset,1)-J.offset:J.from,this.safeTo=J.openEnd?CG(J.tree,J.to+J.offset,-1)-J.offset:J.to;while(this.trees.length)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(J.tree),this.start.push(-J.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(J){if(J<this.nextStart)return null;while(this.fragment&&this.safeTo<=J)this.nextFragment();if(!this.fragment)return null;for(;;){let Z=this.trees.length-1;if(Z<0)return this.nextFragment(),null;let Y=this.trees[Z],X=this.index[Z];if(X==Y.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let q=Y.children[X],Q=this.start[Z]+Y.positions[X];if(Q>J)return this.nextStart=Q,null;if(q instanceof B0){if(Q==J){if(Q<this.safeFrom)return null;let K=Q+q.length;if(K<=this.safeTo){let $=q.prop(i.lookAhead);if(!$||K+$<this.fragment.to)return q}}if(this.index[Z]++,Q+q.length>=Math.max(this.safeFrom,J))this.trees.push(q),this.start.push(Q),this.index.push(0)}else this.index[Z]++,this.nextStart=Q+q.length}}}class xG{constructor(J,Z){this.stream=Z,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=J.tokenizers.map((Y)=>new Q7)}getActions(J){let Z=0,Y=null,{parser:X}=J.p,{tokenizers:q}=X,Q=X.stateSlot(J.state,3),K=J.curContext?J.curContext.hash:0,$=0;for(let U=0;U<q.length;U++){if((1<<U&Q)==0)continue;let W=q[U],G=this.tokens[U];if(Y&&!W.fallback)continue;if(W.contextual||G.start!=J.pos||G.mask!=Q||G.context!=K)this.updateCachedToken(G,W,J),G.mask=Q,G.context=K;if(G.lookAhead>G.end+25)$=Math.max(G.lookAhead,$);if(G.value!=0){let j=Z;if(G.extended>-1)Z=this.addActions(J,G.extended,G.end,Z);if(Z=this.addActions(J,G.value,G.end,Z),!W.extend){if(Y=G,Z>j)break}}}while(this.actions.length>Z)this.actions.pop();if($)J.setLookAhead($);if(!Y&&J.pos==this.stream.end)Y=new Q7,Y.value=J.p.parser.eofTerm,Y.start=Y.end=J.pos,Z=this.addActions(J,Y.value,Y.end,Z);return this.mainToken=Y,this.actions}getMainToken(J){if(this.mainToken)return this.mainToken;let Z=new Q7,{pos:Y,p:X}=J;return Z.start=Y,Z.end=Math.min(Y+1,X.stream.end),Z.value=Y==X.stream.end?X.parser.eofTerm:0,Z}updateCachedToken(J,Z,Y){let X=this.stream.clipPos(Y.pos);if(Z.token(this.stream.reset(X,J),Y),J.value>-1){let{parser:q}=Y.p;for(let Q=0;Q<q.specialized.length;Q++)if(q.specialized[Q]==J.value){let K=q.specializers[Q](this.stream.read(J.start,J.end),Y);if(K>=0&&Y.p.parser.dialect.allows(K>>1)){if((K&1)==0)J.value=K>>1;else J.extended=K>>1;break}}}else J.value=0,J.end=this.stream.clipPos(X+1)}putAction(J,Z,Y,X){for(let q=0;q<X;q+=3)if(this.actions[q]==J)return X;return this.actions[X++]=J,this.actions[X++]=Z,this.actions[X++]=Y,X}addActions(J,Z,Y,X){let{state:q}=J,{parser:Q}=J.p,{data:K}=Q;for(let $=0;$<2;$++)for(let U=Q.stateSlot(q,$?2:1);;U+=3){if(K[U]==65535)if(K[U+1]==1)U=S5(K,U+2);else{if(X==0&&K[U+1]==2)X=this.putAction(S5(K,U+2),Z,Y,X);break}if(K[U]==Z)X=this.putAction(S5(K,U+1),Z,Y,X)}return X}}class hG{constructor(J,Z,Y,X){this.parser=J,this.input=Z,this.ranges=X,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new SG(Z,X),this.tokens=new xG(J,this.stream),this.topTerm=J.top[1];let{from:q}=X[0];this.stacks=[V6.start(this,J.top[0],q)],this.fragments=Y.length&&this.stream.end-q>J.bufferLength*4?new wG(Y,J.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let J=this.stacks,Z=this.minStackPos,Y=this.stacks=[],X,q;if(this.bigReductionCount>300&&J.length==1){let[Q]=J;while(Q.forceReduce()&&Q.stack.length&&Q.stack[Q.stack.length-2]>=this.lastBigReductionStart);this.bigReductionCount=this.lastBigReductionSize=0}for(let Q=0;Q<J.length;Q++){let K=J[Q];for(;;){if(this.tokens.mainToken=null,K.pos>Z)Y.push(K);else if(this.advanceStack(K,Y,J))continue;else{if(!X)X=[],q=[];X.push(K);let $=this.tokens.getMainToken(K);q.push($.value,$.end)}break}}if(!Y.length){let Q=X&&QI(X);if(Q){if(M1)console.log("Finish with "+this.stackID(Q));return this.stackToTree(Q)}if(this.parser.strict){if(M1&&X)console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none"));throw SyntaxError("No parse at "+Z)}if(!this.recovering)this.recovering=5}if(this.recovering&&X){let Q=this.stoppedAt!=null&&X[0].pos>this.stoppedAt?X[0]:this.runRecovery(X,q,Y);if(Q){if(M1)console.log("Force-finish "+this.stackID(Q));return this.stackToTree(Q.forceAll())}}if(this.recovering){let Q=this.recovering==1?1:this.recovering*3;if(Y.length>Q){Y.sort((K,$)=>$.score-K.score);while(Y.length>Q)Y.pop()}if(Y.some((K)=>K.reducePos>Z))this.recovering--}else if(Y.length>1){J:for(let Q=0;Q<Y.length-1;Q++){let K=Y[Q];for(let $=Q+1;$<Y.length;$++){let U=Y[$];if(K.sameState(U)||K.buffer.length>500&&U.buffer.length>500)if((K.score-U.score||K.buffer.length-U.buffer.length)>0)Y.splice($--,1);else{Y.splice(Q--,1);continue J}}}if(Y.length>12)Y.sort((Q,K)=>K.score-Q.score),Y.splice(12,Y.length-12)}this.minStackPos=Y[0].pos;for(let Q=1;Q<Y.length;Q++)if(Y[Q].pos<this.minStackPos)this.minStackPos=Y[Q].pos;return null}stopAt(J){if(this.stoppedAt!=null&&this.stoppedAt<J)throw RangeError("Can't move stoppedAt forward");this.stoppedAt=J}advanceStack(J,Z,Y){let X=J.pos,{parser:q}=this,Q=M1?this.stackID(J)+" -> ":"";if(this.stoppedAt!=null&&X>this.stoppedAt)return J.forceReduce()?J:null;if(this.fragments){let U=J.curContext&&J.curContext.tracker.strict,W=U?J.curContext.hash:0;for(let G=this.fragments.nodeAt(X);G;){let j=this.parser.nodeSet.types[G.type.id]==G.type?q.getGoto(J.state,G.type.id):-1;if(j>-1&&G.length&&(!U||(G.prop(i.contextHash)||0)==W)){if(J.useNode(G,j),M1)console.log(Q+this.stackID(J)+` (via reuse of ${q.getName(G.type.id)})`);return!0}if(!(G instanceof B0)||G.children.length==0||G.positions[0]>0)break;let z=G.children[0];if(z instanceof B0&&G.positions[0]==0)G=z;else break}}let K=q.stateSlot(J.state,4);if(K>0){if(J.reduce(K),M1)console.log(Q+this.stackID(J)+` (via always-reduce ${q.getName(K&65535)})`);return!0}if(J.stack.length>=8400)while(J.stack.length>6000&&J.forceReduce());let $=this.tokens.getActions(J);for(let U=0;U<$.length;){let W=$[U++],G=$[U++],j=$[U++],z=U==$.length||!Y,O=z?J:J.split(),H=this.tokens.mainToken;if(O.apply(W,G,H?H.start:O.pos,j),M1)console.log(Q+this.stackID(O)+` (via ${(W&65536)==0?"shift":`reduce of ${q.getName(W&65535)}`} for ${q.getName(G)} @ ${X}${O==J?"":", split"})`);if(z)return!0;else if(O.pos>X)Z.push(O);else Y.push(O)}return!1}advanceFully(J,Z){let Y=J.pos;for(;;){if(!this.advanceStack(J,null,null))return!1;if(J.pos>Y)return TG(J,Z),!0}}runRecovery(J,Z,Y){let X=null,q=!1;for(let Q=0;Q<J.length;Q++){let K=J[Q],$=Z[Q<<1],U=Z[(Q<<1)+1],W=M1?this.stackID(K)+" -> ":"";if(K.deadEnd){if(q)continue;if(q=!0,K.restart(),M1)console.log(W+this.stackID(K)+" (restarted)");if(this.advanceFully(K,Y))continue}let G=K.split(),j=W;for(let z=0;z<10&&G.forceReduce();z++){if(M1)console.log(j+this.stackID(G)+" (via force-reduce)");if(this.advanceFully(G,Y))break;if(M1)j=this.stackID(G)+" -> "}for(let z of K.recoverByInsert($)){if(M1)console.log(W+this.stackID(z)+" (via recover-insert)");this.advanceFully(z,Y)}if(this.stream.end>K.pos){if(U==K.pos)U++,$=0;if(K.recoverByDelete($,U),M1)console.log(W+this.stackID(K)+` (via recover-delete ${this.parser.getName($)})`);TG(K,Y)}else if(!X||X.score<G.score)X=G}return X}stackToTree(J){return J.close(),B0.build({buffer:I6.create(J),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:J.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(J){let Z=(vY||(vY=new WeakMap)).get(J);if(!Z)vY.set(J,Z=String.fromCodePoint(this.nextStackID++));return Z+J}}function TG(J,Z){for(let Y=0;Y<Z.length;Y++){let X=Z[Y];if(X.pos==J.pos&&X.sameState(J)){if(Z[Y].score<J.score)Z[Y]=J;return}}Z.push(J)}class vG{constructor(J,Z,Y){this.source=J,this.flags=Z,this.disabled=Y}allows(J){return!this.disabled||this.disabled[J]==0}}var mY=(J)=>J;class gY{constructor(J){this.start=J.start,this.shift=J.shift||mY,this.reduce=J.reduce||mY,this.reuse=J.reuse||mY,this.hash=J.hash||(()=>0),this.strict=J.strict!==!1}}class K7 extends f3{constructor(J){super();if(this.wrappers=[],J.version!=14)throw RangeError(`Parser version (${J.version}) doesn't match runtime version (14)`);let Z=J.nodeNames.split(" ");this.minRepeatTerm=Z.length;for(let K=0;K<J.repeatNodeCount;K++)Z.push("");let Y=Object.keys(J.topRules).map((K)=>J.topRules[K][1]),X=[];for(let K=0;K<Z.length;K++)X.push([]);function q(K,$,U){X[K].push([$,$.deserialize(String(U))])}if(J.nodeProps)for(let K of J.nodeProps){let $=K[0];if(typeof $=="string")$=i[$];for(let U=1;U<K.length;){let W=K[U++];if(W>=0)q(W,$,K[U++]);else{let G=K[U+-W];for(let j=-W;j>0;j--)q(K[U++],$,G);U++}}}if(this.nodeSet=new g3(Z.map((K,$)=>s0.define({name:$>=this.minRepeatTerm?void 0:K,id:$,props:X[$],top:Y.indexOf($)>-1,error:$==0,skipped:J.skippedNodes&&J.skippedNodes.indexOf($)>-1}))),J.propSources)this.nodeSet=this.nodeSet.extend(...J.propSources);this.strict=!1,this.bufferLength=ZU;let Q=q7(J.tokenData);this.context=J.context,this.specializerSpecs=J.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let K=0;K<this.specializerSpecs.length;K++)this.specialized[K]=this.specializerSpecs[K].term;this.specializers=this.specializerSpecs.map(yG),this.states=q7(J.states,Uint32Array),this.data=q7(J.stateData),this.goto=q7(J.goto),this.maxTerm=J.maxTerm,this.tokenizers=J.tokenizers.map((K)=>typeof K=="number"?new gJ(Q,K):K),this.topRules=J.topRules,this.dialects=J.dialects||{},this.dynamicPrecedences=J.dynamicPrecedences||null,this.tokenPrecTable=J.tokenPrec,this.termNames=J.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(J,Z,Y){let X=new hG(this,J,Z,Y);for(let q of this.wrappers)X=q(X,J,Z,Y);return X}getGoto(J,Z,Y=!1){let X=this.goto;if(Z>=X[0])return-1;for(let q=X[Z+1];;){let Q=X[q++],K=Q&1,$=X[q++];if(K&&Y)return $;for(let U=q+(Q>>1);q<U;q++)if(X[q]==J)return $;if(K)return-1}}hasAction(J,Z){let Y=this.data;for(let X=0;X<2;X++)for(let q=this.stateSlot(J,X?2:1),Q;;q+=3){if((Q=Y[q])==65535)if(Y[q+1]==1)Q=Y[q=S5(Y,q+2)];else if(Y[q+1]==2)return S5(Y,q+2);else break;if(Q==Z||Q==0)return S5(Y,q+1)}return 0}stateSlot(J,Z){return this.states[J*6+Z]}stateFlag(J,Z){return(this.stateSlot(J,0)&Z)>0}validAction(J,Z){return!!this.allActions(J,(Y)=>Y==Z?!0:null)}allActions(J,Z){let Y=this.stateSlot(J,4),X=Y?Z(Y):void 0;for(let q=this.stateSlot(J,1);X==null;q+=3){if(this.data[q]==65535)if(this.data[q+1]==1)q=S5(this.data,q+2);else break;X=Z(S5(this.data,q+1))}return X}nextStates(J){let Z=[];for(let Y=this.stateSlot(J,1);;Y+=3){if(this.data[Y]==65535)if(this.data[Y+1]==1)Y=S5(this.data,Y+2);else break;if((this.data[Y+2]&1)==0){let X=this.data[Y+1];if(!Z.some((q,Q)=>Q&1&&q==X))Z.push(this.data[Y],X)}}return Z}configure(J){let Z=Object.assign(Object.create(K7.prototype),this);if(J.props)Z.nodeSet=this.nodeSet.extend(...J.props);if(J.top){let Y=this.topRules[J.top];if(!Y)throw RangeError(`Invalid top rule name ${J.top}`);Z.top=Y}if(J.tokenizers)Z.tokenizers=this.tokenizers.map((Y)=>{let X=J.tokenizers.find((q)=>q.from==Y);return X?X.to:Y});if(J.specializers)Z.specializers=this.specializers.slice(),Z.specializerSpecs=this.specializerSpecs.map((Y,X)=>{let q=J.specializers.find((K)=>K.from==Y.external);if(!q)return Y;let Q=Object.assign(Object.assign({},Y),{external:q.to});return Z.specializers[X]=yG(Q),Q});if(J.contextTracker)Z.context=J.contextTracker;if(J.dialect)Z.dialect=this.parseDialect(J.dialect);if(J.strict!=null)Z.strict=J.strict;if(J.wrap)Z.wrappers=Z.wrappers.concat(J.wrap);if(J.bufferLength!=null)Z.bufferLength=J.bufferLength;return Z}hasWrappers(){return this.wrappers.length>0}getName(J){return this.termNames?this.termNames[J]:String(J<=this.maxNode&&this.nodeSet.types[J].name||J)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(J){let Z=this.dynamicPrecedences;return Z==null?0:Z[J]||0}parseDialect(J){let Z=Object.keys(this.dialects),Y=Z.map(()=>!1);if(J)for(let q of J.split(" ")){let Q=Z.indexOf(q);if(Q>=0)Y[Q]=!0}let X=null;for(let q=0;q<Z.length;q++)if(!Y[q])for(let Q=this.dialects[Z[q]],K;(K=this.data[Q++])!=65535;)(X||(X=new Uint8Array(this.maxTerm+1)))[K]=1;return new vG(J,Y,X)}static deserialize(J){return new K7(J)}}function S5(J,Z){return J[Z]|J[Z+1]<<16}function QI(J){let Z=null;for(let Y of J){let X=Y.p.stoppedAt;if((Y.pos==Y.p.stream.end||X!=null&&Y.pos>X)&&Y.p.parser.stateFlag(Y.state,2)&&(!Z||Z.score<Y.score))Z=Y}return Z}function yG(J){if(J.external){let Z=J.extend?1:0;return(Y,X)=>J.external(Y,X)<<1|Z}return J.get}var KI=316,$I=317,mG=1,UI=2,WI=3,GI=4,jI=318,zI=320,OI=321,_I=5,HI=6,NI=0,lY=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],uG=125,RI=59,pY=47,AI=42,FI=43,MI=45,VI=60,II=44,DI=63,LI=46,BI=91,PI=new gY({start:!1,shift(J,Z){return Z==_I||Z==HI||Z==zI?J:Z==OI},strict:!1}),EI=new fJ((J,Z)=>{let{next:Y}=J;if(Y==uG||Y==-1||Z.context)J.acceptToken(jI)},{contextual:!0,fallback:!0}),CI=new fJ((J,Z)=>{let{next:Y}=J,X;if(lY.indexOf(Y)>-1)return;if(Y==pY&&((X=J.peek(1))==pY||X==AI))return;if(Y!=uG&&Y!=RI&&Y!=-1&&!Z.context)J.acceptToken(KI)},{contextual:!0}),TI=new fJ((J,Z)=>{if(J.next==BI&&!Z.context)J.acceptToken($I)},{contextual:!0}),yI=new fJ((J,Z)=>{let{next:Y}=J;if(Y==FI||Y==MI){if(J.advance(),Y==J.next){J.advance();let X=!Z.context&&Z.canShift(mG);J.acceptToken(X?mG:UI)}}else if(Y==DI&&J.peek(1)==LI){if(J.advance(),J.advance(),J.next<48||J.next>57)J.acceptToken(WI)}},{contextual:!0});function fY(J,Z){return J>=65&&J<=90||J>=97&&J<=122||J==95||J>=192||!Z&&J>=48&&J<=57}var bI=new fJ((J,Z)=>{if(J.next!=VI||!Z.dialectEnabled(NI))return;if(J.advance(),J.next==pY)return;let Y=0;while(lY.indexOf(J.next)>-1)J.advance(),Y++;if(fY(J.next,!0)){J.advance(),Y++;while(fY(J.next,!1))J.advance(),Y++;while(lY.indexOf(J.next)>-1)J.advance(),Y++;if(J.next==II)return;for(let X=0;;X++){if(X==7){if(!fY(J.next,!0))return;break}if(J.next!="extends".charCodeAt(X))break;J.advance(),Y++}}J.acceptToken(GI,-Y)}),SI=c9({"get set async static":V.modifier,"for while do if else switch try catch finally return throw break continue default case defer":V.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":V.operatorKeyword,"let var const using function class extends":V.definitionKeyword,"import export from":V.moduleKeyword,"with debugger new":V.keyword,TemplateString:V.special(V.string),super:V.atom,BooleanLiteral:V.bool,this:V.self,null:V.null,Star:V.modifier,VariableName:V.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":V.function(V.variableName),VariableDefinition:V.definition(V.variableName),Label:V.labelName,PropertyName:V.propertyName,PrivatePropertyName:V.special(V.propertyName),"CallExpression/MemberExpression/PropertyName":V.function(V.propertyName),"FunctionDeclaration/VariableDefinition":V.function(V.definition(V.variableName)),"ClassDeclaration/VariableDefinition":V.definition(V.className),"NewExpression/VariableName":V.className,PropertyDefinition:V.definition(V.propertyName),PrivatePropertyDefinition:V.definition(V.special(V.propertyName)),UpdateOp:V.updateOperator,"LineComment Hashbang":V.lineComment,BlockComment:V.blockComment,Number:V.number,String:V.string,Escape:V.escape,ArithOp:V.arithmeticOperator,LogicOp:V.logicOperator,BitOp:V.bitwiseOperator,CompareOp:V.compareOperator,RegExp:V.regexp,Equals:V.definitionOperator,Arrow:V.function(V.punctuation),": Spread":V.punctuation,"( )":V.paren,"[ ]":V.squareBracket,"{ }":V.brace,"InterpolationStart InterpolationEnd":V.special(V.brace),".":V.derefOperator,", ;":V.separator,"@":V.meta,TypeName:V.typeName,TypeDefinition:V.definition(V.typeName),"type enum interface implements namespace module declare":V.definitionKeyword,"abstract global Privacy readonly override":V.modifier,"is keyof unique infer asserts":V.operatorKeyword,JSXAttributeValue:V.attributeValue,JSXText:V.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":V.angleBracket,"JSXIdentifier JSXNameSpacedName":V.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":V.attributeName,"JSXBuiltin/JSXIdentifier":V.standard(V.tagName)}),kI={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,defer:471,for:476,of:485,while:488,with:492,do:496,if:500,else:502,switch:506,case:512,try:518,catch:522,finally:526,return:530,throw:534,break:538,continue:542,debugger:546},wI={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},xI={__proto__:null,"<":193},gG=K7.deserialize({version:14,states:"$F|Q%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Il'#IlO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JrO6[Q!0MxO'#JsO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO9XQMhO'#F|O9`Q`O'#F{OOQ!0Lf'#Js'#JsOOQ!0Lb'#Jr'#JrO9eQ`O'#GwOOQ['#K_'#K_O9pQ`O'#IYO9uQ!0LrO'#IZOOQ['#J`'#J`OOQ['#I_'#I_Q`QlOOQ`QlOOO9}Q!L^O'#DvO:UQlO'#EOO:]QlO'#EQO9kQ`O'#GsO:dQMhO'#CoO:rQ`O'#EnO:}Q`O'#EyO;hQMhO'#FeO;xQ`O'#GsOOQO'#K`'#K`O;}Q`O'#K`O<]Q`O'#G{O<]Q`O'#G|O<]Q`O'#HOO9kQ`O'#HRO=SQ`O'#HUO>kQ`O'#CeO>{Q`O'#HcO?TQ`O'#HiO?TQ`O'#HkO`QlO'#HmO?TQ`O'#HoO?TQ`O'#HrO?YQ`O'#HxO?_Q!0LsO'#IOO%[QlO'#IQO?jQ!0LsO'#ISO?uQ!0LsO'#IUO9uQ!0LrO'#IWO@QQ!0MxO'#CiOASQpO'#DlQOQ`OOO%[QlO'#EQOAjQ`O'#ETO:dQMhO'#EnOAuQ`O'#EnOBQQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Jv'#JvO%[QlO'#JvOOQO'#Jy'#JyOOQO'#Ih'#IhOCQQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J}'#J}OC|Q!0MSO'#EgODWQpO'#EWOOQO'#Jx'#JxODlQpO'#JyOEyQpO'#EWODWQpO'#EgPFWO&2DjO'#CbPOOO)CD})CD}OOOO'#I`'#I`OFcO#tO,59UOOQ!0Lh,59U,59UOOOO'#Ia'#IaOFqO&jO,59UOGPQ!L^O'#DcOOOO'#Ic'#IcOGWO#@ItO,59{OOQ!0Lf,59{,59{OGfQlO'#IdOGyQ`O'#JtOIxQ!fO'#JtO+}QlO'#JtOJPQ`O,5:ROJgQ`O'#EpOJtQ`O'#KTOKPQ`O'#KSOKPQ`O'#KSOKXQ`O,5;^OK^Q`O'#KROOQ!0Ln,5:^,5:^OKeQlO,5:^OMcQ!0MxO,5:fONSQ`O,5:nONmQ!0LrO'#KQONtQ`O'#KPO9eQ`O'#KPO! YQ`O'#KPO! bQ`O,5;]O! gQ`O'#KPO!#lQ!fO'#JsOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$[Q!fO,5:sOOQS'#Jz'#JzOOQO-E<j-E<jO9kQ`O,5=_O!$rQ`O,5=_O!$wQlO,5;ZO!&zQMhO'#EkO!(eQ`O,5;ZO!(jQlO'#DyO!(tQpO,5;dO!(|QpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)[QlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IpO!+_Q!0LrO,5<iO%[QlO,5;eO!&zQMhO,5;eO!+|QMhO,5;eO!-nQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-uQ,UO'#FjO!.rQ,UO'#KXO!.^Q,UO'#KXO!.yQ,UO'#KXOOQO'#KX'#KXO!/_Q,UO,5<SOOOW,5<`,5<`O!/pQlO'#FvOOOW'#Io'#IoO7VO7dO,5<QO!/wQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0hQ$IUO'#CyOOQ!0Lh'#C}'#C}O!0{O#@ItO'#DRO!1iQMjO,5<eO!1pQ`O,5<hO!3YQ(CWO'#GXO!3jQ`O'#GYO!3oQ`O'#GYO!5_Q(CWO'#G^O!6dQpO'#GbOOQO'#Gn'#GnO!,TQMhO'#GmOOQO'#Gp'#GpO!,TQMhO'#GoO!7VQ$IUO'#JlOOQ!0Lh'#Jl'#JlO!7aQ`O'#JkO!7oQ`O'#JjO!7wQ`O'#CuOOQ!0Lh'#C{'#C{O!8YQ`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO!8_Q`O,5<eO1SQ`O'#DZO!,TQMhO'#GPO!,TQMhO'#GRO!8gQ`O'#GTO!8lQ`O'#GUO!3oQ`O'#G[O!,TQMhO'#GaO<]Q`O'#JkO!8qQ`O'#EqO!9`Q`O,5<gOOQ!0Lb'#Cr'#CrO!9hQ`O'#ErO!:bQpO'#EsOOQ!0Lb'#KR'#KRO!:iQ!0LrO'#KaO9uQ!0LrO,5=cO`QlO,5>tOOQ['#Jh'#JhOOQ[,5>u,5>uOOQ[-E<]-E<]O!<hQ!0MxO,5:bO!:]QpO,5:`O!?RQ!0MxO,5:jO%[QlO,5:jO!AiQ!0MxO,5:lOOQO,5@z,5@zO!BYQMhO,5=_O!BhQ!0LrO'#JiO9`Q`O'#JiO!ByQ!0LrO,59ZO!CUQpO,59ZO!C^QMhO,59ZO:dQMhO,59ZO!CiQ`O,5;ZO!CqQ`O'#HbO!DVQ`O'#KdO%[QlO,5;}O!:]QpO,5<PO!D_Q`O,5=zO!DdQ`O,5=zO!DiQ`O,5=zO!DwQ`O,5=zO9uQ!0LrO,5=zO<]Q`O,5=jOOQO'#Cy'#CyO!EOQpO,5=gO!EWQMhO,5=hO!EcQ`O,5=jO!EhQ!bO,5=mO!EpQ`O'#K`O?YQ`O'#HWO9kQ`O'#HYO!EuQ`O'#HYO:dQMhO'#H[O!EzQ`O'#H[OOQ[,5=p,5=pO!FPQ`O'#H]O!FbQ`O'#CoO!FgQ`O,59PO!FqQ`O,59PO!HvQlO,59POOQ[,59P,59PO!IWQ!0LrO,59PO%[QlO,59PO!KcQlO'#HeOOQ['#Hf'#HfOOQ['#Hg'#HgO`QlO,5=}O!KyQ`O,5=}O`QlO,5>TO`QlO,5>VO!LOQ`O,5>XO`QlO,5>ZO!LTQ`O,5>^O!LYQlO,5>dOOQ[,5>j,5>jO%[QlO,5>jO9uQ!0LrO,5>lOOQ[,5>n,5>nO#!dQ`O,5>nOOQ[,5>p,5>pO#!dQ`O,5>pOOQ[,5>r,5>rO##QQpO'#D_O%[QlO'#JvO##sQpO'#JvO##}QpO'#DmO#$`QpO'#DmO#&qQlO'#DmO#&xQ`O'#JuO#'QQ`O,5:WO#'VQ`O'#EtO#'eQ`O'#KUO#'mQ`O,5;_O#'rQpO'#DmO#(PQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#(WQ`O,5:oO?YQ`O,5;YO!CUQpO,5;YO!C^QMhO,5;YO:dQMhO,5;YO#(`Q`O,5@bO#(eQ07dO,5:sOOQO-E<f-E<fO#)kQ!0MSO,5;RODWQpO,5:rO#)uQpO,5:rODWQpO,5;RO!ByQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#*SQ!0LrO,5;RO#*_Q!0LrO,5;RO!CUQpO,5:rOOQO,5;X,5;XO#*mQ!0LrO,5;RPOOO'#I^'#I^P#+RO&2DjO,58|POOO,58|,58|OOOO-E<^-E<^OOQ!0Lh1G.p1G.pOOOO-E<_-E<_OOOO,59},59}O#+^Q!bO,59}OOOO-E<a-E<aOOQ!0Lf1G/g1G/gO#+cQ!fO,5?OO+}QlO,5?OOOQO,5?U,5?UO#+mQlO'#IdOOQO-E<b-E<bO#+zQ`O,5@`O#,SQ!fO,5@`O#,ZQ`O,5@nOOQ!0Lf1G/m1G/mO%[QlO,5@oO#,cQ`O'#IjOOQO-E<h-E<hO#,ZQ`O,5@nOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@lO#,wQ!0LrO,5@lO#-YQ!0LrO,5@lO#-aQ`O,5@kO9eQ`O,5@kO#-iQ`O,5@kO#-wQ`O'#ImO#-aQ`O,5@kOOQ!0Lb1G0w1G0wO!(tQpO,5:uO!)PQpO,5:uOOQS,5:w,5:wO#.iQdO,5:wO#.qQMhO1G2yO9kQ`O1G2yOOQ!0Lf1G0u1G0uO#/PQ!0MxO1G0uO#0UQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0rQ!0MzO'#JlO!$wQlO1G0uO#2}Q!fO'#JwO%[QlO'#JwO#3XQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#3^Q`O1G1OO#5rQ!0MxO1G1PO#5yQ!0MxO1G1PO#8aQ!0MxO1G1PO#8hQ!0MxO1G1PO#;OQ!0MxO1G1PO#=fQ!0MxO1G1PO#=mQ!0MxO1G1PO#=tQ!0MxO1G1PO#@[Q!0MxO1G1PO#@cQ!0MxO1G1PO#BpQ?MtO'#CiO#DkQ?MtO1G1`O#DrQ?MtO'#JsO#EVQ!0MxO,5?[OOQ!0Lb-E<n-E<nO#GdQ!0MxO1G1PO#HaQ!0MzO1G1POOQ!0Lf1G1P1G1PO#IdQMjO'#J|O#InQ`O,5:xO#IsQ!0MxO1G1cO#JgQ,UO,5<WO#JoQ,UO,5<XO#JwQ,UO'#FoO#K`Q`O'#FnOOQO'#KY'#KYOOQO'#In'#InO#KeQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#KvQ?MtO'#JrO#LQQ`O,5<bO!)[QlO,5<bOOOW-E<m-E<mOOQ!0Lf1G1l1G1lO#LVQpO'#KXOOQ!0Lf,5<d,5<dO#L_QpO,5<dO#LdQMhO'#DTOOOO'#Ib'#IbO#LkO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8lQ`O'#IrO#LvQ`O,5<zOOQ!0Lh,5<w,5<wO!,TQMhO'#IuO#MdQMjO,5=XO!,TQMhO'#IwO#NVQMjO,5=ZO!&zQMhO,5=]OOQO1G2S1G2SO#NaQ!dO'#CrO#NtQ(CWO'#ErO$ |QpO'#GbO$!dQ!dO,5<sO$!kQ`O'#K[O9eQ`O'#K[O$!yQ`O,5<uO$#aQ!dO'#C{O!,TQMhO,5<tO$#kQ`O'#GZO$$PQ`O,5<tO$$UQ!dO'#GWO$$cQ!dO'#K]O$$mQ`O'#K]O!&zQMhO'#K]O$$rQ`O,5<xO$$wQlO'#JvO$%RQpO'#GcO#$`QpO'#GcO$%dQ`O'#GgO!3oQ`O'#GkO$%iQ!0LrO'#ItO$%tQpO,5<|OOQ!0Lp,5<|,5<|O$%{QpO'#GcO$&YQpO'#GdO$&kQpO'#GdO$&pQMjO,5=XO$'QQMjO,5=ZOOQ!0Lh,5=^,5=^O!,TQMhO,5@VO!,TQMhO,5@VO$'bQ`O'#IyO$'vQ`O,5@UO$(OQ`O,59aOOQ!0Lh,59i,59iO$(TQ`O,5@VO$)TQ$IYO,59uOOQ!0Lh'#Jp'#JpO$)vQMjO,5<kO$*iQMjO,5<mO@zQ`O,5<oOOQ!0Lh,5<p,5<pO$*sQ`O,5<vO$*xQMjO,5<{O$+YQ`O'#KPO!$wQlO1G2RO$+_Q`O1G2RO9eQ`O'#KSO9eQ`O'#EtO%[QlO'#EtO9eQ`O'#I{O$+dQ!0LrO,5@{OOQ[1G2}1G2}OOQ[1G4`1G4`OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$-fQ!0MxO1G0UOOQ[1G2y1G2yO!&zQMhO1G2yO%[QlO1G2yO#.tQ`O1G2yO$/jQMhO'#EkOOQ!0Lb,5@T,5@TO$/wQ!0LrO,5@TOOQ[1G.u1G.uO!ByQ!0LrO1G.uO!CUQpO1G.uO!C^QMhO1G.uO$0YQ`O1G0uO$0_Q`O'#CiO$0jQ`O'#KeO$0rQ`O,5=|O$0wQ`O'#KeO$0|Q`O'#KeO$1[Q`O'#JRO$1jQ`O,5AOO$1rQ!fO1G1iOOQ!0Lf1G1k1G1kO9kQ`O1G3fO@zQ`O1G3fO$1yQ`O1G3fO$2OQ`O1G3fO!DiQ`O1G3fO9uQ!0LrO1G3fOOQ[1G3f1G3fO!EcQ`O1G3UO!&zQMhO1G3RO$2TQ`O1G3ROOQ[1G3S1G3SO!&zQMhO1G3SO$2YQ`O1G3SO$2bQpO'#HQOOQ[1G3U1G3UO!6_QpO'#I}O!EhQ!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$2jQMhO,5=tO9kQ`O,5=tO$%dQ`O,5=vO9`Q`O,5=vO!CUQpO,5=vO!C^QMhO,5=vO:dQMhO,5=vO$2xQ`O'#KcO$3TQ`O,5=wOOQ[1G.k1G.kO$3YQ!0LrO1G.kO@zQ`O1G.kO$3eQ`O1G.kO9uQ!0LrO1G.kO$5mQ!fO,5AQO$5zQ`O,5AQO9eQ`O,5AQO$6VQlO,5>PO$6^Q`O,5>POOQ[1G3i1G3iO`QlO1G3iOOQ[1G3o1G3oOOQ[1G3q1G3qO?TQ`O1G3sO$6cQlO1G3uO$:gQlO'#HtOOQ[1G3x1G3xO$:tQ`O'#HzO?YQ`O'#H|OOQ[1G4O1G4OO$:|QlO1G4OO9uQ!0LrO1G4UOOQ[1G4W1G4WOOQ!0Lb'#G_'#G_O9uQ!0LrO1G4YO9uQ!0LrO1G4[O$?TQ`O,5@bO!)[QlO,5;`O9eQ`O,5;`O?YQ`O,5:XO!)[QlO,5:XO!CUQpO,5:XO$?YQ?MtO,5:XOOQO,5;`,5;`O$?dQpO'#IeO$?zQ`O,5@aOOQ!0Lf1G/r1G/rO$@SQpO'#IkO$@^Q`O,5@pOOQ!0Lb1G0y1G0yO#$`QpO,5:XOOQO'#Ig'#IgO$@fQpO,5:qOOQ!0Ln,5:q,5:qO#(ZQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO?YQ`O1G0tO!CUQpO1G0tO!C^QMhO1G0tOOQ!0Lb1G5|1G5|O!ByQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$@mQ!0LrO1G0mO$@xQ!0LrO1G0mO!CUQpO1G0^ODWQpO1G0^O$AWQ!0LrO1G0mOOQO1G0^1G0^O$AlQ!0MxO1G0mPOOO-E<[-E<[POOO1G.h1G.hOOOO1G/i1G/iO$AvQ!bO,5<iO$BOQ!fO1G4jOOQO1G4p1G4pO%[QlO,5?OO$BYQ`O1G5zO$BbQ`O1G6YO$BjQ!fO1G6ZO9eQ`O,5?UO$BtQ!0MxO1G6WO%[QlO1G6WO$CUQ!0LrO1G6WO$CgQ`O1G6VO$CgQ`O1G6VO9eQ`O1G6VO$CoQ`O,5?XO9eQ`O,5?XOOQO,5?X,5?XO$DTQ`O,5?XO$+YQ`O,5?XOOQO-E<k-E<kOOQS1G0a1G0aOOQS1G0c1G0cO#.lQ`O1G0cOOQ[7+(e7+(eO!&zQMhO7+(eO%[QlO7+(eO$DcQ`O7+(eO$DnQMhO7+(eO$D|Q!0MzO,5=XO$GXQ!0MzO,5=ZO$IdQ!0MzO,5=XO$KuQ!0MzO,5=ZO$NWQ!0MzO,59uO%!]Q!0MzO,5<kO%$hQ!0MzO,5<mO%&sQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%)UQ!0MxO7+&aO%)xQlO'#IfO%*VQ`O,5@cO%*_Q!fO,5@cOOQ!0Lf1G0P1G0PO%*iQ`O7+&jOOQ!0Lf7+&j7+&jO%*nQ?MtO,5:fO%[QlO7+&zO%*xQ?MtO,5:bO%+VQ?MtO,5:jO%+aQ?MtO,5:lO%+kQMhO'#IiO%+uQ`O,5@hOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%+}Q!jO,5<ZO!)[QlO,5<YOOQO-E<l-E<lOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%,YQ`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%,_Q!dO,59oOOOO-E<`-E<`OOQ!0Lh1G/X1G/XO%,fQ!0MxO7+'kOOQ!0Lh,5?^,5?^O%-YQMhO1G2fP%-aQ`O'#IrPOQ!0Lh-E<p-E<pO%-}QMjO,5?aOOQ!0Lh-E<s-E<sO%.pQMjO,5?cOOQ!0Lh-E<u-E<uO%.zQ!dO1G2wO%/RQ!dO'#CrO%/iQMhO'#KSO$$wQlO'#JvOOQ!0Lh1G2_1G2_O%/sQ`O'#IqO%0[Q`O,5@vO%0[Q`O,5@vO%0dQ`O,5@vO%0oQ`O,5@vOOQO1G2a1G2aO%0}QMjO1G2`O$+YQ`O'#K[O!,TQMhO1G2`O%1_Q(CWO'#IsO%1lQ`O,5@wO!&zQMhO,5@wO%1tQ!dO,5@wOOQ!0Lh1G2d1G2dO%4UQ!fO'#CiO%4`Q`O,5=POOQ!0Lb,5<},5<}O%4hQpO,5<}OOQ!0Lb,5=O,5=OOCwQ`O,5<}O%4sQpO,5<}OOQ!0Lb,5=R,5=RO$+YQ`O,5=VOOQO,5?`,5?`OOQO-E<r-E<rOOQ!0Lp1G2h1G2hO#$`QpO,5<}O$$wQlO,5=PO%5RQ`O,5=OO%5^QpO,5=OO!,TQMhO'#IuO%6WQMjO1G2sO!,TQMhO'#IwO%6yQMjO1G2uO%7TQMjO1G5qO%7_QMjO1G5qOOQO,5?e,5?eOOQO-E<w-E<wOOQO1G.{1G.{O!,TQMhO1G5qO!,TQMhO1G5qO!:]QpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%7lQ`O1G2ZO!,TQMhO1G2bO%7qQ!0MxO7+'mOOQ!0Lf7+'m7+'mO!$wQlO7+'mO%8eQ`O,5;`OOQ!0Lb,5?g,5?gOOQ!0Lb-E<y-E<yO%8jQ!dO'#K^O#(ZQ`O7+(eO4UQ!fO7+(eO$DfQ`O7+(eO%8tQ!0MvO'#CiO%9XQ!0MvO,5=SO%9lQ`O,5=SO%9tQ`O,5=SOOQ!0Lb1G5o1G5oOOQ[7+$a7+$aO!ByQ!0LrO7+$aO!CUQpO7+$aO!$wQlO7+&aO%9yQ`O'#JQO%:bQ`O,5APOOQO1G3h1G3hO9kQ`O,5APO%:bQ`O,5APO%:jQ`O,5APOOQO,5?m,5?mOOQO-E=P-E=POOQ!0Lf7+'T7+'TO%:oQ`O7+)QO9uQ!0LrO7+)QO9kQ`O7+)QO@zQ`O7+)QO%:tQ`O7+)QOOQ[7+)Q7+)QOOQ[7+(p7+(pO%:yQ!0MvO7+(mO!&zQMhO7+(mO!E^Q`O7+(nOOQ[7+(n7+(nO!&zQMhO7+(nO%;TQ`O'#KbO%;`Q`O,5=lOOQO,5?i,5?iOOQO-E<{-E<{OOQ[7+(s7+(sO%<rQpO'#HZOOQ[1G3`1G3`O!&zQMhO1G3`O%[QlO1G3`O%<yQ`O1G3`O%=UQMhO1G3`O9uQ!0LrO1G3bO$%dQ`O1G3bO9`Q`O1G3bO!CUQpO1G3bO!C^QMhO1G3bO%=dQ`O'#JPO%=xQ`O,5@}O%>QQpO,5@}OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@zQ`O7+$VO9uQ!0LrO7+$VO%>]Q`O7+$VO%[QlO1G6lO%[QlO1G6mO%>bQ!0LrO1G6lO%>lQlO1G3kO%>sQ`O1G3kO%>xQlO1G3kOOQ[7+)T7+)TO9uQ!0LrO7+)_O`QlO7+)aOOQ['#Kh'#KhOOQ['#JS'#JSO%?PQlO,5>`OOQ[,5>`,5>`O%[QlO'#HuO%?^Q`O'#HwOOQ[,5>f,5>fO9eQ`O,5>fOOQ[,5>h,5>hOOQ[7+)j7+)jOOQ[7+)p7+)pOOQ[7+)t7+)tOOQ[7+)v7+)vO%?cQpO1G5|O%?}Q?MtO1G0zO%@XQ`O1G0zOOQO1G/s1G/sO%@dQ?MtO1G/sO?YQ`O1G/sO!)[QlO'#DmOOQO,5?P,5?POOQO-E<c-E<cOOQO,5?V,5?VOOQO-E<i-E<iO!CUQpO1G/sOOQO-E<e-E<eOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#(ZQ`O7+%uOOQ!0Lf7+&`7+&`O?YQ`O7+&`O!CUQpO7+&`OOQO7+%x7+%xO$AlQ!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%@nQ!0LrO7+&XO!ByQ!0LrO7+%xO!CUQpO7+%xO%@yQ!0LrO7+&XO%AXQ!0MxO7++rO%[QlO7++rO%AiQ`O7++qO%AiQ`O7++qOOQO1G4s1G4sO9eQ`O1G4sO%AqQ`O1G4sOOQS7+%}7+%}O#(ZQ`O<<LPO4UQ!fO<<LPO%BPQ`O<<LPOOQ[<<LP<<LPO!&zQMhO<<LPO%[QlO<<LPO%BXQ`O<<LPO%BdQ!0MzO,5?aO%DoQ!0MzO,5?cO%FzQ!0MzO1G2`O%I]Q!0MzO1G2sO%KhQ!0MzO1G2uO%MsQ!fO,5?QO%[QlO,5?QOOQO-E<d-E<dO%M}Q`O1G5}OOQ!0Lf<<JU<<JUO%NVQ?MtO1G0uO&!^Q?MtO1G1PO&!eQ?MtO1G1PO&$fQ?MtO1G1PO&$mQ?MtO1G1PO&&nQ?MtO1G1PO&(oQ?MtO1G1PO&(vQ?MtO1G1PO&(}Q?MtO1G1PO&+OQ?MtO1G1PO&+VQ?MtO1G1PO&+^Q!0MxO<<JfO&-UQ?MtO1G1PO&.RQ?MvO1G1PO&/UQ?MvO'#JlO&1[Q?MtO1G1cO&1iQ?MtO1G0UO&1sQMjO,5?TOOQO-E<g-E<gO!)[QlO'#FqOOQO'#KZ'#KZOOQO1G1u1G1uO&1}Q`O1G1tO&2SQ?MtO,5?[OOOW7+'h7+'hOOOO1G/Z1G/ZO&2^Q!dO1G4xOOQ!0Lh7+(Q7+(QP!&zQMhO,5?^O!,TQMhO7+(cO&2eQ`O,5?]O9eQ`O,5?]O$+YQ`O,5?]OOQO-E<o-E<oO&2sQ`O1G6bO&2sQ`O1G6bO&2{Q`O1G6bO&3WQMjO7+'zO&3hQ!dO,5?_O&3rQ`O,5?_O!&zQMhO,5?_OOQO-E<q-E<qO&3wQ!dO1G6cO&4RQ`O1G6cO&4ZQ`O1G2kO!&zQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%4hQpO1G2iO!CUQpO1G2iOCwQ`O1G2iOOQ!0Lb1G2q1G2qO&4`QpO1G2iO&4nQ`O1G2kO$+YQ`O1G2jOCwQ`O1G2jO$$wQlO1G2kO&4vQ`O1G2jO&5jQMjO,5?aOOQ!0Lh-E<t-E<tO&6]QMjO,5?cOOQ!0Lh-E<v-E<vO!,TQMhO7++]O&6gQMjO7++]O&6qQMjO7++]OOQ!0Lh1G/c1G/cO&7OQ`O1G/cOOQ!0Lh7+'u7+'uO&7TQMjO7+'|O&7eQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&8XQ`O1G0zO!&zQMhO'#IzO&8^Q`O,5@xO&:`Q!fO<<LPO!&zQMhO1G2nO&:gQ!0LrO1G2nOOQ[<<G{<<G{O!ByQ!0LrO<<G{O&:xQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?l,5?lO&;lQ`O,5?lO&;qQ`O,5?lOOQO-E=O-E=OO&<PQ`O1G6kO&<PQ`O1G6kO9kQ`O1G6kO@zQ`O<<LlOOQ[<<Ll<<LlO&<XQ`O<<LlO9uQ!0LrO<<LlO9kQ`O<<LlOOQ[<<LX<<LXO%:yQ!0MvO<<LXOOQ[<<LY<<LYO!E^Q`O<<LYO&<^QpO'#I|O&<iQ`O,5@|O!)[QlO,5@|OOQ[1G3W1G3WOOQO'#JO'#JOO9uQ!0LrO'#JOO&<qQpO,5=uOOQ[,5=u,5=uO&<xQpO'#EgO&=PQpO'#GeO&=UQ`O7+(zO&=ZQ`O7+(zOOQ[7+(z7+(zO!&zQMhO7+(zO%[QlO7+(zO&=cQ`O7+(zOOQ[7+(|7+(|O9uQ!0LrO7+(|O$%dQ`O7+(|O9`Q`O7+(|O!CUQpO7+(|O&=nQ`O,5?kOOQO-E<}-E<}OOQO'#H^'#H^O&=yQ`O1G6iO9uQ!0LrO<<GqOOQ[<<Gq<<GqO@zQ`O<<GqO&>RQ`O7+,WO&>WQ`O7+,XO%[QlO7+,WO%[QlO7+,XOOQ[7+)V7+)VO&>]Q`O7+)VO&>bQlO7+)VO&>iQ`O7+)VOOQ[<<Ly<<LyOOQ[<<L{<<L{OOQ[-E=Q-E=QOOQ[1G3z1G3zO&>nQ`O,5>aOOQ[,5>c,5>cO&>sQ`O1G4QO9eQ`O7+&fO!)[QlO7+&fOOQO7+%_7+%_O&>xQ?MtO1G6ZO?YQ`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO?YQ`O<<IzOOQO<<Is<<IsO$AlQ!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!ByQ!0LrO<<IdO&?SQ!0LrO<<IsO&?_Q!0MxO<= ^O&?oQ`O<= ]OOQO7+*_7+*_O9eQ`O7+*_OOQ[ANAkANAkO&?wQ!fOANAkO!&zQMhOANAkO#(ZQ`OANAkO4UQ!fOANAkO&@OQ`OANAkO%[QlOANAkO&@WQ!0MzO7+'zO&BiQ!0MzO,5?aO&DtQ!0MzO,5?cO&GPQ!0MzO7+'|O&IbQ!fO1G4lO&IlQ?MtO7+&aO&KpQ?MvO,5=XO&MwQ?MvO,5=ZO&NXQ?MvO,5=XO&NiQ?MvO,5=ZO&NyQ?MvO,59uO'#PQ?MvO,5<kO'%SQ?MvO,5<mO''hQ?MvO,5<{O')^Q?MtO7+'kO')kQ?MtO7+'mO')xQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*d7+*dO')}QMjO<<K}OOQO1G4w1G4wO'*UQ`O1G4wO'*aQ`O1G4wO'*oQ`O7++|O'*oQ`O7++|O!&zQMhO1G4yO'*wQ!dO1G4yO'+RQ`O7++}O'+ZQ`O7+(VO'+fQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!CUQpO7+(TOCwQ`O7+(TO'+pQ`O7+(VO!&zQMhO7+(VO$+YQ`O7+(UO'+uQ`O7+(VOCwQ`O7+(UO'+}QMjO<<NwO!,TQMhO<<NwOOQ!0Lh7+$}7+$}O',XQ!dO,5?fOOQO-E<x-E<xO',cQ!0MvO7+(YO!&zQMhO7+(YOOQ[AN=gAN=gO9kQ`O1G5WOOQO1G5W1G5WO',sQ`O1G5WO',xQ`O7+,VO',xQ`O7+,VO9uQ!0LrOANBWO@zQ`OANBWOOQ[ANBWANBWO'-QQ`OANBWOOQ[ANAsANAsOOQ[ANAtANAtO'-VQ`O,5?hOOQO-E<z-E<zO'-bQ?MtO1G6hOOQO,5?j,5?jOOQO-E<|-E<|OOQ[1G3a1G3aO'-lQ`O,5=POOQ[<<Lf<<LfO!&zQMhO<<LfO&=UQ`O<<LfO'-qQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9uQ!0LrO<<LhO$%dQ`O<<LhO9`Q`O<<LhO'-yQpO1G5VO'.UQ`O7+,TOOQ[AN=]AN=]O9uQ!0LrOAN=]OOQ[<= r<= rOOQ[<= s<= sO'.^Q`O<= rO'.cQ`O<= sOOQ[<<Lq<<LqO'.hQ`O<<LqO'.mQlO<<LqOOQ[1G3{1G3{O?YQ`O7+)lO'.tQ`O<<JQO'/PQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$AlQ!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<My<<MyOOQ[G27VG27VO!&zQMhOG27VO#(ZQ`OG27VO'/ZQ!fOG27VO4UQ!fOG27VO'/bQ`OG27VO'/jQ?MtO<<JfO'/wQ?MvO1G2`O'1mQ?MvO,5?aO'3pQ?MvO,5?cO'5sQ?MvO1G2sO'7vQ?MvO1G2uO'9yQ?MtO<<KXO':WQ?MtO<<I{OOQO1G1w1G1wO!,TQMhOANAiOOQO7+*c7+*cO':eQ`O7+*cO':pQ`O<= hO':xQ!dO7+*eOOQ!0Lb<<Kq<<KqO$+YQ`O<<KqOCwQ`O<<KqO';SQ`O<<KqO!&zQMhO<<KqOOQ!0Lb<<Ko<<KoO!CUQpO<<KoO';_Q!dO<<KqOOQ!0Lb<<Kp<<KpO';iQ`O<<KqO!&zQMhO<<KqO$+YQ`O<<KpO';nQMjOANDcO';xQ!0MvO<<KtOOQO7+*r7+*rO9kQ`O7+*rO'<YQ`O<= qOOQ[G27rG27rO9uQ!0LrOG27rO@zQ`OG27rO!)[QlO1G5SO'<bQ`O7+,SO'<jQ`O1G2kO&=UQ`OANBQOOQ[ANBQANBQO!&zQMhOANBQO'<oQ`OANBQOOQ[ANBSANBSO9uQ!0LrOANBSO$%dQ`OANBSOOQO'#H_'#H_OOQO7+*q7+*qOOQ[G22wG22wOOQ[ANE^ANE^OOQ[ANE_ANE_OOQ[ANB]ANB]O'<wQ`OANB]OOQ[<<MW<<MWO!)[QlOAN?lOOQOG24yG24yO$AlQ!0MxOG24yO#(ZQ`OLD,qOOQ[LD,qLD,qO!&zQMhOLD,qO'<|Q!fOLD,qO'=TQ?MvO7+'zO'>yQ?MvO,5?aO'@|Q?MvO,5?cO'CPQ?MvO7+'|O'DuQMjOG27TOOQO<<M}<<M}OOQ!0LbANA]ANA]O$+YQ`OANA]OCwQ`OANA]O'EVQ!dOANA]OOQ!0LbANAZANAZO'E^Q`OANA]O!&zQMhOANA]O'EiQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N^<<N^OOQ[LD-^LD-^O9uQ!0LrOLD-^O'EsQ?MtO7+*nOOQO'#Gf'#GfOOQ[G27lG27lO&=UQ`OG27lO!&zQMhOG27lOOQ[G27nG27nO9uQ!0LrOG27nOOQ[G27wG27wO'E}Q?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#(ZQ`O!$(!]O!&zQMhO!$(!]O'FXQ!0MzOG27TOOQ!0LbG26wG26wO$+YQ`OG26wO'HjQ`OG26wOCwQ`OG26wO'HuQ!dOG26wO!&zQMhOG26wOOQ[!$(!x!$(!xOOQ[LD-WLD-WO&=UQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#(ZQ`O!)9EwOOQ!0LbLD,cLD,cO$+YQ`OLD,cOCwQ`OLD,cO'H|Q`OLD,cO'IXQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'I`Q?MvOG27TOOQ!0Lb!$( }!$( }O$+YQ`O!$( }OCwQ`O!$( }O'KUQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$+YQ`O!)9EiOCwQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$+YQ`O!.K;TOOQ!0Lb!4/0o!4/0oO!)[QlO'#DzO1PQ`O'#EXO'KaQ!fO'#JrO'KhQ!L^O'#DvO'KoQlO'#EOO'KvQ!fO'#CiO'N^Q!fO'#CiO!)[QlO'#EQO'NnQlO,5;ZO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO'#IpO(!qQ`O,5<iO!)[QlO,5;eO(!yQMhO,5;eO($dQMhO,5;eO!)[QlO,5;wO!&zQMhO'#GmO(!yQMhO'#GmO!&zQMhO'#GoO(!yQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&zQMhO'#GPO(!yQMhO'#GPO!&zQMhO'#GRO(!yQMhO'#GRO!&zQMhO'#GaO(!yQMhO'#GaO!)[QlO,5:jO($kQpO'#D_O($uQpO'#JvO!)[QlO,5@oO'NnQlO1G0uO(%PQ?MtO'#CiO!)[QlO1G2PO!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO(%ZQ!dO'#CrO!&zQMhO,5<tO(!yQMhO,5<tO'NnQlO1G2RO!)[QlO7+&zO!&zQMhO1G2`O(!yQMhO1G2`O!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO!&zQMhO1G2bO(!yQMhO1G2bO'NnQlO7+'mO'NnQlO7+&aO!&zQMhOANAiO(!yQMhOANAiO(%nQ`O'#EoO(%sQ`O'#EoO(%{Q`O'#F]O(&QQ`O'#EyO(&VQ`O'#KTO(&bQ`O'#KRO(&mQ`O,5;ZO(&rQMjO,5<eO(&yQ`O'#GYO('OQ`O'#GYO('TQ`O,5<eO(']Q`O,5<gO('eQ`O,5;ZO('mQ?MtO1G1`O('tQ`O,5<tO('yQ`O,5<tO((OQ`O,5<vO((TQ`O,5<vO((YQ`O1G2RO((_Q`O1G0uO((dQMjO<<K}O((kQMjO<<K}O((rQMhO'#F|O9`Q`O'#F{OAuQ`O'#EnO!)[QlO,5;tO!3oQ`O'#GYO!3oQ`O'#GYO!3oQ`O'#G[O!3oQ`O'#G[O!,TQMhO7+(cO!,TQMhO7+(cO%.zQ!dO1G2wO%.zQ!dO1G2wO!&zQMhO,5=]O!&zQMhO,5=]",stateData:"()x~O'|OS'}OSTOS(ORQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&W!WO&^!XO&`!YO&b!ZO&d![O&g!]O&m!^O&s!_O&u!`O&w!aO&y!bO&{!cO(TSO(VTO(YUO(aVO(o[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O(O!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'z]X(a]X(r]X(y]X(z]X~O!g%RX~P(qO_!}O(V#PO(W!}O(X#PO~O_#QO(X#PO(Y#PO(Z#QO~Ox#SO!U#TO(b#TO(c#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T<ZO(VTO(YUO(aVO(o[O~O![#ZO!]#WO!Y(hP!Y(vP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(VTO(YUO(aVO(o[O~Op#mO![#iO!|]O#i#lO#j#iO(T<[O!k(sP~P.iO!l#oO(T#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa(fX'z(fX'w(fX!k(fX!Y(fX!_(fX%i(fX!g(fX~P1qO#S$dO#`$eO$Q$eOP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX!_(gX%i(gX~Oa(gX'z(gX'w(gX!Y(gX!k(gXv(gX!g(gX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%dOk%dOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T$sO(VTO(YUO(a$uO(y$}O(z%POg(^P~Ol%[O~P7eO!l%eO~O!S%hO!_%iO(T%gO~O!g%mO~Oa%nO'z%nO~O!Q%rO~P%[O(U!lO~P%[O%n%vO~P%[Oh%VO!l%eO(T%gO(U!lO~Oe%}O!l%eO(T%gO~Oj$RO~O!_&PO(T%gO(U!lO(VTO(YUO`)WP~O!Q&SO!l&RO%j&VO&T&WO~P;SO!x#sO~O%s&YO!S)SX!_)SX(T)SX~O(T&ZO~Ol!PO!u&`O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&eOe&dO!x&bO%h&cO%{&aO~P<bOd&hOeyOl!PO!_&gO!u&`O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&kO#`&nO%j&iO(U!lO~P=gO!l&oO!u&sO~O!l#oO~O!_XO~Oa%nO'x&{O'z%nO~Oa%nO'x'OO'z%nO~Oa%nO'x'QO'z%nO~O'w]X!Y]Xv]X!k]X&[]X!_]X%i]X!g]X~P(qO!b'_O!c'WO!d'WO(U!lO(VTO(YUO~Os'UO!S'TO!['XO(e'SO!^(iP!^(xP~P@nOn'bO!_'`O(T%gO~Oe'gO!l%eO(T%gO~O!Q&SO!l&RO~Os!nO!S!oO!|<VO#T!pO#U!pO#W!pO#X!pO(U!lO(VTO(YUO(e!mO(o!sO~O!b'mO!c'lO!d'lO#V!pO#['nO#]'nO~PBYOa%nOh%VO!g#vO!l%eO'z%nO(r'pO~O!p'tO#`'rO~PChOs!nO!S!oO(VTO(YUO(e!mO(o!sO~O!_XOs(mX!S(mX!b(mX!c(mX!d(mX!|(mX#T(mX#U(mX#V(mX#W(mX#X(mX#[(mX#](mX(U(mX(V(mX(Y(mX(e(mX(o(mX~O!c'lO!d'lO(U!lO~PDWO(P'xO(Q'xO(R'zO~O_!}O(V'|O(W!}O(X'|O~O_#QO(X'|O(Y'|O(Z#QO~Ov(OO~P%[Ox#SO!U#TO(b#TO(c(RO~O![(TO!Y'WX!Y'^X!]'WX!]'^X~P+}O!](VO!Y(hX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](VO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~O!Y(hX~PHRO!Y([O~O!Y(uX!](uX!g(uX!k(uX(r(uX~O#`(uX#k#dX!^(uX~PJUO#`(]O!Y(wX!](wX~O!](^O!Y(vX~O!Y(aO~O#`$eO~PJUO!^(bO~P`OR#zO!Q#yO!S#{O!l#xO(aVOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(r!na(y!na(z!na~Oa!na'z!na'w!na!Y!na!k!nav!na!_!na%i!na!g!na~PKlO!k(cO~O!g#vO#`(dO(r'pO!](tXa(tX'z(tX~O!k(tX~PNXO!S%hO!_%iO!|]O#i(iO#j(hO(T%gO~O!](jO!k(sX~O!k(lO~O!S%hO!_%iO#j(hO(T%gO~OP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~O!g#vO!k(gX~P! uOR(nO!Q(mO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(T!{a~P!#vO!x(rO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~O#k(xO~O![(zO!k(kP~P%[O(e(|O(o[O~O!S)OO!l#xO(e(|O(o[O~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]$_Oa$qa'z$qa'w$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)dO~P!&zOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Og(pP~P!,TO!Q)iO!g)hO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)hO!_({X$Z({X$]({X$_({X$f({X~O!Q)iO~P!.^O!Q)iO!_({X$Z({X$]({X$_({X$f({X~O!_)kO$Z)oO$])jO$_)jO$f)pO~O![)sO~P!)[O$]$hO$_$gO$f)wO~On$zX!Q$zX#S$zX'y$zX(y$zX(z$zX~OgmXg$zXnmX!]mX#`mX~P!0SOx)yO(b)zO(c)|O~On*VO!Q*OO'y*PO(y$}O(z%PO~Og)}O~P!1WOg*WO~Oh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S*YO!_*ZO!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op*`O![*^O(T*XO!k)OP~P!1uO#k*aO~O!l*bO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T*dO(VTO(YUO(a$uO(y$}O(z%PO~O![*gO!Y)PP~P!3tOr*sOs!nO!S*iO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO(e!mO~O!^*pO~P!5iO#S$dOn(`X!Q(`X'y(`X(y(`X(z(`X!](`X#`(`X~Og(`X$O(`X~P!6kOn*xO#`*wOg(_X!](_X~O!]*yOg(^X~Oj%dOk%dOl%dO(T&ZOg(^P~Os*|O~Og)}O(T&ZO~O!l+SO~O(T(vO~Op+WO!S%hO![#iO!_%iO!|]O#i#lO#j#iO(T%gO!k(sP~O!g#vO#k+XO~O!S%hO![+ZO!](^O!_%iO(T%gO!Y(vP~Os'[O!S+]O![+[O(VTO(YUO(e(|O~O!^(xP~P!9|O!]+^Oa)TX'z)TX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa!ja!]!ja'z!ja'w!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:tOR#zO!Q#yO!S#{O!l#xO(aVOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(r!ra(y!ra(z!ra~Oa!ra'z!ra'w!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!=[OR#zO!Q#yO!S#{O!l#xO(aVOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(r!ta(y!ta(z!ta~Oa!ta'z!ta'w!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?rOh%VOn+gO!_'`O%i+fO~O!g+iOa(]X!_(]X'z(]X!](]X~Oa%nO!_XO'z%nO~Oh%VO!l%eO~Oh%VO!l%eO(T%gO~O!g#vO#k(xO~Ob+tO%j+uO(T+qO(VTO(YUO!^)XP~O!]+vO`)WX~O[+zO~O`+{O~O!_&PO(T%gO(U!lO`)WP~O%j,OO~P;SOh%VO#`,SO~Oh%VOn,VO!_$|O~O!_,XO~O!Q,ZO!_XO~O%n%vO~O!x,`O~Oe,eO~Ob,fO(T#nO(VTO(YUO!^)VP~Oe%}O~O%j!QO(T&ZO~P=gO[,kO`,jO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(VTO(YUO(aVO(o[O~O!_!eO!u!gO$W!kO(T!dO~P!FyO`,jOa%nO'z%nO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa,pOl!OO!uwO%l!OO%m!OO%n!OO~P!IcO!l&oO~O&^,vO~O!_,xO~O&o,zO&q,{OP&laQ&laS&laY&laa&lad&lae&lal&lap&lar&las&lat&laz&la|&la!O&la!S&la!W&la!X&la!_&la!i&la!l&la!o&la!p&la!q&la!s&la!u&la!x&la!|&la$W&la$n&la%h&la%j&la%l&la%m&la%n&la%q&la%s&la%v&la%w&la%y&la&W&la&^&la&`&la&b&la&d&la&g&la&m&la&s&la&u&la&w&la&y&la&{&la'w&la(T&la(V&la(Y&la(a&la(o&la!^&la&e&lab&la&j&la~O(T-QO~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P#!iO!g-VO#`-UOh(jX!]#hX!^#hX!g(jX!l(jX~O!](jX!^(jX~P##[Oh%VO!g-XO!l%eO!]!aX!^!aX~Os!nO!S!oO(VTO(YUO(e!mO~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(VTO(YUO(aVO(o[O~O(T=QO~P#$qO!]-]O!^(iX~O!^-_O~O!g-VO#`-UO!]#hX!^#hX~O!]-`O!^(xX~O!^-bO~O!c-cO!d-cO(U!lO~P#$`O!^-fO~P'_On-iO!_'`O~O!Y-nO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(U!{a(V!{a(Y!{a(e!{a(o!{a~P!#vO!p-sO#`-qO~PChO!c-uO!d-uO(U!lO~PDWOa%nO#`-qO'z%nO~Oa%nO!g#vO#`-qO'z%nO~Oa%nO!g#vO!p-sO#`-qO'z%nO(r'pO~O(P'xO(Q'xO(R-zO~Ov-{O~O!Y'Wa!]'Wa~P!:tO![.PO!Y'WX!]'WX~P%[O!](VO!Y(ha~O!Y(ha~PHRO!](^O!Y(va~O!S%hO![.TO!_%iO(T%gO!Y'^X!]'^X~O#`.VO!](ta!k(taa(ta'z(ta~O!g#vO~P#,wO!](jO!k(sa~O!S%hO!_%iO#j.ZO(T%gO~Op.`O!S%hO![.]O!_%iO!|]O#i._O#j.]O(T%gO!]'aX!k'aX~OR.dO!l#xO~Oh%VOn.gO!_'`O%i.fO~Oa#ci!]#ci'z#ci'w#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:tOn>]O!Q*OO'y*PO(y$}O(z%PO~O#k#_aa#_a#`#_a'z#_a!]#_a!k#_a!_#_a!Y#_a~P#/sO#k(`XP(`XR(`X[(`Xa(`Xj(`Xr(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X'z(`X(a(`X(r(`X!k(`X!Y(`X'w(`Xv(`X!_(`X%i(`X!g(`X~P!6kO!].tO!k(kX~P!:tO!k.wO~O!Y.yO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#3cO#n$OO~P#3cOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#6QO#r$QO~P#6QOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(aVOa#mi!]#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(aVO(z#}Oa#mi!]#mi#z#mi#{#mi'z#mi(r#mi(y#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#;VO#x#mi~P#;VO#v$SO~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(aVO(y#|O(z#}Oa#mi!]#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#={O#z$WO~P#={OP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X!]]X!^]X~O$O]X~P#@jOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO#z<gO#{<hO(aVO(r$YO(y#|O(z#}O~O$O.{O~P#BwO#S$dO#`<nO$Q<nO$O(gX!^(gX~P! uOa'da!]'da'z'da'w'da!k'da!Y'dav'da!_'da%i'da!g'da~P!:tO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO(y#mi(z#mi~P#EyOn>]O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P#EyO!]/POg(pX~P!1WOg/RO~Oa$Pi!]$Pi'z$Pi'w$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:tO$]/SO$_/SO~O$]/TO$_/TO~O!g)hO#`/UO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/VO~O!_)kO$Z/XO$])jO$_)jO$f/YO~O!]<iO!^(fX~P#BwO!^/ZO~O!g)hO$f({X~O$f/]O~Ov/^O~P!&zOx)yO(b)zO(c/aO~O!S/dO~O(y$}On%aa!Q%aa'y%aa(z%aa!]%aa#`%aa~Og%aa$O%aa~P#L{O(z%POn%ca!Q%ca'y%ca(y%ca!]%ca#`%ca~Og%ca$O%ca~P#MnO!]fX!gfX!kfX!k$zX(rfX~P!0SOp%WO![/mO!](^O(T/lO!Y(vP!Y)PP~P!1uOr*sO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO~Os<}O!S/nO![+[O!^*pO(e<|O!^(xP~P$ [O!k/oO~P#/sO!]/pO!g#vO(r'pO!k)OX~O!k/uO~OnoX!QoX'yoX(yoX(zoX~O!g#vO!koX~P$#OOp/wO!S%hO![*^O!_%iO(T%gO!k)OP~O#k/xO~O!Y$zX!]$zX!g%RX~P!0SO!]/yO!Y)PX~P#/sO!g/{O~O!Y/}O~OpkO(T0OO~P.iOh%VOr0TO!g#vO!l%eO(r'pO~O!g+iO~Oa%nO!]0XO'z%nO~O!^0ZO~P!5iO!c0[O!d0[O(U!lO~P#$`Os!nO!S0]O(VTO(YUO(e!mO~O#[0_O~Og%aa!]%aa#`%aa$O%aa~P!1WOg%ca!]%ca#`%ca$O%ca~P!1WOj%dOk%dOl%dO(T&ZOg'mX!]'mX~O!]*yOg(^a~Og0hO~On0jO#`0iOg(_a!](_a~OR0kO!Q0kO!S0lO#S$dOn}a'y}a(y}a(z}a!]}a#`}a~Og}a$O}a~P$(cO!Q*OO'y*POn$sa(y$sa(z$sa!]$sa#`$sa~Og$sa$O$sa~P$)_O!Q*OO'y*POn$ua(y$ua(z$ua!]$ua#`$ua~Og$ua$O$ua~P$*QO#k0oO~Og%Ta!]%Ta#`%Ta$O%Ta~P!1WO!g#vO~O#k0rO~O!]+^Oa)Ta'z)Ta~OR#zO!Q#yO!S#{O!l#xO(aVOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(r!ri(y!ri(z!ri~Oa!ri'z!ri'w!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$+oOh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op0{O%]0|O(T0zO~P$.VO!g+iOa(]a!_(]a'z(]a!](]a~O#k1SO~O[]X!]fX!^fX~O!]1TO!^)XX~O!^1VO~O[1WO~Ob1YO(T+qO(VTO(YUO~O!_&PO(T%gO`'uX!]'uX~O!]+vO`)Wa~O!k1]O~P!:tO[1`O~O`1aO~O#`1fO~On1iO!_$|O~O(e(|O!^)UP~Oh%VOn1rO!_1oO%i1qO~O[1|O!]1zO!^)VX~O!^1}O~O`2POa%nO'z%nO~O(T#nO(VTO(YUO~O#S$dO#`$eO$Q$eOP(gXR(gX[(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~Oj2SO&[2TOa(gX~P$3pOj2SO#`$eO&[2TO~Oa2VO~P%[Oa2XO~O&e2[OP&ciQ&ciS&ciY&cia&cid&cie&cil&cip&cir&cis&cit&ciz&ci|&ci!O&ci!S&ci!W&ci!X&ci!_&ci!i&ci!l&ci!o&ci!p&ci!q&ci!s&ci!u&ci!x&ci!|&ci$W&ci$n&ci%h&ci%j&ci%l&ci%m&ci%n&ci%q&ci%s&ci%v&ci%w&ci%y&ci&W&ci&^&ci&`&ci&b&ci&d&ci&g&ci&m&ci&s&ci&u&ci&w&ci&y&ci&{&ci'w&ci(T&ci(V&ci(Y&ci(a&ci(o&ci!^&cib&ci&j&ci~Ob2bO!^2`O&j2aO~P`O!_XO!l2dO~O&q,{OP&liQ&liS&liY&lia&lid&lie&lil&lip&lir&lis&lit&liz&li|&li!O&li!S&li!W&li!X&li!_&li!i&li!l&li!o&li!p&li!q&li!s&li!u&li!x&li!|&li$W&li$n&li%h&li%j&li%l&li%m&li%n&li%q&li%s&li%v&li%w&li%y&li&W&li&^&li&`&li&b&li&d&li&g&li&m&li&s&li&u&li&w&li&y&li&{&li'w&li(T&li(V&li(Y&li(a&li(o&li!^&li&e&lib&li&j&li~O!Y2jO~O!]!aa!^!aa~P#BwOs!nO!S!oO![2pO(e!mO!]'XX!^'XX~P@nO!]-]O!^(ia~O!]'_X!^'_X~P!9|O!]-`O!^(xa~O!^2wO~P'_Oa%nO#`3QO'z%nO~Oa%nO!g#vO#`3QO'z%nO~Oa%nO!g#vO!p3UO#`3QO'z%nO(r'pO~Oa%nO'z%nO~P!:tO!]$_Ov$qa~O!Y'Wi!]'Wi~P!:tO!](VO!Y(hi~O!](^O!Y(vi~O!Y(wi!](wi~P!:tO!](ti!k(tia(ti'z(ti~P!:tO#`3WO!](ti!k(tia(ti'z(ti~O!](jO!k(si~O!S%hO!_%iO!|]O#i3]O#j3[O(T%gO~O!S%hO!_%iO#j3[O(T%gO~On3dO!_'`O%i3cO~Oh%VOn3dO!_'`O%i3cO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aav%aa!_%aa%i%aa!g%aa~P#L{O#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%cav%ca!_%ca%i%ca!g%ca~P#MnO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/sO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/sO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'z}a(a}a(r}a!k}a!Y}a'w}av}a!_}a%i}a!g}a~P$(cO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'z$sa(a$sa(r$sa!k$sa!Y$sa'w$sav$sa!_$sa%i$sa!g$sa~P$)_O#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'z$ua(a$ua(r$ua!k$ua!Y$ua'w$uav$ua!_$ua%i$ua!g$ua~P$*QO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'z%Ta(a%Ta(r%Ta!k%Ta!Y%Ta'w%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/sOa#cq!]#cq'z#cq'w#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:tO![3lO!]'YX!k'YX~P%[O!].tO!k(ka~O!].tO!k(ka~P!:tO!Y3oO~O$O!na!^!na~PKlO$O!ja!]!ja!^!ja~P#BwO$O!ra!^!ra~P!=[O$O!ta!^!ta~P!?rOg']X!]']X~P!,TO!]/POg(pa~OSfO!_4TO$d4UO~O!^4YO~Ov4ZO~P#/sOa$mq!]$mq'z$mq'w$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:tO!Y4]O~P!&zO!S4^O~O!Q*OO'y*PO(z%POn'ia(y'ia!]'ia#`'ia~Og'ia$O'ia~P%-fO!Q*OO'y*POn'ka(y'ka(z'ka!]'ka#`'ka~Og'ka$O'ka~P%.XO(r$YO~P#/sO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!0SOp%WO(T=WO~P!1uOp4bO!S%hO![4aO!_%iO(T%gO!]'eX!k'eX~O!]/pO!k)Oa~O!]/pO!g#vO!k)Oa~O!]/pO!g#vO(r'pO!k)Oa~Og$|i!]$|i#`$|i$O$|i~P!1WO![4jO!Y'gX!]'gX~P!3tO!]/yO!Y)Pa~O!]/yO!Y)Pa~P#/sOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~Oj%YX!g%YX~P%2OOj4oO!g#vO~Oh%VO!g#vO!l%eO~Oh%VOr4tO!l%eO(r'pO~Or4yO!g#vO(r'pO~Os!nO!S4zO(VTO(YUO(e!mO~O(y$}On%ai!Q%ai'y%ai(z%ai!]%ai#`%ai~Og%ai$O%ai~P%5oO(z%POn%ci!Q%ci'y%ci(y%ci!]%ci#`%ci~Og%ci$O%ci~P%6bOg(_i!](_i~P!1WO#`5QOg(_i!](_i~P!1WO!k5VO~Oa$oq!]$oq'z$oq'w$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:tO!Y5ZO~O!]5[O!_)QX~P#/sOa$zX!_$zX%^]X'z$zX!]$zX~P!0SO%^5_OaoX!_oX'zoX!]oX~P$#OOp5`O(T#nO~O%^5_O~Ob5fO%j5gO(T+qO(VTO(YUO!]'tX!^'tX~O!]1TO!^)Xa~O[5kO~O`5lO~O[5pO~Oa%nO'z%nO~P#/sO!]5uO#`5wO!^)UX~O!^5xO~Or6OOs!nO!S*iO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!pO#W!pO#X!pO#[5}O#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O!^5|O~P%;eOn6TO!_1oO%i6SO~Oh%VOn6TO!_1oO%i6SO~Ob6[O(T#nO(VTO(YUO!]'sX!^'sX~O!]1zO!^)Va~O(VTO(YUO(e6^O~O`6bO~Oj6eO&[6fO~PNXO!k6gO~P%[Oa6iO~Oa6iO~P%[Ob2bO!^6nO&j2aO~P`O!g6pO~O!g6rOh(ji!](ji!^(ji!g(ji!l(jir(ji(r(ji~O!]#hi!^#hi~P#BwO#`6sO!]#hi!^#hi~O!]!ai!^!ai~P#BwOa%nO#`6|O'z%nO~Oa%nO!g#vO#`6|O'z%nO~O!](tq!k(tqa(tq'z(tq~P!:tO!](jO!k(sq~O!S%hO!_%iO#j7TO(T%gO~O!_'`O%i7WO~On7[O!_'`O%i7WO~O#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'z'ia(a'ia(r'ia!k'ia!Y'ia'w'iav'ia!_'ia%i'ia!g'ia~P%-fO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'z'ka(a'ka(r'ka!k'ka!Y'ka'w'kav'ka!_'ka%i'ka!g'ka~P%.XO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'z$|i(a$|i(r$|i!k$|i!Y$|i'w$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/sO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'z%ai(a%ai(r%ai!k%ai!Y%ai'w%aiv%ai!_%ai%i%ai!g%ai~P%5oO#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'z%ci(a%ci(r%ci!k%ci!Y%ci'w%civ%ci!_%ci%i%ci!g%ci~P%6bO!]'Ya!k'Ya~P!:tO!].tO!k(ki~O$O#ci!]#ci!^#ci~P#BwOP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#n#mi~P%NdO#n<_O~P%NdOP$[OR#zOr<kO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#r#mi~P&!lO#r<aO~P&!lOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO(aVO#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#v#mi~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO(aVO(z#}O#z#mi#{#mi$O#mi(r#mi(y#mi!]#mi!^#mi~O#x<eO~P&&uO#x#mi~P&&uO#v<cO~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO(aVO(y#|O(z#}O#{#mi$O#mi(r#mi!]#mi!^#mi~O#z#mi~P&)UO#z<gO~P&)UOa#|y!]#|y'z#|y'w#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:tO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO(y#mi(z#mi~P&,QOn>^O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P&,QO#S$dOP(`XR(`X[(`Xj(`Xn(`Xr(`X!Q(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X$O(`X'y(`X(a(`X(r(`X(y(`X(z(`X!](`X!^(`X~O$O$Pi!]$Pi!^$Pi~P#BwO$O!ri!^!ri~P$+oOg']a!]']a~P!1WO!^7nO~O!]'da!^'da~P#BwO!Y7oO~P#/sO!g#vO(r'pO!]'ea!k'ea~O!]/pO!k)Oi~O!]/pO!g#vO!k)Oi~Og$|q!]$|q#`$|q$O$|q~P!1WO!Y'ga!]'ga~P#/sO!g7vO~O!]/yO!Y)Pi~P#/sO!]/yO!Y)Pi~O!Y7yO~Oh%VOr8OO!l%eO(r'pO~Oj8QO!g#vO~Or8TO!g#vO(r'pO~O!Q*OO'y*PO(z%POn'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P&5RO!Q*OO'y*POn'la(y'la(z'la!]'la#`'la~Og'la$O'la~P&5tOg(_q!](_q~P!1WO#`8VOg(_q!](_q~P!1WO!Y8WO~Og%Oq!]%Oq#`%Oq$O%Oq~P!1WOa$oy!]$oy'z$oy'w$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:tO!g6rO~O!]5[O!_)Qa~O!_'`OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(a$Ta(r$Ta(y$Ta(z$Ta~O%i7WO~P&8fO%^8[Oa%[i!_%[i'z%[i!]%[i~Oa#cy!]#cy'z#cy'w#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:tO[8^O~Ob8`O(T+qO(VTO(YUO~O!]1TO!^)Xi~O`8dO~O(e(|O!]'pX!^'pX~O!]5uO!^)Ua~O!^8nO~P%;eO(o!sO~P$&YO#[8oO~O!_1oO~O!_1oO%i8qO~On8tO!_1oO%i8qO~O[8yO!]'sa!^'sa~O!]1zO!^)Vi~O!k8}O~O!k9OO~O!k9RO~O!k9RO~P%[Oa9TO~O!g9UO~O!k9VO~O!](wi!^(wi~P#BwOa%nO#`9_O'z%nO~O!](ty!k(tya(ty'z(ty~P!:tO!](jO!k(sy~O%i9bO~P&8fO!_'`O%i9bO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'z$|q(a$|q(r$|q!k$|q!Y$|q'w$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/sO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'z'ja(a'ja(r'ja!k'ja!Y'ja'w'jav'ja!_'ja%i'ja!g'ja~P&5RO#k'laP'laR'la['laa'laj'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la'z'la(a'la(r'la!k'la!Y'la'w'lav'la!_'la%i'la!g'la~P&5tO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'z%Oq(a%Oq(r%Oq!k%Oq!Y%Oq'w%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/sO!]'Yi!k'Yi~P!:tO$O#cq!]#cq!^#cq~P#BwO(y$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(a%aa(r%aa!]%aa!^%aa~On%aa!Q%aa'y%aa(z%aa~P&IyO(z%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(a%ca(r%ca!]%ca!^%ca~On%ca!Q%ca'y%ca(y%ca~P&LQOn>^O!Q*OO'y*PO(z%PO~P&IyOn>^O!Q*OO'y*PO(y$}O~P&LQOR0kO!Q0kO!S0lO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'y}a(a}a(r}a(y}a(z}a!]}a!^}a~O!Q*OO'y*POP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(a$sa(r$sa(y$sa(z$sa!]$sa!^$sa~O!Q*OO'y*POP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(a$ua(r$ua(y$ua(z$ua!]$ua!^$ua~On>^O!Q*OO'y*PO(y$}O(z%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(a%Ta(r%Ta!]%Ta!^%Ta~P''VO$O$mq!]$mq!^$mq~P#BwO$O$oq!]$oq!^$oq~P#BwO!^9oO~O$O9pO~P!1WO!g#vO!]'ei!k'ei~O!g#vO(r'pO!]'ei!k'ei~O!]/pO!k)Oq~O!Y'gi!]'gi~P#/sO!]/yO!Y)Pq~Or9wO!g#vO(r'pO~O[9yO!Y9xO~P#/sO!Y9xO~Oj:PO!g#vO~Og(_y!](_y~P!1WO!]'na!_'na~P#/sOa%[q!_%[q'z%[q!]%[q~P#/sO[:UO~O!]1TO!^)Xq~O`:YO~O#`:ZO!]'pa!^'pa~O!]5uO!^)Ui~P#BwO!S:]O~O!_1oO%i:`O~O(VTO(YUO(e:eO~O!]1zO!^)Vq~O!k:hO~O!k:iO~O!k:jO~O!k:jO~P%[O#`:mO!]#hy!^#hy~O!]#hy!^#hy~P#BwO%i:rO~P&8fO!_'`O%i:rO~O$O#|y!]#|y!^#|y~P#BwOP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(a$|i(r$|i!]$|i!^$|i~P''VO!Q*OO'y*PO(z%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(a'ia(r'ia(y'ia!]'ia!^'ia~O!Q*OO'y*POP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(a'ka(r'ka(y'ka(z'ka!]'ka!^'ka~O(y$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'y%ai(a%ai(r%ai(z%ai!]%ai!^%ai~O(z%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'y%ci(a%ci(r%ci(y%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#BwO$O#cy!]#cy!^#cy~P#BwO!g#vO!]'eq!k'eq~O!]/pO!k)Oy~O!Y'gq!]'gq~P#/sOr:|O!g#vO(r'pO~O[;QO!Y;PO~P#/sO!Y;PO~Og(_!R!](_!R~P!1WOa%[y!_%[y'z%[y!]%[y~P#/sO!]1TO!^)Xy~O!]5uO!^)Uq~O(T;XO~O!_1oO%i;[O~O!k;_O~O%i;dO~P&8fOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(a$|q(r$|q!]$|q!^$|q~P''VO!Q*OO'y*PO(z%POP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(a'ja(r'ja(y'ja!]'ja!^'ja~O!Q*OO'y*POP'laR'la['laj'lan'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la$O'la(a'la(r'la(y'la(z'la!]'la!^'la~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(a%Oq(r%Oq!]%Oq!^%Oq~P''VOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!1WO!Y;hO~P#/sOr;iO!g#vO(r'pO~O[;kO!Y;hO~P#/sO!]'pq!^'pq~P#BwO!]#h!Z!^#h!Z~P#BwO#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'z%e!Z(a%e!Z(r%e!Z!k%e!Z!Y%e!Z'w%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/sOr;tO!g#vO(r'pO~O!Y;uO~P#/sOr;|O!g#vO(r'pO~O!Y;}O~P#/sOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(a%e!Z(r%e!Z!]%e!Z!^%e!Z~P''VOr<QO!g#vO(r'pO~Ov(fX~P1qO!Q%rO~P!)[O(U!lO~P!)[O!YfX!]fX#`fX~P%2OOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~O!gfX!k]X!kfX(rfX~P'LTOP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_XO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]<iO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<tO!S${O!_$|O!i>WO!l$xO#j<zO$W%`O$t<vO$v<xO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Ol)dO~P(!yOr!eX(r!eX~P#!iOr(jX(r(jX~P##[O!^]X!^fX~P'LTO!YfX!Y$zX!]fX!]$zX#`fX~P!0SO#k<^O~O!g#vO#k<^O~O#`<nO~Oj<bO~O#`=OO!](wX!^(wX~O#`<nO!](uX!^(uX~O#k=PO~Og=RO~P!1WO#k=XO~O#k=YO~Og=RO(T&ZO~O!g#vO#k=ZO~O!g#vO#k=PO~O$O=[O~P#BwO#k=]O~O#k=^O~O#k=cO~O#k=dO~O#k=eO~O#k=fO~O$O=gO~P!1WO$O=hO~P!1WOl=sO~P7eOk#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~(OT#o!X'|(U#ps#n#qr!Q'}$]'}(T$_(e~",goto:"$9Y)]PPPPPP)^PP)aP)rP+W/]PPPP6mPP7TPP=QPPP@tPA^PA^PPPA^PCfPA^PA^PA^PCjPCoPD^PIWPPPI[PPPPI[L_PPPLeMVPI[PI[PP! eI[PPPI[PI[P!#lI[P!'S!(X!(bP!)U!)Y!)U!,gPPPPPPP!-W!(XPP!-h!/YP!2iI[I[!2n!5z!:h!:h!>gPPP!>oI[PPPPPPPPP!BOP!C]PPI[!DnPI[PI[I[I[I[I[PI[!FQP!I[P!LbP!Lf!Lp!Lt!LtP!IXP!Lx!LxP#!OP#!SI[PI[#!Y#%_CjA^PA^PA^A^P#&lA^A^#)OA^#+vA^#.SA^A^#.r#1W#1W#1]#1f#1W#1qPP#1WPA^#2ZA^#6YA^A^6mPPP#:_PPP#:x#:xP#:xP#;`#:xPP#;fP#;]P#;]#;y#;]#<e#<k#<n)aP#<q)aP#<z#<z#<zP)aP)aP)aP)aPP)aP#=Q#=TP#=T)aP#=XP#=[P)aP)aP)aP)aP)aP)a)aPP#=b#=h#=s#=y#>P#>V#>]#>k#>q#>{#?R#?]#?c#?s#?y#@k#@}#AT#AZ#Ai#BO#Cs#DR#DY#Et#FS#Gt#HS#HY#H`#Hf#Hp#Hv#H|#IW#Ij#IpPPPPPPPPPPP#IvPPPPPPP#Jk#Mx$ b$ i$ qPPP$']P$'f$*_$0x$0{$1O$1}$2Q$2X$2aP$2g$2jP$3W$3[$4S$5b$5g$5}PP$6S$6Y$6^$6a$6e$6i$7e$7|$8e$8i$8l$8o$8y$8|$9Q$9UR!|RoqOXst!Z#d%m&r&t&u&w,s,x2[2_Y!vQ'`-e1o5{Q%tvQ%|yQ&T|Q&j!VS'W!e-]Q'f!iS'l!r!yU*k$|*Z*oQ+o%}S+|&V&WQ,d&dQ-c'_Q-m'gQ-u'mQ0[*qQ1b,OQ1y,eR<{<Y%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_S#q]<V!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU+P%]<s<tQ+t&PQ,f&gQ,m&oQ0x+gQ0}+iQ1Y+uQ2R,kQ3`.gQ5`0|Q5f1TQ6[1zQ7Y3dQ8`5gR9e7['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S!S!nQ!r!v!y!z$|'W'_'`'l'm'n*k*o*q*r-]-c-e-u0[0_1o5{5}%[$ti#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q&X|Q'U!eS'[%i-`Q+t&PQ,P&WQ,f&gQ0n+SQ1Y+uQ1_+{Q2Q,jQ2R,kQ5f1TQ5o1aQ6[1zQ6_1|Q6`2PQ8`5gQ8c5lQ8|6bQ:X8dQ:f8yQ;V:YR<}*ZrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R,h&k&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'b'r(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>R>S[#]WZ#W#Z'X(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ%wxQ%{yW&Q|&V&W,OQ&_!TQ'c!hQ'e!iQ(q#sS+n%|%}Q+r&PQ,_&bQ,c&dS-l'f'gQ.i(rQ1R+oQ1X+uQ1Z+vQ1^+zQ1t,`S1x,d,eQ2|-mQ5e1TQ5i1WQ5n1`Q6Z1yQ8_5gQ8b5kQ8f5pQ:T8^R;T:U!U$zi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y!^%yy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{Q+h%wQ,T&[Q,W&]Q,b&dQ.h(qQ1s,_U1w,c,d,eQ3e.iQ6U1tS6Y1x1yQ8x6Z#f>T#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o>U<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hW%Ti%V*y>PS&[!Q&iQ&]!RQ&^!SU*}%[%d=sR,R&Y%]%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^T)z$u){V+P%]<s<tW'[!e%i*Z-`S(}#y#zQ+c%rQ+y&SS.b(m(nQ1j,XQ5T0kR8i5u'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S$i$^c#Y#e%q%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.|.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ'Y!eR2q-]!W!nQ!e!r!v!y!z$|'W'_'`'l'm'n*Z*k*o*q*r-]-c-e-u0[0_1o5{5}R1l,ZnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&y!^Q'v!xS(s#u<^Q+l%zQ,]&_Q,^&aQ-j'dQ-w'oS.r(x=PS0q+X=ZQ1P+mQ1n,[Q2c,zQ2e,{Q2m-WQ2z-kQ2}-oS5Y0r=eQ5a1QS5d1S=fQ6t2oQ6x2{Q6}3SQ8]5bQ9Y6vQ9Z6yQ9^7OR:l9V$d$]c#Y#e%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vS(o#p'iQ)P#zS+b%q.|S.c(n(pR3^.d'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS#q]<VQ&t!XQ&u!YQ&w![Q&x!]R2Z,vQ'a!hQ+e%wQ-h'cS.e(q+hQ2x-gW3b.h.i0w0yQ6w2yW7U3_3a3e5^U9a7V7X7ZU:q9c9d9fS;b:p:sQ;p;cR;x;qU!wQ'`-eT5y1o5{!Q_OXZ`st!V!Z#d#h%e%m&i&k&r&t&u&w(j,s,x.[2[2_]!pQ!r'`-e1o5{T#q]<V%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S(}#y#zS.b(m(n!s=l$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU$fd)_,mS(p#p'iU*v%R(w4OU0m+O.n7gQ5^0xQ7V3`Q9d7YR:s9em!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}Q't!uS(f#g2US-s'k'wQ/s*]Q0R*jQ3U-vQ4f/tQ4r0TQ4s0UQ4x0^Q7r4`S7}4t4vS8R4y4{Q9r7sQ9v7yQ9{8OQ:Q8TS:{9w9xS;g:|;PS;s;h;iS;{;t;uS<P;|;}R<S<QQ#wbQ's!uS(e#g2US(g#m+WQ+Y%fQ+j%xQ+p&OU-r'k't'wQ.W(fU/r*]*`/wQ0S*jQ0V*lQ1O+kQ1u,aS3R-s-vQ3Z.`S4e/s/tQ4n0PS4q0R0^Q4u0WQ6W1vQ7P3US7q4`4bQ7u4fU7|4r4x4{Q8P4wQ8v6XS9q7r7sQ9u7yQ9}8RQ:O8SQ:c8wQ:y9rS:z9v9xQ;S:QQ;^:dS;f:{;PS;r;g;hS;z;s;uS<O;{;}Q<R<PQ<T<SQ=o=jQ={=tR=|=uV!wQ'`-e%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S#wz!j!r=i$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=o>R%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Q%fj!^%xy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{S&Oz!jQ+k%yQ,a&dW1v,b,c,d,eU6X1w1x1yS8w6Y6ZQ:d8x!r=j$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ=t>QR=u>R%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Y#bWZ#W#Z(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ,n&o!p=k$Z$n)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=n'XU']!e%i*ZR2s-`%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ,m&oQ0x+gQ3`.gQ7Y3dR9e7[!b$Tc#Y%q(S(Y(t(y)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!P<d)^)q-Z.|2k2n3p3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!f$Vc#Y%q(S(Y(t(y)W)X)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!T<f)^)q-Z.|2k2n3p3v3w3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!^$Zc#Y%q(S(Y(t(y)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<WQ4_/kz>S)^)q-Z.|2k2n3p4P4X6u7b7k7l8k9X9g9m9n;W;`=vQ>X>ZR>Y>['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS$oh$pR4U/U'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$kf$qQ$ifS)j$l)nR)v$qT$jf$qT)l$l)n'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$oh$pQ$rhR)u$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_!s>Q$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S#glOPXZst!Z!`!o#S#d#o#{$n%m&k&n&o&r&t&u&w&{'T'b)O)s*i+]+g,p,s,x-i.g/V/n0]0l1r2S2T2V2X2[2_2a3d4T4z6T6e6f6i7[8t9T!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^Q+T%aQ/c*Oo4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!U$yi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>YQ*c$zU*l$|*Z*oQ+U%bQ0W*m#f=q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n=r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hQ=w>TQ=x>UQ=y>VR=z>W!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hnoOXst!Z#d%m&r&t&u&w,s,x2[2_S*f${*YQ-R'OQ-S'QR4i/y%[%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q,U&]Q1h,WQ5s1gR8h5tV*n$|*Z*oU*n$|*Z*oT5z1o5{S0P*i/nQ4w0]T8S4z:]Q+j%xQ0V*lQ1O+kQ1u,aQ6W1vQ8v6XQ:c8wR;^:d!U%Oi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Yx*R$v)e*S*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>OS0`*t0a#f<o#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<p<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!d=S(u)c*[*e.j.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[`=T3}7c7f7j9h:t:w;yS=_.l3iT=`7e9k!U%Qi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y|*T$v)e*U*t+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>OS0b*u0c#f<q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!h=U(u)c*[*e.k.l.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[d=V3}7d7e7j9h9i:t:u:w;yS=a.m3jT=b7f9lrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q&f!UR,p&ornOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R&f!UQ,Y&^R1d,RsnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q1p,_S6R1s1tU8p6P6Q6US:_8r8sS;Y:^:aQ;m;ZR;w;nQ&m!VR,i&iR6_1|R:f8yW&Q|&V&W,OR1Z+vQ&r!WR,s&sR,y&xT2],x2_R,}&yQ,|&yR2f,}Q'y!{R-y'ySsOtQ#dXT%ps#dQ#OTR'{#OQ#RUR'}#RQ){$uR/`){Q#UVR(Q#UQ#XWU(W#X(X.QQ(X#YR.Q(YQ-^'YR2r-^Q.u(yS3m.u3nR3n.vQ-e'`R2v-eY!rQ'`-e1o5{R'j!rQ/Q)eR4S/QU#_W%h*YU(_#_(`.RQ(`#`R.R(ZQ-a']R2t-at`OXst!V!Z#d%m&i&k&r&t&u&w,s,x2[2_S#hZ%eU#r`#h.[R.[(jQ(k#jQ.X(gW.a(k.X3X7RQ3X.YR7R3YQ)n$lR/W)nQ$phR)t$pQ$`cU)a$`-|<jQ-|<WR<j)qQ/q*]W4c/q4d7t9sU4d/r/s/tS7t4e4fR9s7u$e*Q$v(u)c)e*[*e*t*u+Q+R+V.l.m.o.p.q/_/g/i/k/v/|0d0e0v1e3f3g3h3}4R4[4g4h4l4|5O5R5S5W5r7]7^7_7`7e7f7h7i7j7p7w7z8U8X8Z9h9i9j9t9|:R:S:t:u:v:w:x:};R;e;j;v;y=p=}>O>Z>[Q/z*eU4k/z4m7xQ4m/|R7x4lS*o$|*ZR0Y*ox*S$v)e*t*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>O!d.j(u)c*[*e.l.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/h*S.j7ca7c3}7e7f7j9h:t:w;yQ0a*tQ3i.lU4}0a3i9kR9k7e|*U$v)e*t*u+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>O!h.k(u)c*[*e.l.m.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/j*U.k7de7d3}7e7f7j9h9i:t:u:w;yQ0c*uQ3j.mU5P0c3j9lR9l7fQ*z%UR0g*zQ5]0vR8Y5]Q+_%kR0u+_Q5v1jS8j5v:[R:[8kQ,[&_R1m,[Q5{1oR8m5{Q1{,fS6]1{8zR8z6_Q1U+rW5h1U5j8a:VQ5j1XQ8a5iR:V8bQ+w&QR1[+wQ2_,xR6m2_YrOXst#dQ&v!ZQ+a%mQ,r&rQ,t&tQ,u&uQ,w&wQ2Y,sS2],x2_R6l2[Q%opQ&z!_Q&}!aQ'P!bQ'R!cQ'q!uQ+`%lQ+l%zQ,Q&XQ,h&mQ-P&|W-p'k's't'wQ-w'oQ0X*nQ1P+mQ1c,PS2O,i,lQ2g-OQ2h-RQ2i-SQ2}-oW3P-r-s-v-xQ5a1QQ5m1_Q5q1eQ6V1uQ6a2QQ6k2ZU6z3O3R3UQ6}3SQ8]5bQ8e5oQ8g5rQ8l5zQ8u6WQ8{6`S9[6{7PQ9^7OQ:W8cQ:b8vQ:g8|Q:n9]Q;U:XQ;]:cQ;a:oQ;l;VR;o;^Q%zyQ'd!iQ'o!uU+m%{%|%}Q-W'VU-k'e'f'gS-o'k'uQ0Q*jS1Q+n+oQ2o-YS2{-l-mQ3S-tS4p0R0UQ5b1RQ6v2uQ6y2|Q7O3TU7{4r4s4vQ9z7}R;O9{S$wi>PR*{%VU%Ui%V>PR0f*yQ$viS(u#v+iS)c$b$cQ)e$dQ*[$xS*e${*YQ*t%OQ*u%QQ+Q%^Q+R%_Q+V%cQ.l<oQ.m<qQ.o<uQ.p<wQ.q<yQ/_)yQ/g*RQ/i*TQ/k*VQ/v*aS/|*g/mQ0d*wQ0e*xl0v+f,V.f1i1q3c6S7W8q9b:`:r;[;dQ1e,SQ3f=SQ3g=UQ3h=XS3}<l<mQ4R/PS4[/d4^Q4g/xQ4h/yQ4l/{Q4|0`Q5O0bQ5R0iQ5S0jQ5W0oQ5r1fQ7]=]Q7^=_Q7_=aQ7`=cQ7e<pQ7f<rQ7h<vQ7i<xQ7j<zQ7p4_Q7w4jQ7z4oQ8U5QQ8X5[Q8Z5_Q9h=YQ9i=TQ9j=VQ9t7vQ9|8QQ:R8VQ:S8[Q:t=^Q:u=`Q:v=bQ:w=dQ:x9pQ:}9yQ;R:PQ;e=gQ;j;QQ;v;kQ;y=hQ=p>PQ=}>XQ>O>YQ>Z>]R>[>^Q+O%]Q.n<sR7g<tnpOXst!Z#d%m&r&t&u&w,s,x2[2_Q!fPS#fZ#oQ&|!`W'h!o*i0]4zQ(P#SQ)Q#{Q)r$nS,l&k&nQ,q&oQ-O&{S-T'T/nQ-g'bQ.x)OQ/[)sQ0s+]Q0y+gQ2W,pQ2y-iQ3a.gQ4W/VQ5U0lQ6Q1rQ6c2SQ6d2TQ6h2VQ6j2XQ6o2aQ7Z3dQ7m4TQ8s6TQ9P6eQ9Q6fQ9S6iQ9f7[Q:a8tR:k9T#[cOPXZst!Z!`!o#d#o#{%m&k&n&o&r&t&u&w&{'T'b)O*i+]+g,p,s,x-i.g/n0]0l1r2S2T2V2X2[2_2a3d4z6T6e6f6i7[8t9TQ#YWQ#eYQ%quQ%svS%uw!gS(S#W(VQ(Y#ZQ(t#uQ(y#xQ)R$OQ)S$PQ)T$QQ)U$RQ)V$SQ)W$TQ)X$UQ)Y$VQ)Z$WQ)[$XQ)^$ZQ)`$_Q)b$aQ)g$eW)q$n)s/V4TQ+d%tQ+x&RS-Z'X2pQ-x'rS-}(T.PQ.S(]Q.U(dQ.s(xQ.v(zQ.z<UQ.|<XQ.}<YQ/O<]Q/b)}Q0p+XQ2k-UQ2n-XQ3O-qQ3V.VQ3k.tQ3p<^Q3q<_Q3r<`Q3s<aQ3t<bQ3u<cQ3v<dQ3w<eQ3x<fQ3y<gQ3z<hQ3{.{Q3|<kQ4P<nQ4Q<{Q4X<iQ5X0rQ5c1SQ6u=OQ6{3QQ7Q3WQ7a3lQ7b=PQ7k=RQ7l=ZQ8k5wQ9X6sQ9]6|Q9g=[Q9m=eQ9n=fQ:o9_Q;W:ZQ;`:mQ<W#SR=v>SR#[WR'Z!el!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}S'V!e-]U*j$|*Z*oS-Y'W'_S0U*k*qQ0^*rQ2u-cQ4v0[R4{0_R({#xQ!fQT-d'`-e]!qQ!r'`-e1o5{Q#p]R'i<VR)f$dY!uQ'`-e1o5{Q'k!rS'u!v!yS'w!z5}S-t'l'mQ-v'nR3T-uT#kZ%eS#jZ%eS%km,oU(g#h#i#lS.Y(h(iQ.^(jQ0t+^Q3Y.ZU3Z.[.]._S7S3[3]R9`7Td#^W#W#Z%h(T(^*Y+Z.T/mr#gZm#h#i#l%e(h(i(j+^.Z.[.]._3[3]7TS*]$x*bQ/t*^Q2U,oQ2l-VQ4`/pQ6q2dQ7s4aQ9W6rT=m'X+[V#aW%h*YU#`W%h*YS(U#W(^U(Z#Z+Z/mS-['X+[T.O(T.TV'^!e%i*ZQ$lfR)x$qT)m$l)nR4V/UT*_$x*bT*h${*YQ0w+fQ1g,VQ3_.fQ5t1iQ6P1qQ7X3cQ8r6SQ9c7WQ:^8qQ:p9bQ;Z:`Q;c:rQ;n;[R;q;dnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&l!VR,h&itmOXst!U!V!Z#d%m&i&r&t&u&w,s,x2[2_R,o&oT%lm,oR1k,XR,g&gQ&U|S+}&V&WR1^,OR+s&PT&p!W&sT&q!W&sT2^,x2_",nodeNames:" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration defer ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:380,context:PI,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,237,243,245,247,249,252,258,264,266,268,270,272,274,275,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[SI],skippedNodes:[0,5,6,278],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Wp(Z!b'|0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(X#S$i&j'}0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Wp(Z!b'}0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(V':f$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Z!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Wp(Z!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Wp(Z!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Z!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Z!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(WpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(WpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Wp(Z!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(o%1l(Wp(Z!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Wp(Z!b$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Wp(Z!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Wp(Z!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(z+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(Y';W$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(WpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Wp(Z!b(U%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Wp(Z!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Wp(Z!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Wp(Z!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Wp(Z!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Z!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Z!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Z!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Z!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Z!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Z!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Wp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Wp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Wp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Wp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(WpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(WpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Wp(Z!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Wp(Z!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Wp(Z!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Wp(Z!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Wp(Z!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Wp(Z!b(O0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Wp(Z!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Z!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Z!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(WpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(WpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Wp(Z!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Wp(Z!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(r(Ct$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Wp(Z!b(a+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Wp(Z!b(T,2j$_#t(e$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Wp(Z!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(y+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Wp(Z!b'|0/l$]#t(T,2j(e$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Wp(Z!b'}0/l$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[CI,TI,yI,bI,2,3,4,5,6,7,8,9,10,11,12,13,14,EI,new $7("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(c~~",141,340),new $7("j~RQYZXz{^~^O(Q~~aP!P!Qd~iO(R~~",25,323)],topRules:{Script:[0,7],SingleExpression:[1,276],SingleClassItem:[2,277]},dialects:{jsx:0,ts:15175},dynamicPrecedences:{"80":1,"82":1,"94":1,"169":1,"199":1},specialized:[{term:327,get:(J)=>kI[J]||-1},{term:343,get:(J)=>wI[J]||-1},{term:95,get:(J)=>xI[J]||-1}],tokenPrec:15201});var dG=[Y1("function ${name}(${params}) {\n\t${}\n}",{label:"function",detail:"definition",type:"keyword"}),Y1("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n\t${}\n}",{label:"for",detail:"loop",type:"keyword"}),Y1("for (let ${name} of ${collection}) {\n\t${}\n}",{label:"for",detail:"of loop",type:"keyword"}),Y1("do {\n\t${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),Y1("while (${}) {\n\t${}\n}",{label:"while",detail:"loop",type:"keyword"}),Y1(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),Y1("if (${}) {\n\t${}\n}",{label:"if",detail:"block",type:"keyword"}),Y1(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),Y1(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),Y1('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),Y1('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],hI=dG.concat([Y1("interface ${name} {\n\t${}\n}",{label:"interface",detail:"definition",type:"keyword"}),Y1("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),Y1("enum ${name} {\n\t${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),fG=new uZ,cG=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function U7(J){return(Z,Y)=>{let X=Z.node.getChild("VariableDefinition");if(X)Y(X,J);return!0}}var vI=["FunctionDeclaration"],mI={FunctionDeclaration:U7("function"),ClassDeclaration:U7("class"),ClassExpression:()=>!0,EnumDeclaration:U7("constant"),TypeAliasDeclaration:U7("type"),NamespaceDeclaration:U7("namespace"),VariableDefinition(J,Z){if(!J.matchContext(vI))Z(J,"variable")},TypeDefinition(J,Z){Z(J,"type")},__proto__:null};function nG(J,Z){let Y=fG.get(Z);if(Y)return Y;let X=[],q=!0;function Q(K,$){let U=J.sliceString(K.from,K.to);X.push({label:U,type:$})}return Z.cursor(R0.IncludeAnonymous).iterate((K)=>{if(q)q=!1;else if(K.name){let $=mI[K.name];if($&&$(K,Q)||cG.has(K.name))return!1}else if(K.to-K.from>8192){for(let $ of nG(J,K.node))X.push($);return!1}}),fG.set(Z,X),X}var lG=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,iG=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function uI(J){let Z=E0(J.state).resolveInner(J.pos,-1);if(iG.indexOf(Z.name)>-1)return null;let Y=Z.name=="VariableName"||Z.to-Z.from<20&&lG.test(J.state.sliceDoc(Z.from,Z.to));if(!Y&&!J.explicit)return null;let X=[];for(let q=Z;q;q=q.parent)if(cG.has(q.name))X=X.concat(nG(J.state.doc,q));return{options:X,from:Y?Z.from:J.pos,validFor:lG}}var lJ=d3.define({name:"javascript",parser:gG.configure({props:[oZ.add({IfStatement:e9({except:/^\s*({|else\b)/}),TryStatement:e9({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:LU,SwitchBody:(J)=>{let Z=J.textAfter,Y=/^\s*\}/.test(Z),X=/^\s*(case|default)\b/.test(Z);return J.baseIndent+(Y?0:X?1:2)*J.unit},Block:IU({closing:"}"}),ArrowFunction:(J)=>J.baseIndent+J.unit,"TemplateString BlockComment":()=>null,"Statement Property":e9({except:/^\s*{/}),JSXElement(J){let Z=/^\s*<\//.test(J.textAfter);return J.lineIndent(J.node.from)+(Z?0:J.unit)},JSXEscape(J){let Z=/\s*\}/.test(J.textAfter);return J.lineIndent(J.node.from)+(Z?0:J.unit)},"JSXOpenTag JSXSelfClosingTag"(J){return J.column(J.node.from)+J.unit}}),eZ.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":PU,BlockComment(J){return{from:J.from+2,to:J.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),sG={test:(J)=>/^JSX/.test(J.name),facet:rZ({commentTokens:{block:{open:"{/*",close:"*/}"}}})},gI=lJ.configure({dialect:"ts"},"typescript"),fI=lJ.configure({dialect:"jsx",props:[r9.add((J)=>J.isTop?[sG]:void 0)]}),lI=lJ.configure({dialect:"jsx ts",props:[r9.add((J)=>J.isTop?[sG]:void 0)]},"typescript"),aG=(J)=>({label:J,type:"keyword"}),rG="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(aG),pI=rG.concat(["declare","implements","private","protected","public"].map(aG));function oG(J={}){let Z=J.jsx?J.typescript?lI:fI:J.typescript?gI:lJ,Y=J.typescript?hI.concat(pI):dG.concat(rG);return new o9(Z,[lJ.data.of({autocomplete:eW(iG,BY(Y))}),lJ.data.of({autocomplete:uI}),J.jsx?nI:[]])}function dI(J){for(;;){if(J.name=="JSXOpenTag"||J.name=="JSXSelfClosingTag"||J.name=="JSXFragmentTag")return J;if(J.name=="JSXEscape"||!J.parent)return null;J=J.parent}}function pG(J,Z,Y=J.length){for(let X=Z===null||Z===void 0?void 0:Z.firstChild;X;X=X.nextSibling)if(X.name=="JSXIdentifier"||X.name=="JSXBuiltin"||X.name=="JSXNamespacedName"||X.name=="JSXMemberExpression")return J.sliceString(X.from,Math.min(X.to,Y));return""}var cI=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),nI=C.inputHandler.of((J,Z,Y,X,q)=>{if((cI?J.composing:J.compositionStarted)||J.state.readOnly||Z!=Y||X!=">"&&X!="/"||!lJ.isActiveAt(J.state,Z,-1))return!1;let Q=q(),{state:K}=Q,$=K.changeByRange((U)=>{var W;let{head:G}=U,j=E0(K).resolveInner(G-1,-1),z;if(j.name=="JSXStartTag")j=j.parent;if(K.doc.sliceString(G-1,G)!=X||j.name=="JSXAttributeValue"&&j.to>G);else if(X==">"&&j.name=="JSXFragmentTag")return{range:U,changes:{from:G,insert:"</>"}};else if(X=="/"&&j.name=="JSXStartCloseTag"){let O=j.parent,H=O.parent;if(H&&O.from==G-2&&((z=pG(K.doc,H.firstChild,G))||((W=H.firstChild)===null||W===void 0?void 0:W.name)=="JSXFragmentTag")){let N=`${z}>`;return{range:D.cursor(G+N.length,-1),changes:{from:G,insert:N}}}}else if(X==">"){let O=dI(j);if(O&&O.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(K.doc.sliceString(G,G+2))&&(z=pG(K.doc,O,G)))return{range:U,changes:{from:G,insert:`</${z}>`}}}return{range:U}});if($.changes.empty)return!1;return J.dispatch([Q,K.update($,{userEvent:"input.complete",scrollIntoView:!0})]),!0});var iI=new Set(["new","class","async","await","var","this","super","extends","implements","interface","type","yield","import","export","require","throw"]),sI=f.mark({class:"cm-ajs-forbidden"});function aI(J){let Z=[],Y=J.length,X=0;while(X<Y){let q=J[X],Q=J[X+1];if(q==="/"&&Q==="/"){let K=X;X+=2;while(X<Y&&J[X]!==`
`)X++;Z.push([K,X]);continue}if(q==="/"&&Q==="*"){let K=X;X+=2;while(X<Y-1&&!(J[X]==="*"&&J[X+1]==="/"))X++;X+=2,Z.push([K,X]);continue}if(q==="`"){let K=X;X++;while(X<Y){if(J[X]==="\\"){X+=2;continue}if(J[X]==="`"){Z.push([K,X+1]),X++;break}if(J[X]==="$"&&J[X+1]==="{"){Z.push([K,X]),X+=2;let $=1;while(X<Y&&$>0){if(J[X]==="{")$++;else if(J[X]==="}")$--;if($>0)X++}X++,K=X;continue}X++}continue}if(q==='"'||q==="'"){let K=q,$=X;X++;while(X<Y){if(J[X]==="\\"){X+=2;continue}if(J[X]===K){X++;break}if(J[X]===`
`)break;X++}Z.push([$,X]);continue}X++}return Z}function rI(J,Z){for(let[Y,X]of Z){if(J>=Y&&J<X)return!0;if(Y>J)break}return!1}var oI=N0.fromClass(class{decorations;constructor(J){this.decorations=this.buildDecorations(J)}update(J){if(J.docChanged||J.viewportChanged)this.decorations=this.buildDecorations(J.view)}buildDecorations(J){let Z=new e0,Y=J.state.doc.toString(),X=aI(Y),q=new RegExp(`\\b(${Array.from(iI).join("|")})\\b`,"g"),Q;while((Q=q.exec(Y))!==null)if(!rI(Q.index,X))Z.add(Q.index,Q.index+Q[0].length,sI);return Z.finish()}},{decorations:(J)=>J.decorations}),tI=C.theme({".cm-ajs-forbidden":{color:"#dc2626",textDecoration:"wavy underline #dc2626",backgroundColor:"rgba(220, 38, 38, 0.1)"}}),eI=T4.define([]);function tG(J={}){return[oG({jsx:J.jsx,typescript:J.typescript}),oI,tI,y4(eI)]}var ZJ=[{name:"Hello World",description:"Simple greeting with template",code:`function greet({ name = 'World' }) {
  let message = template({ tmpl: 'Hello, {{name}}!', vars: { name } })
  return { message }
}`},{name:"Math Operations",description:"Basic arithmetic and Math built-ins",code:`function calculate({ a = 10, b = 5 }) {
  let sum = a + b
  let product = a * b
  let power = a ** b
  let sqrt = Math.sqrt(a)
  let max = Math.max(a, b)
  let rounded = Math.floor(a / b)
  return { sum, product, power, sqrt, max, rounded }
}`},{name:"Conditional Logic",description:"If/else branching",code:`function checkAge({ age = 25 }) {
  if (age >= 18) {
    let status = 'adult'
    return { status, canVote: true }
  } else {
    let status = 'minor'
    return { status, canVote: false }
  }
}`},{name:"Loop & Filter",description:"Process arrays with array methods",code:`function processNumbers({ numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10] }) {
  let evens = numbers.filter(x => x % 2 == 0)
  let doubled = evens.map(x => x * 2)
  let total = doubled.reduce((acc, x) => acc + x, 0)
  return { evens, doubled, total }
}`},{name:"String Processing",description:"Work with text",code:`function processText({ text = 'Hello World' }) {
  let upper = text.toUpperCase()
  let lower = text.toLowerCase()
  let words = text.split(' ')
  let wordCount = words.length
  return { upper, lower, words, wordCount }
}`},{name:"JSON Processing",description:"Parse and stringify JSON",code:`function jsonRoundTrip({ data = { name: 'Alice', age: 30 } }) {
  let jsonStr = JSON.stringify(data)
  let parsed = JSON.parse(jsonStr)
  let name = parsed.name
  return { jsonStr, parsed, name }
}`},{name:"Error Handling",description:"Try/catch with Error()",code:`function safeDivide({ a = 10, b = 0 }) {
  try {
    if (b == 0) {
      Error('Division by zero!')
    }
    let result = a / b
    return { result }
  } catch (err) {
    return { error: err }
  }
}`},{name:"Weather API",description:"Fetch weather data (no API key needed)",code:`function getWeather({ lat = 37.7749, lon = -122.4194 }) {
  let url = \`https://api.open-meteo.com/v1/forecast?latitude=\${lat}&longitude=\${lon}&current_weather=true\`
  let response = httpFetch({ url, cache: 1800 })
  let weather = response.current_weather
  return { weather }
}`},{name:"iTunes Search",description:"Search Apple iTunes catalog",code:`function searchMusic({ query = 'Beatles', limit = 5 }) {
  let url = \`https://itunes.apple.com/search?term=\${query}&limit=\${limit}&media=music\`
  let response = httpFetch({ url, cache: 3600 })
  let tracks = response.results.map(x => ({ 
    artist: x.artistName, 
    track: x.trackName, 
    album: x.collectionName 
  }))
  return { tracks }
}`},{name:"GitHub Repos",description:"Search GitHub repositories",code:`function searchRepos({ query = 'tosijs', perPage = 5 }) {
  let url = \`https://api.github.com/search/repositories?q=\${query}&per_page=\${perPage}&sort=stars\`
  let response = httpFetch({ url, cache: 300 })
  let repos = response.items.map(x => ({ 
    name: x.full_name, 
    stars: x.stargazers_count, 
    description: x.description 
  }))
  return { repos }
}`},{name:"LLM Chat",description:"Chat with AI (requires llm capability)",requiresApi:!0,code:`function chat({ message = 'What is the capital of France?' }) {
  // Requires llm.predict capability to be configured
  let response = llmPredict({ prompt: message })
  return { response }
}`},{name:"LLM Summarizer",description:"Fetch and summarize text (requires llm capability)",requiresApi:!0,code:`function summarize({ source = 'coffee-origins' }) {
  // Fetch text from our sample documents
  // Options: 'coffee-origins', 'ai-history', 'renewable-energy'
  let url = \`/texts/\${source}.txt\`
  let text = httpFetch({ url })
  
  let prompt = \`Summarize the following text in 2-3 sentences:

\${text}\`
  let summary = llmPredict({ prompt })
  return { source, summary }
}`},{name:"LLM Structured Output",description:"Get structured JSON from LLM (requires llm capability)",requiresApi:!0,code:`function extractInfo({ text = 'John Smith is a 35-year-old software engineer from San Francisco who loves hiking and photography.' }) {
  let prompt = \`Extract person info from this text as JSON with fields: name, age, occupation, location, hobbies (array).

Text: \${text}

Respond ONLY with valid JSON, no other text.\`
  let response = llmPredict({ prompt })
  let parsed = JSON.parse(response)
  return { person: parsed }
}`},{name:"LLM + API Data",description:"LLM analyzes API data (requires llm capability)",requiresApi:!0,code:`function findCovers({ song = 'Yesterday', artist = 'Beatles' }) {
  // Search iTunes for the song
  let query = song + ' ' + artist
  let url = \`https://itunes.apple.com/search?term=\${query}&limit=25&media=music\`
  let response = httpFetch({ url, cache: 3600 })
  
  // Format results for LLM analysis
  let results = response.results || []
  let tracks = results.map(x => \`"\${x.trackName}" by \${x.artistName} (\${x.collectionName})\`)
  let trackList = tracks.join('\\n')
  
  let prompt = \`Search results for "\${song}" by \${artist}:

\${trackList}

List cover versions (tracks NOT by \${artist}) as a JSON array.
Format: [{"track":"...","artist":"...","album":"..."}]
If no covers found, return: []
RESPOND WITH ONLY THE JSON ARRAY, NO OTHER TEXT.\`

  let llmResponse = llmPredict({ prompt })
  let covers = JSON.parse(llmResponse)
  return { originalArtist: artist, song, covers }
}`},{name:"LLM with Tool",description:"LLM uses a calculator tool (requires llm capability)",requiresApi:!0,code:`function mathAssistant({ question = 'What is 23 * 47 + 156?' }) {
  // First, ask LLM to extract the calculation
  let extractPrompt = \`Extract the math expression from this question. Return ONLY the expression, nothing else.
Question: \${question}\`
  let expression = llmPredict({ prompt: extractPrompt })
  
  // Evaluate the expression (simple eval simulation)
  let calcPrompt = \`Calculate: \${expression}
Return ONLY the numeric result.\`
  let calcResult = llmPredict({ prompt: calcPrompt })
  
  // Format the answer
  let answerPrompt = \`The user asked: "\${question}"
The calculated result is: \${calcResult}
Write a brief, friendly response with the answer.\`
  let answer = llmPredict({ prompt: answerPrompt })
  
  return { question, expression: expression.trim(), result: calcResult.trim(), answer }
}`},{name:"Multi-Agent Pipeline",description:"Two agents collaborate on a task (requires llm capability)",requiresApi:!0,code:`function collaborativeWriting({ topic = 'the future of renewable energy' }) {
  // Agent 1: Research Agent - generates key points
  let researchPrompt = \`You are a research agent. Generate 3 key facts or points about: \${topic}
Format as a numbered list. Be concise.\`
  let research = llmPredict({ prompt: researchPrompt })
  
  // Agent 2: Writer Agent - creates content from research
  let writerPrompt = \`You are a writer agent. Using these research points:

\${research}

Write a short, engaging paragraph (2-3 sentences) about \${topic}.
Make it informative and accessible.\`
  let article = llmPredict({ prompt: writerPrompt })
  
  // Agent 3: Editor Agent - reviews and improves
  let editorPrompt = \`You are an editor agent. Review this draft:

"\${article}"

Suggest one specific improvement. Then provide the improved version.
Format: "Suggestion: [your suggestion]\\n\\nImproved: [improved text]"\`
  let edited = llmPredict({ prompt: editorPrompt })
  
  return { 
    topic,
    researchPoints: research,
    firstDraft: article,
    editedVersion: edited
  }
}`},{name:"Fuel Exhaustion",description:"Demonstrates running out of fuel",code:`function infiniteLoop({ limit = 1000000 }) {
  // This will run out of fuel before completing
  let counter = 0
  let i = 0
  while (i < limit) {
    counter = counter + 1
    i = i + 1
  }
  return { counter }
}`}];var M7={};D7(M7,{xmlParse:()=>lj,whileLoop:()=>Yj,vectorSearch:()=>vj,varsLet:()=>Gj,varsImport:()=>Wj,varsExport:()=>jj,varSet:()=>Kj,varGet:()=>Uj,uuid:()=>nj,typeToString:()=>c6,tryCatch:()=>qj,transpile:()=>n4,transformFunction:()=>s6,template:()=>Cj,storeSet:()=>xj,storeQuery:()=>hj,storeGet:()=>wj,split:()=>Pj,seq:()=>k1,scope:()=>zj,ret:()=>Xj,resolveValue:()=>S,regexMatch:()=>Tj,reduce:()=>Ij,random:()=>cj,push:()=>Lj,preprocess:()=>zX,pick:()=>yj,parseReturnType:()=>OX,parseParameter:()=>i6,parse:()=>d6,or:()=>Aj,not:()=>Fj,neq:()=>_j,merge:()=>bj,memoize:()=>pj,map:()=>Mj,lt:()=>Nj,lookupVariable:()=>WO,llmPredict:()=>mj,len:()=>Bj,keys:()=>Sj,jsonStringify:()=>fj,jsonParse:()=>gj,join:()=>Ej,isAgentError:()=>ZD,inferTypeFromValue:()=>Z5,iff:()=>Zj,hash:()=>P6,gt:()=>Hj,getToolDefinitions:()=>SL,getStoreCapabilityDefault:()=>f4,getStandardCapabilities:()=>DD,getLocation:()=>I0,getLLMCapability:()=>iY,getBatteries:()=>Mz,find:()=>Dj,filter:()=>Vj,fetch:()=>kj,extractLiteralValue:()=>cJ,evaluateExpr:()=>C0,errorAtom:()=>Qj,eq:()=>Oj,defineAtom:()=>d,createChildScope:()=>YJ,createChildContext:()=>V1,createAgent:()=>bL,coreAtoms:()=>W7,constSet:()=>$j,checkType:()=>n6,cache:()=>dj,builtins:()=>R5,batteryAtoms:()=>UD,batteries:()=>LD,and:()=>Rj,ajs:()=>yL,agentRun:()=>uj,TypedBuilder:()=>d0,TypeError:()=>UO,TranspileError:()=>A0,SyntaxError:()=>z1,LocalModels:()=>b6,AgentVM:()=>S6,AgentError:()=>A5,Agent:()=>tj,A99:()=>$D});var X0=(J)=>({schema:J,_type:null,validate:(Z,Y)=>L6(Z,J,Y),get optional(){return X0({...J,type:Array.isArray(J.type)?[...J.type,"null"]:[J.type,"null"]})},title:(Z)=>X0({...J,title:Z}),describe:(Z)=>X0({...J,description:Z}),default:(Z)=>X0({...J,default:Z}),meta:(Z)=>X0({...J,...Z}),min:(Z)=>{let Y=J.type==="string"?"minLength":J.type==="array"?"minItems":J.type==="object"?"minProperties":"minimum";return X0({...J,[Y]:Z})},max:(Z)=>{let Y=J.type==="string"?"maxLength":J.type==="array"?"maxItems":J.type==="object"?"maxProperties":"maximum";return X0({...J,[Y]:Z})},pattern:(Z)=>X0({...J,pattern:typeof Z==="string"?Z:Z.source}),get email(){return X0({...J,format:"email"})},get uuid(){return X0({...J,format:"uuid"})},get ipv4(){return X0({...J,format:"ipv4"})},get url(){return X0({...J,format:"uri"})},get datetime(){return X0({...J,format:"date-time"})},get emoji(){return X0({...J,pattern:"^\\p{Extended_Pictographic}+$",format:"emoji"})},get int(){return X0({...J,type:"integer"})},step:(Z)=>X0({...J,multipleOf:Z})}),JD={get email(){return X0({type:"string",format:"email"})},get uuid(){return X0({type:"string",format:"uuid"})},get ipv4(){return X0({type:"string",format:"ipv4"})},get url(){return X0({type:"string",format:"uri"})},get datetime(){return X0({type:"string",format:"date-time"})},get emoji(){return X0({type:"string",pattern:"^\\p{Extended_Pictographic}+$",format:"emoji"})},get any(){return X0({})},pattern:(J)=>X0({type:"string",pattern:typeof J==="string"?J:J.source}),union:(J)=>X0({anyOf:J.map((Z)=>Z.schema)}),enum:(J)=>{if(J.length===0)return console.warn("s.enum() called with empty array - schema will never match"),X0({enum:[]});return X0({type:typeof J[0],enum:J})},const:(J)=>X0({const:J}),array:(J)=>X0({type:"array",items:J.schema}),tuple:(J)=>X0({type:"array",items:J.map((Z)=>Z.schema),minItems:J.length,maxItems:J.length}),object:(J)=>{let Z={},Y=[];for(let X in J)if(Z[X]=J[X].schema,!Array.isArray(Z[X].type)||!Z[X].type.includes("null"))Y.push(X);return X0({type:"object",properties:Z,required:Y,additionalProperties:!1})},record:(J)=>X0({type:"object",additionalProperties:J.schema})},R=new Proxy(JD,{get(J,Z){if(Z in J)return J[Z];if(Z==="string"||Z==="number"||Z==="boolean"||Z==="integer"){let Y=X0({type:Z});return J[Z]=Y,Y}return}}),D6={email:(J)=>/^\S+@\S+\.\S+$/.test(J),uuid:(J)=>/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(J),uri:(J)=>{try{return new URL(J),!0}catch{return!1}},ipv4:(J)=>/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(J),"date-time":(J)=>!isNaN(Date.parse(J)),emoji:(J)=>new RegExp("\\p{Extended_Pictographic}","u").test(J)};function L6(J,Z,Y){let X=Z?.schema||Z,q=typeof Y==="function"?Y:Y?.onError,Q=typeof Y==="object"?Y?.fullScan:!1,K=[],$=(W)=>{if(q)q(K.join(".")||"root",W);return!1},U=(W,G)=>{if(G.anyOf){for(let z of G.anyOf)if(L6(W,z))return!0;return $("Union mismatch")}if(G.const!==void 0)return W===G.const||$("Const mismatch");if(W===null||W===void 0)return!G.type||Array.isArray(G.type)&&G.type.includes("null")||$("Expected value");let j=Array.isArray(G.type)?G.type[0]:G.type;if(G.enum&&!G.enum.includes(W))return $("Enum mismatch");if(j==="integer"){if(typeof W!=="number"||!Number.isInteger(W))return $("Expected integer")}else if(j==="array"){if(!Array.isArray(W))return $("Expected array")}else if(j==="object"){if(typeof W!=="object"||Array.isArray(W))return $("Expected object")}else if(j&&typeof W!==j)return $(`Expected ${j}`);if(typeof W==="number"){if(G.minimum!==void 0&&W<G.minimum)return $("Value < min");if(G.maximum!==void 0&&W>G.maximum)return $("Value > max");if(G.multipleOf!==void 0&&W%G.multipleOf!==0)return $("Value not step")}if(typeof W==="string"){if(G.minLength!==void 0&&W.length<G.minLength)return $("Len < min");if(G.maxLength!==void 0&&W.length>G.maxLength)return $("Len > max");if(G.pattern&&!new RegExp(G.pattern,G.format==="emoji"?"u":"").test(W))return $("Pattern mismatch");if(G.format&&D6[G.format]&&!D6[G.format](W))return $("Format invalid")}if(j==="object"){if(G.minProperties!==void 0){let z=0;for(let O in W)if(Object.prototype.hasOwnProperty.call(W,O))z++;if(z<G.minProperties)return $("Too few props")}if(G.required){for(let z of G.required)if(!(z in W))return $(`Missing ${z}`)}if(G.properties){for(let z in G.properties)if(z in W){K.push(z);let O=U(W[z],G.properties[z]);if(K.pop(),!O)return!1}}if(G.additionalProperties===!1)for(let z in W){if(G.properties&&z in G.properties)continue;return $(`Extra prop ${z}`)}else if(G.additionalProperties){let z=0;for(let O in W){if(G.properties&&O in G.properties)continue;if(!Q){if(z++,z%97!==0)continue}K.push(O);let H=U(W[O],G.additionalProperties);if(K.pop(),!H)return!1}}return!0}if(j==="array"&&G.items){let z=W.length;if(G.minItems!==void 0&&z<G.minItems)return $("Array too short");if(G.maxItems!==void 0&&z>G.maxItems)return $("Array too long");if(Array.isArray(G.items)){for(let H=0;H<G.items.length;H++){if(K.push(String(H)),!U(W[H],G.items[H]))return K.pop(),!1;K.pop()}return!0}let O=Q||z<=97?1:Math.floor(z/97);for(let H=0;H<z;H+=O){let N=O>1&&H>z-1-O?z-1:H;K.push(String(N));let F=U(W[N],G.items);if(K.pop(),!F)return!1;if(N===z-1)break}return!0}return!0};return U(J,X)}function dY(J,Z){let Y=Z?.schema||Z,X=[],q=(Q,K)=>{let $=X.join(".")||"root";if(K.anyOf){for(let W of K.anyOf){let G=q(Q,W);if(!(G instanceof Error))return G}return Error(`Union mismatch at ${$}`)}if(K.const!==void 0)return Q===K.const?Q:Error(`Const mismatch at ${$}`);if(Q===null||Q===void 0){if(!K.type||Array.isArray(K.type)&&K.type.includes("null"))return Q;return Error(`Expected value at ${$}`)}let U=Array.isArray(K.type)?K.type[0]:K.type;if(K.enum&&!K.enum.includes(Q))return Error(`Enum mismatch at ${$}`);if(U==="integer"){if(typeof Q!=="number"||!Number.isInteger(Q))return Error(`Expected integer at ${$}`)}else if(U==="array"){if(!Array.isArray(Q))return Error(`Expected array at ${$}`)}else if(U==="object"){if(typeof Q!=="object"||Array.isArray(Q))return Error(`Expected object at ${$}`)}else if(U&&typeof Q!==U)return Error(`Expected ${U} at ${$}`);if(typeof Q==="number"){if(K.minimum!==void 0&&Q<K.minimum)return Error(`Value < min at ${$}`);if(K.maximum!==void 0&&Q>K.maximum)return Error(`Value > max at ${$}`);if(K.multipleOf!==void 0&&Q%K.multipleOf!==0)return Error(`Value not step at ${$}`)}if(typeof Q==="string"){if(K.minLength!==void 0&&Q.length<K.minLength)return Error(`Len < min at ${$}`);if(K.maxLength!==void 0&&Q.length>K.maxLength)return Error(`Len > max at ${$}`);if(K.pattern&&!new RegExp(K.pattern,K.format==="emoji"?"u":"").test(Q))return Error(`Pattern mismatch at ${$}`);if(K.format&&D6[K.format]&&!D6[K.format](Q))return Error(`Format invalid at ${$}`)}if(U==="object"){let W={};if(K.minProperties!==void 0){let G=0;for(let j in Q)if(Object.prototype.hasOwnProperty.call(Q,j))G++;if(G<K.minProperties)return Error(`Too few props at ${$}`)}if(K.required){for(let G of K.required)if(!(G in Q))return Error(`Missing ${G} at ${$}`)}if(K.properties){for(let G in K.properties)if(G in Q){X.push(G);let j=q(Q[G],K.properties[G]);if(X.pop(),j instanceof Error)return j;W[G]=j}}if(K.additionalProperties&&typeof K.additionalProperties==="object")for(let G in Q){if(K.properties&&G in K.properties)continue;X.push(G);let j=q(Q[G],K.additionalProperties);if(X.pop(),j instanceof Error)return j;W[G]=j}return W}if(U==="array"&&K.items){let W=Q.length;if(K.minItems!==void 0&&W<K.minItems)return Error(`Array too short at ${$}`);if(K.maxItems!==void 0&&W>K.maxItems)return Error(`Array too long at ${$}`);if(Array.isArray(K.items)){let j=[];for(let z=0;z<K.items.length;z++){X.push(String(z));let O=q(Q[z],K.items[z]);if(X.pop(),O instanceof Error)return O;j.push(O)}return j}let G=[];for(let j=0;j<W;j++){X.push(String(j));let z=q(Q[j],K.items);if(X.pop(),z instanceof Error)return z;G.push(z)}return G}return Q};return q(J,Y)}class A5{$error=!0;message;op;cause;constructor(J,Z,Y){this.message=J,this.op=Z,this.cause=Y}toString(){return`AgentError[${this.op}]: ${this.message}`}toJSON(){return{$error:!0,message:this.message,op:this.op}}}function ZD(J){return J instanceof A5||J&&J.$error===!0}var Jj=new Set(["__proto__","constructor","prototype"]);function eG(J){if(Jj.has(J))throw Error(`Security Error: Access to '${J}' is forbidden`)}function YJ(J){return{...J,state:Object.create(J.state)}}function YD(J,Z){let Y={},X=new Set([...Object.keys(J),...Object.keys(Z)]);for(let q of X){let Q=J[q],K=Z[q];if(K!==Q)Y[q]=K}return Y}function S(J,Z){if(J&&typeof J==="object"&&J.$kind==="arg")return Z.args[J.path];if(J&&typeof J==="object"&&J.$expr)return C0(J,Z);if(typeof J==="string"){if(J.startsWith("args."))return Z.args[J.replace("args.","")];if(J.includes(".")){let Y=J.split(".");for(let q of Y)if(Jj.has(q))throw Error(`Security Error: Access to '${q}' is forbidden`);let X=Z.state[Y[0]];if(X!==void 0){for(let q=1;q<Y.length;q++)X=X?.[Y[q]];return X}}if(J in Z.state)return Z.state[J];return J}if(J&&typeof J==="object"&&!Array.isArray(J)&&J.constructor===Object){let Y={};for(let X of Object.keys(J))Y[X]=S(J[X],Z);return Y}if(Array.isArray(J))return J.map((Y)=>S(Y,Z));return J}function pJ(J,Z,Y){return new Proxy(Z,{get(X,q){if(q in X)return X[q];let Q=Y?.[q];if(Q)throw Error(`${J}.${q} is not available. ${Q}`);throw Error(`${J}.${q} is not supported in AsyncJS. Check docs for available ${J} methods.`)}})}function cY(J){if(J===null)return{type:"null"};if(J===void 0)return{};if(typeof J==="object"&&J!==null&&"type"in J&&typeof J.type==="string")return J;if(typeof J==="object"&&J!==null&&"schema"in J&&typeof J.schema==="object")return J.schema;let Z=typeof J;if(Z==="string")return{type:"string"};if(Z==="number")return Number.isInteger(J)?{type:"integer"}:{type:"number"};if(Z==="boolean")return{type:"boolean"};if(Array.isArray(J)){if(J.length===0)return{type:"array"};return{type:"array",items:cY(J[0])}}if(Z==="object"){let Y={},X=[];for(let[q,Q]of Object.entries(J))Y[q]=cY(Q),X.push(q);return{type:"object",properties:Y,required:X}}return{}}var R5={Math:pJ("Math",{PI:Math.PI,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,SQRT2:Math.SQRT2,SQRT1_2:Math.SQRT1_2,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:Math.trunc,sign:Math.sign,sqrt:Math.sqrt,cbrt:Math.cbrt,pow:Math.pow,exp:Math.exp,expm1:Math.expm1,log:Math.log,log2:Math.log2,log10:Math.log10,log1p:Math.log1p,sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,atan2:Math.atan2,sinh:Math.sinh,cosh:Math.cosh,tanh:Math.tanh,asinh:Math.asinh,acosh:Math.acosh,atanh:Math.atanh,hypot:Math.hypot,min:Math.min,max:Math.max,clz32:Math.clz32,imul:Math.imul,fround:Math.fround,random:()=>{if(typeof crypto<"u"&&crypto.getRandomValues){let J=new Uint32Array(1);return crypto.getRandomValues(J),J[0]/4294967296}return Math.random()}}),JSON:pJ("JSON",{parse:(J)=>JSON.parse(J),stringify:(J,Z,Y)=>JSON.stringify(J,Z,Y)}),console:pJ("console",{log:(...J)=>{return},warn:(...J)=>{return},error:(...J)=>{return},info:(...J)=>{return}},{table:"Use console.log with JSON.stringify for structured data.",dir:"Use console.log instead.",trace:"Stack traces are not available in AsyncJS."}),Array:pJ("Array",{isArray:(J)=>Array.isArray(J),from:(J,Z,Y)=>Array.from(J,Z,Y),of:(...J)=>Array.of(...J)},{prototype:"Prototype access is not allowed."}),Object:pJ("Object",{keys:(J)=>Object.keys(J),values:(J)=>Object.values(J),entries:(J)=>Object.entries(J),fromEntries:(J)=>Object.fromEntries(J),assign:(J,...Z)=>Object.assign({},J,...Z),hasOwn:(J,Z)=>Object.hasOwn(J,Z)},{prototype:"Prototype access is not allowed.",create:"Use object literals instead.",defineProperty:"Property descriptors are not supported.",getPrototypeOf:"Prototype access is not allowed.",setPrototypeOf:"Prototype modification is not allowed."}),String:pJ("String",{fromCharCode:(...J)=>String.fromCharCode(...J),fromCodePoint:(...J)=>String.fromCodePoint(...J)}),Number:pJ("Number",{isNaN:Number.isNaN,isFinite:Number.isFinite,isInteger:Number.isInteger,isSafeInteger:Number.isSafeInteger,parseFloat,parseInt,MAX_VALUE:Number.MAX_VALUE,MIN_VALUE:Number.MIN_VALUE,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,POSITIVE_INFINITY:Number.POSITIVE_INFINITY,NEGATIVE_INFINITY:Number.NEGATIVE_INFINITY,NaN:Number.NaN,EPSILON:Number.EPSILON}),parseInt,parseFloat,isNaN,isFinite,encodeURI,decodeURI,encodeURIComponent,decodeURIComponent,undefined:void 0,null:null,NaN:NaN,Infinity:1/0,filter:(J,Z)=>{let Y=cY(Z),X=dY(J,Y);if(X instanceof Error)throw X;return X},Set:(J=[])=>{let Z=[...new globalThis.Set(J)];return{add(Y){if(!Z.includes(Y))Z.push(Y);return this},remove(Y){let X=Z.indexOf(Y);if(X!==-1)Z.splice(X,1);return this},clear(){return Z.length=0,this},has(Y){return Z.includes(Y)},get size(){return Z.length},toArray(){return[...Z]},union(Y){let X=Y?.toArray?.()??Y??[];return R5.Set([...Z,...X])},intersection(Y){let X=Y?.toArray?.()??Y??[];return R5.Set(Z.filter((q)=>X.includes(q)))},diff(Y){let X=Y?.toArray?.()??Y??[];return R5.Set(Z.filter((q)=>!X.includes(q)))},forEach(Y){Z.forEach(Y)},map(Y){return R5.Set(Z.map(Y))},filter(Y){return R5.Set(Z.filter(Y))},toJSON(){return[...Z]}}},Date:(()=>{let J=(Y)=>({get value(){return Y.toISOString()},get timestamp(){return Y.getTime()},get year(){return Y.getFullYear()},get month(){return Y.getMonth()+1},get day(){return Y.getDate()},get hours(){return Y.getHours()},get minutes(){return Y.getMinutes()},get seconds(){return Y.getSeconds()},get dayOfWeek(){return Y.getDay()},add({years:X=0,months:q=0,days:Q=0,hours:K=0,minutes:$=0,seconds:U=0,ms:W=0}={}){let G=new globalThis.Date(Y.getTime());if(X)G.setFullYear(G.getFullYear()+X);if(q)G.setMonth(G.getMonth()+q);if(Q)G.setDate(G.getDate()+Q);if(K)G.setHours(G.getHours()+K);if($)G.setMinutes(G.getMinutes()+$);if(U)G.setSeconds(G.getSeconds()+U);if(W)G.setMilliseconds(G.getMilliseconds()+W);return J(G)},diff(X,q="ms"){let Q=typeof X==="object"&&X.timestamp?X.timestamp:new globalThis.Date(X).getTime(),K=Y.getTime()-Q;switch(q){case"seconds":return K/1000;case"minutes":return K/60000;case"hours":return K/3600000;case"days":return K/86400000;default:return K}},format(X="ISO"){if(X==="ISO")return Y.toISOString();if(X==="date")return Y.toISOString().split("T")[0];if(X==="time")return Y.toISOString().split("T")[1].split(".")[0];return X.replace("YYYY",String(Y.getFullYear())).replace("MM",String(Y.getMonth()+1).padStart(2,"0")).replace("DD",String(Y.getDate()).padStart(2,"0")).replace("HH",String(Y.getHours()).padStart(2,"0")).replace("mm",String(Y.getMinutes()).padStart(2,"0")).replace("ss",String(Y.getSeconds()).padStart(2,"0"))},isBefore(X){let q=typeof X==="object"&&X.timestamp?X.timestamp:new globalThis.Date(X).getTime();return Y.getTime()<q},isAfter(X){let q=typeof X==="object"&&X.timestamp?X.timestamp:new globalThis.Date(X).getTime();return Y.getTime()>q},toString(){return Y.toISOString()},toJSON(){return Y.toISOString()}}),Z=(Y)=>{let X=Y!==void 0?new globalThis.Date(Y):new globalThis.Date;if(isNaN(X.getTime()))throw Error(`Invalid date: ${Y}`);return J(X)};return Z.now=()=>globalThis.Date.now(),Z.parse=(Y)=>J(new globalThis.Date(Y)),Z})()},B6={RegExp:"RegExp is not available. Use string methods or the regexMatch atom.",Promise:"Promise is not needed. All operations are implicitly async.",Map:"Map is not available. Use plain objects instead.",WeakSet:"WeakSet is not available.",WeakMap:"WeakMap is not available.",Symbol:"Symbol is not available.",Proxy:"Proxy is not available.",Reflect:"Reflect is not available.",Function:"Function constructor is not available. Define functions normally.",eval:"eval is not available. Code is compiled, not evaluated.",setTimeout:"setTimeout is not available. Use the delay atom.",setInterval:"setInterval is not available. Use while loops with delay.",fetch:"fetch is not available. Use the httpFetch atom.",require:"require is not available. Atoms must be registered with the VM.",import:"import is not available. Atoms must be registered with the VM.",process:"process is not available. AsyncJS runs in a sandboxed environment.",window:"window is not available. AsyncJS runs in a sandboxed environment.",document:"document is not available. AsyncJS runs in a sandboxed environment.",global:"global is not available. AsyncJS runs in a sandboxed environment.",globalThis:"globalThis is not available. Use builtins directly."},XD=0.01;function C0(J,Z){if(J===null||J===void 0)return J;if(typeof J!=="object"||!("$expr"in J))return J;if(Z.fuel){if(Z.fuel.current-=XD,Z.fuel.current<=0)throw Error("Out of Fuel")}switch(J.$expr){case"literal":return J.value;case"ident":{if(J.name in Z.state)return Z.state[J.name];if(J.name in Z.args)return Z.args[J.name];if(J.name in R5)return R5[J.name];if(J.name in B6)throw Error(B6[J.name]);return}case"member":{let Y=C0(J.object,Z);if(J.optional&&(Y===null||Y===void 0))return;let X=J.property;return eG(X),Y?.[X]}case"binary":{let Y=C0(J.left,Z),X=C0(J.right,Z);switch(J.op){case"+":return Y+X;case"-":return Y-X;case"*":return Y*X;case"/":return Y/X;case"%":return Y%X;case"**":return Y**X;case">":return Y>X;case"<":return Y<X;case">=":return Y>=X;case"<=":return Y<=X;case"==":return Y==X;case"!=":return Y!=X;case"===":return Y===X;case"!==":return Y!==X;default:throw Error(`Unknown binary operator: ${J.op}`)}}case"unary":{let Y=C0(J.argument,Z);switch(J.op){case"!":return!Y;case"-":return-Y;case"+":return+Y;case"typeof":return typeof Y;default:throw Error(`Unknown unary operator: ${J.op}`)}}case"logical":{let Y=C0(J.left,Z);if(J.op==="&&")return Y?C0(J.right,Z):Y;else return Y?Y:C0(J.right,Z)}case"conditional":return C0(J.test,Z)?C0(J.consequent,Z):C0(J.alternate,Z);case"array":return J.elements.map((Y)=>C0(Y,Z));case"object":{let Y={};for(let X of J.properties)Y[X.key]=C0(X.value,Z);return Y}case"call":{if(J.callee==="Error"){let X=J.arguments.map((Q)=>C0(Q,Z)),q=typeof X[0]==="string"?X[0]:"Error";Z.error=new A5(q,"Error");return}if(J.callee in R5){let X=R5[J.callee];if(typeof X==="function"){let q=J.arguments.map((Q)=>C0(Q,Z));return X(...q)}}if(!Z.resolver(J.callee)){if(J.callee in B6)throw Error(B6[J.callee]);throw Error(`Unknown function: ${J.callee}`)}throw Error(`Atom calls in expressions not yet supported: ${J.callee}`)}case"methodCall":{let Y=C0(J.object,Z);if(J.optional&&(Y===null||Y===void 0))return;let X=J.method;if(eG(X),Y===null||Y===void 0)throw Error(`Cannot call method '${X}' on ${Y}`);let q=Y[X];if(typeof q!=="function")throw Error(`'${X}' is not a function`);let Q=J.arguments.map((K)=>C0(K,Z));return q.apply(Y,Q)}default:throw Error(`Unknown expression type: ${J.$expr}`)}}function d(J,Z,Y,X,q={}){let{docs:Q="",timeoutMs:K=1000,cost:$=1}=typeof q==="string"?{docs:q}:q;return{op:J,inputSchema:Z,outputSchema:Y,exec:async(W,G)=>{let{op:j,result:z,...O}=W;if(G.error)return;if(Z&&!L6(Z,O)){G.error=new A5(`Validation failed: ${JSON.stringify(O)}`,J);return}let H=G.trace?{...G.state}:null,N=G.fuel.current,F,M;try{let I=G.costOverrides?.[J],L=I!==void 0?I:$,P=typeof L==="function"?L(O,G):L;if((G.fuel.current-=P)<=0){G.error=new A5("Out of Fuel",J);return}let E,m=async()=>X(W,G);if(F=K>0?await Promise.race([m(),new Promise((x,s)=>{E=setTimeout(()=>s(Error(`Atom '${J}' timed out`)),K)})]).finally(()=>clearTimeout(E)):await m(),W.result&&F!==void 0){if(G.consts.has(W.result))throw Error(`Cannot reassign const variable '${W.result}'`);if(G.state[W.result]=F,W.resultConst)G.consts.add(W.result)}}catch(I){M=I.message||String(I),G.error=new A5(M,J,I)}finally{if(G.trace&&H){let I=YD(H,G.state);G.trace.push({op:J,input:O,stateDiff:I,result:F,error:M,fuelBefore:N,fuelAfter:G.fuel.current,timestamp:new Date().toISOString()})}}},docs:Q,timeoutMs:K,cost:$,create:(W)=>({op:J,...W})}}var k1=d("seq",R.object({steps:R.array(R.any)}),void 0,async({steps:J},Z)=>{for(let Y of J){if(Z.output!==void 0)return;if(Z.error)return;let X=Z.resolver(Y.op);if(!X)throw Error(`Unknown Atom: ${Y.op}`);await X.exec(Y,Z)}},{docs:"Sequence",timeoutMs:0,cost:0.1}),Zj=d("if",R.object({condition:R.any,then:R.array(R.any),else:R.array(R.any).optional}),void 0,async(J,Z)=>{if(C0(J.condition,Z))await k1.exec({op:"seq",steps:J.then},Z);else if(J.else)await k1.exec({op:"seq",steps:J.else},Z)},{docs:"If/Else",timeoutMs:0,cost:0.1}),Yj=d("while",R.object({condition:R.any,body:R.array(R.any)}),void 0,async(J,Z)=>{while(C0(J.condition,Z)){if(Z.signal?.aborted)throw Error("Execution aborted");if((Z.fuel.current-=0.1)<=0)throw Error("Out of Fuel");if(await k1.exec({op:"seq",steps:J.body},Z),Z.output!==void 0)return}},{docs:"While Loop",timeoutMs:0,cost:0.1}),Xj=d("return",void 0,R.any,async(J,Z)=>{if(Z.error)return Z.output=Z.error,Z.error;let Y={};if(J.schema?.properties){for(let X of Object.keys(J.schema.properties))Y[X]=Z.state[X];if(J.filter!==!1){let X=dY(Y,J.schema);if(!(X instanceof Error))Y=X}}return Z.output=Y,Y},{docs:"Return",cost:0.1}),qj=d("try",R.object({try:R.array(R.any),catch:R.array(R.any).optional,catchParam:R.string.optional}),void 0,async(J,Z)=>{if(await k1.exec({op:"seq",steps:J.try},Z),Z.error&&J.catch){let Y=J.catchParam||"error";Z.state[Y]=Z.error.message,Z.state.errorOp=Z.error.op,Z.error=void 0,await k1.exec({op:"seq",steps:J.catch},Z)}},{docs:"Try/Catch",timeoutMs:0,cost:0.1}),Qj=d("Error",R.object({args:R.array(R.any).optional}),void 0,async(J,Z)=>{let Y=J.args?.[0]??"Error";Z.error=new A5(String(Y),"Error")},{docs:"Trigger error flow",cost:0.1}),Kj=d("varSet",R.object({key:R.string,value:R.any}),void 0,async({key:J,value:Z},Y)=>{if(Y.consts.has(J))throw Error(`Cannot reassign const variable '${J}'`);Y.state[J]=S(Z,Y)},{docs:"Set Variable",cost:0.1}),$j=d("constSet",R.object({key:R.string,value:R.any}),void 0,async({key:J,value:Z},Y)=>{if(Y.consts.has(J))throw Error(`Cannot reassign const variable '${J}'`);if(J in Y.state)throw Error(`Cannot redeclare variable '${J}' as const`);Y.state[J]=S(Z,Y),Y.consts.add(J)},{docs:"Set Const Variable (immutable)",cost:0.1}),Uj=d("varGet",R.object({key:R.string}),R.any,async({key:J},Z)=>{return S(J,Z)},{docs:"Get Variable",cost:0.1}),Wj=d("varsImport",R.object({keys:R.union([R.array(R.string),R.record(R.string)])}),void 0,async({keys:J},Z)=>{if(Array.isArray(J))for(let Y of J)Z.state[Y]=S({$kind:"arg",path:Y},Z);else for(let[Y,X]of Object.entries(J))Z.state[Y]=S({$kind:"arg",path:X},Z)},{docs:"Import variables from args into the current scope, with optional renaming.",cost:0.2}),Gj=d("varsLet",R.record(R.any),void 0,async(J,Z)=>{for(let Y of Object.keys(J)){if(Y==="op"||Y==="result")continue;Z.state[Y]=S(J[Y],Z)}},{docs:"Initialize a set of variables in the current scope from the step object properties.",cost:0.1}),jj=d("varsExport",R.object({keys:R.union([R.array(R.string),R.record(R.string)])}),R.record(R.any),async({keys:J},Z)=>{let Y={};if(Array.isArray(J))for(let X of J)Y[X]=S(X,Z);else for(let[X,q]of Object.entries(J))Y[X]=S(q,Z);return Y},{docs:"Export variables from the current scope, with optional renaming.",cost:0.2}),zj=d("scope",R.object({steps:R.array(R.any)}),void 0,async({steps:J},Z)=>{let Y=YJ(Z);if(await k1.exec({op:"seq",steps:J},Y),Y.output!==void 0)Z.output=Y.output},{docs:"Create new scope",timeoutMs:0,cost:0.1}),g4=(J,Z)=>d(J,R.object({a:R.any,b:R.any}),R.boolean,async({a:Y,b:X},q)=>Z(S(Y,q),S(X,q)),{docs:"Logic",cost:0.1}),Oj=g4("eq",(J,Z)=>J==Z),_j=g4("neq",(J,Z)=>J!=Z),Hj=g4("gt",(J,Z)=>J>Z),Nj=g4("lt",(J,Z)=>J<Z),Rj=g4("and",(J,Z)=>!!(J&&Z)),Aj=g4("or",(J,Z)=>!!(J||Z)),Fj=d("not",R.object({value:R.any}),R.boolean,async({value:J},Z)=>!S(J,Z),{docs:"Not",cost:0.1}),Mj=d("map",R.object({items:R.array(R.any),as:R.string,steps:R.array(R.any)}),R.array(R.any),async({items:J,as:Z,steps:Y},X)=>{let q=[],Q=S(J,X);if(!Array.isArray(Q))throw Error("map: items is not an array");for(let K of Q){if(X.signal?.aborted)throw Error("Execution aborted");let $=YJ(X);$.state[Z]=K,await k1.exec({op:"seq",steps:Y},$),q.push($.state.result??null)}return q},{docs:"Map Array",timeoutMs:0,cost:1}),Vj=d("filter",R.object({items:R.array(R.any),as:R.string,condition:R.any}),R.array(R.any),async({items:J,as:Z,condition:Y},X)=>{let q=[],Q=S(J,X);if(!Array.isArray(Q))throw Error("filter: items is not an array");for(let K of Q){if(X.signal?.aborted)throw Error("Execution aborted");let $=YJ(X);if($.state[Z]=K,C0(Y,$))q.push(K)}return q},{docs:"Filter Array",timeoutMs:0,cost:1}),Ij=d("reduce",R.object({items:R.array(R.any),as:R.string,accumulator:R.string,initial:R.any,steps:R.array(R.any)}),R.any,async({items:J,as:Z,accumulator:Y,initial:X,steps:q},Q)=>{let K=S(J,Q),$=S(X,Q);if(!Array.isArray(K))throw Error("reduce: items is not an array");let U=$;for(let W of K){if(Q.signal?.aborted)throw Error("Execution aborted");let G=YJ(Q);G.state[Z]=W,G.state[Y]=U,await k1.exec({op:"seq",steps:q},G),U=G.state.result??U}return U},{docs:"Reduce Array",timeoutMs:0,cost:1}),Dj=d("find",R.object({items:R.array(R.any),as:R.string,condition:R.any}),R.any,async({items:J,as:Z,condition:Y},X)=>{let q=S(J,X);if(!Array.isArray(q))throw Error("find: items is not an array");for(let Q of q){if(X.signal?.aborted)throw Error("Execution aborted");let K=YJ(X);if(K.state[Z]=Q,C0(Y,K))return Q}return null},{docs:"Find in Array",timeoutMs:0,cost:1}),Lj=d("push",R.object({list:R.array(R.any),item:R.any}),R.array(R.any),async({list:J,item:Z},Y)=>{let X=S(J,Y),q=S(Z,Y);if(Array.isArray(X))X.push(q);return X},{docs:"Push to Array",cost:1}),Bj=d("len",R.object({list:R.any}),R.number,async({list:J},Z)=>{let Y=S(J,Z);return Array.isArray(Y)||typeof Y==="string"?Y.length:0},{docs:"Length",cost:1}),Pj=d("split",R.object({str:R.string,sep:R.string}),R.array(R.string),async({str:J,sep:Z},Y)=>S(J,Y).split(S(Z,Y)),{docs:"Split String",cost:1}),Ej=d("join",R.object({list:R.array(R.string),sep:R.string}),R.string,async({list:J,sep:Z},Y)=>S(J,Y).join(S(Z,Y)),{docs:"Join String",cost:1}),Cj=d("template",R.object({tmpl:R.string,vars:R.record(R.any)}),R.string,async({tmpl:J,vars:Z},Y)=>{return S(J,Y).replace(/\{\{(\w+)\}\}/g,(q,Q)=>String(S(Z[Q],Y)??""))},{docs:"String Template",cost:1}),Tj=d("regexMatch",R.object({pattern:R.string,value:R.any}),R.boolean,async({pattern:J,value:Z},Y)=>{let X=S(Z,Y);return new RegExp(J).test(X)},{docs:"Returns true if the value matches the regex pattern.",cost:2}),yj=d("pick",R.object({obj:R.record(R.any),keys:R.array(R.string)}),R.record(R.any),async({obj:J,keys:Z},Y)=>{let X=S(J,Y),q=S(Z,Y),Q={};if(X&&Array.isArray(q))q.forEach((K)=>Q[K]=X[K]);return Q},{docs:"Pick Keys",cost:1}),bj=d("merge",R.object({a:R.record(R.any),b:R.record(R.any)}),R.record(R.any),async({a:J,b:Z},Y)=>({...S(J,Y),...S(Z,Y)}),{docs:"Merge Objects",cost:1}),Sj=d("keys",R.object({obj:R.record(R.any)}),R.array(R.string),async({obj:J},Z)=>Object.keys(S(J,Z)??{}),{docs:"Object Keys",cost:1}),kj=d("httpFetch",R.object({url:R.string,method:R.string.optional,headers:R.record(R.string).optional,body:R.any.optional}),R.any,async(J,Z)=>{let Y=S(J.url,Z),X=S(J.method,Z),q=S(J.headers,Z),Q=S(J.body,Z);if(Z.capabilities.fetch)return Z.capabilities.fetch(Y,{method:X,headers:q,body:Q,signal:Z.signal});if(typeof globalThis.fetch==="function"){let K=await globalThis.fetch(Y,{method:X,headers:q,body:Q?JSON.stringify(Q):void 0,signal:Z.signal}),$=K.headers.get("content-type");if($&&$.includes("application/json"))return K.json();return K.text()}throw Error("Capability 'fetch' missing and no global fetch available")},{docs:"HTTP Fetch",timeoutMs:30000,cost:5}),wj=d("storeGet",R.object({key:R.string}),R.any,async({key:J},Z)=>{let Y=S(J,Z);return Z.capabilities.store?.get(Y)},{docs:"Store Get",cost:5}),xj=d("storeSet",R.object({key:R.string,value:R.any}),void 0,async({key:J,value:Z},Y)=>{let X=S(J,Y),q=S(Z,Y);return Y.capabilities.store?.set(X,q)},{docs:"Store Set",cost:5}),hj=d("storeQuery",R.object({query:R.any}),R.array(R.any),async({query:J},Z)=>Z.capabilities.store?.query?.(S(J,Z))??[],{docs:"Store Query",cost:5}),vj=d("storeVectorSearch",R.object({collection:R.string,vector:R.array(R.number),k:R.number.optional}),R.array(R.any),async({collection:J,vector:Z,k:Y},X)=>X.capabilities.store?.vectorSearch?.(S(J,X),S(Z,X),S(Y,X))??[],{docs:"Vector Search",cost:(J,Z)=>5+(S(J.k,Z)??5)}),mj=d("llmPredict",R.object({prompt:R.string,options:R.any.optional}),R.string,async({prompt:J,options:Z},Y)=>{if(!Y.capabilities.llm?.predict)throw Error("Capability 'llm.predict' missing");return Y.capabilities.llm.predict(S(J,Y),S(Z,Y))},{docs:"LLM Predict",timeoutMs:120000,cost:1}),uj=d("agentRun",R.object({agentId:R.string,input:R.any}),R.any,async({agentId:J,input:Z},Y)=>{if(!Y.capabilities.agent?.run)throw Error("Capability 'agent.run' missing");let X=S(J,Y),q=S(Z,Y),Q=q;if(q&&typeof q==="object"&&!Array.isArray(q)){Q={};for(let $ in q)Q[$]=S(q[$],Y)}let K=await Y.capabilities.agent.run(X,Q);if(K&&typeof K==="object"&&"fuelUsed"in K&&typeof K.fuelUsed==="number"){if(K.error)throw Error(K.error.message||"Sub-agent failed");return K.result}return K},{docs:"Run Sub-Agent",cost:1}),gj=d("jsonParse",R.object({str:R.string}),R.any,async({str:J},Z)=>JSON.parse(S(J,Z)),{docs:"Parse JSON",cost:1}),fj=d("jsonStringify",R.object({value:R.any}),R.string,async({value:J},Z)=>JSON.stringify(S(J,Z)),{docs:"Stringify JSON",cost:1}),lj=d("xmlParse",R.object({str:R.string}),R.any,async({str:J},Z)=>{if(!Z.capabilities.xml?.parse)throw Error("Capability 'xml.parse' missing");return Z.capabilities.xml.parse(S(J,Z))},{docs:"Parse XML",cost:1}),pj=d("memoize",R.object({key:R.string.optional,steps:R.array(R.any)}),R.any,async({key:J,steps:Z},Y)=>{if(!Y.memo)Y.memo=new Map;let X=S(J,Y)??await P6.exec({value:Z,algorithm:"SHA-256"},Y);if(Y.memo.has(X))return Y.memo.get(X);let q=YJ(Y);await k1.exec({op:"seq",steps:Z},q);let Q=q.output??q.state.result;return Y.memo.set(X,Q),Q},{docs:"Memoize steps result in memory",cost:1}),dj=d("cache",R.object({key:R.string.optional,steps:R.array(R.any),ttlMs:R.number.optional}),R.any,async({key:J,steps:Z,ttlMs:Y},X)=>{if(!X.capabilities.store)throw Error("Capability 'store' missing for caching");let Q=`cache:${S(J,X)??await P6.exec({value:Z,algorithm:"SHA-256"},X)}`,K=await X.capabilities.store.get(Q);if(K)if(typeof K==="object"&&K._exp){if(Date.now()<K._exp)return K.val}else return K;let $=YJ(X);await k1.exec({op:"seq",steps:Z},$);let U=$.output??$.state.result,W=Date.now()+(Y??86400000);if((X.fuel.current-=5)<=0)throw Error("Out of Fuel");return await X.capabilities.store.set(Q,{val:U,_exp:W}),U},{docs:"Cache steps result in store with TTL",cost:5}),cj=d("random",R.object({min:R.number.optional,max:R.number.optional,format:R.string.optional,length:R.number.optional}),R.any,async({min:J,max:Z,format:Y,length:X},q)=>{let Q=S(Y,q)??"float",K=S(X,q)??10,$=S(J,q)??0,U=S(Z,q)??1;if(Q==="base36"){let O="";if(typeof crypto<"u"&&crypto.getRandomValues){let H=new Uint8Array(K);crypto.getRandomValues(H);for(let N=0;N<K;N++)O+="0123456789abcdefghijklmnopqrstuvwxyz"[H[N]%36]}else for(let H=0;H<K;H++)O+="0123456789abcdefghijklmnopqrstuvwxyz".charAt(Math.floor(Math.random()*36));return O}let W;if(typeof crypto<"u"&&crypto.getRandomValues){let z=new Uint32Array(1);crypto.getRandomValues(z),W=z[0]/4294967296}else W=Math.random();let G=U-$,j=W*G+$;if(Q==="integer")return Math.floor(j);return j},{docs:"Generate Random",cost:1}),nj=d("uuid",void 0,R.string,async()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();if(typeof crypto<"u"&&crypto.getRandomValues){let J=new Uint8Array(16);crypto.getRandomValues(J),J[6]=J[6]&15|64,J[8]=J[8]&63|128;let Z=Array.from(J,(Y)=>Y.toString(16).padStart(2,"0")).join("");return`${Z.slice(0,8)}-${Z.slice(8,12)}-${Z.slice(12,16)}-${Z.slice(16,20)}-${Z.slice(20)}`}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(J)=>{let Z=Math.random()*16|0;return(J==="x"?Z:Z&3|8).toString(16)})},{docs:"Generate UUID",cost:1}),P6=d("hash",R.object({value:R.any,algorithm:R.string.optional}),R.string,async({value:J,algorithm:Z},Y)=>{let X=typeof J==="string"?J:JSON.stringify(S(J,Y)),q=S(Z,Y)||"SHA-256";if(typeof crypto<"u"&&crypto.subtle){let $=new TextEncoder().encode(X),U=await crypto.subtle.digest(q,$);return Array.from(new Uint8Array(U)).map((G)=>G.toString(16).padStart(2,"0")).join("")}let Q=0;for(let K=0;K<X.length;K++){let $=X.charCodeAt(K);Q=(Q<<5)-Q+$,Q|=0}return String(Q)},{docs:"Hash a value",cost:1}),W7={seq:k1,if:Zj,while:Yj,return:Xj,try:qj,Error:Qj,varSet:Kj,constSet:$j,varGet:Uj,varsImport:Wj,varsLet:Gj,varsExport:jj,scope:zj,eq:Oj,neq:_j,gt:Hj,lt:Nj,and:Rj,or:Aj,not:Fj,map:Mj,filter:Vj,reduce:Ij,find:Dj,push:Lj,len:Bj,split:Pj,join:Ej,template:Cj,regexMatch:Tj,pick:yj,merge:bj,keys:Sj,httpFetch:kj,storeGet:wj,storeSet:xj,storeQuery:hj,storeVectorSearch:vj,llmPredict:mj,agentRun:uj,jsonParse:gj,jsonStringify:fj,xmlParse:lj,memoize:pj,cache:dj,random:cj,uuid:nj,hash:P6};function E6(J,Z){let Y=qD(J),X=oj(Y,0,Z);if(X.pos<Y.length){let q=Y.slice(X.pos).join(" ");throw Error(`Unsupported condition syntax near '${q}' in: ${J}
Supported: comparisons, &&, ||, !, arithmetic, member access (a.b), literals`)}return X.node}function qD(J){let Z=[],Y=0;while(Y<J.length){while(Y<J.length&&/\s/.test(J[Y]))Y++;if(Y>=J.length)break;if(J[Y]==='"'||J[Y]==="'"){let X=J[Y++],q="";while(Y<J.length&&J[Y]!==X)if(J[Y]==="\\"&&Y+1<J.length)Y++,q+=J[Y++];else q+=J[Y++];Y++,Z.push(JSON.stringify(q));continue}if(J.slice(Y,Y+2).match(/^(&&|\|\||==|!=|>=|<=)$/)){Z.push(J.slice(Y,Y+2)),Y+=2;continue}if("+-*/%><!().?:[]".includes(J[Y])){Z.push(J[Y]),Y++;continue}if(/\d/.test(J[Y])){let X="";while(Y<J.length&&/[\d.]/.test(J[Y]))X+=J[Y++];Z.push(X);continue}if(/[a-zA-Z_]/.test(J[Y])){let X="";while(Y<J.length&&/[a-zA-Z0-9_]/.test(J[Y]))X+=J[Y++];Z.push(X);continue}Y++}return Z}function oj(J,Z,Y){return QD(J,Z,Y)}function QD(J,Z,Y){let{node:X,pos:q}=ij(J,Z,Y);while(J[q]==="||"){q++;let{node:Q,pos:K}=ij(J,q,Y);X={$expr:"logical",op:"||",left:X,right:Q},q=K}return{node:X,pos:q}}function ij(J,Z,Y){let{node:X,pos:q}=sj(J,Z,Y);while(J[q]==="&&"){q++;let{node:Q,pos:K}=sj(J,q,Y);X={$expr:"logical",op:"&&",left:X,right:Q},q=K}return{node:X,pos:q}}function sj(J,Z,Y){let{node:X,pos:q}=aj(J,Z,Y),Q=["==","!=",">","<",">=","<="];while(Q.includes(J[q])){let K=J[q++],{node:$,pos:U}=aj(J,q,Y);X={$expr:"binary",op:K,left:X,right:$},q=U}return{node:X,pos:q}}function aj(J,Z,Y){let{node:X,pos:q}=rj(J,Z,Y);while(J[q]==="+"||J[q]==="-"){let Q=J[q++],{node:K,pos:$}=rj(J,q,Y);X={$expr:"binary",op:Q,left:X,right:K},q=$}return{node:X,pos:q}}function rj(J,Z,Y){let{node:X,pos:q}=nY(J,Z,Y);while(J[q]==="*"||J[q]==="/"||J[q]==="%"){let Q=J[q++],{node:K,pos:$}=nY(J,q,Y);X={$expr:"binary",op:Q,left:X,right:K},q=$}return{node:X,pos:q}}function nY(J,Z,Y){if(J[Z]==="!"||J[Z]==="-"){let X=J[Z++],{node:q,pos:Q}=nY(J,Z,Y);return{node:{$expr:"unary",op:X,argument:q},pos:Q}}return KD(J,Z,Y)}function KD(J,Z,Y){let X=J[Z];if(X==="("){let{node:q,pos:Q}=oj(J,Z+1,Y);return{node:q,pos:Q+1}}if(X&&X.startsWith('"'))return{node:{$expr:"literal",value:JSON.parse(X)},pos:Z+1};if(X&&/^\d/.test(X))return{node:{$expr:"literal",value:parseFloat(X)},pos:Z+1};if(X==="true")return{node:{$expr:"literal",value:!0},pos:Z+1};if(X==="false")return{node:{$expr:"literal",value:!1},pos:Z+1};if(X==="null")return{node:{$expr:"literal",value:null},pos:Z+1};if(X&&/^[a-zA-Z_]/.test(X)){let q={$expr:"ident",name:X},Q=Z+1;while(J[Q]==="."){Q++;let K=J[Q++];q={$expr:"member",object:q,property:K}}return{node:q,pos:Q}}return{node:{$expr:"literal",value:null},pos:Z+1}}class d0{steps=[];atoms;proxy;constructor(J){return this.atoms=J,this.proxy=new Proxy(this,{get:(Z,Y,X)=>{if(Y in Z)return Z[Y];if(typeof Y==="string"&&Y in Z.atoms)return(q)=>{let Q=Z.atoms[Y];return Z.add(Q.create(q)),X};return}}),this.proxy}add(J){return this.steps.push(J),this.proxy}as(J){if(this.steps.length===0)throw Error("No step to capture");let Z=this.steps[this.steps.length-1];return Z.result=J,this.proxy}step(J){return this.add(J)}return(J){let Z=this.atoms.return;if(!Z)throw Error("Atom 'return' not found");let Y=J.schema??J;return this.add(Z.create({schema:Y}))}toJSON(){return{op:"seq",steps:[...this.steps]}}varsImport(J){return this.add(this.atoms.varsImport.create({keys:J}))}varsExport(J){return this.add(this.atoms.varsExport.create({keys:J}))}if(J,Z,Y,X){let q=new d0(this.atoms);Y(q);let Q;if(X){let U=new d0(this.atoms);X(U),Q=U.steps}let K=E6(J,Z),$=this.atoms.if;return this.add($.create({condition:K,then:q.steps,else:Q}))}while(J,Z,Y){let X=new d0(this.atoms);Y(X);let q=E6(J,Z),Q=this.atoms.while;return this.add(Q.create({condition:q,body:X.steps}))}scope(J){let Z=new d0(this.atoms);J(Z);let Y=this.atoms.scope;return this.add(Y.create({steps:Z.steps}))}map(J,Z,Y){let X=new d0(this.atoms);Y(X);let q=this.atoms.map;return this.add(q.create({items:J,as:Z,steps:X.steps}))}filter(J,Z,Y,X={}){let q=E6(Y,X),Q=this.atoms.filter;return this.add(Q.create({items:J,as:Z,condition:q}))}find(J,Z,Y,X={}){let q=E6(Y,X),Q=this.atoms.find;return this.add(Q.create({items:J,as:Z,condition:q}))}reduce(J,Z,Y,X,q){let Q=new d0(this.atoms);q(Q);let K=this.atoms.reduce;return this.add(K.create({items:J,as:Z,accumulator:Y,initial:X,steps:Q.steps}))}memoize(J,Z){let Y=new d0(this.atoms);J(Y);let X=this.atoms.memoize;return this.add(X.create({key:Z,steps:Y.steps}))}cache(J,Z,Y){let X=new d0(this.atoms);J(X);let q=this.atoms.cache;return this.add(q.create({key:Z,steps:X.steps,ttlMs:Y}))}try(J){let Z=new d0(this.atoms);J.try(Z);let Y;if(J.catch){let q=new d0(this.atoms);J.catch(q),Y=q.steps}let X=this.atoms.try;return this.add(X.create({try:Z.steps,catch:Y}))}}var tj={take(J){return new d0(W7)},custom(J){return new d0(J)},args(J){return{$kind:"arg",path:J}},val(J){return J}},$D=tj;var ej=d("storeVectorize",R.object({text:R.string,model:R.string.optional}),R.array(R.number),async({text:J},Z)=>{let Y=Z.capabilities.vector;if(!Y)throw Error("Capability 'vector' missing. Ensure vector battery is loaded.");let X=S(J,Z);return Y.embed(X)},{docs:"Generate embeddings using vector battery",cost:20}),Jz=d("storeCreateCollection",R.object({collection:R.string,dimension:R.number.optional}),void 0,async({collection:J,dimension:Z},Y)=>{let X=Y.capabilities.store;if(!X?.createCollection)throw Error("Capability 'store' missing or does not support createCollection.");let q=S(J,Y),Q=S(Z,Y);return X.createCollection(q,void 0,Q)},{docs:"Create a vector store collection",cost:5}),Zz=d("storeVectorAdd",R.object({collection:R.string,doc:R.any}),void 0,async({collection:J,doc:Z},Y)=>{let X=Y.capabilities.store;if(!X?.vectorAdd)throw Error("Capability 'store' missing or does not support vectorAdd.");let q=S(J,Y),Q=S(Z,Y);return X.vectorAdd(q,Q)},{docs:"Add a document to a vector store collection",cost:5}),Yz=d("storeSearch",R.object({collection:R.string,queryVector:R.array(R.number),k:R.number.optional,filter:R.record(R.any).optional}),R.array(R.any),async({collection:J,queryVector:Z,k:Y,filter:X},q)=>{let Q=q.capabilities.store;if(!Q?.vectorSearch)throw Error("Capability 'store' missing or does not support vectorSearch.");let K=S(J,q),$=S(Z,q),U=S(Y,q)??5,W=S(X,q);return Q.vectorSearch(K,$,U,W)},{docs:"Search vector store",cost:(J,Z)=>5+(S(J.k,Z)??5)}),Xz=d("llmPredictBattery",R.object({system:R.string.optional,user:R.string,tools:R.array(R.any).optional,responseFormat:R.any.optional}),R.object({content:R.string.optional,tool_calls:R.array(R.any).optional}),async({system:J,user:Z,tools:Y,responseFormat:X},q)=>{let Q=q.capabilities.llmBattery;if(!Q?.predict)throw Error("Capability 'llmBattery' missing or invalid.");let K=S(J,q)??"You are a helpful agent.",$=S(Z,q),U=S(Y,q),W=S(X,q);return Q.predict(K,$,U,W)},{docs:"Generate completion using LLM battery",cost:100});var UD={storeCreateCollection:Jz,storeSearch:Yz,storeVectorAdd:Zz,storeVectorize:ej,llmPredictBattery:Xz};var qz=new Map,C6=new Map;function WD(J,Z){if(J.length!==Z.length)throw Error("Vectors must have the same length for cosine similarity.");let Y=0,X=0,q=0;for(let Q=0;Q<J.length;Q++)Y+=J[Q]*Z[Q],X+=J[Q]*J[Q],q+=Z[Q]*Z[Q];if(X=Math.sqrt(X),q=Math.sqrt(q),X===0||q===0)return 0;return Y/(X*q)}function f4(){return{async get(J){return qz.get(J)},async set(J,Z){qz.set(J,Z)},async createCollection(J,Z,Y){if(C6.has(J))console.warn(`Collection '${J}' already exists. Overwriting.`);C6.set(J,[])},async vectorAdd(J,Z){let Y=C6.get(J);if(!Y)throw Error(`Collection '${J}' not found. Create it first.`);if(!Z.embedding||!Array.isArray(Z.embedding))throw Error("Document must have an 'embedding' property that is an array of numbers.");Y.push(Z)},async vectorSearch(J,Z,Y=5){let X=C6.get(J);if(!X)throw Error(`Collection '${J}' not found. Create it first.`);let q=X.map((Q)=>({doc:Q,score:WD(Z,Q.embedding)}));return q.sort((Q,K)=>K.score-Q.score),q.slice(0,Y).map((Q)=>Q.doc)}}}var GD="http://localhost:1234/v1";function iY(J,Z=GD){return{async predict(Y,X,q,Q){try{let K=Q?J.getStructuredLLM():J.getLLM(),$=[{role:"system",content:Y},{role:"user",content:X}],U=await fetch(`${Z}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:K.id,messages:$,temperature:0.7,tools:q,response_format:Q})});if(!U.ok)throw Error(`LLM Error: ${U.status} ${U.statusText}`);return(await U.json()).choices[0]?.message??{content:""}}catch(K){if(K.cause?.code==="ECONNREFUSED")throw Error("No LLM provider configured. Please start LM Studio or provide an API key.");throw K}},async embed(Y){try{let X=J.getEmbedding(),q=await fetch(`${Z}/embeddings`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:X.id,input:Y})});if(!q.ok)throw Error(`Embedding Error: ${q.status}`);return(await q.json()).data[0]?.embedding??[]}catch(X){if(X.cause?.code==="ECONNREFUSED")throw Error("No LLM provider configured. Please start LM Studio or provide an API key.");throw X}}}}var G7=typeof window<"u"&&typeof window.localStorage<"u";async function OD(J){try{if(G7){let Z=window.localStorage.getItem(".models.cache.json");if(!Z)return null;let Y=JSON.parse(Z);if(Y.baseUrl!==J)return null;if(Date.now()-Y.timestamp>86400000)return null;return Y.models}else{let Z=await import("node:fs/promises"),X=(await Promise.resolve().then(() => (rY(),aY))).join(process.cwd(),".models.cache.json");try{let q=await Z.readFile(X,"utf-8"),Q=JSON.parse(q);if(Q.baseUrl!==J)return null;if(Date.now()-Q.timestamp>86400000)return null;return Q.models}catch{return null}}}catch(Z){return console.warn(" Error reading model cache:",Z),null}}async function _D(J,Z){let Y={timestamp:Date.now(),baseUrl:J,models:Z};try{if(G7)window.localStorage.setItem(".models.cache.json",JSON.stringify(Y));else{let X=await import("node:fs/promises"),Q=(await Promise.resolve().then(() => (rY(),aY))).join(process.cwd(),".models.cache.json");await X.writeFile(Q,JSON.stringify(Y,null,2))}}catch(X){console.error(" Error writing model cache:",X)}}var y6=async(J,Z)=>{let Y=new AbortController,X=setTimeout(()=>Y.abort(),60000);try{let q=await fetch(J,{...Z,signal:Y.signal});return clearTimeout(X),q}catch(q){throw clearTimeout(X),q}};async function HD(J,Z){try{let Y={type:"json_schema",json_schema:{name:"test",strict:!1,schema:{type:"object",properties:{status:{type:"string"}}}}},X=await y6(`${J}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:Z,messages:[{role:"system",content:"You respond in JSON."},{role:"user",content:'Return JSON: {"status": "ok"}'}],response_format:Y,max_tokens:20})});if(!X.ok){if(X.status===400)return ND(J,Z);return{ok:!1,msg:`HTTP ${X.status}`}}let q=await X.json();return JSON.parse(q.choices[0].message.content),{ok:!0,msg:"OK (Schema)"}}catch(Y){return{ok:!1,msg:Y.message||"Error"}}}async function ND(J,Z){try{if((await y6(`${J}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:Z,messages:[{role:"user",content:'JSON: {"a":1}'}],response_format:{type:"json_object"},max_tokens:10})})).ok)return{ok:!0,msg:"OK (Legacy Mode)"};return{ok:!1,msg:"Not Supported"}}catch{return{ok:!1,msg:"Legacy Fail"}}}async function RD(J,Z){try{return(await y6(`${J}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:Z,messages:[{role:"user",content:"hi"}],max_tokens:1})})).ok}catch{return!1}}async function AD(J,Z){try{let Y=await y6(`${J}/embeddings`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:Z,input:"test"})});if(!Y.ok)return null;return(await Y.json()).data[0]?.embedding?.length??null}catch{return null}}async function Az(J){let Z=await OD(J),Y=[];try{let K=await fetch(`${J}/models`);if(!K.ok)throw Error("Could not connect");Y=(await K.json()).data.map((U)=>U.id).sort()}catch(K){if(Z)return console.log(" LM Studio unavailable, using cached model audit."),Z;return console.error(" Failed to connect to LM Studio."),[]}if(Z){let K=Z.map(($)=>$.id).sort();if(JSON.stringify(Y)===JSON.stringify(K))return console.log(" Using cached model audit."),Z;console.log("\uD83D\uDD0D Model list changed. Re-running audit...")}console.log("\uD83D\uDD0D Scanning models (this may take a moment)...");let X=[],q=Y.map((K)=>({id:K})),Q;if(!G7)Q=await import("node:readline");for(let K of q){if(!G7&&Q)Q.cursorTo(process.stdout,0),process.stdout.write(`\uD83D\uDC49 Testing: ${K.id}...`),Q.clearLine(process.stdout,1);let $="Unknown",U=!1,W="",G=void 0,j=await RD(J,K.id),z=await AD(J,K.id);if(z)G=z;if(j){$="LLM";let O=await HD(J,K.id);U=O.ok,W=U?O.msg:`Fail: ${O.msg}`}else if(z)$="Embedding",W=`OK (Dim: ${z})`;else W="LLM Fail";X.push({id:K.id,type:$,structuredOutput:U,dimension:G,status:W})}if(!G7&&Q)Q.cursorTo(process.stdout,0),Q.clearLine(process.stdout,0);return console.log(`
`),console.table(X),await _D(J,X),console.log("\uD83D\uDCDD Audit results saved to cache."),X}var FD="http://localhost:1234/v1";class b6{baseUrl;models=[];defaultLLM=null;defaultEmbedding=null;defaultStructuredLLM=null;constructor(J=FD){this.baseUrl=J}async audit(){this.models=await Az(this.baseUrl),this.selectDefaults()}selectDefaults(){if(this.defaultEmbedding=this.models.find((J)=>J.type==="Embedding")||null,this.defaultLLM=this.models.find((J)=>J.type==="LLM")||null,this.defaultStructuredLLM=this.models.find((J)=>J.type==="LLM"&&J.structuredOutput)||null,!this.defaultEmbedding)console.warn(" No embedding model found.");if(!this.defaultLLM)console.warn(" No LLM found.");if(!this.defaultStructuredLLM)console.warn(" No LLM with structured output support found.")}getModels(){return this.models}_setDefaultModel(J,Z,Y,X){let q=this.models.find((Q)=>Q.id===J&&Y(Q));if(!q)throw Error(`Model '${J}' not found or is not ${X}.`);this[Z]=q}setDefaultLLM(J){this._setDefaultModel(J,"defaultLLM",(Z)=>Z.type==="LLM","an LLM")}setDefaultEmbedding(J){this._setDefaultModel(J,"defaultEmbedding",(Z)=>Z.dimension!==void 0,"an embedding model")}setDefaultStructuredLLM(J){this._setDefaultModel(J,"defaultStructuredLLM",(Z)=>Z.type==="LLM"&&Z.structuredOutput,"a structured-output LLM")}getLLM(){if(!this.defaultLLM)throw Error("No LLM available.");return this.defaultLLM}getEmbedding(){if(!this.defaultEmbedding)throw Error("No embedding model available.");return this.defaultEmbedding}getStructuredLLM(){if(!this.defaultStructuredLLM)throw Error("No structured-output LLM available.");return this.defaultStructuredLLM}}var MD=typeof window<"u",VD=MD&&window.location.protocol==="https:",j7=null,oY=null,Fz=!1;async function ID(){if(Fz)return{localModels:j7,llm:oY};if(Fz=!0,VD)return console.log("\uD83D\uDCE1 HTTPS detected - local LLM endpoints disabled. Use HTTP for local LLM support."),{localModels:null,llm:null};try{j7=new b6,await j7.audit(),oY=iY(j7)}catch(J){console.warn(" Could not connect to local LLM:",J)}return{localModels:j7,llm:oY}}async function Mz(){let{localModels:J,llm:Z}=await ID();return{vector:Z?{embed:Z.embed}:void 0,store:f4(),llmBattery:Z,models:J}}async function DD(){return Mz()}var LD={store:f4(),llmBattery:null,vector:void 0,models:null};var BD=10;class S6{atoms;constructor(J={}){this.atoms={...W7,...J}}get builder(){return new d0(this.atoms)}get Agent(){return new d0(this.atoms)}get A99(){return this.Agent}resolve(J){return this.atoms[J]}getTools(J="all"){let Z=Object.values(this.atoms);if(Array.isArray(J))Z=Z.filter((Y)=>J.includes(Y.op));else if(J==="flow"){let Y=["seq","if","while","return","try","varSet","varGet","scope"];Z=Z.filter((X)=>Y.includes(X.op))}return Z.map((Y)=>({type:"function",function:{name:Y.op,description:Y.docs,parameters:Y.inputSchema?.schema??{}}}))}async run(J,Z={},Y={}){let X=Y.fuel??1000,q=Y.timeoutMs??X*BD,Q=Y.capabilities??{};if(!Q.store){let W=new Map;Q.store={get:async(G)=>W.get(G),set:async(G,j)=>{W.set(G,j)}}}let K=new AbortController,$=setTimeout(()=>K.abort(),q);if(Y.signal)Y.signal.addEventListener("abort",()=>K.abort());let U={fuel:{current:X},args:Z,state:{},consts:new Set,capabilities:Q,resolver:(W)=>this.resolve(W),output:void 0,signal:K.signal,costOverrides:Y.costOverrides,context:Y.context};if(Y.trace)U.trace=[];if(J.op!=="seq")throw Error("Root AST must be 'seq'");try{await Promise.race([this.resolve("seq")?.exec(J,U),new Promise((W,G)=>{if(K.signal.addEventListener("abort",()=>{G(Error("Execution timeout: fuel budget exceeded"))}),K.signal.aborted)G(Error("Execution timeout: fuel budget exceeded"))})])}catch(W){if(W.message?.includes("timeout")||W.message?.includes("aborted")||K.signal.aborted)U.error=new A5("Execution timeout: fuel budget exceeded","vm.run");else throw W}finally{clearTimeout($)}if(U.error&&U.output===void 0)U.output=U.error;return{result:U.output,error:U.error,fuelUsed:X-U.fuel.current,trace:U.trace}}}var PD=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239],Bz=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],ED="-----------------------------------------------------------------------------------------------------------------------------------------------------",Pz="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",tY={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},eY="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",CD={5:eY,"5module":eY+" export import",6:eY+" const class extends export import super"},TD=/^in(stanceof)?$/,yD=new RegExp("["+Pz+"]"),bD=new RegExp("["+Pz+ED+"]");function JX(J,Z){var Y=65536;for(var X=0;X<Z.length;X+=2){if(Y+=Z[X],Y>J)return!1;if(Y+=Z[X+1],Y>=J)return!0}return!1}function M5(J,Z){if(J<65)return J===36;if(J<91)return!0;if(J<97)return J===95;if(J<123)return!0;if(J<=65535)return J>=170&&yD.test(String.fromCharCode(J));if(Z===!1)return!1;return JX(J,Bz)}function qJ(J,Z){if(J<48)return J===36;if(J<58)return!0;if(J<65)return!1;if(J<91)return!0;if(J<97)return J===95;if(J<123)return!0;if(J<=65535)return J>=170&&bD.test(String.fromCharCode(J));if(Z===!1)return!1;return JX(J,Bz)||JX(J,PD)}var q0=function(Z,Y){if(Y===void 0)Y={};this.label=Z,this.keyword=Y.keyword,this.beforeExpr=!!Y.beforeExpr,this.startsExpr=!!Y.startsExpr,this.isLoop=!!Y.isLoop,this.isAssign=!!Y.isAssign,this.prefix=!!Y.prefix,this.postfix=!!Y.postfix,this.binop=Y.binop||null,this.updateContext=null};function w1(J,Z){return new q0(J,{beforeExpr:!0,binop:Z})}var x1={beforeExpr:!0},G1={startsExpr:!0},QX={};function Y0(J,Z){if(Z===void 0)Z={};return Z.keyword=J,QX[J]=new q0(J,Z)}var _={num:new q0("num",G1),regexp:new q0("regexp",G1),string:new q0("string",G1),name:new q0("name",G1),privateId:new q0("privateId",G1),eof:new q0("eof"),bracketL:new q0("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new q0("]"),braceL:new q0("{",{beforeExpr:!0,startsExpr:!0}),braceR:new q0("}"),parenL:new q0("(",{beforeExpr:!0,startsExpr:!0}),parenR:new q0(")"),comma:new q0(",",x1),semi:new q0(";",x1),colon:new q0(":",x1),dot:new q0("."),question:new q0("?",x1),questionDot:new q0("?."),arrow:new q0("=>",x1),template:new q0("template"),invalidTemplate:new q0("invalidTemplate"),ellipsis:new q0("...",x1),backQuote:new q0("`",G1),dollarBraceL:new q0("${",{beforeExpr:!0,startsExpr:!0}),eq:new q0("=",{beforeExpr:!0,isAssign:!0}),assign:new q0("_=",{beforeExpr:!0,isAssign:!0}),incDec:new q0("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new q0("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:w1("||",1),logicalAND:w1("&&",2),bitwiseOR:w1("|",3),bitwiseXOR:w1("^",4),bitwiseAND:w1("&",5),equality:w1("==/!=/===/!==",6),relational:w1("</>/<=/>=",7),bitShift:w1("<</>>/>>>",8),plusMin:new q0("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:w1("%",10),star:w1("*",10),slash:w1("/",10),starstar:new q0("**",{beforeExpr:!0}),coalesce:w1("??",1),_break:Y0("break"),_case:Y0("case",x1),_catch:Y0("catch"),_continue:Y0("continue"),_debugger:Y0("debugger"),_default:Y0("default",x1),_do:Y0("do",{isLoop:!0,beforeExpr:!0}),_else:Y0("else",x1),_finally:Y0("finally"),_for:Y0("for",{isLoop:!0}),_function:Y0("function",G1),_if:Y0("if"),_return:Y0("return",x1),_switch:Y0("switch"),_throw:Y0("throw",x1),_try:Y0("try"),_var:Y0("var"),_const:Y0("const"),_while:Y0("while",{isLoop:!0}),_with:Y0("with"),_new:Y0("new",{beforeExpr:!0,startsExpr:!0}),_this:Y0("this",G1),_super:Y0("super",G1),_class:Y0("class",G1),_extends:Y0("extends",x1),_export:Y0("export"),_import:Y0("import",G1),_null:Y0("null",G1),_true:Y0("true",G1),_false:Y0("false",G1),_in:Y0("in",{beforeExpr:!0,binop:7}),_instanceof:Y0("instanceof",{beforeExpr:!0,binop:7}),_typeof:Y0("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:Y0("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:Y0("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},j1=/\r\n?|\n|\u2028|\u2029/,SD=new RegExp(j1.source,"g");function l4(J){return J===10||J===13||J===8232||J===8233}function Ez(J,Z,Y){if(Y===void 0)Y=J.length;for(var X=Z;X<Y;X++){var q=J.charCodeAt(X);if(l4(q))return X<Y-1&&q===13&&J.charCodeAt(X+1)===10?X+2:X+1}return-1}var Cz=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,r0=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Tz=Object.prototype,kD=Tz.hasOwnProperty,wD=Tz.toString,p4=Object.hasOwn||function(J,Z){return kD.call(J,Z)},Vz=Array.isArray||function(J){return wD.call(J)==="[object Array]"},Iz=Object.create(null);function XJ(J){return Iz[J]||(Iz[J]=new RegExp("^(?:"+J.replace(/ /g,"|")+")$"))}function k5(J){if(J<=65535)return String.fromCharCode(J);return J-=65536,String.fromCharCode((J>>10)+55296,(J&1023)+56320)}var xD=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,_7=function(Z,Y){this.line=Z,this.column=Y};_7.prototype.offset=function(Z){return new _7(this.line,this.column+Z)};var m6=function(Z,Y,X){if(this.start=Y,this.end=X,Z.sourceFile!==null)this.source=Z.sourceFile};function yz(J,Z){for(var Y=1,X=0;;){var q=Ez(J,X,Z);if(q<0)return new _7(Y,Z-X);++Y,X=q}}var ZX={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},Dz=!1;function hD(J){var Z={};for(var Y in ZX)Z[Y]=J&&p4(J,Y)?J[Y]:ZX[Y];if(Z.ecmaVersion==="latest")Z.ecmaVersion=1e8;else if(Z.ecmaVersion==null){if(!Dz&&typeof console==="object"&&console.warn)Dz=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`);Z.ecmaVersion=11}else if(Z.ecmaVersion>=2015)Z.ecmaVersion-=2009;if(Z.allowReserved==null)Z.allowReserved=Z.ecmaVersion<5;if(!J||J.allowHashBang==null)Z.allowHashBang=Z.ecmaVersion>=14;if(Vz(Z.onToken)){var X=Z.onToken;Z.onToken=function(q){return X.push(q)}}if(Vz(Z.onComment))Z.onComment=vD(Z,Z.onComment);return Z}function vD(J,Z){return function(Y,X,q,Q,K,$){var U={type:Y?"Block":"Line",value:X,start:q,end:Q};if(J.locations)U.loc=new m6(this,K,$);if(J.ranges)U.range=[q,Q];Z.push(U)}}var H7=1,d4=2,KX=4,bz=8,$X=16,Sz=32,u6=64,kz=128,dJ=256,N7=512,g6=H7|d4|dJ;function UX(J,Z){return d4|(J?KX:0)|(Z?bz:0)}var w6=0,WX=1,x5=2,wz=3,xz=4,hz=5,k0=function(Z,Y,X){this.options=Z=hD(Z),this.sourceFile=Z.sourceFile,this.keywords=XJ(CD[Z.ecmaVersion>=6?6:Z.sourceType==="module"?"5module":5]);var q="";if(Z.allowReserved!==!0){if(q=tY[Z.ecmaVersion>=6?6:Z.ecmaVersion===5?5:3],Z.sourceType==="module")q+=" await"}this.reservedWords=XJ(q);var Q=(q?q+" ":"")+tY.strict;if(this.reservedWordsStrict=XJ(Q),this.reservedWordsStrictBind=XJ(Q+" "+tY.strictBind),this.input=String(Y),this.containsEsc=!1,X)this.pos=X,this.lineStart=this.input.lastIndexOf(`
`,X-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(j1).length;else this.pos=this.lineStart=0,this.curLine=1;if(this.type=_.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=Z.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&Z.allowHashBang&&this.input.slice(0,2)==="#!")this.skipLineComment(2);this.scopeStack=[],this.enterScope(H7),this.regexpState=null,this.privateNameStack=[]},V5={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};k0.prototype.parse=function(){var Z=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(Z)};V5.inFunction.get=function(){return(this.currentVarScope().flags&d4)>0};V5.inGenerator.get=function(){return(this.currentVarScope().flags&bz)>0};V5.inAsync.get=function(){return(this.currentVarScope().flags&KX)>0};V5.canAwait.get=function(){for(var J=this.scopeStack.length-1;J>=0;J--){var Z=this.scopeStack[J],Y=Z.flags;if(Y&(dJ|N7))return!1;if(Y&d4)return(Y&KX)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};V5.allowSuper.get=function(){var J=this.currentThisScope(),Z=J.flags;return(Z&u6)>0||this.options.allowSuperOutsideMethod};V5.allowDirectSuper.get=function(){return(this.currentThisScope().flags&kz)>0};V5.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};V5.allowNewDotTarget.get=function(){for(var J=this.scopeStack.length-1;J>=0;J--){var Z=this.scopeStack[J],Y=Z.flags;if(Y&(dJ|N7)||Y&d4&&!(Y&$X))return!0}return!1};V5.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&dJ)>0};k0.extend=function(){var Z=[],Y=arguments.length;while(Y--)Z[Y]=arguments[Y];var X=this;for(var q=0;q<Z.length;q++)X=Z[q](X);return X};k0.parse=function(Z,Y){return new this(Y,Z).parse()};k0.parseExpressionAt=function(Z,Y,X){var q=new this(X,Z,Y);return q.nextToken(),q.parseExpression()};k0.tokenizer=function(Z,Y){return new this(Y,Z)};Object.defineProperties(k0.prototype,V5);var X1=k0.prototype,mD=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;X1.strictDirective=function(J){if(this.options.ecmaVersion<5)return!1;for(;;){r0.lastIndex=J,J+=r0.exec(this.input)[0].length;var Z=mD.exec(this.input.slice(J));if(!Z)return!1;if((Z[1]||Z[2])==="use strict"){r0.lastIndex=J+Z[0].length;var Y=r0.exec(this.input),X=Y.index+Y[0].length,q=this.input.charAt(X);return q===";"||q==="}"||j1.test(Y[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(q)||q==="!"&&this.input.charAt(X+1)==="=")}if(J+=Z[0].length,r0.lastIndex=J,J+=r0.exec(this.input)[0].length,this.input[J]===";")J++}};X1.eat=function(J){if(this.type===J)return this.next(),!0;else return!1};X1.isContextual=function(J){return this.type===_.name&&this.value===J&&!this.containsEsc};X1.eatContextual=function(J){if(!this.isContextual(J))return!1;return this.next(),!0};X1.expectContextual=function(J){if(!this.eatContextual(J))this.unexpected()};X1.canInsertSemicolon=function(){return this.type===_.eof||this.type===_.braceR||j1.test(this.input.slice(this.lastTokEnd,this.start))};X1.insertSemicolon=function(){if(this.canInsertSemicolon()){if(this.options.onInsertedSemicolon)this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc);return!0}};X1.semicolon=function(){if(!this.eat(_.semi)&&!this.insertSemicolon())this.unexpected()};X1.afterTrailingComma=function(J,Z){if(this.type===J){if(this.options.onTrailingComma)this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc);if(!Z)this.next();return!0}};X1.expect=function(J){this.eat(J)||this.unexpected()};X1.unexpected=function(J){this.raise(J!=null?J:this.start,"Unexpected token")};var f6=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};X1.checkPatternErrors=function(J,Z){if(!J)return;if(J.trailingComma>-1)this.raiseRecoverable(J.trailingComma,"Comma is not permitted after the rest element");var Y=Z?J.parenthesizedAssign:J.parenthesizedBind;if(Y>-1)this.raiseRecoverable(Y,Z?"Assigning to rvalue":"Parenthesized pattern")};X1.checkExpressionErrors=function(J,Z){if(!J)return!1;var{shorthandAssign:Y,doubleProto:X}=J;if(!Z)return Y>=0||X>=0;if(Y>=0)this.raise(Y,"Shorthand property assignments are valid only in destructuring patterns");if(X>=0)this.raiseRecoverable(X,"Redefinition of __proto__ property")};X1.checkYieldAwaitInDefaultParams=function(){if(this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos))this.raise(this.yieldPos,"Yield expression cannot be a default value");if(this.awaitPos)this.raise(this.awaitPos,"Await expression cannot be a default value")};X1.isSimpleAssignTarget=function(J){if(J.type==="ParenthesizedExpression")return this.isSimpleAssignTarget(J.expression);return J.type==="Identifier"||J.type==="MemberExpression"};var g=k0.prototype;g.parseTopLevel=function(J){var Z=Object.create(null);if(!J.body)J.body=[];while(this.type!==_.eof){var Y=this.parseStatement(null,!0,Z);J.body.push(Y)}if(this.inModule)for(var X=0,q=Object.keys(this.undefinedExports);X<q.length;X+=1){var Q=q[X];this.raiseRecoverable(this.undefinedExports[Q].start,"Export '"+Q+"' is not defined")}return this.adaptDirectivePrologue(J.body),this.next(),J.sourceType=this.options.sourceType,this.finishNode(J,"Program")};var GX={kind:"loop"},uD={kind:"switch"};g.isLet=function(J){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;r0.lastIndex=this.pos;var Z=r0.exec(this.input),Y=this.pos+Z[0].length,X=this.input.charCodeAt(Y);if(X===91||X===92)return!0;if(J)return!1;if(X===123||X>55295&&X<56320)return!0;if(M5(X,!0)){var q=Y+1;while(qJ(X=this.input.charCodeAt(q),!0))++q;if(X===92||X>55295&&X<56320)return!0;var Q=this.input.slice(Y,q);if(!TD.test(Q))return!0}return!1};g.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;r0.lastIndex=this.pos;var J=r0.exec(this.input),Z=this.pos+J[0].length,Y;return!j1.test(this.input.slice(this.pos,Z))&&this.input.slice(Z,Z+8)==="function"&&(Z+8===this.input.length||!(qJ(Y=this.input.charCodeAt(Z+8))||Y>55295&&Y<56320))};g.isUsingKeyword=function(J,Z){if(this.options.ecmaVersion<17||!this.isContextual(J?"await":"using"))return!1;r0.lastIndex=this.pos;var Y=r0.exec(this.input),X=this.pos+Y[0].length;if(j1.test(this.input.slice(this.pos,X)))return!1;if(J){var q=X+5,Q;if(this.input.slice(X,q)!=="using"||q===this.input.length||qJ(Q=this.input.charCodeAt(q))||Q>55295&&Q<56320)return!1;r0.lastIndex=q;var K=r0.exec(this.input);if(K&&j1.test(this.input.slice(q,q+K[0].length)))return!1}if(Z){var $=X+2,U;if(this.input.slice(X,$)==="of"){if($===this.input.length||!qJ(U=this.input.charCodeAt($))&&!(U>55295&&U<56320))return!1}}var W=this.input.charCodeAt(X);return M5(W,!0)||W===92};g.isAwaitUsing=function(J){return this.isUsingKeyword(!0,J)};g.isUsing=function(J){return this.isUsingKeyword(!1,J)};g.parseStatement=function(J,Z,Y){var X=this.type,q=this.startNode(),Q;if(this.isLet(J))X=_._var,Q="let";switch(X){case _._break:case _._continue:return this.parseBreakContinueStatement(q,X.keyword);case _._debugger:return this.parseDebuggerStatement(q);case _._do:return this.parseDoStatement(q);case _._for:return this.parseForStatement(q);case _._function:if(J&&(this.strict||J!=="if"&&J!=="label")&&this.options.ecmaVersion>=6)this.unexpected();return this.parseFunctionStatement(q,!1,!J);case _._class:if(J)this.unexpected();return this.parseClass(q,!0);case _._if:return this.parseIfStatement(q);case _._return:return this.parseReturnStatement(q);case _._switch:return this.parseSwitchStatement(q);case _._throw:return this.parseThrowStatement(q);case _._try:return this.parseTryStatement(q);case _._const:case _._var:if(Q=Q||this.value,J&&Q!=="var")this.unexpected();return this.parseVarStatement(q,Q);case _._while:return this.parseWhileStatement(q);case _._with:return this.parseWithStatement(q);case _.braceL:return this.parseBlock(!0,q);case _.semi:return this.parseEmptyStatement(q);case _._export:case _._import:if(this.options.ecmaVersion>10&&X===_._import){r0.lastIndex=this.pos;var K=r0.exec(this.input),$=this.pos+K[0].length,U=this.input.charCodeAt($);if(U===40||U===46)return this.parseExpressionStatement(q,this.parseExpression())}if(!this.options.allowImportExportEverywhere){if(!Z)this.raise(this.start,"'import' and 'export' may only appear at the top level");if(!this.inModule)this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")}return X===_._import?this.parseImport(q):this.parseExport(q,Y);default:if(this.isAsyncFunction()){if(J)this.unexpected();return this.next(),this.parseFunctionStatement(q,!0,!J)}var W=this.isAwaitUsing(!1)?"await using":this.isUsing(!1)?"using":null;if(W){if(Z&&this.options.sourceType==="script")this.raise(this.start,"Using declaration cannot appear in the top level when source type is `script`");if(W==="await using"){if(!this.canAwait)this.raise(this.start,"Await using cannot appear outside of async function");this.next()}return this.next(),this.parseVar(q,!1,W),this.semicolon(),this.finishNode(q,"VariableDeclaration")}var G=this.value,j=this.parseExpression();if(X===_.name&&j.type==="Identifier"&&this.eat(_.colon))return this.parseLabeledStatement(q,G,j,J);else return this.parseExpressionStatement(q,j)}};g.parseBreakContinueStatement=function(J,Z){var Y=Z==="break";if(this.next(),this.eat(_.semi)||this.insertSemicolon())J.label=null;else if(this.type!==_.name)this.unexpected();else J.label=this.parseIdent(),this.semicolon();var X=0;for(;X<this.labels.length;++X){var q=this.labels[X];if(J.label==null||q.name===J.label.name){if(q.kind!=null&&(Y||q.kind==="loop"))break;if(J.label&&Y)break}}if(X===this.labels.length)this.raise(J.start,"Unsyntactic "+Z);return this.finishNode(J,Y?"BreakStatement":"ContinueStatement")};g.parseDebuggerStatement=function(J){return this.next(),this.semicolon(),this.finishNode(J,"DebuggerStatement")};g.parseDoStatement=function(J){if(this.next(),this.labels.push(GX),J.body=this.parseStatement("do"),this.labels.pop(),this.expect(_._while),J.test=this.parseParenExpression(),this.options.ecmaVersion>=6)this.eat(_.semi);else this.semicolon();return this.finishNode(J,"DoWhileStatement")};g.parseForStatement=function(J){this.next();var Z=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(GX),this.enterScope(0),this.expect(_.parenL),this.type===_.semi){if(Z>-1)this.unexpected(Z);return this.parseFor(J,null)}var Y=this.isLet();if(this.type===_._var||this.type===_._const||Y){var X=this.startNode(),q=Y?"let":this.value;return this.next(),this.parseVar(X,!0,q),this.finishNode(X,"VariableDeclaration"),this.parseForAfterInit(J,X,Z)}var Q=this.isContextual("let"),K=!1,$=this.isUsing(!0)?"using":this.isAwaitUsing(!0)?"await using":null;if($){var U=this.startNode();if(this.next(),$==="await using")this.next();return this.parseVar(U,!0,$),this.finishNode(U,"VariableDeclaration"),this.parseForAfterInit(J,U,Z)}var W=this.containsEsc,G=new f6,j=this.start,z=Z>-1?this.parseExprSubscripts(G,"await"):this.parseExpression(!0,G);if(this.type===_._in||(K=this.options.ecmaVersion>=6&&this.isContextual("of"))){if(Z>-1){if(this.type===_._in)this.unexpected(Z);J.await=!0}else if(K&&this.options.ecmaVersion>=8){if(z.start===j&&!W&&z.type==="Identifier"&&z.name==="async")this.unexpected();else if(this.options.ecmaVersion>=9)J.await=!1}if(Q&&K)this.raise(z.start,"The left-hand side of a for-of loop may not start with 'let'.");return this.toAssignable(z,!1,G),this.checkLValPattern(z),this.parseForIn(J,z)}else this.checkExpressionErrors(G,!0);if(Z>-1)this.unexpected(Z);return this.parseFor(J,z)};g.parseForAfterInit=function(J,Z,Y){if((this.type===_._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&Z.declarations.length===1){if(this.options.ecmaVersion>=9)if(this.type===_._in){if(Y>-1)this.unexpected(Y)}else J.await=Y>-1;return this.parseForIn(J,Z)}if(Y>-1)this.unexpected(Y);return this.parseFor(J,Z)};g.parseFunctionStatement=function(J,Z,Y){return this.next(),this.parseFunction(J,O7|(Y?0:YX),!1,Z)};g.parseIfStatement=function(J){return this.next(),J.test=this.parseParenExpression(),J.consequent=this.parseStatement("if"),J.alternate=this.eat(_._else)?this.parseStatement("if"):null,this.finishNode(J,"IfStatement")};g.parseReturnStatement=function(J){if(!this.inFunction&&!this.options.allowReturnOutsideFunction)this.raise(this.start,"'return' outside of function");if(this.next(),this.eat(_.semi)||this.insertSemicolon())J.argument=null;else J.argument=this.parseExpression(),this.semicolon();return this.finishNode(J,"ReturnStatement")};g.parseSwitchStatement=function(J){this.next(),J.discriminant=this.parseParenExpression(),J.cases=[],this.expect(_.braceL),this.labels.push(uD),this.enterScope(0);var Z;for(var Y=!1;this.type!==_.braceR;)if(this.type===_._case||this.type===_._default){var X=this.type===_._case;if(Z)this.finishNode(Z,"SwitchCase");if(J.cases.push(Z=this.startNode()),Z.consequent=[],this.next(),X)Z.test=this.parseExpression();else{if(Y)this.raiseRecoverable(this.lastTokStart,"Multiple default clauses");Y=!0,Z.test=null}this.expect(_.colon)}else{if(!Z)this.unexpected();Z.consequent.push(this.parseStatement(null))}if(this.exitScope(),Z)this.finishNode(Z,"SwitchCase");return this.next(),this.labels.pop(),this.finishNode(J,"SwitchStatement")};g.parseThrowStatement=function(J){if(this.next(),j1.test(this.input.slice(this.lastTokEnd,this.start)))this.raise(this.lastTokEnd,"Illegal newline after throw");return J.argument=this.parseExpression(),this.semicolon(),this.finishNode(J,"ThrowStatement")};var gD=[];g.parseCatchClauseParam=function(){var J=this.parseBindingAtom(),Z=J.type==="Identifier";return this.enterScope(Z?Sz:0),this.checkLValPattern(J,Z?xz:x5),this.expect(_.parenR),J};g.parseTryStatement=function(J){if(this.next(),J.block=this.parseBlock(),J.handler=null,this.type===_._catch){var Z=this.startNode();if(this.next(),this.eat(_.parenL))Z.param=this.parseCatchClauseParam();else{if(this.options.ecmaVersion<10)this.unexpected();Z.param=null,this.enterScope(0)}Z.body=this.parseBlock(!1),this.exitScope(),J.handler=this.finishNode(Z,"CatchClause")}if(J.finalizer=this.eat(_._finally)?this.parseBlock():null,!J.handler&&!J.finalizer)this.raise(J.start,"Missing catch or finally clause");return this.finishNode(J,"TryStatement")};g.parseVarStatement=function(J,Z,Y){return this.next(),this.parseVar(J,!1,Z,Y),this.semicolon(),this.finishNode(J,"VariableDeclaration")};g.parseWhileStatement=function(J){return this.next(),J.test=this.parseParenExpression(),this.labels.push(GX),J.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(J,"WhileStatement")};g.parseWithStatement=function(J){if(this.strict)this.raise(this.start,"'with' in strict mode");return this.next(),J.object=this.parseParenExpression(),J.body=this.parseStatement("with"),this.finishNode(J,"WithStatement")};g.parseEmptyStatement=function(J){return this.next(),this.finishNode(J,"EmptyStatement")};g.parseLabeledStatement=function(J,Z,Y,X){for(var q=0,Q=this.labels;q<Q.length;q+=1){var K=Q[q];if(K.name===Z)this.raise(Y.start,"Label '"+Z+"' is already declared")}var $=this.type.isLoop?"loop":this.type===_._switch?"switch":null;for(var U=this.labels.length-1;U>=0;U--){var W=this.labels[U];if(W.statementStart===J.start)W.statementStart=this.start,W.kind=$;else break}return this.labels.push({name:Z,kind:$,statementStart:this.start}),J.body=this.parseStatement(X?X.indexOf("label")===-1?X+"label":X:"label"),this.labels.pop(),J.label=Y,this.finishNode(J,"LabeledStatement")};g.parseExpressionStatement=function(J,Z){return J.expression=Z,this.semicolon(),this.finishNode(J,"ExpressionStatement")};g.parseBlock=function(J,Z,Y){if(J===void 0)J=!0;if(Z===void 0)Z=this.startNode();if(Z.body=[],this.expect(_.braceL),J)this.enterScope(0);while(this.type!==_.braceR){var X=this.parseStatement(null);Z.body.push(X)}if(Y)this.strict=!1;if(this.next(),J)this.exitScope();return this.finishNode(Z,"BlockStatement")};g.parseFor=function(J,Z){return J.init=Z,this.expect(_.semi),J.test=this.type===_.semi?null:this.parseExpression(),this.expect(_.semi),J.update=this.type===_.parenR?null:this.parseExpression(),this.expect(_.parenR),J.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(J,"ForStatement")};g.parseForIn=function(J,Z){var Y=this.type===_._in;if(this.next(),Z.type==="VariableDeclaration"&&Z.declarations[0].init!=null&&(!Y||this.options.ecmaVersion<8||this.strict||Z.kind!=="var"||Z.declarations[0].id.type!=="Identifier"))this.raise(Z.start,(Y?"for-in":"for-of")+" loop variable declaration may not have an initializer");return J.left=Z,J.right=Y?this.parseExpression():this.parseMaybeAssign(),this.expect(_.parenR),J.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(J,Y?"ForInStatement":"ForOfStatement")};g.parseVar=function(J,Z,Y,X){J.declarations=[],J.kind=Y;for(;;){var q=this.startNode();if(this.parseVarId(q,Y),this.eat(_.eq))q.init=this.parseMaybeAssign(Z);else if(!X&&Y==="const"&&!(this.type===_._in||this.options.ecmaVersion>=6&&this.isContextual("of")))this.unexpected();else if(!X&&(Y==="using"||Y==="await using")&&this.options.ecmaVersion>=17&&this.type!==_._in&&!this.isContextual("of"))this.raise(this.lastTokEnd,"Missing initializer in "+Y+" declaration");else if(!X&&q.id.type!=="Identifier"&&!(Z&&(this.type===_._in||this.isContextual("of"))))this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value");else q.init=null;if(J.declarations.push(this.finishNode(q,"VariableDeclarator")),!this.eat(_.comma))break}return J};g.parseVarId=function(J,Z){J.id=Z==="using"||Z==="await using"?this.parseIdent():this.parseBindingAtom(),this.checkLValPattern(J.id,Z==="var"?WX:x5,!1)};var O7=1,YX=2,vz=4;g.parseFunction=function(J,Z,Y,X,q){if(this.initFunction(J),this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!X){if(this.type===_.star&&Z&YX)this.unexpected();J.generator=this.eat(_.star)}if(this.options.ecmaVersion>=8)J.async=!!X;if(Z&O7){if(J.id=Z&vz&&this.type!==_.name?null:this.parseIdent(),J.id&&!(Z&YX))this.checkLValSimple(J.id,this.strict||J.generator||J.async?this.treatFunctionsAsVar?WX:x5:wz)}var Q=this.yieldPos,K=this.awaitPos,$=this.awaitIdentPos;if(this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(UX(J.async,J.generator)),!(Z&O7))J.id=this.type===_.name?this.parseIdent():null;return this.parseFunctionParams(J),this.parseFunctionBody(J,Y,!1,q),this.yieldPos=Q,this.awaitPos=K,this.awaitIdentPos=$,this.finishNode(J,Z&O7?"FunctionDeclaration":"FunctionExpression")};g.parseFunctionParams=function(J){this.expect(_.parenL),J.params=this.parseBindingList(_.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};g.parseClass=function(J,Z){this.next();var Y=this.strict;this.strict=!0,this.parseClassId(J,Z),this.parseClassSuper(J);var X=this.enterClassBody(),q=this.startNode(),Q=!1;q.body=[],this.expect(_.braceL);while(this.type!==_.braceR){var K=this.parseClassElement(J.superClass!==null);if(K){if(q.body.push(K),K.type==="MethodDefinition"&&K.kind==="constructor"){if(Q)this.raiseRecoverable(K.start,"Duplicate constructor in the same class");Q=!0}else if(K.key&&K.key.type==="PrivateIdentifier"&&fD(X,K))this.raiseRecoverable(K.key.start,"Identifier '#"+K.key.name+"' has already been declared")}}return this.strict=Y,this.next(),J.body=this.finishNode(q,"ClassBody"),this.exitClassBody(),this.finishNode(J,Z?"ClassDeclaration":"ClassExpression")};g.parseClassElement=function(J){if(this.eat(_.semi))return null;var Z=this.options.ecmaVersion,Y=this.startNode(),X="",q=!1,Q=!1,K="method",$=!1;if(this.eatContextual("static")){if(Z>=13&&this.eat(_.braceL))return this.parseClassStaticBlock(Y),Y;if(this.isClassElementNameStart()||this.type===_.star)$=!0;else X="static"}if(Y.static=$,!X&&Z>=8&&this.eatContextual("async"))if((this.isClassElementNameStart()||this.type===_.star)&&!this.canInsertSemicolon())Q=!0;else X="async";if(!X&&(Z>=9||!Q)&&this.eat(_.star))q=!0;if(!X&&!Q&&!q){var U=this.value;if(this.eatContextual("get")||this.eatContextual("set"))if(this.isClassElementNameStart())K=U;else X=U}if(X)Y.computed=!1,Y.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),Y.key.name=X,this.finishNode(Y.key,"Identifier");else this.parseClassElementName(Y);if(Z<13||this.type===_.parenL||K!=="method"||q||Q){var W=!Y.static&&x6(Y,"constructor"),G=W&&J;if(W&&K!=="method")this.raise(Y.key.start,"Constructor can't have get/set modifier");Y.kind=W?"constructor":K,this.parseClassMethod(Y,q,Q,G)}else this.parseClassField(Y);return Y};g.isClassElementNameStart=function(){return this.type===_.name||this.type===_.privateId||this.type===_.num||this.type===_.string||this.type===_.bracketL||this.type.keyword};g.parseClassElementName=function(J){if(this.type===_.privateId){if(this.value==="constructor")this.raise(this.start,"Classes can't have an element named '#constructor'");J.computed=!1,J.key=this.parsePrivateIdent()}else this.parsePropertyName(J)};g.parseClassMethod=function(J,Z,Y,X){var q=J.key;if(J.kind==="constructor"){if(Z)this.raise(q.start,"Constructor can't be a generator");if(Y)this.raise(q.start,"Constructor can't be an async method")}else if(J.static&&x6(J,"prototype"))this.raise(q.start,"Classes may not have a static property named prototype");var Q=J.value=this.parseMethod(Z,Y,X);if(J.kind==="get"&&Q.params.length!==0)this.raiseRecoverable(Q.start,"getter should have no params");if(J.kind==="set"&&Q.params.length!==1)this.raiseRecoverable(Q.start,"setter should have exactly one param");if(J.kind==="set"&&Q.params[0].type==="RestElement")this.raiseRecoverable(Q.params[0].start,"Setter cannot use rest params");return this.finishNode(J,"MethodDefinition")};g.parseClassField=function(J){if(x6(J,"constructor"))this.raise(J.key.start,"Classes can't have a field named 'constructor'");else if(J.static&&x6(J,"prototype"))this.raise(J.key.start,"Classes can't have a static field named 'prototype'");if(this.eat(_.eq))this.enterScope(N7|u6),J.value=this.parseMaybeAssign(),this.exitScope();else J.value=null;return this.semicolon(),this.finishNode(J,"PropertyDefinition")};g.parseClassStaticBlock=function(J){J.body=[];var Z=this.labels;this.labels=[],this.enterScope(dJ|u6);while(this.type!==_.braceR){var Y=this.parseStatement(null);J.body.push(Y)}return this.next(),this.exitScope(),this.labels=Z,this.finishNode(J,"StaticBlock")};g.parseClassId=function(J,Z){if(this.type===_.name){if(J.id=this.parseIdent(),Z)this.checkLValSimple(J.id,x5,!1)}else{if(Z===!0)this.unexpected();J.id=null}};g.parseClassSuper=function(J){J.superClass=this.eat(_._extends)?this.parseExprSubscripts(null,!1):null};g.enterClassBody=function(){var J={declared:Object.create(null),used:[]};return this.privateNameStack.push(J),J.declared};g.exitClassBody=function(){var J=this.privateNameStack.pop(),Z=J.declared,Y=J.used;if(!this.options.checkPrivateFields)return;var X=this.privateNameStack.length,q=X===0?null:this.privateNameStack[X-1];for(var Q=0;Q<Y.length;++Q){var K=Y[Q];if(!p4(Z,K.name))if(q)q.used.push(K);else this.raiseRecoverable(K.start,"Private field '#"+K.name+"' must be declared in an enclosing class")}};function fD(J,Z){var Y=Z.key.name,X=J[Y],q="true";if(Z.type==="MethodDefinition"&&(Z.kind==="get"||Z.kind==="set"))q=(Z.static?"s":"i")+Z.kind;if(X==="iget"&&q==="iset"||X==="iset"&&q==="iget"||X==="sget"&&q==="sset"||X==="sset"&&q==="sget")return J[Y]="true",!1;else if(!X)return J[Y]=q,!1;else return!0}function x6(J,Z){var{computed:Y,key:X}=J;return!Y&&(X.type==="Identifier"&&X.name===Z||X.type==="Literal"&&X.value===Z)}g.parseExportAllDeclaration=function(J,Z){if(this.options.ecmaVersion>=11)if(this.eatContextual("as"))J.exported=this.parseModuleExportName(),this.checkExport(Z,J.exported,this.lastTokStart);else J.exported=null;if(this.expectContextual("from"),this.type!==_.string)this.unexpected();if(J.source=this.parseExprAtom(),this.options.ecmaVersion>=16)J.attributes=this.parseWithClause();return this.semicolon(),this.finishNode(J,"ExportAllDeclaration")};g.parseExport=function(J,Z){if(this.next(),this.eat(_.star))return this.parseExportAllDeclaration(J,Z);if(this.eat(_._default))return this.checkExport(Z,"default",this.lastTokStart),J.declaration=this.parseExportDefaultDeclaration(),this.finishNode(J,"ExportDefaultDeclaration");if(this.shouldParseExportStatement()){if(J.declaration=this.parseExportDeclaration(J),J.declaration.type==="VariableDeclaration")this.checkVariableExport(Z,J.declaration.declarations);else this.checkExport(Z,J.declaration.id,J.declaration.id.start);if(J.specifiers=[],J.source=null,this.options.ecmaVersion>=16)J.attributes=[]}else{if(J.declaration=null,J.specifiers=this.parseExportSpecifiers(Z),this.eatContextual("from")){if(this.type!==_.string)this.unexpected();if(J.source=this.parseExprAtom(),this.options.ecmaVersion>=16)J.attributes=this.parseWithClause()}else{for(var Y=0,X=J.specifiers;Y<X.length;Y+=1){var q=X[Y];if(this.checkUnreserved(q.local),this.checkLocalExport(q.local),q.local.type==="Literal")this.raise(q.local.start,"A string literal cannot be used as an exported binding without `from`.")}if(J.source=null,this.options.ecmaVersion>=16)J.attributes=[]}this.semicolon()}return this.finishNode(J,"ExportNamedDeclaration")};g.parseExportDeclaration=function(J){return this.parseStatement(null)};g.parseExportDefaultDeclaration=function(){var J;if(this.type===_._function||(J=this.isAsyncFunction())){var Z=this.startNode();if(this.next(),J)this.next();return this.parseFunction(Z,O7|vz,!1,J)}else if(this.type===_._class){var Y=this.startNode();return this.parseClass(Y,"nullableID")}else{var X=this.parseMaybeAssign();return this.semicolon(),X}};g.checkExport=function(J,Z,Y){if(!J)return;if(typeof Z!=="string")Z=Z.type==="Identifier"?Z.name:Z.value;if(p4(J,Z))this.raiseRecoverable(Y,"Duplicate export '"+Z+"'");J[Z]=!0};g.checkPatternExport=function(J,Z){var Y=Z.type;if(Y==="Identifier")this.checkExport(J,Z,Z.start);else if(Y==="ObjectPattern")for(var X=0,q=Z.properties;X<q.length;X+=1){var Q=q[X];this.checkPatternExport(J,Q)}else if(Y==="ArrayPattern")for(var K=0,$=Z.elements;K<$.length;K+=1){var U=$[K];if(U)this.checkPatternExport(J,U)}else if(Y==="Property")this.checkPatternExport(J,Z.value);else if(Y==="AssignmentPattern")this.checkPatternExport(J,Z.left);else if(Y==="RestElement")this.checkPatternExport(J,Z.argument)};g.checkVariableExport=function(J,Z){if(!J)return;for(var Y=0,X=Z;Y<X.length;Y+=1){var q=X[Y];this.checkPatternExport(J,q.id)}};g.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};g.parseExportSpecifier=function(J){var Z=this.startNode();return Z.local=this.parseModuleExportName(),Z.exported=this.eatContextual("as")?this.parseModuleExportName():Z.local,this.checkExport(J,Z.exported,Z.exported.start),this.finishNode(Z,"ExportSpecifier")};g.parseExportSpecifiers=function(J){var Z=[],Y=!0;this.expect(_.braceL);while(!this.eat(_.braceR)){if(!Y){if(this.expect(_.comma),this.afterTrailingComma(_.braceR))break}else Y=!1;Z.push(this.parseExportSpecifier(J))}return Z};g.parseImport=function(J){if(this.next(),this.type===_.string)J.specifiers=gD,J.source=this.parseExprAtom();else J.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),J.source=this.type===_.string?this.parseExprAtom():this.unexpected();if(this.options.ecmaVersion>=16)J.attributes=this.parseWithClause();return this.semicolon(),this.finishNode(J,"ImportDeclaration")};g.parseImportSpecifier=function(){var J=this.startNode();if(J.imported=this.parseModuleExportName(),this.eatContextual("as"))J.local=this.parseIdent();else this.checkUnreserved(J.imported),J.local=J.imported;return this.checkLValSimple(J.local,x5),this.finishNode(J,"ImportSpecifier")};g.parseImportDefaultSpecifier=function(){var J=this.startNode();return J.local=this.parseIdent(),this.checkLValSimple(J.local,x5),this.finishNode(J,"ImportDefaultSpecifier")};g.parseImportNamespaceSpecifier=function(){var J=this.startNode();return this.next(),this.expectContextual("as"),J.local=this.parseIdent(),this.checkLValSimple(J.local,x5),this.finishNode(J,"ImportNamespaceSpecifier")};g.parseImportSpecifiers=function(){var J=[],Z=!0;if(this.type===_.name){if(J.push(this.parseImportDefaultSpecifier()),!this.eat(_.comma))return J}if(this.type===_.star)return J.push(this.parseImportNamespaceSpecifier()),J;this.expect(_.braceL);while(!this.eat(_.braceR)){if(!Z){if(this.expect(_.comma),this.afterTrailingComma(_.braceR))break}else Z=!1;J.push(this.parseImportSpecifier())}return J};g.parseWithClause=function(){var J=[];if(!this.eat(_._with))return J;this.expect(_.braceL);var Z={},Y=!0;while(!this.eat(_.braceR)){if(!Y){if(this.expect(_.comma),this.afterTrailingComma(_.braceR))break}else Y=!1;var X=this.parseImportAttribute(),q=X.key.type==="Identifier"?X.key.name:X.key.value;if(p4(Z,q))this.raiseRecoverable(X.key.start,"Duplicate attribute key '"+q+"'");Z[q]=!0,J.push(X)}return J};g.parseImportAttribute=function(){var J=this.startNode();if(J.key=this.type===_.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never"),this.expect(_.colon),this.type!==_.string)this.unexpected();return J.value=this.parseExprAtom(),this.finishNode(J,"ImportAttribute")};g.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===_.string){var J=this.parseLiteral(this.value);if(xD.test(J.value))this.raise(J.start,"An export name cannot include a lone surrogate.");return J}return this.parseIdent(!0)};g.adaptDirectivePrologue=function(J){for(var Z=0;Z<J.length&&this.isDirectiveCandidate(J[Z]);++Z)J[Z].directive=J[Z].expression.raw.slice(1,-1)};g.isDirectiveCandidate=function(J){return this.options.ecmaVersion>=5&&J.type==="ExpressionStatement"&&J.expression.type==="Literal"&&typeof J.expression.value==="string"&&(this.input[J.start]==='"'||this.input[J.start]==="'")};var v1=k0.prototype;v1.toAssignable=function(J,Z,Y){if(this.options.ecmaVersion>=6&&J)switch(J.type){case"Identifier":if(this.inAsync&&J.name==="await")this.raise(J.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":if(J.type="ObjectPattern",Y)this.checkPatternErrors(Y,!0);for(var X=0,q=J.properties;X<q.length;X+=1){var Q=q[X];if(this.toAssignable(Q,Z),Q.type==="RestElement"&&(Q.argument.type==="ArrayPattern"||Q.argument.type==="ObjectPattern"))this.raise(Q.argument.start,"Unexpected token")}break;case"Property":if(J.kind!=="init")this.raise(J.key.start,"Object pattern can't contain getter or setter");this.toAssignable(J.value,Z);break;case"ArrayExpression":if(J.type="ArrayPattern",Y)this.checkPatternErrors(Y,!0);this.toAssignableList(J.elements,Z);break;case"SpreadElement":if(J.type="RestElement",this.toAssignable(J.argument,Z),J.argument.type==="AssignmentPattern")this.raise(J.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":if(J.operator!=="=")this.raise(J.left.end,"Only '=' operator can be used for specifying default value.");J.type="AssignmentPattern",delete J.operator,this.toAssignable(J.left,Z);break;case"ParenthesizedExpression":this.toAssignable(J.expression,Z,Y);break;case"ChainExpression":this.raiseRecoverable(J.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!Z)break;default:this.raise(J.start,"Assigning to rvalue")}else if(Y)this.checkPatternErrors(Y,!0);return J};v1.toAssignableList=function(J,Z){var Y=J.length;for(var X=0;X<Y;X++){var q=J[X];if(q)this.toAssignable(q,Z)}if(Y){var Q=J[Y-1];if(this.options.ecmaVersion===6&&Z&&Q&&Q.type==="RestElement"&&Q.argument.type!=="Identifier")this.unexpected(Q.argument.start)}return J};v1.parseSpread=function(J){var Z=this.startNode();return this.next(),Z.argument=this.parseMaybeAssign(!1,J),this.finishNode(Z,"SpreadElement")};v1.parseRestBinding=function(){var J=this.startNode();if(this.next(),this.options.ecmaVersion===6&&this.type!==_.name)this.unexpected();return J.argument=this.parseBindingAtom(),this.finishNode(J,"RestElement")};v1.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case _.bracketL:var J=this.startNode();return this.next(),J.elements=this.parseBindingList(_.bracketR,!0,!0),this.finishNode(J,"ArrayPattern");case _.braceL:return this.parseObj(!0)}return this.parseIdent()};v1.parseBindingList=function(J,Z,Y,X){var q=[],Q=!0;while(!this.eat(J)){if(Q)Q=!1;else this.expect(_.comma);if(Z&&this.type===_.comma)q.push(null);else if(Y&&this.afterTrailingComma(J))break;else if(this.type===_.ellipsis){var K=this.parseRestBinding();if(this.parseBindingListItem(K),q.push(K),this.type===_.comma)this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");this.expect(J);break}else q.push(this.parseAssignableListItem(X))}return q};v1.parseAssignableListItem=function(J){var Z=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(Z),Z};v1.parseBindingListItem=function(J){return J};v1.parseMaybeDefault=function(J,Z,Y){if(Y=Y||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(_.eq))return Y;var X=this.startNodeAt(J,Z);return X.left=Y,X.right=this.parseMaybeAssign(),this.finishNode(X,"AssignmentPattern")};v1.checkLValSimple=function(J,Z,Y){if(Z===void 0)Z=w6;var X=Z!==w6;switch(J.type){case"Identifier":if(this.strict&&this.reservedWordsStrictBind.test(J.name))this.raiseRecoverable(J.start,(X?"Binding ":"Assigning to ")+J.name+" in strict mode");if(X){if(Z===x5&&J.name==="let")this.raiseRecoverable(J.start,"let is disallowed as a lexically bound name");if(Y){if(p4(Y,J.name))this.raiseRecoverable(J.start,"Argument name clash");Y[J.name]=!0}if(Z!==hz)this.declareName(J.name,Z,J.start)}break;case"ChainExpression":this.raiseRecoverable(J.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(X)this.raiseRecoverable(J.start,"Binding member expression");break;case"ParenthesizedExpression":if(X)this.raiseRecoverable(J.start,"Binding parenthesized expression");return this.checkLValSimple(J.expression,Z,Y);default:this.raise(J.start,(X?"Binding":"Assigning to")+" rvalue")}};v1.checkLValPattern=function(J,Z,Y){if(Z===void 0)Z=w6;switch(J.type){case"ObjectPattern":for(var X=0,q=J.properties;X<q.length;X+=1){var Q=q[X];this.checkLValInnerPattern(Q,Z,Y)}break;case"ArrayPattern":for(var K=0,$=J.elements;K<$.length;K+=1){var U=$[K];if(U)this.checkLValInnerPattern(U,Z,Y)}break;default:this.checkLValSimple(J,Z,Y)}};v1.checkLValInnerPattern=function(J,Z,Y){if(Z===void 0)Z=w6;switch(J.type){case"Property":this.checkLValInnerPattern(J.value,Z,Y);break;case"AssignmentPattern":this.checkLValPattern(J.left,Z,Y);break;case"RestElement":this.checkLValPattern(J.argument,Z,Y);break;default:this.checkLValPattern(J,Z,Y)}};var J5=function(Z,Y,X,q,Q){this.token=Z,this.isExpr=!!Y,this.preserveSpace=!!X,this.override=q,this.generator=!!Q},V0={b_stat:new J5("{",!1),b_expr:new J5("{",!0),b_tmpl:new J5("${",!1),p_stat:new J5("(",!1),p_expr:new J5("(",!0),q_tmpl:new J5("`",!0,!0,function(J){return J.tryReadTemplateToken()}),f_stat:new J5("function",!1),f_expr:new J5("function",!0),f_expr_gen:new J5("function",!0,!1,null,!0),f_gen:new J5("function",!1,!1,null,!0)},c4=k0.prototype;c4.initialContext=function(){return[V0.b_stat]};c4.curContext=function(){return this.context[this.context.length-1]};c4.braceIsBlock=function(J){var Z=this.curContext();if(Z===V0.f_expr||Z===V0.f_stat)return!0;if(J===_.colon&&(Z===V0.b_stat||Z===V0.b_expr))return!Z.isExpr;if(J===_._return||J===_.name&&this.exprAllowed)return j1.test(this.input.slice(this.lastTokEnd,this.start));if(J===_._else||J===_.semi||J===_.eof||J===_.parenR||J===_.arrow)return!0;if(J===_.braceL)return Z===V0.b_stat;if(J===_._var||J===_._const||J===_.name)return!1;return!this.exprAllowed};c4.inGeneratorContext=function(){for(var J=this.context.length-1;J>=1;J--){var Z=this.context[J];if(Z.token==="function")return Z.generator}return!1};c4.updateContext=function(J){var Z,Y=this.type;if(Y.keyword&&J===_.dot)this.exprAllowed=!1;else if(Z=Y.updateContext)Z.call(this,J);else this.exprAllowed=Y.beforeExpr};c4.overrideContext=function(J){if(this.curContext()!==J)this.context[this.context.length-1]=J};_.parenR.updateContext=_.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var J=this.context.pop();if(J===V0.b_stat&&this.curContext().token==="function")J=this.context.pop();this.exprAllowed=!J.isExpr};_.braceL.updateContext=function(J){this.context.push(this.braceIsBlock(J)?V0.b_stat:V0.b_expr),this.exprAllowed=!0};_.dollarBraceL.updateContext=function(){this.context.push(V0.b_tmpl),this.exprAllowed=!0};_.parenL.updateContext=function(J){var Z=J===_._if||J===_._for||J===_._with||J===_._while;this.context.push(Z?V0.p_stat:V0.p_expr),this.exprAllowed=!0};_.incDec.updateContext=function(){};_._function.updateContext=_._class.updateContext=function(J){if(J.beforeExpr&&J!==_._else&&!(J===_.semi&&this.curContext()!==V0.p_stat)&&!(J===_._return&&j1.test(this.input.slice(this.lastTokEnd,this.start)))&&!((J===_.colon||J===_.braceL)&&this.curContext()===V0.b_stat))this.context.push(V0.f_expr);else this.context.push(V0.f_stat);this.exprAllowed=!1};_.colon.updateContext=function(){if(this.curContext().token==="function")this.context.pop();this.exprAllowed=!0};_.backQuote.updateContext=function(){if(this.curContext()===V0.q_tmpl)this.context.pop();else this.context.push(V0.q_tmpl);this.exprAllowed=!1};_.star.updateContext=function(J){if(J===_._function){var Z=this.context.length-1;if(this.context[Z]===V0.f_expr)this.context[Z]=V0.f_expr_gen;else this.context[Z]=V0.f_gen}this.exprAllowed=!0};_.name.updateContext=function(J){var Z=!1;if(this.options.ecmaVersion>=6&&J!==_.dot){if(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())Z=!0}this.exprAllowed=Z};var n=k0.prototype;n.checkPropClash=function(J,Z,Y){if(this.options.ecmaVersion>=9&&J.type==="SpreadElement")return;if(this.options.ecmaVersion>=6&&(J.computed||J.method||J.shorthand))return;var X=J.key,q;switch(X.type){case"Identifier":q=X.name;break;case"Literal":q=String(X.value);break;default:return}var Q=J.kind;if(this.options.ecmaVersion>=6){if(q==="__proto__"&&Q==="init"){if(Z.proto)if(Y){if(Y.doubleProto<0)Y.doubleProto=X.start}else this.raiseRecoverable(X.start,"Redefinition of __proto__ property");Z.proto=!0}return}q="$"+q;var K=Z[q];if(K){var $;if(Q==="init")$=this.strict&&K.init||K.get||K.set;else $=K.init||K[Q];if($)this.raiseRecoverable(X.start,"Redefinition of property")}else K=Z[q]={init:!1,get:!1,set:!1};K[Q]=!0};n.parseExpression=function(J,Z){var Y=this.start,X=this.startLoc,q=this.parseMaybeAssign(J,Z);if(this.type===_.comma){var Q=this.startNodeAt(Y,X);Q.expressions=[q];while(this.eat(_.comma))Q.expressions.push(this.parseMaybeAssign(J,Z));return this.finishNode(Q,"SequenceExpression")}return q};n.parseMaybeAssign=function(J,Z,Y){if(this.isContextual("yield"))if(this.inGenerator)return this.parseYield(J);else this.exprAllowed=!1;var X=!1,q=-1,Q=-1,K=-1;if(Z)q=Z.parenthesizedAssign,Q=Z.trailingComma,K=Z.doubleProto,Z.parenthesizedAssign=Z.trailingComma=-1;else Z=new f6,X=!0;var $=this.start,U=this.startLoc;if(this.type===_.parenL||this.type===_.name)this.potentialArrowAt=this.start,this.potentialArrowInForAwait=J==="await";var W=this.parseMaybeConditional(J,Z);if(Y)W=Y.call(this,W,$,U);if(this.type.isAssign){var G=this.startNodeAt($,U);if(G.operator=this.value,this.type===_.eq)W=this.toAssignable(W,!1,Z);if(!X)Z.parenthesizedAssign=Z.trailingComma=Z.doubleProto=-1;if(Z.shorthandAssign>=W.start)Z.shorthandAssign=-1;if(this.type===_.eq)this.checkLValPattern(W);else this.checkLValSimple(W);if(G.left=W,this.next(),G.right=this.parseMaybeAssign(J),K>-1)Z.doubleProto=K;return this.finishNode(G,"AssignmentExpression")}else if(X)this.checkExpressionErrors(Z,!0);if(q>-1)Z.parenthesizedAssign=q;if(Q>-1)Z.trailingComma=Q;return W};n.parseMaybeConditional=function(J,Z){var Y=this.start,X=this.startLoc,q=this.parseExprOps(J,Z);if(this.checkExpressionErrors(Z))return q;if(this.eat(_.question)){var Q=this.startNodeAt(Y,X);return Q.test=q,Q.consequent=this.parseMaybeAssign(),this.expect(_.colon),Q.alternate=this.parseMaybeAssign(J),this.finishNode(Q,"ConditionalExpression")}return q};n.parseExprOps=function(J,Z){var Y=this.start,X=this.startLoc,q=this.parseMaybeUnary(Z,!1,!1,J);if(this.checkExpressionErrors(Z))return q;return q.start===Y&&q.type==="ArrowFunctionExpression"?q:this.parseExprOp(q,Y,X,-1,J)};n.parseExprOp=function(J,Z,Y,X,q){var Q=this.type.binop;if(Q!=null&&(!q||this.type!==_._in)){if(Q>X){var K=this.type===_.logicalOR||this.type===_.logicalAND,$=this.type===_.coalesce;if($)Q=_.logicalAND.binop;var U=this.value;this.next();var W=this.start,G=this.startLoc,j=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,q),W,G,Q,q),z=this.buildBinary(Z,Y,J,j,U,K||$);if(K&&this.type===_.coalesce||$&&(this.type===_.logicalOR||this.type===_.logicalAND))this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses");return this.parseExprOp(z,Z,Y,X,q)}}return J};n.buildBinary=function(J,Z,Y,X,q,Q){if(X.type==="PrivateIdentifier")this.raise(X.start,"Private identifier can only be left side of binary expression");var K=this.startNodeAt(J,Z);return K.left=Y,K.operator=q,K.right=X,this.finishNode(K,Q?"LogicalExpression":"BinaryExpression")};n.parseMaybeUnary=function(J,Z,Y,X){var q=this.start,Q=this.startLoc,K;if(this.isContextual("await")&&this.canAwait)K=this.parseAwait(X),Z=!0;else if(this.type.prefix){var $=this.startNode(),U=this.type===_.incDec;if($.operator=this.value,$.prefix=!0,this.next(),$.argument=this.parseMaybeUnary(null,!0,U,X),this.checkExpressionErrors(J,!0),U)this.checkLValSimple($.argument);else if(this.strict&&$.operator==="delete"&&mz($.argument))this.raiseRecoverable($.start,"Deleting local variable in strict mode");else if($.operator==="delete"&&XX($.argument))this.raiseRecoverable($.start,"Private fields can not be deleted");else Z=!0;K=this.finishNode($,U?"UpdateExpression":"UnaryExpression")}else if(!Z&&this.type===_.privateId){if((X||this.privateNameStack.length===0)&&this.options.checkPrivateFields)this.unexpected();if(K=this.parsePrivateIdent(),this.type!==_._in)this.unexpected()}else{if(K=this.parseExprSubscripts(J,X),this.checkExpressionErrors(J))return K;while(this.type.postfix&&!this.canInsertSemicolon()){var W=this.startNodeAt(q,Q);W.operator=this.value,W.prefix=!1,W.argument=K,this.checkLValSimple(K),this.next(),K=this.finishNode(W,"UpdateExpression")}}if(!Y&&this.eat(_.starstar))if(Z)this.unexpected(this.lastTokStart);else return this.buildBinary(q,Q,K,this.parseMaybeUnary(null,!1,!1,X),"**",!1);else return K};function mz(J){return J.type==="Identifier"||J.type==="ParenthesizedExpression"&&mz(J.expression)}function XX(J){return J.type==="MemberExpression"&&J.property.type==="PrivateIdentifier"||J.type==="ChainExpression"&&XX(J.expression)||J.type==="ParenthesizedExpression"&&XX(J.expression)}n.parseExprSubscripts=function(J,Z){var Y=this.start,X=this.startLoc,q=this.parseExprAtom(J,Z);if(q.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return q;var Q=this.parseSubscripts(q,Y,X,!1,Z);if(J&&Q.type==="MemberExpression"){if(J.parenthesizedAssign>=Q.start)J.parenthesizedAssign=-1;if(J.parenthesizedBind>=Q.start)J.parenthesizedBind=-1;if(J.trailingComma>=Q.start)J.trailingComma=-1}return Q};n.parseSubscripts=function(J,Z,Y,X,q){var Q=this.options.ecmaVersion>=8&&J.type==="Identifier"&&J.name==="async"&&this.lastTokEnd===J.end&&!this.canInsertSemicolon()&&J.end-J.start===5&&this.potentialArrowAt===J.start,K=!1;while(!0){var $=this.parseSubscript(J,Z,Y,X,Q,K,q);if($.optional)K=!0;if($===J||$.type==="ArrowFunctionExpression"){if(K){var U=this.startNodeAt(Z,Y);U.expression=$,$=this.finishNode(U,"ChainExpression")}return $}J=$}};n.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(_.arrow)};n.parseSubscriptAsyncArrow=function(J,Z,Y,X){return this.parseArrowExpression(this.startNodeAt(J,Z),Y,!0,X)};n.parseSubscript=function(J,Z,Y,X,q,Q,K){var $=this.options.ecmaVersion>=11,U=$&&this.eat(_.questionDot);if(X&&U)this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var W=this.eat(_.bracketL);if(W||U&&this.type!==_.parenL&&this.type!==_.backQuote||this.eat(_.dot)){var G=this.startNodeAt(Z,Y);if(G.object=J,W)G.property=this.parseExpression(),this.expect(_.bracketR);else if(this.type===_.privateId&&J.type!=="Super")G.property=this.parsePrivateIdent();else G.property=this.parseIdent(this.options.allowReserved!=="never");if(G.computed=!!W,$)G.optional=U;J=this.finishNode(G,"MemberExpression")}else if(!X&&this.eat(_.parenL)){var j=new f6,z=this.yieldPos,O=this.awaitPos,H=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var N=this.parseExprList(_.parenR,this.options.ecmaVersion>=8,!1,j);if(q&&!U&&this.shouldParseAsyncArrow()){if(this.checkPatternErrors(j,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0)this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function");return this.yieldPos=z,this.awaitPos=O,this.awaitIdentPos=H,this.parseSubscriptAsyncArrow(Z,Y,N,K)}this.checkExpressionErrors(j,!0),this.yieldPos=z||this.yieldPos,this.awaitPos=O||this.awaitPos,this.awaitIdentPos=H||this.awaitIdentPos;var F=this.startNodeAt(Z,Y);if(F.callee=J,F.arguments=N,$)F.optional=U;J=this.finishNode(F,"CallExpression")}else if(this.type===_.backQuote){if(U||Q)this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var M=this.startNodeAt(Z,Y);M.tag=J,M.quasi=this.parseTemplate({isTagged:!0}),J=this.finishNode(M,"TaggedTemplateExpression")}return J};n.parseExprAtom=function(J,Z,Y){if(this.type===_.slash)this.readRegexp();var X,q=this.potentialArrowAt===this.start;switch(this.type){case _._super:if(!this.allowSuper)this.raise(this.start,"'super' keyword outside a method");if(X=this.startNode(),this.next(),this.type===_.parenL&&!this.allowDirectSuper)this.raise(X.start,"super() call outside constructor of a subclass");if(this.type!==_.dot&&this.type!==_.bracketL&&this.type!==_.parenL)this.unexpected();return this.finishNode(X,"Super");case _._this:return X=this.startNode(),this.next(),this.finishNode(X,"ThisExpression");case _.name:var Q=this.start,K=this.startLoc,$=this.containsEsc,U=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!$&&U.name==="async"&&!this.canInsertSemicolon()&&this.eat(_._function))return this.overrideContext(V0.f_expr),this.parseFunction(this.startNodeAt(Q,K),0,!1,!0,Z);if(q&&!this.canInsertSemicolon()){if(this.eat(_.arrow))return this.parseArrowExpression(this.startNodeAt(Q,K),[U],!1,Z);if(this.options.ecmaVersion>=8&&U.name==="async"&&this.type===_.name&&!$&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc)){if(U=this.parseIdent(!1),this.canInsertSemicolon()||!this.eat(_.arrow))this.unexpected();return this.parseArrowExpression(this.startNodeAt(Q,K),[U],!0,Z)}}return U;case _.regexp:var W=this.value;return X=this.parseLiteral(W.value),X.regex={pattern:W.pattern,flags:W.flags},X;case _.num:case _.string:return this.parseLiteral(this.value);case _._null:case _._true:case _._false:return X=this.startNode(),X.value=this.type===_._null?null:this.type===_._true,X.raw=this.type.keyword,this.next(),this.finishNode(X,"Literal");case _.parenL:var G=this.start,j=this.parseParenAndDistinguishExpression(q,Z);if(J){if(J.parenthesizedAssign<0&&!this.isSimpleAssignTarget(j))J.parenthesizedAssign=G;if(J.parenthesizedBind<0)J.parenthesizedBind=G}return j;case _.bracketL:return X=this.startNode(),this.next(),X.elements=this.parseExprList(_.bracketR,!0,!0,J),this.finishNode(X,"ArrayExpression");case _.braceL:return this.overrideContext(V0.b_expr),this.parseObj(!1,J);case _._function:return X=this.startNode(),this.next(),this.parseFunction(X,0);case _._class:return this.parseClass(this.startNode(),!1);case _._new:return this.parseNew();case _.backQuote:return this.parseTemplate();case _._import:if(this.options.ecmaVersion>=11)return this.parseExprImport(Y);else return this.unexpected();default:return this.parseExprAtomDefault()}};n.parseExprAtomDefault=function(){this.unexpected()};n.parseExprImport=function(J){var Z=this.startNode();if(this.containsEsc)this.raiseRecoverable(this.start,"Escape sequence in keyword import");if(this.next(),this.type===_.parenL&&!J)return this.parseDynamicImport(Z);else if(this.type===_.dot){var Y=this.startNodeAt(Z.start,Z.loc&&Z.loc.start);return Y.name="import",Z.meta=this.finishNode(Y,"Identifier"),this.parseImportMeta(Z)}else this.unexpected()};n.parseDynamicImport=function(J){if(this.next(),J.source=this.parseMaybeAssign(),this.options.ecmaVersion>=16)if(!this.eat(_.parenR))if(this.expect(_.comma),!this.afterTrailingComma(_.parenR)){if(J.options=this.parseMaybeAssign(),!this.eat(_.parenR)){if(this.expect(_.comma),!this.afterTrailingComma(_.parenR))this.unexpected()}}else J.options=null;else J.options=null;else if(!this.eat(_.parenR)){var Z=this.start;if(this.eat(_.comma)&&this.eat(_.parenR))this.raiseRecoverable(Z,"Trailing comma is not allowed in import()");else this.unexpected(Z)}return this.finishNode(J,"ImportExpression")};n.parseImportMeta=function(J){this.next();var Z=this.containsEsc;if(J.property=this.parseIdent(!0),J.property.name!=="meta")this.raiseRecoverable(J.property.start,"The only valid meta property for import is 'import.meta'");if(Z)this.raiseRecoverable(J.start,"'import.meta' must not contain escaped characters");if(this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere)this.raiseRecoverable(J.start,"Cannot use 'import.meta' outside a module");return this.finishNode(J,"MetaProperty")};n.parseLiteral=function(J){var Z=this.startNode();if(Z.value=J,Z.raw=this.input.slice(this.start,this.end),Z.raw.charCodeAt(Z.raw.length-1)===110)Z.bigint=Z.value!=null?Z.value.toString():Z.raw.slice(0,-1).replace(/_/g,"");return this.next(),this.finishNode(Z,"Literal")};n.parseParenExpression=function(){this.expect(_.parenL);var J=this.parseExpression();return this.expect(_.parenR),J};n.shouldParseArrow=function(J){return!this.canInsertSemicolon()};n.parseParenAndDistinguishExpression=function(J,Z){var Y=this.start,X=this.startLoc,q,Q=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var K=this.start,$=this.startLoc,U=[],W=!0,G=!1,j=new f6,z=this.yieldPos,O=this.awaitPos,H;this.yieldPos=0,this.awaitPos=0;while(this.type!==_.parenR)if(W?W=!1:this.expect(_.comma),Q&&this.afterTrailingComma(_.parenR,!0)){G=!0;break}else if(this.type===_.ellipsis){if(H=this.start,U.push(this.parseParenItem(this.parseRestBinding())),this.type===_.comma)this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else U.push(this.parseMaybeAssign(!1,j,this.parseParenItem));var N=this.lastTokEnd,F=this.lastTokEndLoc;if(this.expect(_.parenR),J&&this.shouldParseArrow(U)&&this.eat(_.arrow))return this.checkPatternErrors(j,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=z,this.awaitPos=O,this.parseParenArrowList(Y,X,U,Z);if(!U.length||G)this.unexpected(this.lastTokStart);if(H)this.unexpected(H);if(this.checkExpressionErrors(j,!0),this.yieldPos=z||this.yieldPos,this.awaitPos=O||this.awaitPos,U.length>1)q=this.startNodeAt(K,$),q.expressions=U,this.finishNodeAt(q,"SequenceExpression",N,F);else q=U[0]}else q=this.parseParenExpression();if(this.options.preserveParens){var M=this.startNodeAt(Y,X);return M.expression=q,this.finishNode(M,"ParenthesizedExpression")}else return q};n.parseParenItem=function(J){return J};n.parseParenArrowList=function(J,Z,Y,X){return this.parseArrowExpression(this.startNodeAt(J,Z),Y,!1,X)};var lD=[];n.parseNew=function(){if(this.containsEsc)this.raiseRecoverable(this.start,"Escape sequence in keyword new");var J=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===_.dot){var Z=this.startNodeAt(J.start,J.loc&&J.loc.start);Z.name="new",J.meta=this.finishNode(Z,"Identifier"),this.next();var Y=this.containsEsc;if(J.property=this.parseIdent(!0),J.property.name!=="target")this.raiseRecoverable(J.property.start,"The only valid meta property for new is 'new.target'");if(Y)this.raiseRecoverable(J.start,"'new.target' must not contain escaped characters");if(!this.allowNewDotTarget)this.raiseRecoverable(J.start,"'new.target' can only be used in functions and class static block");return this.finishNode(J,"MetaProperty")}var X=this.start,q=this.startLoc;if(J.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),X,q,!0,!1),this.eat(_.parenL))J.arguments=this.parseExprList(_.parenR,this.options.ecmaVersion>=8,!1);else J.arguments=lD;return this.finishNode(J,"NewExpression")};n.parseTemplateElement=function(J){var Z=J.isTagged,Y=this.startNode();if(this.type===_.invalidTemplate){if(!Z)this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal");Y.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}}else Y.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value};return this.next(),Y.tail=this.type===_.backQuote,this.finishNode(Y,"TemplateElement")};n.parseTemplate=function(J){if(J===void 0)J={};var Z=J.isTagged;if(Z===void 0)Z=!1;var Y=this.startNode();this.next(),Y.expressions=[];var X=this.parseTemplateElement({isTagged:Z});Y.quasis=[X];while(!X.tail){if(this.type===_.eof)this.raise(this.pos,"Unterminated template literal");this.expect(_.dollarBraceL),Y.expressions.push(this.parseExpression()),this.expect(_.braceR),Y.quasis.push(X=this.parseTemplateElement({isTagged:Z}))}return this.next(),this.finishNode(Y,"TemplateLiteral")};n.isAsyncProp=function(J){return!J.computed&&J.key.type==="Identifier"&&J.key.name==="async"&&(this.type===_.name||this.type===_.num||this.type===_.string||this.type===_.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===_.star)&&!j1.test(this.input.slice(this.lastTokEnd,this.start))};n.parseObj=function(J,Z){var Y=this.startNode(),X=!0,q={};Y.properties=[],this.next();while(!this.eat(_.braceR)){if(!X){if(this.expect(_.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(_.braceR))break}else X=!1;var Q=this.parseProperty(J,Z);if(!J)this.checkPropClash(Q,q,Z);Y.properties.push(Q)}return this.finishNode(Y,J?"ObjectPattern":"ObjectExpression")};n.parseProperty=function(J,Z){var Y=this.startNode(),X,q,Q,K;if(this.options.ecmaVersion>=9&&this.eat(_.ellipsis)){if(J){if(Y.argument=this.parseIdent(!1),this.type===_.comma)this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");return this.finishNode(Y,"RestElement")}if(Y.argument=this.parseMaybeAssign(!1,Z),this.type===_.comma&&Z&&Z.trailingComma<0)Z.trailingComma=this.start;return this.finishNode(Y,"SpreadElement")}if(this.options.ecmaVersion>=6){if(Y.method=!1,Y.shorthand=!1,J||Z)Q=this.start,K=this.startLoc;if(!J)X=this.eat(_.star)}var $=this.containsEsc;if(this.parsePropertyName(Y),!J&&!$&&this.options.ecmaVersion>=8&&!X&&this.isAsyncProp(Y))q=!0,X=this.options.ecmaVersion>=9&&this.eat(_.star),this.parsePropertyName(Y);else q=!1;return this.parsePropertyValue(Y,J,X,q,Q,K,Z,$),this.finishNode(Y,"Property")};n.parseGetterSetter=function(J){var Z=J.key.name;this.parsePropertyName(J),J.value=this.parseMethod(!1),J.kind=Z;var Y=J.kind==="get"?0:1;if(J.value.params.length!==Y){var X=J.value.start;if(J.kind==="get")this.raiseRecoverable(X,"getter should have no params");else this.raiseRecoverable(X,"setter should have exactly one param")}else if(J.kind==="set"&&J.value.params[0].type==="RestElement")this.raiseRecoverable(J.value.params[0].start,"Setter cannot use rest params")};n.parsePropertyValue=function(J,Z,Y,X,q,Q,K,$){if((Y||X)&&this.type===_.colon)this.unexpected();if(this.eat(_.colon))J.value=Z?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,K),J.kind="init";else if(this.options.ecmaVersion>=6&&this.type===_.parenL){if(Z)this.unexpected();J.method=!0,J.value=this.parseMethod(Y,X),J.kind="init"}else if(!Z&&!$&&this.options.ecmaVersion>=5&&!J.computed&&J.key.type==="Identifier"&&(J.key.name==="get"||J.key.name==="set")&&(this.type!==_.comma&&this.type!==_.braceR&&this.type!==_.eq)){if(Y||X)this.unexpected();this.parseGetterSetter(J)}else if(this.options.ecmaVersion>=6&&!J.computed&&J.key.type==="Identifier"){if(Y||X)this.unexpected();if(this.checkUnreserved(J.key),J.key.name==="await"&&!this.awaitIdentPos)this.awaitIdentPos=q;if(Z)J.value=this.parseMaybeDefault(q,Q,this.copyNode(J.key));else if(this.type===_.eq&&K){if(K.shorthandAssign<0)K.shorthandAssign=this.start;J.value=this.parseMaybeDefault(q,Q,this.copyNode(J.key))}else J.value=this.copyNode(J.key);J.kind="init",J.shorthand=!0}else this.unexpected()};n.parsePropertyName=function(J){if(this.options.ecmaVersion>=6)if(this.eat(_.bracketL))return J.computed=!0,J.key=this.parseMaybeAssign(),this.expect(_.bracketR),J.key;else J.computed=!1;return J.key=this.type===_.num||this.type===_.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};n.initFunction=function(J){if(J.id=null,this.options.ecmaVersion>=6)J.generator=J.expression=!1;if(this.options.ecmaVersion>=8)J.async=!1};n.parseMethod=function(J,Z,Y){var X=this.startNode(),q=this.yieldPos,Q=this.awaitPos,K=this.awaitIdentPos;if(this.initFunction(X),this.options.ecmaVersion>=6)X.generator=J;if(this.options.ecmaVersion>=8)X.async=!!Z;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(UX(Z,X.generator)|u6|(Y?kz:0)),this.expect(_.parenL),X.params=this.parseBindingList(_.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(X,!1,!0,!1),this.yieldPos=q,this.awaitPos=Q,this.awaitIdentPos=K,this.finishNode(X,"FunctionExpression")};n.parseArrowExpression=function(J,Z,Y,X){var q=this.yieldPos,Q=this.awaitPos,K=this.awaitIdentPos;if(this.enterScope(UX(Y,!1)|$X),this.initFunction(J),this.options.ecmaVersion>=8)J.async=!!Y;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,J.params=this.toAssignableList(Z,!0),this.parseFunctionBody(J,!0,!1,X),this.yieldPos=q,this.awaitPos=Q,this.awaitIdentPos=K,this.finishNode(J,"ArrowFunctionExpression")};n.parseFunctionBody=function(J,Z,Y,X){var q=Z&&this.type!==_.braceL,Q=this.strict,K=!1;if(q)J.body=this.parseMaybeAssign(X),J.expression=!0,this.checkParams(J,!1);else{var $=this.options.ecmaVersion>=7&&!this.isSimpleParamList(J.params);if(!Q||$){if(K=this.strictDirective(this.end),K&&$)this.raiseRecoverable(J.start,"Illegal 'use strict' directive in function with non-simple parameter list")}var U=this.labels;if(this.labels=[],K)this.strict=!0;if(this.checkParams(J,!Q&&!K&&!Z&&!Y&&this.isSimpleParamList(J.params)),this.strict&&J.id)this.checkLValSimple(J.id,hz);J.body=this.parseBlock(!1,void 0,K&&!Q),J.expression=!1,this.adaptDirectivePrologue(J.body.body),this.labels=U}this.exitScope()};n.isSimpleParamList=function(J){for(var Z=0,Y=J;Z<Y.length;Z+=1){var X=Y[Z];if(X.type!=="Identifier")return!1}return!0};n.checkParams=function(J,Z){var Y=Object.create(null);for(var X=0,q=J.params;X<q.length;X+=1){var Q=q[X];this.checkLValInnerPattern(Q,WX,Z?null:Y)}};n.parseExprList=function(J,Z,Y,X){var q=[],Q=!0;while(!this.eat(J)){if(!Q){if(this.expect(_.comma),Z&&this.afterTrailingComma(J))break}else Q=!1;var K=void 0;if(Y&&this.type===_.comma)K=null;else if(this.type===_.ellipsis){if(K=this.parseSpread(X),X&&this.type===_.comma&&X.trailingComma<0)X.trailingComma=this.start}else K=this.parseMaybeAssign(!1,X);q.push(K)}return q};n.checkUnreserved=function(J){var{start:Z,end:Y,name:X}=J;if(this.inGenerator&&X==="yield")this.raiseRecoverable(Z,"Cannot use 'yield' as identifier inside a generator");if(this.inAsync&&X==="await")this.raiseRecoverable(Z,"Cannot use 'await' as identifier inside an async function");if(!(this.currentThisScope().flags&g6)&&X==="arguments")this.raiseRecoverable(Z,"Cannot use 'arguments' in class field initializer");if(this.inClassStaticBlock&&(X==="arguments"||X==="await"))this.raise(Z,"Cannot use "+X+" in class static initialization block");if(this.keywords.test(X))this.raise(Z,"Unexpected keyword '"+X+"'");if(this.options.ecmaVersion<6&&this.input.slice(Z,Y).indexOf("\\")!==-1)return;var q=this.strict?this.reservedWordsStrict:this.reservedWords;if(q.test(X)){if(!this.inAsync&&X==="await")this.raiseRecoverable(Z,"Cannot use keyword 'await' outside an async function");this.raiseRecoverable(Z,"The keyword '"+X+"' is reserved")}};n.parseIdent=function(J){var Z=this.parseIdentNode();if(this.next(!!J),this.finishNode(Z,"Identifier"),!J){if(this.checkUnreserved(Z),Z.name==="await"&&!this.awaitIdentPos)this.awaitIdentPos=Z.start}return Z};n.parseIdentNode=function(){var J=this.startNode();if(this.type===_.name)J.name=this.value;else if(this.type.keyword){if(J.name=this.type.keyword,(J.name==="class"||J.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46))this.context.pop();this.type=_.name}else this.unexpected();return J};n.parsePrivateIdent=function(){var J=this.startNode();if(this.type===_.privateId)J.name=this.value;else this.unexpected();if(this.next(),this.finishNode(J,"PrivateIdentifier"),this.options.checkPrivateFields)if(this.privateNameStack.length===0)this.raise(J.start,"Private field '#"+J.name+"' must be declared in an enclosing class");else this.privateNameStack[this.privateNameStack.length-1].used.push(J);return J};n.parseYield=function(J){if(!this.yieldPos)this.yieldPos=this.start;var Z=this.startNode();if(this.next(),this.type===_.semi||this.canInsertSemicolon()||this.type!==_.star&&!this.type.startsExpr)Z.delegate=!1,Z.argument=null;else Z.delegate=this.eat(_.star),Z.argument=this.parseMaybeAssign(J);return this.finishNode(Z,"YieldExpression")};n.parseAwait=function(J){if(!this.awaitPos)this.awaitPos=this.start;var Z=this.startNode();return this.next(),Z.argument=this.parseMaybeUnary(null,!0,!1,J),this.finishNode(Z,"AwaitExpression")};var h6=k0.prototype;h6.raise=function(J,Z){var Y=yz(this.input,J);if(Z+=" ("+Y.line+":"+Y.column+")",this.sourceFile)Z+=" in "+this.sourceFile;var X=SyntaxError(Z);throw X.pos=J,X.loc=Y,X.raisedAt=this.pos,X};h6.raiseRecoverable=h6.raise;h6.curPosition=function(){if(this.options.locations)return new _7(this.curLine,this.pos-this.lineStart)};var QJ=k0.prototype,pD=function(Z){this.flags=Z,this.var=[],this.lexical=[],this.functions=[]};QJ.enterScope=function(J){this.scopeStack.push(new pD(J))};QJ.exitScope=function(){this.scopeStack.pop()};QJ.treatFunctionsAsVarInScope=function(J){return J.flags&d4||!this.inModule&&J.flags&H7};QJ.declareName=function(J,Z,Y){var X=!1;if(Z===x5){var q=this.currentScope();if(X=q.lexical.indexOf(J)>-1||q.functions.indexOf(J)>-1||q.var.indexOf(J)>-1,q.lexical.push(J),this.inModule&&q.flags&H7)delete this.undefinedExports[J]}else if(Z===xz){var Q=this.currentScope();Q.lexical.push(J)}else if(Z===wz){var K=this.currentScope();if(this.treatFunctionsAsVar)X=K.lexical.indexOf(J)>-1;else X=K.lexical.indexOf(J)>-1||K.var.indexOf(J)>-1;K.functions.push(J)}else for(var $=this.scopeStack.length-1;$>=0;--$){var U=this.scopeStack[$];if(U.lexical.indexOf(J)>-1&&!(U.flags&Sz&&U.lexical[0]===J)||!this.treatFunctionsAsVarInScope(U)&&U.functions.indexOf(J)>-1){X=!0;break}if(U.var.push(J),this.inModule&&U.flags&H7)delete this.undefinedExports[J];if(U.flags&g6)break}if(X)this.raiseRecoverable(Y,"Identifier '"+J+"' has already been declared")};QJ.checkLocalExport=function(J){if(this.scopeStack[0].lexical.indexOf(J.name)===-1&&this.scopeStack[0].var.indexOf(J.name)===-1)this.undefinedExports[J.name]=J};QJ.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};QJ.currentVarScope=function(){for(var J=this.scopeStack.length-1;;J--){var Z=this.scopeStack[J];if(Z.flags&(g6|N7|dJ))return Z}};QJ.currentThisScope=function(){for(var J=this.scopeStack.length-1;;J--){var Z=this.scopeStack[J];if(Z.flags&(g6|N7|dJ)&&!(Z.flags&$X))return Z}};var l6=function(Z,Y,X){if(this.type="",this.start=Y,this.end=0,Z.options.locations)this.loc=new m6(Z,X);if(Z.options.directSourceFile)this.sourceFile=Z.options.directSourceFile;if(Z.options.ranges)this.range=[Y,0]},R7=k0.prototype;R7.startNode=function(){return new l6(this,this.start,this.startLoc)};R7.startNodeAt=function(J,Z){return new l6(this,J,Z)};function uz(J,Z,Y,X){if(J.type=Z,J.end=Y,this.options.locations)J.loc.end=X;if(this.options.ranges)J.range[1]=Y;return J}R7.finishNode=function(J,Z){return uz.call(this,J,Z,this.lastTokEnd,this.lastTokEndLoc)};R7.finishNodeAt=function(J,Z,Y,X){return uz.call(this,J,Z,Y,X)};R7.copyNode=function(J){var Z=new l6(this,J.start,this.startLoc);for(var Y in J)Z[Y]=J[Y];return Z};var dD="Gara Garay Gukh Gurung_Khema Hrkt Katakana_Or_Hiragana Kawi Kirat_Rai Krai Nag_Mundari Nagm Ol_Onal Onao Sunu Sunuwar Todhri Todr Tulu_Tigalari Tutg Unknown Zzzz",gz="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",fz=gz+" Extended_Pictographic",lz=fz,pz=lz+" EBase EComp EMod EPres ExtPict",dz=pz,cD=dz,nD={9:gz,10:fz,11:lz,12:pz,13:dz,14:cD},iD="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",sD={9:"",10:"",11:"",12:"",13:"",14:iD},Lz="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",cz="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",nz=cz+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",iz=nz+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",sz=iz+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",az=sz+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",aD=az+" "+dD,rD={9:cz,10:nz,11:iz,12:sz,13:az,14:aD},rz={};function oD(J){var Z=rz[J]={binary:XJ(nD[J]+" "+Lz),binaryOfStrings:XJ(sD[J]),nonBinary:{General_Category:XJ(Lz),Script:XJ(rD[J])}};Z.nonBinary.Script_Extensions=Z.nonBinary.Script,Z.nonBinary.gc=Z.nonBinary.General_Category,Z.nonBinary.sc=Z.nonBinary.Script,Z.nonBinary.scx=Z.nonBinary.Script_Extensions}for(z7=0,k6=[9,10,11,12,13,14];z7<k6.length;z7+=1)qX=k6[z7],oD(qX);var qX,z7,k6,u=k0.prototype,v6=function(Z,Y){this.parent=Z,this.base=Y||this};v6.prototype.separatedFrom=function(Z){for(var Y=this;Y;Y=Y.parent)for(var X=Z;X;X=X.parent)if(Y.base===X.base&&Y!==X)return!0;return!1};v6.prototype.sibling=function(){return new v6(this.parent,this.base)};var I5=function(Z){this.parser=Z,this.validFlags="gim"+(Z.options.ecmaVersion>=6?"uy":"")+(Z.options.ecmaVersion>=9?"s":"")+(Z.options.ecmaVersion>=13?"d":"")+(Z.options.ecmaVersion>=15?"v":""),this.unicodeProperties=rz[Z.options.ecmaVersion>=14?14:Z.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};I5.prototype.reset=function(Z,Y,X){var q=X.indexOf("v")!==-1,Q=X.indexOf("u")!==-1;if(this.start=Z|0,this.source=Y+"",this.flags=X,q&&this.parser.options.ecmaVersion>=15)this.switchU=!0,this.switchV=!0,this.switchN=!0;else this.switchU=Q&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=Q&&this.parser.options.ecmaVersion>=9};I5.prototype.raise=function(Z){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+Z)};I5.prototype.at=function(Z,Y){if(Y===void 0)Y=!1;var X=this.source,q=X.length;if(Z>=q)return-1;var Q=X.charCodeAt(Z);if(!(Y||this.switchU)||Q<=55295||Q>=57344||Z+1>=q)return Q;var K=X.charCodeAt(Z+1);return K>=56320&&K<=57343?(Q<<10)+K-56613888:Q};I5.prototype.nextIndex=function(Z,Y){if(Y===void 0)Y=!1;var X=this.source,q=X.length;if(Z>=q)return q;var Q=X.charCodeAt(Z),K;if(!(Y||this.switchU)||Q<=55295||Q>=57344||Z+1>=q||(K=X.charCodeAt(Z+1))<56320||K>57343)return Z+1;return Z+2};I5.prototype.current=function(Z){if(Z===void 0)Z=!1;return this.at(this.pos,Z)};I5.prototype.lookahead=function(Z){if(Z===void 0)Z=!1;return this.at(this.nextIndex(this.pos,Z),Z)};I5.prototype.advance=function(Z){if(Z===void 0)Z=!1;this.pos=this.nextIndex(this.pos,Z)};I5.prototype.eat=function(Z,Y){if(Y===void 0)Y=!1;if(this.current(Y)===Z)return this.advance(Y),!0;return!1};I5.prototype.eatChars=function(Z,Y){if(Y===void 0)Y=!1;var X=this.pos;for(var q=0,Q=Z;q<Q.length;q+=1){var K=Q[q],$=this.at(X,Y);if($===-1||$!==K)return!1;X=this.nextIndex(X,Y)}return this.pos=X,!0};u.validateRegExpFlags=function(J){var{validFlags:Z,flags:Y}=J,X=!1,q=!1;for(var Q=0;Q<Y.length;Q++){var K=Y.charAt(Q);if(Z.indexOf(K)===-1)this.raise(J.start,"Invalid regular expression flag");if(Y.indexOf(K,Q+1)>-1)this.raise(J.start,"Duplicate regular expression flag");if(K==="u")X=!0;if(K==="v")q=!0}if(this.options.ecmaVersion>=15&&X&&q)this.raise(J.start,"Invalid regular expression flag")};function tD(J){for(var Z in J)return!0;return!1}u.validateRegExpPattern=function(J){if(this.regexp_pattern(J),!J.switchN&&this.options.ecmaVersion>=9&&tD(J.groupNames))J.switchN=!0,this.regexp_pattern(J)};u.regexp_pattern=function(J){if(J.pos=0,J.lastIntValue=0,J.lastStringValue="",J.lastAssertionIsQuantifiable=!1,J.numCapturingParens=0,J.maxBackReference=0,J.groupNames=Object.create(null),J.backReferenceNames.length=0,J.branchID=null,this.regexp_disjunction(J),J.pos!==J.source.length){if(J.eat(41))J.raise("Unmatched ')'");if(J.eat(93)||J.eat(125))J.raise("Lone quantifier brackets")}if(J.maxBackReference>J.numCapturingParens)J.raise("Invalid escape");for(var Z=0,Y=J.backReferenceNames;Z<Y.length;Z+=1){var X=Y[Z];if(!J.groupNames[X])J.raise("Invalid named capture referenced")}};u.regexp_disjunction=function(J){var Z=this.options.ecmaVersion>=16;if(Z)J.branchID=new v6(J.branchID,null);this.regexp_alternative(J);while(J.eat(124)){if(Z)J.branchID=J.branchID.sibling();this.regexp_alternative(J)}if(Z)J.branchID=J.branchID.parent;if(this.regexp_eatQuantifier(J,!0))J.raise("Nothing to repeat");if(J.eat(123))J.raise("Lone quantifier brackets")};u.regexp_alternative=function(J){while(J.pos<J.source.length&&this.regexp_eatTerm(J));};u.regexp_eatTerm=function(J){if(this.regexp_eatAssertion(J)){if(J.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(J)){if(J.switchU)J.raise("Invalid quantifier")}return!0}if(J.switchU?this.regexp_eatAtom(J):this.regexp_eatExtendedAtom(J))return this.regexp_eatQuantifier(J),!0;return!1};u.regexp_eatAssertion=function(J){var Z=J.pos;if(J.lastAssertionIsQuantifiable=!1,J.eat(94)||J.eat(36))return!0;if(J.eat(92)){if(J.eat(66)||J.eat(98))return!0;J.pos=Z}if(J.eat(40)&&J.eat(63)){var Y=!1;if(this.options.ecmaVersion>=9)Y=J.eat(60);if(J.eat(61)||J.eat(33)){if(this.regexp_disjunction(J),!J.eat(41))J.raise("Unterminated group");return J.lastAssertionIsQuantifiable=!Y,!0}}return J.pos=Z,!1};u.regexp_eatQuantifier=function(J,Z){if(Z===void 0)Z=!1;if(this.regexp_eatQuantifierPrefix(J,Z))return J.eat(63),!0;return!1};u.regexp_eatQuantifierPrefix=function(J,Z){return J.eat(42)||J.eat(43)||J.eat(63)||this.regexp_eatBracedQuantifier(J,Z)};u.regexp_eatBracedQuantifier=function(J,Z){var Y=J.pos;if(J.eat(123)){var X=0,q=-1;if(this.regexp_eatDecimalDigits(J)){if(X=J.lastIntValue,J.eat(44)&&this.regexp_eatDecimalDigits(J))q=J.lastIntValue;if(J.eat(125)){if(q!==-1&&q<X&&!Z)J.raise("numbers out of order in {} quantifier");return!0}}if(J.switchU&&!Z)J.raise("Incomplete quantifier");J.pos=Y}return!1};u.regexp_eatAtom=function(J){return this.regexp_eatPatternCharacters(J)||J.eat(46)||this.regexp_eatReverseSolidusAtomEscape(J)||this.regexp_eatCharacterClass(J)||this.regexp_eatUncapturingGroup(J)||this.regexp_eatCapturingGroup(J)};u.regexp_eatReverseSolidusAtomEscape=function(J){var Z=J.pos;if(J.eat(92)){if(this.regexp_eatAtomEscape(J))return!0;J.pos=Z}return!1};u.regexp_eatUncapturingGroup=function(J){var Z=J.pos;if(J.eat(40)){if(J.eat(63)){if(this.options.ecmaVersion>=16){var Y=this.regexp_eatModifiers(J),X=J.eat(45);if(Y||X){for(var q=0;q<Y.length;q++){var Q=Y.charAt(q);if(Y.indexOf(Q,q+1)>-1)J.raise("Duplicate regular expression modifiers")}if(X){var K=this.regexp_eatModifiers(J);if(!Y&&!K&&J.current()===58)J.raise("Invalid regular expression modifiers");for(var $=0;$<K.length;$++){var U=K.charAt($);if(K.indexOf(U,$+1)>-1||Y.indexOf(U)>-1)J.raise("Duplicate regular expression modifiers")}}}}if(J.eat(58)){if(this.regexp_disjunction(J),J.eat(41))return!0;J.raise("Unterminated group")}}J.pos=Z}return!1};u.regexp_eatCapturingGroup=function(J){if(J.eat(40)){if(this.options.ecmaVersion>=9)this.regexp_groupSpecifier(J);else if(J.current()===63)J.raise("Invalid group");if(this.regexp_disjunction(J),J.eat(41))return J.numCapturingParens+=1,!0;J.raise("Unterminated group")}return!1};u.regexp_eatModifiers=function(J){var Z="",Y=0;while((Y=J.current())!==-1&&eD(Y))Z+=k5(Y),J.advance();return Z};function eD(J){return J===105||J===109||J===115}u.regexp_eatExtendedAtom=function(J){return J.eat(46)||this.regexp_eatReverseSolidusAtomEscape(J)||this.regexp_eatCharacterClass(J)||this.regexp_eatUncapturingGroup(J)||this.regexp_eatCapturingGroup(J)||this.regexp_eatInvalidBracedQuantifier(J)||this.regexp_eatExtendedPatternCharacter(J)};u.regexp_eatInvalidBracedQuantifier=function(J){if(this.regexp_eatBracedQuantifier(J,!0))J.raise("Nothing to repeat");return!1};u.regexp_eatSyntaxCharacter=function(J){var Z=J.current();if(oz(Z))return J.lastIntValue=Z,J.advance(),!0;return!1};function oz(J){return J===36||J>=40&&J<=43||J===46||J===63||J>=91&&J<=94||J>=123&&J<=125}u.regexp_eatPatternCharacters=function(J){var Z=J.pos,Y=0;while((Y=J.current())!==-1&&!oz(Y))J.advance();return J.pos!==Z};u.regexp_eatExtendedPatternCharacter=function(J){var Z=J.current();if(Z!==-1&&Z!==36&&!(Z>=40&&Z<=43)&&Z!==46&&Z!==63&&Z!==91&&Z!==94&&Z!==124)return J.advance(),!0;return!1};u.regexp_groupSpecifier=function(J){if(J.eat(63)){if(!this.regexp_eatGroupName(J))J.raise("Invalid group");var Z=this.options.ecmaVersion>=16,Y=J.groupNames[J.lastStringValue];if(Y)if(Z)for(var X=0,q=Y;X<q.length;X+=1){var Q=q[X];if(!Q.separatedFrom(J.branchID))J.raise("Duplicate capture group name")}else J.raise("Duplicate capture group name");if(Z)(Y||(J.groupNames[J.lastStringValue]=[])).push(J.branchID);else J.groupNames[J.lastStringValue]=!0}};u.regexp_eatGroupName=function(J){if(J.lastStringValue="",J.eat(60)){if(this.regexp_eatRegExpIdentifierName(J)&&J.eat(62))return!0;J.raise("Invalid capture group name")}return!1};u.regexp_eatRegExpIdentifierName=function(J){if(J.lastStringValue="",this.regexp_eatRegExpIdentifierStart(J)){J.lastStringValue+=k5(J.lastIntValue);while(this.regexp_eatRegExpIdentifierPart(J))J.lastStringValue+=k5(J.lastIntValue);return!0}return!1};u.regexp_eatRegExpIdentifierStart=function(J){var Z=J.pos,Y=this.options.ecmaVersion>=11,X=J.current(Y);if(J.advance(Y),X===92&&this.regexp_eatRegExpUnicodeEscapeSequence(J,Y))X=J.lastIntValue;if(JL(X))return J.lastIntValue=X,!0;return J.pos=Z,!1};function JL(J){return M5(J,!0)||J===36||J===95}u.regexp_eatRegExpIdentifierPart=function(J){var Z=J.pos,Y=this.options.ecmaVersion>=11,X=J.current(Y);if(J.advance(Y),X===92&&this.regexp_eatRegExpUnicodeEscapeSequence(J,Y))X=J.lastIntValue;if(ZL(X))return J.lastIntValue=X,!0;return J.pos=Z,!1};function ZL(J){return qJ(J,!0)||J===36||J===95||J===8204||J===8205}u.regexp_eatAtomEscape=function(J){if(this.regexp_eatBackReference(J)||this.regexp_eatCharacterClassEscape(J)||this.regexp_eatCharacterEscape(J)||J.switchN&&this.regexp_eatKGroupName(J))return!0;if(J.switchU){if(J.current()===99)J.raise("Invalid unicode escape");J.raise("Invalid escape")}return!1};u.regexp_eatBackReference=function(J){var Z=J.pos;if(this.regexp_eatDecimalEscape(J)){var Y=J.lastIntValue;if(J.switchU){if(Y>J.maxBackReference)J.maxBackReference=Y;return!0}if(Y<=J.numCapturingParens)return!0;J.pos=Z}return!1};u.regexp_eatKGroupName=function(J){if(J.eat(107)){if(this.regexp_eatGroupName(J))return J.backReferenceNames.push(J.lastStringValue),!0;J.raise("Invalid named reference")}return!1};u.regexp_eatCharacterEscape=function(J){return this.regexp_eatControlEscape(J)||this.regexp_eatCControlLetter(J)||this.regexp_eatZero(J)||this.regexp_eatHexEscapeSequence(J)||this.regexp_eatRegExpUnicodeEscapeSequence(J,!1)||!J.switchU&&this.regexp_eatLegacyOctalEscapeSequence(J)||this.regexp_eatIdentityEscape(J)};u.regexp_eatCControlLetter=function(J){var Z=J.pos;if(J.eat(99)){if(this.regexp_eatControlLetter(J))return!0;J.pos=Z}return!1};u.regexp_eatZero=function(J){if(J.current()===48&&!p6(J.lookahead()))return J.lastIntValue=0,J.advance(),!0;return!1};u.regexp_eatControlEscape=function(J){var Z=J.current();if(Z===116)return J.lastIntValue=9,J.advance(),!0;if(Z===110)return J.lastIntValue=10,J.advance(),!0;if(Z===118)return J.lastIntValue=11,J.advance(),!0;if(Z===102)return J.lastIntValue=12,J.advance(),!0;if(Z===114)return J.lastIntValue=13,J.advance(),!0;return!1};u.regexp_eatControlLetter=function(J){var Z=J.current();if(tz(Z))return J.lastIntValue=Z%32,J.advance(),!0;return!1};function tz(J){return J>=65&&J<=90||J>=97&&J<=122}u.regexp_eatRegExpUnicodeEscapeSequence=function(J,Z){if(Z===void 0)Z=!1;var Y=J.pos,X=Z||J.switchU;if(J.eat(117)){if(this.regexp_eatFixedHexDigits(J,4)){var q=J.lastIntValue;if(X&&q>=55296&&q<=56319){var Q=J.pos;if(J.eat(92)&&J.eat(117)&&this.regexp_eatFixedHexDigits(J,4)){var K=J.lastIntValue;if(K>=56320&&K<=57343)return J.lastIntValue=(q-55296)*1024+(K-56320)+65536,!0}J.pos=Q,J.lastIntValue=q}return!0}if(X&&J.eat(123)&&this.regexp_eatHexDigits(J)&&J.eat(125)&&YL(J.lastIntValue))return!0;if(X)J.raise("Invalid unicode escape");J.pos=Y}return!1};function YL(J){return J>=0&&J<=1114111}u.regexp_eatIdentityEscape=function(J){if(J.switchU){if(this.regexp_eatSyntaxCharacter(J))return!0;if(J.eat(47))return J.lastIntValue=47,!0;return!1}var Z=J.current();if(Z!==99&&(!J.switchN||Z!==107))return J.lastIntValue=Z,J.advance(),!0;return!1};u.regexp_eatDecimalEscape=function(J){J.lastIntValue=0;var Z=J.current();if(Z>=49&&Z<=57){do J.lastIntValue=10*J.lastIntValue+(Z-48),J.advance();while((Z=J.current())>=48&&Z<=57);return!0}return!1};var ez=0,w5=1,h1=2;u.regexp_eatCharacterClassEscape=function(J){var Z=J.current();if(XL(Z))return J.lastIntValue=-1,J.advance(),w5;var Y=!1;if(J.switchU&&this.options.ecmaVersion>=9&&((Y=Z===80)||Z===112)){J.lastIntValue=-1,J.advance();var X;if(J.eat(123)&&(X=this.regexp_eatUnicodePropertyValueExpression(J))&&J.eat(125)){if(Y&&X===h1)J.raise("Invalid property name");return X}J.raise("Invalid property name")}return ez};function XL(J){return J===100||J===68||J===115||J===83||J===119||J===87}u.regexp_eatUnicodePropertyValueExpression=function(J){var Z=J.pos;if(this.regexp_eatUnicodePropertyName(J)&&J.eat(61)){var Y=J.lastStringValue;if(this.regexp_eatUnicodePropertyValue(J)){var X=J.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(J,Y,X),w5}}if(J.pos=Z,this.regexp_eatLoneUnicodePropertyNameOrValue(J)){var q=J.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(J,q)}return ez};u.regexp_validateUnicodePropertyNameAndValue=function(J,Z,Y){if(!p4(J.unicodeProperties.nonBinary,Z))J.raise("Invalid property name");if(!J.unicodeProperties.nonBinary[Z].test(Y))J.raise("Invalid property value")};u.regexp_validateUnicodePropertyNameOrValue=function(J,Z){if(J.unicodeProperties.binary.test(Z))return w5;if(J.switchV&&J.unicodeProperties.binaryOfStrings.test(Z))return h1;J.raise("Invalid property name")};u.regexp_eatUnicodePropertyName=function(J){var Z=0;J.lastStringValue="";while(JO(Z=J.current()))J.lastStringValue+=k5(Z),J.advance();return J.lastStringValue!==""};function JO(J){return tz(J)||J===95}u.regexp_eatUnicodePropertyValue=function(J){var Z=0;J.lastStringValue="";while(qL(Z=J.current()))J.lastStringValue+=k5(Z),J.advance();return J.lastStringValue!==""};function qL(J){return JO(J)||p6(J)}u.regexp_eatLoneUnicodePropertyNameOrValue=function(J){return this.regexp_eatUnicodePropertyValue(J)};u.regexp_eatCharacterClass=function(J){if(J.eat(91)){var Z=J.eat(94),Y=this.regexp_classContents(J);if(!J.eat(93))J.raise("Unterminated character class");if(Z&&Y===h1)J.raise("Negated character class may contain strings");return!0}return!1};u.regexp_classContents=function(J){if(J.current()===93)return w5;if(J.switchV)return this.regexp_classSetExpression(J);return this.regexp_nonEmptyClassRanges(J),w5};u.regexp_nonEmptyClassRanges=function(J){while(this.regexp_eatClassAtom(J)){var Z=J.lastIntValue;if(J.eat(45)&&this.regexp_eatClassAtom(J)){var Y=J.lastIntValue;if(J.switchU&&(Z===-1||Y===-1))J.raise("Invalid character class");if(Z!==-1&&Y!==-1&&Z>Y)J.raise("Range out of order in character class")}}};u.regexp_eatClassAtom=function(J){var Z=J.pos;if(J.eat(92)){if(this.regexp_eatClassEscape(J))return!0;if(J.switchU){var Y=J.current();if(Y===99||XO(Y))J.raise("Invalid class escape");J.raise("Invalid escape")}J.pos=Z}var X=J.current();if(X!==93)return J.lastIntValue=X,J.advance(),!0;return!1};u.regexp_eatClassEscape=function(J){var Z=J.pos;if(J.eat(98))return J.lastIntValue=8,!0;if(J.switchU&&J.eat(45))return J.lastIntValue=45,!0;if(!J.switchU&&J.eat(99)){if(this.regexp_eatClassControlLetter(J))return!0;J.pos=Z}return this.regexp_eatCharacterClassEscape(J)||this.regexp_eatCharacterEscape(J)};u.regexp_classSetExpression=function(J){var Z=w5,Y;if(this.regexp_eatClassSetRange(J));else if(Y=this.regexp_eatClassSetOperand(J)){if(Y===h1)Z=h1;var X=J.pos;while(J.eatChars([38,38])){if(J.current()!==38&&(Y=this.regexp_eatClassSetOperand(J))){if(Y!==h1)Z=w5;continue}J.raise("Invalid character in character class")}if(X!==J.pos)return Z;while(J.eatChars([45,45])){if(this.regexp_eatClassSetOperand(J))continue;J.raise("Invalid character in character class")}if(X!==J.pos)return Z}else J.raise("Invalid character in character class");for(;;){if(this.regexp_eatClassSetRange(J))continue;if(Y=this.regexp_eatClassSetOperand(J),!Y)return Z;if(Y===h1)Z=h1}};u.regexp_eatClassSetRange=function(J){var Z=J.pos;if(this.regexp_eatClassSetCharacter(J)){var Y=J.lastIntValue;if(J.eat(45)&&this.regexp_eatClassSetCharacter(J)){var X=J.lastIntValue;if(Y!==-1&&X!==-1&&Y>X)J.raise("Range out of order in character class");return!0}J.pos=Z}return!1};u.regexp_eatClassSetOperand=function(J){if(this.regexp_eatClassSetCharacter(J))return w5;return this.regexp_eatClassStringDisjunction(J)||this.regexp_eatNestedClass(J)};u.regexp_eatNestedClass=function(J){var Z=J.pos;if(J.eat(91)){var Y=J.eat(94),X=this.regexp_classContents(J);if(J.eat(93)){if(Y&&X===h1)J.raise("Negated character class may contain strings");return X}J.pos=Z}if(J.eat(92)){var q=this.regexp_eatCharacterClassEscape(J);if(q)return q;J.pos=Z}return null};u.regexp_eatClassStringDisjunction=function(J){var Z=J.pos;if(J.eatChars([92,113])){if(J.eat(123)){var Y=this.regexp_classStringDisjunctionContents(J);if(J.eat(125))return Y}else J.raise("Invalid escape");J.pos=Z}return null};u.regexp_classStringDisjunctionContents=function(J){var Z=this.regexp_classString(J);while(J.eat(124))if(this.regexp_classString(J)===h1)Z=h1;return Z};u.regexp_classString=function(J){var Z=0;while(this.regexp_eatClassSetCharacter(J))Z++;return Z===1?w5:h1};u.regexp_eatClassSetCharacter=function(J){var Z=J.pos;if(J.eat(92)){if(this.regexp_eatCharacterEscape(J)||this.regexp_eatClassSetReservedPunctuator(J))return!0;if(J.eat(98))return J.lastIntValue=8,!0;return J.pos=Z,!1}var Y=J.current();if(Y<0||Y===J.lookahead()&&QL(Y))return!1;if(KL(Y))return!1;return J.advance(),J.lastIntValue=Y,!0};function QL(J){return J===33||J>=35&&J<=38||J>=42&&J<=44||J===46||J>=58&&J<=64||J===94||J===96||J===126}function KL(J){return J===40||J===41||J===45||J===47||J>=91&&J<=93||J>=123&&J<=125}u.regexp_eatClassSetReservedPunctuator=function(J){var Z=J.current();if($L(Z))return J.lastIntValue=Z,J.advance(),!0;return!1};function $L(J){return J===33||J===35||J===37||J===38||J===44||J===45||J>=58&&J<=62||J===64||J===96||J===126}u.regexp_eatClassControlLetter=function(J){var Z=J.current();if(p6(Z)||Z===95)return J.lastIntValue=Z%32,J.advance(),!0;return!1};u.regexp_eatHexEscapeSequence=function(J){var Z=J.pos;if(J.eat(120)){if(this.regexp_eatFixedHexDigits(J,2))return!0;if(J.switchU)J.raise("Invalid escape");J.pos=Z}return!1};u.regexp_eatDecimalDigits=function(J){var Z=J.pos,Y=0;J.lastIntValue=0;while(p6(Y=J.current()))J.lastIntValue=10*J.lastIntValue+(Y-48),J.advance();return J.pos!==Z};function p6(J){return J>=48&&J<=57}u.regexp_eatHexDigits=function(J){var Z=J.pos,Y=0;J.lastIntValue=0;while(ZO(Y=J.current()))J.lastIntValue=16*J.lastIntValue+YO(Y),J.advance();return J.pos!==Z};function ZO(J){return J>=48&&J<=57||J>=65&&J<=70||J>=97&&J<=102}function YO(J){if(J>=65&&J<=70)return 10+(J-65);if(J>=97&&J<=102)return 10+(J-97);return J-48}u.regexp_eatLegacyOctalEscapeSequence=function(J){if(this.regexp_eatOctalDigit(J)){var Z=J.lastIntValue;if(this.regexp_eatOctalDigit(J)){var Y=J.lastIntValue;if(Z<=3&&this.regexp_eatOctalDigit(J))J.lastIntValue=Z*64+Y*8+J.lastIntValue;else J.lastIntValue=Z*8+Y}else J.lastIntValue=Z;return!0}return!1};u.regexp_eatOctalDigit=function(J){var Z=J.current();if(XO(Z))return J.lastIntValue=Z-48,J.advance(),!0;return J.lastIntValue=0,!1};function XO(J){return J>=48&&J<=55}u.regexp_eatFixedHexDigits=function(J,Z){var Y=J.pos;J.lastIntValue=0;for(var X=0;X<Z;++X){var q=J.current();if(!ZO(q))return J.pos=Y,!1;J.lastIntValue=16*J.lastIntValue+YO(q),J.advance()}return!0};var jX=function(Z){if(this.type=Z.type,this.value=Z.value,this.start=Z.start,this.end=Z.end,Z.options.locations)this.loc=new m6(Z,Z.startLoc,Z.endLoc);if(Z.options.ranges)this.range=[Z.start,Z.end]},J0=k0.prototype;J0.next=function(J){if(!J&&this.type.keyword&&this.containsEsc)this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword);if(this.options.onToken)this.options.onToken(new jX(this));this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};J0.getToken=function(){return this.next(),new jX(this)};if(typeof Symbol<"u")J0[Symbol.iterator]=function(){var J=this;return{next:function(){var Z=J.getToken();return{done:Z.type===_.eof,value:Z}}}};J0.nextToken=function(){var J=this.curContext();if(!J||!J.preserveSpace)this.skipSpace();if(this.start=this.pos,this.options.locations)this.startLoc=this.curPosition();if(this.pos>=this.input.length)return this.finishToken(_.eof);if(J.override)return J.override(this);else this.readToken(this.fullCharCodeAtPos())};J0.readToken=function(J){if(M5(J,this.options.ecmaVersion>=6)||J===92)return this.readWord();return this.getTokenFromCode(J)};J0.fullCharCodeAtPos=function(){var J=this.input.charCodeAt(this.pos);if(J<=55295||J>=56320)return J;var Z=this.input.charCodeAt(this.pos+1);return Z<=56319||Z>=57344?J:(J<<10)+Z-56613888};J0.skipBlockComment=function(){var J=this.options.onComment&&this.curPosition(),Z=this.pos,Y=this.input.indexOf("*/",this.pos+=2);if(Y===-1)this.raise(this.pos-2,"Unterminated comment");if(this.pos=Y+2,this.options.locations)for(var X=void 0,q=Z;(X=Ez(this.input,q,this.pos))>-1;)++this.curLine,q=this.lineStart=X;if(this.options.onComment)this.options.onComment(!0,this.input.slice(Z+2,Y),Z,this.pos,J,this.curPosition())};J0.skipLineComment=function(J){var Z=this.pos,Y=this.options.onComment&&this.curPosition(),X=this.input.charCodeAt(this.pos+=J);while(this.pos<this.input.length&&!l4(X))X=this.input.charCodeAt(++this.pos);if(this.options.onComment)this.options.onComment(!1,this.input.slice(Z+J,this.pos),Z,this.pos,Y,this.curPosition())};J0.skipSpace=function(){J:while(this.pos<this.input.length){var J=this.input.charCodeAt(this.pos);switch(J){case 32:case 160:++this.pos;break;case 13:if(this.input.charCodeAt(this.pos+1)===10)++this.pos;case 10:case 8232:case 8233:if(++this.pos,this.options.locations)++this.curLine,this.lineStart=this.pos;break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break J}break;default:if(J>8&&J<14||J>=5760&&Cz.test(String.fromCharCode(J)))++this.pos;else break J}}};J0.finishToken=function(J,Z){if(this.end=this.pos,this.options.locations)this.endLoc=this.curPosition();var Y=this.type;this.type=J,this.value=Z,this.updateContext(Y)};J0.readToken_dot=function(){var J=this.input.charCodeAt(this.pos+1);if(J>=48&&J<=57)return this.readNumber(!0);var Z=this.input.charCodeAt(this.pos+2);if(this.options.ecmaVersion>=6&&J===46&&Z===46)return this.pos+=3,this.finishToken(_.ellipsis);else return++this.pos,this.finishToken(_.dot)};J0.readToken_slash=function(){var J=this.input.charCodeAt(this.pos+1);if(this.exprAllowed)return++this.pos,this.readRegexp();if(J===61)return this.finishOp(_.assign,2);return this.finishOp(_.slash,1)};J0.readToken_mult_modulo_exp=function(J){var Z=this.input.charCodeAt(this.pos+1),Y=1,X=J===42?_.star:_.modulo;if(this.options.ecmaVersion>=7&&J===42&&Z===42)++Y,X=_.starstar,Z=this.input.charCodeAt(this.pos+2);if(Z===61)return this.finishOp(_.assign,Y+1);return this.finishOp(X,Y)};J0.readToken_pipe_amp=function(J){var Z=this.input.charCodeAt(this.pos+1);if(Z===J){if(this.options.ecmaVersion>=12){var Y=this.input.charCodeAt(this.pos+2);if(Y===61)return this.finishOp(_.assign,3)}return this.finishOp(J===124?_.logicalOR:_.logicalAND,2)}if(Z===61)return this.finishOp(_.assign,2);return this.finishOp(J===124?_.bitwiseOR:_.bitwiseAND,1)};J0.readToken_caret=function(){var J=this.input.charCodeAt(this.pos+1);if(J===61)return this.finishOp(_.assign,2);return this.finishOp(_.bitwiseXOR,1)};J0.readToken_plus_min=function(J){var Z=this.input.charCodeAt(this.pos+1);if(Z===J){if(Z===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||j1.test(this.input.slice(this.lastTokEnd,this.pos))))return this.skipLineComment(3),this.skipSpace(),this.nextToken();return this.finishOp(_.incDec,2)}if(Z===61)return this.finishOp(_.assign,2);return this.finishOp(_.plusMin,1)};J0.readToken_lt_gt=function(J){var Z=this.input.charCodeAt(this.pos+1),Y=1;if(Z===J){if(Y=J===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+Y)===61)return this.finishOp(_.assign,Y+1);return this.finishOp(_.bitShift,Y)}if(Z===33&&J===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45)return this.skipLineComment(4),this.skipSpace(),this.nextToken();if(Z===61)Y=2;return this.finishOp(_.relational,Y)};J0.readToken_eq_excl=function(J){var Z=this.input.charCodeAt(this.pos+1);if(Z===61)return this.finishOp(_.equality,this.input.charCodeAt(this.pos+2)===61?3:2);if(J===61&&Z===62&&this.options.ecmaVersion>=6)return this.pos+=2,this.finishToken(_.arrow);return this.finishOp(J===61?_.eq:_.prefix,1)};J0.readToken_question=function(){var J=this.options.ecmaVersion;if(J>=11){var Z=this.input.charCodeAt(this.pos+1);if(Z===46){var Y=this.input.charCodeAt(this.pos+2);if(Y<48||Y>57)return this.finishOp(_.questionDot,2)}if(Z===63){if(J>=12){var X=this.input.charCodeAt(this.pos+2);if(X===61)return this.finishOp(_.assign,3)}return this.finishOp(_.coalesce,2)}}return this.finishOp(_.question,1)};J0.readToken_numberSign=function(){var J=this.options.ecmaVersion,Z=35;if(J>=13){if(++this.pos,Z=this.fullCharCodeAtPos(),M5(Z,!0)||Z===92)return this.finishToken(_.privateId,this.readWord1())}this.raise(this.pos,"Unexpected character '"+k5(Z)+"'")};J0.getTokenFromCode=function(J){switch(J){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(_.parenL);case 41:return++this.pos,this.finishToken(_.parenR);case 59:return++this.pos,this.finishToken(_.semi);case 44:return++this.pos,this.finishToken(_.comma);case 91:return++this.pos,this.finishToken(_.bracketL);case 93:return++this.pos,this.finishToken(_.bracketR);case 123:return++this.pos,this.finishToken(_.braceL);case 125:return++this.pos,this.finishToken(_.braceR);case 58:return++this.pos,this.finishToken(_.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(_.backQuote);case 48:var Z=this.input.charCodeAt(this.pos+1);if(Z===120||Z===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(Z===111||Z===79)return this.readRadixNumber(8);if(Z===98||Z===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(J);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(J);case 124:case 38:return this.readToken_pipe_amp(J);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(J);case 60:case 62:return this.readToken_lt_gt(J);case 61:case 33:return this.readToken_eq_excl(J);case 63:return this.readToken_question();case 126:return this.finishOp(_.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+k5(J)+"'")};J0.finishOp=function(J,Z){var Y=this.input.slice(this.pos,this.pos+Z);return this.pos+=Z,this.finishToken(J,Y)};J0.readRegexp=function(){var J,Z,Y=this.pos;for(;;){if(this.pos>=this.input.length)this.raise(Y,"Unterminated regular expression");var X=this.input.charAt(this.pos);if(j1.test(X))this.raise(Y,"Unterminated regular expression");if(!J){if(X==="[")Z=!0;else if(X==="]"&&Z)Z=!1;else if(X==="/"&&!Z)break;J=X==="\\"}else J=!1;++this.pos}var q=this.input.slice(Y,this.pos);++this.pos;var Q=this.pos,K=this.readWord1();if(this.containsEsc)this.unexpected(Q);var $=this.regexpState||(this.regexpState=new I5(this));$.reset(Y,q,K),this.validateRegExpFlags($),this.validateRegExpPattern($);var U=null;try{U=new RegExp(q,K)}catch(W){}return this.finishToken(_.regexp,{pattern:q,flags:K,value:U})};J0.readInt=function(J,Z,Y){var X=this.options.ecmaVersion>=12&&Z===void 0,q=Y&&this.input.charCodeAt(this.pos)===48,Q=this.pos,K=0,$=0;for(var U=0,W=Z==null?1/0:Z;U<W;++U,++this.pos){var G=this.input.charCodeAt(this.pos),j=void 0;if(X&&G===95){if(q)this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals");if($===95)this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore");if(U===0)this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits");$=G;continue}if(G>=97)j=G-97+10;else if(G>=65)j=G-65+10;else if(G>=48&&G<=57)j=G-48;else j=1/0;if(j>=J)break;$=G,K=K*J+j}if(X&&$===95)this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits");if(this.pos===Q||Z!=null&&this.pos-Q!==Z)return null;return K};function UL(J,Z){if(Z)return parseInt(J,8);return parseFloat(J.replace(/_/g,""))}function qO(J){if(typeof BigInt!=="function")return null;return BigInt(J.replace(/_/g,""))}J0.readRadixNumber=function(J){var Z=this.pos;this.pos+=2;var Y=this.readInt(J);if(Y==null)this.raise(this.start+2,"Expected number in radix "+J);if(this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110)Y=qO(this.input.slice(Z,this.pos)),++this.pos;else if(M5(this.fullCharCodeAtPos()))this.raise(this.pos,"Identifier directly after number");return this.finishToken(_.num,Y)};J0.readNumber=function(J){var Z=this.pos;if(!J&&this.readInt(10,void 0,!0)===null)this.raise(Z,"Invalid number");var Y=this.pos-Z>=2&&this.input.charCodeAt(Z)===48;if(Y&&this.strict)this.raise(Z,"Invalid number");var X=this.input.charCodeAt(this.pos);if(!Y&&!J&&this.options.ecmaVersion>=11&&X===110){var q=qO(this.input.slice(Z,this.pos));if(++this.pos,M5(this.fullCharCodeAtPos()))this.raise(this.pos,"Identifier directly after number");return this.finishToken(_.num,q)}if(Y&&/[89]/.test(this.input.slice(Z,this.pos)))Y=!1;if(X===46&&!Y)++this.pos,this.readInt(10),X=this.input.charCodeAt(this.pos);if((X===69||X===101)&&!Y){if(X=this.input.charCodeAt(++this.pos),X===43||X===45)++this.pos;if(this.readInt(10)===null)this.raise(Z,"Invalid number")}if(M5(this.fullCharCodeAtPos()))this.raise(this.pos,"Identifier directly after number");var Q=UL(this.input.slice(Z,this.pos),Y);return this.finishToken(_.num,Q)};J0.readCodePoint=function(){var J=this.input.charCodeAt(this.pos),Z;if(J===123){if(this.options.ecmaVersion<6)this.unexpected();var Y=++this.pos;if(Z=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,Z>1114111)this.invalidStringToken(Y,"Code point out of bounds")}else Z=this.readHexChar(4);return Z};J0.readString=function(J){var Z="",Y=++this.pos;for(;;){if(this.pos>=this.input.length)this.raise(this.start,"Unterminated string constant");var X=this.input.charCodeAt(this.pos);if(X===J)break;if(X===92)Z+=this.input.slice(Y,this.pos),Z+=this.readEscapedChar(!1),Y=this.pos;else if(X===8232||X===8233){if(this.options.ecmaVersion<10)this.raise(this.start,"Unterminated string constant");if(++this.pos,this.options.locations)this.curLine++,this.lineStart=this.pos}else{if(l4(X))this.raise(this.start,"Unterminated string constant");++this.pos}}return Z+=this.input.slice(Y,this.pos++),this.finishToken(_.string,Z)};var QO={};J0.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(J){if(J===QO)this.readInvalidTemplateToken();else throw J}this.inTemplateElement=!1};J0.invalidStringToken=function(J,Z){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw QO;else this.raise(J,Z)};J0.readTmplToken=function(){var J="",Z=this.pos;for(;;){if(this.pos>=this.input.length)this.raise(this.start,"Unterminated template");var Y=this.input.charCodeAt(this.pos);if(Y===96||Y===36&&this.input.charCodeAt(this.pos+1)===123){if(this.pos===this.start&&(this.type===_.template||this.type===_.invalidTemplate))if(Y===36)return this.pos+=2,this.finishToken(_.dollarBraceL);else return++this.pos,this.finishToken(_.backQuote);return J+=this.input.slice(Z,this.pos),this.finishToken(_.template,J)}if(Y===92)J+=this.input.slice(Z,this.pos),J+=this.readEscapedChar(!0),Z=this.pos;else if(l4(Y)){switch(J+=this.input.slice(Z,this.pos),++this.pos,Y){case 13:if(this.input.charCodeAt(this.pos)===10)++this.pos;case 10:J+=`
`;break;default:J+=String.fromCharCode(Y);break}if(this.options.locations)++this.curLine,this.lineStart=this.pos;Z=this.pos}else++this.pos}};J0.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(_.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":if(this.input[this.pos+1]===`
`)++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")};J0.readEscapedChar=function(J){var Z=this.input.charCodeAt(++this.pos);switch(++this.pos,Z){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return k5(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:if(this.input.charCodeAt(this.pos)===10)++this.pos;case 10:if(this.options.locations)this.lineStart=this.pos,++this.curLine;return"";case 56:case 57:if(this.strict)this.invalidStringToken(this.pos-1,"Invalid escape sequence");if(J){var Y=this.pos-1;this.invalidStringToken(Y,"Invalid escape sequence in template string")}default:if(Z>=48&&Z<=55){var X=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],q=parseInt(X,8);if(q>255)X=X.slice(0,-1),q=parseInt(X,8);if(this.pos+=X.length-1,Z=this.input.charCodeAt(this.pos),(X!=="0"||Z===56||Z===57)&&(this.strict||J))this.invalidStringToken(this.pos-1-X.length,J?"Octal literal in template string":"Octal literal in strict mode");return String.fromCharCode(q)}if(l4(Z)){if(this.options.locations)this.lineStart=this.pos,++this.curLine;return""}return String.fromCharCode(Z)}};J0.readHexChar=function(J){var Z=this.pos,Y=this.readInt(16,J);if(Y===null)this.invalidStringToken(Z,"Bad character escape sequence");return Y};J0.readWord1=function(){this.containsEsc=!1;var J="",Z=!0,Y=this.pos,X=this.options.ecmaVersion>=6;while(this.pos<this.input.length){var q=this.fullCharCodeAtPos();if(qJ(q,X))this.pos+=q<=65535?1:2;else if(q===92){this.containsEsc=!0,J+=this.input.slice(Y,this.pos);var Q=this.pos;if(this.input.charCodeAt(++this.pos)!==117)this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX");++this.pos;var K=this.readCodePoint();if(!(Z?M5:qJ)(K,X))this.invalidStringToken(Q,"Invalid Unicode escape");J+=k5(K),Y=this.pos}else break;Z=!1}return J+this.input.slice(Y,this.pos)};J0.readWord=function(){var J=this.readWord1(),Z=_.name;if(this.keywords.test(J))Z=QX[J];return this.finishToken(Z,J)};var WL="8.15.0";k0.acorn={Parser:k0,version:WL,defaultOptions:ZX,Position:_7,SourceLocation:m6,getLineInfo:yz,Node:l6,TokenType:q0,tokTypes:_,keywordTypes:QX,TokContext:J5,tokContexts:V0,isIdentifierChar:qJ,isIdentifierStart:M5,Token:jX,isNewLine:l4,lineBreak:j1,lineBreakG:SD,nonASCIIwhitespace:Cz};function KO(J,Z){return k0.parse(J,Z)}function $O(J,Z,Y){return k0.parseExpressionAt(J,Z,Y)}class A0 extends Error{line;column;source;filename;constructor(J,Z,Y,X){let q=`${X||"<source>"}:${Z.line}:${Z.column}`;super(`${J} at ${q}`);this.name="TranspileError",this.line=Z.line,this.column=Z.column,this.source=Y,this.filename=X}}class z1 extends A0{constructor(J,Z,Y,X){super(J,Z,Y,X);this.name="SyntaxError"}}class UO extends A0{expected;received;suggestion;constructor(J,Z,Y){super(J,Z,Y?.source,Y?.filename);this.name="TypeError",this.expected=Y?.expected,this.received=Y?.received,this.suggestion=Y?.suggestion}}function V1(J){return{depth:J.depth+1,locals:new Map,parent:J,parameters:J.parameters,atoms:J.atoms,warnings:J.warnings,source:J.source,filename:J.filename,options:J.options}}function WO(J,Z){if(Z.locals.has(J))return Z.locals.get(J);if(Z.parameters.has(J))return Z.parameters.get(J)?.type;if(Z.parent)return WO(J,Z.parent);return}function I0(J){if(J.loc)return{line:J.loc.start.line,column:J.loc.start.column};return{line:1,column:0}}function zX(J){let Z=J,Y,X=new Set,q=J.match(/\)\s*->\s*(\{[\s\S]*?\}|\[[^\]]*\]|'[^']*'|\d+|true|false)\s*\{(?!\s*\w+:)/);if(q){Y=q[1];let Q=/\)\s*->\s*(?:\{[\s\S]*?\}|\[[^\]]*\]|'[^']*'|\d+|true|false)\s*(\{)(?!\s*\w+:)/;J=J.replace(Q,") $1")}return J=J.replace(/function\s+(\w+)\s*\(([^)]*)\)/g,(Q,K,$)=>{if(!$.trim())return Q;let U=new Set,W=!1,G=jL($).map((j)=>{if(j=j.trim(),j.startsWith("{"))return j;let z=j.match(/^(\w+)\s*:\s*(.+)$/);if(z){let[,N,F]=z;if(U.has(N))throw new z1(`Duplicate parameter name '${N}'`,{line:1,column:0},Z);if(U.add(N),!F.includes("=")){if(W)throw new z1(`Required parameter '${N}' cannot follow optional parameter`,{line:1,column:0},Z);return X.add(N),`${N} = ${F}`}}let O=j.match(/^(\w+)\s*=/);if(O){let N=O[1];if(U.has(N))throw new z1(`Duplicate parameter name '${N}'`,{line:1,column:0},Z);U.add(N),W=!0}let H=j.match(/^(\w+)$/);if(H){let N=H[1];if(U.has(N))throw new z1(`Duplicate parameter name '${N}'`,{line:1,column:0},Z);if(U.add(N),W)throw new z1(`Required parameter '${N}' cannot follow optional parameter`,{line:1,column:0},Z)}return j}).join(", ");return`function ${K}(${G})`}),{source:J,returnType:Y,originalSource:Z,requiredParams:X}}function jL(J){let Z=[],Y="",X=0;for(let q of J)if(q==="("||q==="{"||q==="[")X++,Y+=q;else if(q===")"||q==="}"||q==="]")X--,Y+=q;else if(q===","&&X===0)Z.push(Y),Y="";else Y+=q;if(Y.trim())Z.push(Y);return Z}function d6(J,Z={}){let{filename:Y="<source>",colonShorthand:X=!0}=Z,{source:q,returnType:Q,originalSource:K,requiredParams:$}=X?zX(J):{source:J,returnType:void 0,originalSource:J,requiredParams:new Set};try{return{ast:KO(q,{ecmaVersion:2022,sourceType:"module",locations:!0,allowReturnOutsideFunction:!1}),returnType:Q,originalSource:K,requiredParams:$}}catch(U){let W=U.loc||{line:1,column:0};throw new z1(U.message.replace(/\s*\(\d+:\d+\)$/,""),W,K,Y)}}function GO(J,Z){for(let X of J.body){if(X.type==="ImportDeclaration")throw new z1("Imports are not supported. All atoms must be registered with the VM.",X.loc?.start||{line:1,column:0},void 0,Z);if(X.type==="ExportNamedDeclaration"||X.type==="ExportDefaultDeclaration")throw new z1("Exports are not supported. The function is automatically exported.",X.loc?.start||{line:1,column:0},void 0,Z);if(X.type==="ClassDeclaration")throw new z1("Classes are not supported. Agent99 uses functional composition.",X.loc?.start||{line:1,column:0},void 0,Z)}let Y=J.body.filter((X)=>X.type==="FunctionDeclaration");if(Y.length===0)throw new z1("Source must contain a function declaration",{line:1,column:0},void 0,Z);if(Y.length>1){let X=Y[1];throw new z1("Only a single function per agent is allowed",X.loc?.start||{line:1,column:0},void 0,Z)}return Y[0]}function jO(J,Z){let Y={params:{}};if(!Z.loc)return Y;let q=J.substring(0,Z.start).match(/\/\*\*[\s\S]*?\*\/\s*$/);if(!q)return Y;let Q=q[0],K=Q.match(/\/\*\*\s*\n?\s*\*?\s*([^@\n][^\n]*)/m);if(K)Y.description=K[1].trim();let $=/@param\s+(?:\{[^}]+\}\s+)?(\w+)\s*-?\s*(.*)/g,U;while((U=$.exec(Q))!==null)Y.params[U[1]]=U[2].trim();return Y}function Z5(J){switch(J.type){case"Literal":{let Z=J.value;if(Z===null)return{kind:"null"};if(typeof Z==="string")return{kind:"string"};if(typeof Z==="number")return{kind:"number"};if(typeof Z==="boolean")return{kind:"boolean"};return{kind:"any"}}case"ArrayExpression":{let Z=J.elements;if(Z.length===0)return{kind:"array",items:{kind:"any"}};return{kind:"array",items:Z5(Z[0])}}case"ObjectExpression":{let Z=J.properties,Y={};for(let X of Z)if(X.type==="Property"&&X.key.type==="Identifier"){let q=X.key.name;Y[q]=Z5(X.value)}return{kind:"object",shape:Y}}case"LogicalExpression":{let{operator:Z,left:Y,right:X}=J;if(Z==="||"){let q=Z5(Y),Q=Z5(X);if(Q.kind==="null")return{...q,nullable:!0};if(q.kind==="null")return{...Q,nullable:!0};return{kind:"union",members:[q,Q]}}if(Z==="&&")return Z5(X);return{kind:"any"}}case"Identifier":return{kind:"any"};case"UnaryExpression":{if(J.operator==="-"&&J.argument.type==="Literal"){if(typeof J.argument.value==="number")return{kind:"number"}}return{kind:"any"}}default:return{kind:"any"}}}function i6(J,Z){if(J.type==="Identifier")return{name:J.name,type:{kind:"any"},required:!0};if(J.type==="AssignmentPattern"){let{left:Y,right:X}=J;if(Y.type!=="Identifier")throw new A0("Only simple parameter names are supported",I0(J));let q=Y.name,Q=Z?.has(q)??!1,K=Z5(X),$=cJ(X);return{name:q,type:K,required:Q,default:Q?null:$}}if(J.type==="ObjectPattern"){let Y=J.properties,X={},q={};for(let Q of Y)if(Q.type==="Property"){let K=Q.key.type==="Identifier"?Q.key.name:String(Q.key.value);if(Q.value.type==="Identifier")X[K]={kind:"any"},q[K]={name:K,type:{kind:"any"},required:!0};else if(Q.value.type==="AssignmentPattern"){let $=i6(Q.value);X[K]=$.type,q[K]={name:K,type:$.type,required:!1,default:$.default}}}return{name:"__destructured__",type:{kind:"object",shape:X,destructuredParams:q},required:!0}}throw new A0(`Unsupported parameter pattern: ${J.type}`,I0(J))}function cJ(J){switch(J.type){case"Literal":return J.value;case"ArrayExpression":return J.elements.map((Z)=>Z?cJ(Z):null);case"ObjectExpression":{let Z={};for(let Y of J.properties)if(Y.type==="Property"&&Y.key.type==="Identifier")Z[Y.key.name]=cJ(Y.value);return Z}case"UnaryExpression":if(J.operator==="-"){let Z=cJ(J.argument);return typeof Z==="number"?-Z:void 0}return;case"LogicalExpression":{let{operator:Z,left:Y,right:X}=J;if(Z==="&&"){if(Y.type==="Literal"&&Y.value===null)return null}if(Z==="||")return cJ(Y)??cJ(X);return}default:return}}function OX(J){try{let Z=$O(J,0,{ecmaVersion:2022});return Z5(Z)}catch{return{kind:"any"}}}function c6(J){switch(J.kind){case"string":return J.nullable?"string | null":"string";case"number":return J.nullable?"number | null":"number";case"boolean":return J.nullable?"boolean | null":"boolean";case"null":return"null";case"any":return"any";case"array":{let Z=J.items?c6(J.items):"any";return J.nullable?`${Z}[] | null`:`${Z}[]`}case"object":{if(!J.shape||Object.keys(J.shape).length===0)return J.nullable?"object | null":"object";let Z=Object.entries(J.shape).map(([Y,X])=>`${Y}: ${c6(X)}`).join(", ");return J.nullable?`{ ${Z} } | null`:`{ ${Z} }`}case"union":return J.members?.map(c6).join(" | ")||"any";default:return"any"}}function n6(J,Z){if(J===null||J===void 0)return Z.nullable||Z.kind==="null"||Z.kind==="any";switch(Z.kind){case"any":return!0;case"null":return J===null;case"string":return typeof J==="string";case"number":return typeof J==="number";case"boolean":return typeof J==="boolean";case"array":if(!Array.isArray(J))return!1;if(!Z.items)return!0;return J.every((Y)=>n6(Y,Z.items));case"object":if(typeof J!=="object"||J===null||Array.isArray(J))return!1;if(!Z.shape)return!0;for(let[Y,X]of Object.entries(Z.shape))if(!n6(J[Y],X))return!1;return!0;case"union":if(!Z.members)return!0;return Z.members.some((Y)=>n6(J,Y));default:return!0}}function s6(J,Z,Y,X={},q){let Q=jO(Z,J),K=new Map;for(let H of J.params){let N=i6(H,q);if(N.name==="__destructured__"&&N.type.kind==="object"&&N.type.destructuredParams)for(let[F,M]of Object.entries(N.type.destructuredParams))K.set(F,{...M,description:Q.params[F]});else N.description=Q.params[N.name],K.set(N.name,N)}let $;if(Y)$=OX(Y);let U={depth:0,locals:new Map,parameters:K,atoms:new Set(Object.keys(X.atoms||{})),warnings:[],source:Z,filename:X.filename||"<source>",options:X},W=D5(J.body,U),G=[],j=[],z=[];for(let[H,N]of K.entries())if(N.required)j.push(H);else if(N.default!==void 0)z.push({name:H,defaultValue:N.default});else j.push(H);if(j.length>0)G.push({op:"varsImport",keys:j});for(let{name:H,defaultValue:N}of z)G.push({op:"varsImport",keys:[H]}),G.push({op:"if",condition:{$expr:"binary",op:"==",left:{$expr:"ident",name:H},right:{$expr:"literal",value:null}},then:[{op:"varSet",key:H,value:N}]});G.push(...W);let O={name:J.id?.name||"anonymous",description:Q.description,parameters:Object.fromEntries(K),returns:$};return{ast:{op:"seq",steps:G},signature:O,warnings:U.warnings}}function D5(J,Z){let Y=[];for(let X of J.body){let q=A7(X,Z);if(q)if(Array.isArray(q))Y.push(...q);else Y.push(q)}return Y}function A7(J,Z){switch(J.type){case"VariableDeclaration":return zL(J,Z);case"ExpressionStatement":return OL(J,Z);case"IfStatement":return HL(J,Z);case"WhileStatement":return NL(J,Z);case"ForOfStatement":return RL(J,Z);case"TryStatement":return AL(J,Z);case"ReturnStatement":return FL(J,Z);case"ThrowStatement":throw new A0("'throw' is not supported in AsyncJS. Use Error('message') to trigger error flow",I0(J),Z.source,Z.filename);case"BlockStatement":return{op:"scope",steps:D5(J,V1(Z))};case"EmptyStatement":return null;default:throw new A0(`Unsupported statement type: ${J.type}`,I0(J),Z.source,Z.filename)}}function zL(J,Z){let Y=[],X=J.kind==="const",q=X?"constSet":"varSet";for(let Q of J.declarations){if(Q.id.type!=="Identifier")throw new A0("Only simple variable names are supported",I0(Q),Z.source,Z.filename);let K=Q.id.name;if(Q.init){let{step:$,resultVar:U}=nJ(Q.init,Z,K,X);if($)Y.push($);else if(U!==K)Y.push({op:q,key:K,value:U});let W=Z5(Q.init);Z.locals.set(K,W)}else{if(X)throw new A0("const declarations must be initialized",I0(Q),Z.source,Z.filename);Y.push({op:"varSet",key:K,value:null}),Z.locals.set(K,{kind:"any",nullable:!0})}}return Y}function OL(J,Z){let Y=J.expression;if(Y.type==="AssignmentExpression")return _L(Y,Z);if(Y.type==="CallExpression"){let{step:X,resultVar:q}=nJ(Y,Z);if(X)return X;if(q)return{op:"varSet",key:"_",value:q};return null}return Z.warnings.push({message:"Expression statement has no effect",line:I0(J).line,column:I0(J).column}),null}function _L(J,Z){if(J.left.type!=="Identifier")throw new A0("Only simple variable assignment is supported",I0(J),Z.source,Z.filename);let Y=J.left.name,{step:X,resultVar:q}=nJ(J.right,Z,Y);if(X)return X;return{op:"varSet",key:Y,value:q}}function HL(J,Z){let Y=F0(J.test,Z),X=J.consequent.type==="BlockStatement"?D5(J.consequent,V1(Z)):[A7(J.consequent,Z)].filter(Boolean),q;if(J.alternate)q=J.alternate.type==="BlockStatement"?D5(J.alternate,V1(Z)):[A7(J.alternate,Z)].filter(Boolean);return{op:"if",condition:Y,then:X,...q&&{else:q}}}function NL(J,Z){let Y=F0(J.test,Z),X=J.body.type==="BlockStatement"?D5(J.body,V1(Z)):[A7(J.body,Z)].filter(Boolean);return{op:"while",condition:Y,body:X}}function RL(J,Z){let Y;if(J.left.type==="VariableDeclaration"){let K=J.left.declarations[0];if(K.id.type!=="Identifier")throw new A0("Only simple variable names are supported in for...of",I0(J.left),Z.source,Z.filename);Y=K.id.name}else if(J.left.type==="Identifier")Y=J.left.name;else throw new A0("Unsupported for...of left-hand side",I0(J.left),Z.source,Z.filename);let X=c0(J.right,Z),q=V1(Z);q.locals.set(Y,{kind:"any"});let Q=J.body.type==="BlockStatement"?D5(J.body,q):[A7(J.body,q)].filter(Boolean);return{op:"map",items:X,as:Y,steps:Q}}function AL(J,Z){let Y=D5(J.block,V1(Z)),X,q;if(J.handler){let Q=V1(Z);if(J.handler.param?.type==="Identifier")q=J.handler.param.name,Q.locals.set(q,{kind:"any"});X=D5(J.handler.body,Q)}return{op:"try",try:Y,...X&&{catch:X},...q&&{catchParam:q}}}function FL(J,Z){if(!J.argument)return{op:"return",schema:{}};if(J.argument.type==="ObjectExpression"){let K=J.argument,$=[],U={};for(let W of K.properties)if(W.type==="Property"){let G=W.key.type==="Identifier"?W.key.name:String(W.key.value);U[G]={};let j=W.value;if(W.shorthand||j.type==="Identifier"&&j.name===G)continue;let z=c0(j,Z);if(typeof z==="string"&&z!==G)$.push({op:"varSet",key:G,value:z});else if(typeof z!=="string")$.push({op:"varSet",key:G,value:z})}if($.push({op:"return",schema:{type:"object",properties:U}}),$.length===1)return $[0];return{op:"seq",steps:$}}let Y=TL(J.argument,Z),{step:X,resultVar:q}=nJ(J.argument,Z,"__result__"),Q=[];if(X)Q.push(X);else if(q!=="__result__")Q.push({op:"varSet",key:"__result__",value:q});if(Q.push({op:"return",schema:{__result__:{}}}),Q.length===1)return Q[0];return{op:"seq",steps:Q}}var OO=new Set(["Math","JSON","Array","Object","String","Number","console","Date"]),ML=new Set(["parseInt","parseFloat","isNaN","isFinite","encodeURI","decodeURI","encodeURIComponent","decodeURIComponent","Set","Date","filter"]),F7=new Set(["RegExp","Promise","Map","WeakSet","WeakMap","Symbol","Proxy","Reflect","Function","eval","setTimeout","setInterval","fetch","require","import","process","window","document","global","globalThis"]),VL=new Set(["toUpperCase","toLowerCase","trim","trimStart","trimEnd","charAt","charCodeAt","codePointAt","concat","includes","indexOf","lastIndexOf","startsWith","endsWith","slice","substring","substr","replace","replaceAll","match","search","padStart","padEnd","repeat","normalize","localeCompare","toString","valueOf","at","reverse","sort","fill","copyWithin","flat","flatMap","every","some","forEach","add","remove","has","clear","toArray","union","intersection","diff","format","isBefore","isAfter"]);function IL(J){if(J.callee.type==="Identifier"){let Z=J.callee.name;return ML.has(Z)||F7.has(Z)}if(J.callee.type==="MemberExpression"){let Z=J.callee;if(Z.object.type==="Identifier"){let Y=Z.object.name;if(OO.has(Y)||F7.has(Y))return!0}if(Z.property.type==="Identifier"){let Y=Z.property.name;if(VL.has(Y))return!0}}return!1}function DL(J){if(J.object.type==="Identifier"){let Z=J.object.name;return OO.has(Z)||F7.has(Z)}return!1}var zO={RegExp:"RegExp is not available. Use string methods or the regexMatch atom.",Promise:"Promise is not needed. All operations are implicitly async.",Map:"Map is not available. Use plain objects instead.",WeakSet:"WeakSet is not available.",WeakMap:"WeakMap is not available.",Symbol:"Symbol is not available.",Proxy:"Proxy is not available.",Reflect:"Reflect is not available.",Function:"Function constructor is not available. Define functions normally.",eval:"eval is not available. Code is compiled, not evaluated.",setTimeout:"setTimeout is not available. Use the delay atom.",setInterval:"setInterval is not available. Use while loops with delay.",fetch:"fetch is not available. Use the httpFetch atom.",require:"require is not available. Atoms must be registered with the VM.",import:"import is not available. Atoms must be registered with the VM.",process:"process is not available. AsyncJS runs in a sandboxed environment.",window:"window is not available. AsyncJS runs in a sandboxed environment.",document:"document is not available. AsyncJS runs in a sandboxed environment.",global:"global is not available. AsyncJS runs in a sandboxed environment.",globalThis:"globalThis is not available. Use builtins directly."};function LL(J){if(J.callee.type==="Identifier"){let Z=J.callee.name;if(F7.has(Z))return zO[Z]||`${Z} is not available in AsyncJS.`}if(J.callee.type==="MemberExpression"){let Z=J.callee;if(Z.object.type==="Identifier"){let Y=Z.object.name;if(F7.has(Y))return zO[Y]||`${Y} is not available in AsyncJS.`}}return null}function _O(J){return{Date:" Use Date() or Date('2024-01-15') instead - no 'new' needed.",Set:" Use Set([items]) instead - no 'new' needed.",Map:" Use plain objects instead of Map.",Array:" Use array literals like [1, 2, 3] instead.",Object:" Use object literals like { key: value } instead.",Error:" Return an error object like { error: 'message' } instead.",RegExp:" Use string methods or the regexMatch atom.",Promise:" Not needed - all operations are implicitly async.",WeakSet:" WeakSet is not available.",WeakMap:" WeakMap is not available."}[J]||" Use factory functions or object literals instead."}function nJ(J,Z,Y,X){let q=X?"constSet":"varSet";if(J.type==="ChainExpression")return nJ(J.expression,Z,Y,X);if(J.type==="NewExpression"){let K=J,$="constructor";if(K.callee.type==="Identifier")$=K.callee.name;let U=_O($);throw new A0(`The 'new' keyword is not supported in AsyncJS.${U}`,I0(J),Z.source,Z.filename)}if(J.type==="CallExpression"){let K=LL(J);if(K)throw new A0(K,I0(J),Z.source,Z.filename)}if(J.type==="CallExpression"&&IL(J)){let K=F0(J,Z);if(Y)return{step:{op:q,key:Y,value:K},resultVar:Y};return{step:null,resultVar:K}}if(J.type==="MemberExpression"&&DL(J)){let K=F0(J,Z);if(Y)return{step:{op:q,key:Y,value:K},resultVar:Y};return{step:null,resultVar:K}}if(J.type==="CallExpression")return BL(J,Z,Y,X);if(J.type==="TemplateLiteral")return EL(J,Z,Y,X);if(J.type==="BinaryExpression"||J.type==="LogicalExpression"||J.type==="UnaryExpression"){let K=F0(J,Z);if(Y)return{step:{op:q,key:Y,value:K},resultVar:Y};return{step:null,resultVar:K}}return{step:null,resultVar:c0(J,Z)}}function BL(J,Z,Y,X){let q,Q=!1,K;if(J.callee.type==="Identifier")q=J.callee.name;else if(J.callee.type==="MemberExpression"){let U=J.callee;if(U.property.type==="Identifier")q=U.property.name,Q=!0,K=c0(U.object,Z);else throw new A0("Computed method names are not supported",I0(J),Z.source,Z.filename)}else throw new A0("Only named function calls are supported",I0(J),Z.source,Z.filename);if(Q)return PL(q,K,J.arguments,Z,Y,X);if(q==="console"&&J.callee.type==="MemberExpression");let $=CL(J,Z);return{step:{op:q,...$,...Y&&{result:Y},...Y&&X&&{resultConst:!0}},resultVar:Y}}function PL(J,Z,Y,X,q,Q){switch(J){case"map":if(Y.length>0&&(Y[0].type==="ArrowFunctionExpression"||Y[0].type==="FunctionExpression")){let K=Y[0],$=K.params[0],U=$?.type==="Identifier"?$.name:"item",W=V1(X);W.locals.set(U,{kind:"any"});let G;if(K.body.type==="BlockStatement")G=D5(K.body,W);else{let{step:j,resultVar:z}=nJ(K.body,W,"result");G=j?[j]:[{op:"varSet",key:"result",value:z}]}return{step:{op:"map",items:Z,as:U,steps:G,...q&&{result:q},...q&&Q&&{resultConst:!0}},resultVar:q}}break;case"filter":if(Y.length>0&&(Y[0].type==="ArrowFunctionExpression"||Y[0].type==="FunctionExpression")){let K=Y[0],$=K.params[0],U=$?.type==="Identifier"?$.name:"item",W=V1(X);W.locals.set(U,{kind:"any"});let G;if(K.body.type==="BlockStatement")throw new A0("filter callback must be an expression, not a block",I0(Y[0]),X.source,X.filename);else G=F0(K.body,W);return{step:{op:"filter",items:Z,as:U,condition:G,...q&&{result:q},...q&&Q&&{resultConst:!0}},resultVar:q}}break;case"find":if(Y.length>0&&(Y[0].type==="ArrowFunctionExpression"||Y[0].type==="FunctionExpression")){let K=Y[0],$=K.params[0],U=$?.type==="Identifier"?$.name:"item",W=V1(X);W.locals.set(U,{kind:"any"});let G;if(K.body.type==="BlockStatement")throw new A0("find callback must be an expression, not a block",I0(Y[0]),X.source,X.filename);else G=F0(K.body,W);return{step:{op:"find",items:Z,as:U,condition:G,...q&&{result:q},...q&&Q&&{resultConst:!0}},resultVar:q}}break;case"reduce":if(Y.length>=2&&(Y[0].type==="ArrowFunctionExpression"||Y[0].type==="FunctionExpression")){let K=Y[0],$=K.params[0],U=K.params[1],W=$?.type==="Identifier"?$.name:"acc",G=U?.type==="Identifier"?U.name:"item",j=V1(X);j.locals.set(W,{kind:"any"}),j.locals.set(G,{kind:"any"});let z;if(K.body.type==="BlockStatement")z=D5(K.body,j);else{let{step:H,resultVar:N}=nJ(K.body,j,"result");z=H?[H]:[{op:"varSet",key:"result",value:N}]}let O=c0(Y[1],X);return{step:{op:"reduce",items:Z,as:G,accumulator:W,initial:O,steps:z,...q&&{result:q},...q&&Q&&{resultConst:!0}},resultVar:q}}break;case"slice":break;case"push":return{step:{op:"push",list:Z,item:c0(Y[0],X),...q&&{result:q},...q&&Q&&{resultConst:!0}},resultVar:q};case"join":return{step:{op:"join",list:Z,sep:Y.length>0?c0(Y[0],X):"",...q&&{result:q},...q&&Q&&{resultConst:!0}},resultVar:q};case"split":return{step:{op:"split",str:Z,sep:Y.length>0?c0(Y[0],X):"",...q&&{result:q},...q&&Q&&{resultConst:!0}},resultVar:q}}return X.warnings.push({message:`Unknown method '${J}' - treating as atom call`,line:0,column:0}),{step:{op:J,receiver:Z,args:Y.map((K)=>c0(K,X)),...q&&{result:q},...q&&Q&&{resultConst:!0}},resultVar:q}}function EL(J,Z,Y,X){let q="",Q={};for(let K=0;K<J.quasis.length;K++)if(q+=J.quasis[K].value.cooked||J.quasis[K].value.raw,K<J.expressions.length){let $=J.expressions[K],U=`_${K}`;Q[U]=c0($,Z),q+=`{{${U}}}`}return{step:{op:"template",tmpl:q,vars:Q,...Y&&{result:Y},...Y&&X&&{resultConst:!0}},resultVar:Y}}function F0(J,Z){switch(J.type){case"Literal":return{$expr:"literal",value:J.value};case"Identifier":return{$expr:"ident",name:J.name};case"MemberExpression":{let Y=J,X=F0(Y.object,Z),q=Y.optional===!0;if(Y.computed){let K=Y.property;if(K.type==="Literal")return{$expr:"member",object:X,property:String(K.value),computed:!0,...q&&{optional:!0}};throw new A0("Computed member access with variables not yet supported",I0(J),Z.source,Z.filename)}let Q=Y.property.name;return{$expr:"member",object:X,property:Q,...q&&{optional:!0}}}case"ChainExpression":return F0(J.expression,Z);case"BinaryExpression":{let Y=J;return{$expr:"binary",op:Y.operator,left:F0(Y.left,Z),right:F0(Y.right,Z)}}case"LogicalExpression":{let Y=J;return{$expr:"logical",op:Y.operator,left:F0(Y.left,Z),right:F0(Y.right,Z)}}case"UnaryExpression":{let Y=J;return{$expr:"unary",op:Y.operator,argument:F0(Y.argument,Z)}}case"ConditionalExpression":{let Y=J;return{$expr:"conditional",test:F0(Y.test,Z),consequent:F0(Y.consequent,Z),alternate:F0(Y.alternate,Z)}}case"ArrayExpression":return{$expr:"array",elements:J.elements.filter((X)=>X!==null).map((X)=>F0(X,Z))};case"ObjectExpression":{let Y=J,X=[];for(let q of Y.properties)if(q.type==="Property"){let Q=q.key.type==="Identifier"?q.key.name:String(q.key.value);X.push({key:Q,value:F0(q.value,Z)})}return{$expr:"object",properties:X}}case"CallExpression":{let Y=J;if(Y.callee.type==="MemberExpression"){let X=Y.callee,q=X.property.type==="Identifier"?X.property.name:String(X.property.value),Q=X.optional===!0||Y.optional===!0;return{$expr:"methodCall",object:F0(X.object,Z),method:q,arguments:Y.arguments.map((K)=>F0(K,Z)),...Q&&{optional:!0}}}if(Y.callee.type==="Identifier")return{$expr:"call",callee:Y.callee.name,arguments:Y.arguments.map((q)=>F0(q,Z))};throw new A0("Complex function calls in expressions should be lifted to statements",I0(J),Z.source,Z.filename)}case"NewExpression":{let Y=J,X="constructor";if(Y.callee.type==="Identifier")X=Y.callee.name;let q=_O(X);throw new A0(`The 'new' keyword is not supported in AsyncJS.${q}`,I0(J),Z.source,Z.filename)}default:throw new A0(`Unsupported expression type in condition: ${J.type}`,I0(J),Z.source,Z.filename)}}function c0(J,Z){switch(J.type){case"Literal":return J.value;case"Identifier":return J.name;case"MemberExpression":{let Y=J;if(Y.optional===!0)return F0(J,Z);let q=c0(Y.object,Z);if(q&&typeof q==="object"&&q.$expr){let K=Y.computed?String(Y.property.value):Y.property.name;return{$expr:"member",object:q,property:K,...Y.computed&&{computed:!0}}}if(Y.computed)return`${q}[${c0(Y.property,Z)}]`;let Q=Y.property.name;if(typeof q==="string")return`${q}.${Q}`;if(q&&q.$kind==="arg")return{$kind:"arg",path:`${q.path}.${Q}`};return`${q}.${Q}`}case"ChainExpression":return c0(J.expression,Z);case"ArrayExpression":return J.elements.map((Y)=>Y?c0(Y,Z):null);case"ObjectExpression":{let Y={};for(let X of J.properties)if(X.type==="Property"){let q=X.key.type==="Identifier"?X.key.name:String(X.key.value);Y[q]=c0(X.value,Z)}return Y}case"TemplateLiteral":return"__template__";case"CallExpression":return F0(J,Z);case"BinaryExpression":case"LogicalExpression":case"UnaryExpression":case"ConditionalExpression":return F0(J,Z);default:return null}}function CL(J,Z){if(J.arguments.length===1&&J.arguments[0].type==="ObjectExpression"){let Y=J.arguments[0],X={};for(let q of Y.properties)if(q.type==="Property"){let Q=q.key.type==="Identifier"?q.key.name:String(q.key.value);X[Q]=c0(q.value,Z)}return X}return{args:J.arguments.map((Y)=>c0(Y,Z))}}function TL(J,Z){if(J.type==="ObjectExpression"){let X={type:"object",properties:{}};for(let q of J.properties)if(q.type==="Property"&&q.key.type==="Identifier")X.properties[q.key.name]={};return X}return{type:Z5(J).kind}}function n4(J,Z={}){let{ast:Y,returnType:X,originalSource:q,requiredParams:Q}=d6(J,{filename:Z.filename,colonShorthand:!0}),K=GO(Y,Z.filename),{ast:$,signature:U,warnings:W}=s6(K,q,X,Z,Q);return{ast:$,signature:U,warnings:W}}function yL(J,...Z){if(typeof J==="string")return n4(J).ast;let Y=J.reduce((X,q,Q)=>X+q+(Z[Q]!==void 0?String(Z[Q]):""),"");return n4(Y).ast}function bL(J,Z,Y){let{ast:X,signature:q}=n4(J),Q=async(K)=>{return(await Z.run(X,K,Y)).result};return Q.signature=q,Q.ast=X,Q}function SL(J){return Object.entries(J).map(([Z,Y])=>{let X=Y.signature,q={},Q=[];for(let[K,$]of Object.entries(X.parameters)){if(q[K]=a6($.type),$.description)q[K].description=$.description;if($.required)Q.push(K)}return{type:"function",function:{name:X.name||Z,description:X.description,parameters:{type:"object",properties:q,required:Q}}}})}function a6(J){switch(J.kind){case"string":return{type:"string"};case"number":return{type:"number"};case"boolean":return{type:"boolean"};case"null":return{type:"null"};case"array":return{type:"array",items:J.items?a6(J.items):{}};case"object":if(!J.shape)return{type:"object"};return{type:"object",properties:Object.fromEntries(Object.entries(J.shape).map(([Z,Y])=>[Z,a6(Y)]))};case"union":if(!J.members)return{};return{anyOf:J.members.map(a6)};case"any":default:return{}}}function kL(J){let{openaiKey:Z,anthropicKey:Y,customLlmUrl:X}=J,q=X&&X.trim()!=="",Q=Z&&Z.trim()!=="",K=Y&&Y.trim()!=="";if(!q&&!Q&&!K)return null;return{async predict($,U){if(q)try{let W=await fetch(`${X}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:U?.model||"local-model",messages:[{role:"user",content:$}],temperature:U?.temperature??0.7})});if(!W.ok)throw Error(`LLM Error: ${W.status} - Check that LM Studio is running at ${X}`);return(await W.json()).choices?.[0]?.message?.content??""}catch(W){if(W.message?.includes("Failed to fetch")||W.name==="TypeError")throw Error(`Cannot connect to LM Studio at ${X}. Make sure LM Studio is running and CORS is enabled (Server settings  Enable CORS).`);throw W}if(Q){let W=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Z}`},body:JSON.stringify({model:U?.model||"gpt-4o-mini",messages:[{role:"user",content:$}],temperature:U?.temperature??0.7})});if(!W.ok){let j=await W.json().catch(()=>({}));throw Error(`OpenAI Error: ${W.status} - ${j.error?.message||"Check your API key"}`)}return(await W.json()).choices?.[0]?.message?.content??""}if(K){let W=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":Y,"anthropic-version":"2023-06-01","anthropic-dangerous-direct-browser-access":"true"},body:JSON.stringify({model:U?.model||"claude-3-haiku-20240307",max_tokens:U?.maxTokens||1024,messages:[{role:"user",content:$}]})});if(!W.ok){let j=await W.json().catch(()=>({}));throw Error(`Anthropic Error: ${W.status} - ${j.error?.message||"Check your API key"}`)}return(await W.json()).content?.[0]?.text??""}throw Error("No LLM provider configured")}}}function wL(J){let{openaiKey:Z,anthropicKey:Y,customLlmUrl:X}=J,q=X&&X.trim()!=="",Q=Z&&Z.trim()!=="",K=Y&&Y.trim()!=="";if(!q&&!Q&&!K)return null;return{async predict($,U,W,G){let j=[{role:"system",content:$},{role:"user",content:U}];if(q)try{let z=await fetch(`${X}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"local-model",messages:j,temperature:0.7,tools:W,response_format:G})});if(!z.ok)throw Error(`LLM Error: ${z.status} - Check that LM Studio is running`);return(await z.json()).choices?.[0]?.message??{content:""}}catch(z){if(z.message?.includes("Failed to fetch")||z.name==="TypeError")throw Error(`Cannot connect to LM Studio at ${X}. Make sure LM Studio is running and CORS is enabled.`);throw z}if(Q){let z={model:"gpt-4o-mini",messages:j,temperature:0.7};if(W?.length)z.tools=W;if(G)z.response_format=G;let O=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Z}`},body:JSON.stringify(z)});if(!O.ok){let N=await O.json().catch(()=>({}));throw Error(`OpenAI Error: ${O.status} - ${N.error?.message||"Check your API key"}`)}return(await O.json()).choices?.[0]?.message??{content:""}}if(K){let z=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":Y,"anthropic-version":"2023-06-01","anthropic-dangerous-direct-browser-access":"true"},body:JSON.stringify({model:"claude-3-haiku-20240307",max_tokens:1024,system:$,messages:[{role:"user",content:U}]})});if(!z.ok){let H=await z.json().catch(()=>({}));throw Error(`Anthropic Error: ${z.status} - ${H.error?.message||"Check your API key"}`)}return{content:(await z.json()).content?.[0]?.text??""}}throw Error("No LLM provider configured")},async embed($){if(q)try{let U=await fetch(`${X}/embeddings`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"text-embedding-model",input:$})});if(!U.ok)throw Error(`Embedding Error: ${U.status}`);return(await U.json()).data?.[0]?.embedding??[]}catch{throw Error("Embedding not available")}throw Error("Embedding requires LM Studio endpoint")}}}function xL(){return{openaiKey:localStorage.getItem("openaiKey")||"",anthropicKey:localStorage.getItem("anthropicKey")||"",customLlmUrl:localStorage.getItem("customLlmUrl")||""}}var HO="http://localhost:1234/v1";function hL(){let J=localStorage.getItem("customLlmUrl");if(!(J&&J.trim()!=="")&&window.location.protocol==="http:")localStorage.setItem("customLlmUrl",HO),console.log("\uD83E\uDD16 Defaulting to LM Studio endpoint:",HO)}hL();var{div:KJ,button:i4,span:NO,select:vL,option:RO,optgroup:PC,input:EC}=y;class AO extends k{editor=null;vm=new S6;currentTab="result";lastResult=null;lastAst=null;lastError=null;isRunning=!1;static styleSpec={":host":{display:"block",height:"100%",position:"relative"},".playground":{display:"flex",flexDirection:"column",height:"100%",gap:"10px"},".playground-toolbar":{display:"flex",alignItems:"center",gap:"10px",padding:"10px",background:"#f3f4f6",borderRadius:"6px",flexWrap:"wrap"},".run-btn":{display:"flex",alignItems:"center",gap:"4px",padding:"6px 12px",background:"#3d4a6b",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"500"},".playground-main":{display:"flex",flex:"1 1 auto",gap:"10px",minHeight:0},".playground-editor":{flex:"1 1 50%",minWidth:"300px",minHeight:"300px",border:"1px solid #e5e7eb",borderRadius:"6px",overflow:"hidden",position:"relative"},".playground-editor .cm-editor":{height:"100%",position:"absolute",top:0,left:0,right:0,bottom:0},".playground-editor .cm-scroller":{outline:"none",fontFamily:"Menlo, Monaco, Consolas, 'Courier New', monospace"},".playground-output":{flex:"1 1 50%",display:"flex",flexDirection:"column",minWidth:"300px",border:"1px solid #e5e7eb",borderRadius:"6px",overflow:"hidden"},".playground-tabs":{display:"flex",background:"#f3f4f6",borderBottom:"1px solid #e5e7eb",alignItems:"center"},".playground-tabs .elastic":{flex:"1 1 auto"},".copy-btn":{padding:"4px 8px",marginRight:"4px",border:"none",background:"transparent",cursor:"pointer",opacity:0.6,transition:"opacity 0.15s"},".copy-btn:hover":{opacity:1},".copy-btn.copied":{color:"#16a34a"},".playground-tab":{padding:"5px 10px",border:"none",background:"transparent",cursor:"pointer",color:"inherit",opacity:0.7,transition:"opacity 0.15s, background 0.15s"},".playground-tab:hover":{opacity:1,background:"rgba(99, 102, 241, 0.1)"},".playground-tab.active":{opacity:1,borderBottom:"2px solid #3d4a6b",marginBottom:"-1px"},".playground-result":{flex:"1 1 auto",overflow:"auto",padding:"10px",fontFamily:"'SF Mono', Monaco, 'Cascadia Code', Consolas, monospace",fontSize:"13px",whiteSpace:"pre-wrap",wordBreak:"break-word"},".playground-result.error":{color:"#dc2626"},".playground-result.success":{color:"#16a34a"},".loading-spinner":{display:"inline-block",width:"14px",height:"14px",border:"2px solid #e5e7eb",borderTopColor:"#3d4a6b",borderRadius:"50%",animation:"spin 0.8s linear infinite",verticalAlign:"middle",marginRight:"8px"},"@keyframes spin":{to:{transform:"rotate(360deg)"}},".playground-status":{padding:"5px 10px",background:"#f3f4f6",borderTop:"1px solid #e5e7eb",fontSize:"12px",opacity:0.7},"@media (max-width: 768px)":{".playground-main":{flexDirection:"column"},".playground-editor, .playground-output":{flex:"1 1 auto",minHeight:"250px"}}};content=()=>[KJ({class:"playground"},KJ({class:"playground-toolbar"},i4({part:"runBtn",class:"run-btn"},v.play({size:16}),"Run"),i4({part:"clearBtn",class:"iconic",title:"Clear"},v.x()),NO({style:{flex:"1"}}),vL({part:"exampleSelect",style:{padding:"4px 8px",borderRadius:"4px"}},RO({value:""},"-- Load Example --"),...ZJ.map((J,Z)=>RO({value:Z.toString()},J.requiresApi?`${J.name} \uD83D\uDD11`:J.name)))),KJ({class:"playground-main"},KJ({part:"editorContainer",class:"playground-editor"}),KJ({class:"playground-output"},KJ({class:"playground-tabs"},i4({part:"tabResult",class:"playground-tab active"},"Result"),i4({part:"tabAst",class:"playground-tab"},"AST"),i4({part:"tabTrace",class:"playground-tab"},"Trace"),NO({class:"elastic"}),i4({part:"copyBtn",class:"copy-btn",title:"Copy to clipboard"},v.copy({size:16}))),KJ({part:"resultContainer",class:"playground-result"},"// Run code to see results"),KJ({part:"statusBar",class:"playground-status"},"Ready"))))];connectedCallback(){super.connectedCallback(),this.parts.runBtn.addEventListener("click",this.runCode),this.parts.clearBtn.addEventListener("click",this.clearEditor),this.parts.exampleSelect.addEventListener("change",this.loadExample),this.parts.tabResult.addEventListener("click",()=>this.switchTab("result")),this.parts.tabAst.addEventListener("click",()=>this.switchTab("ast")),this.parts.tabTrace.addEventListener("click",()=>this.switchTab("trace")),this.parts.copyBtn.addEventListener("click",this.copyOutput),window.addEventListener("hashchange",this.handleHashChange),this.initEditor()}disconnectedCallback(){window.removeEventListener("hashchange",this.handleHashChange)}getExampleFromHash(){let J=window.location.hash.slice(1),Y=new URLSearchParams(J).get("example");if(Y===null)return 0;let X=parseInt(Y,10);if(!isNaN(X)&&X>=0&&X<ZJ.length)return X;let q=decodeURIComponent(Y).toLowerCase(),Q=ZJ.findIndex((K)=>K.name.toLowerCase()===q);return Q>=0?Q:0}setHashForExample(J){let Z=ZJ[J];if(Z){let Y=`example=${encodeURIComponent(Z.name)}`;history.replaceState(null,"",`#${Y}`)}}handleHashChange=()=>{let J=this.getExampleFromHash();this.loadExampleByIndex(J)};initEditor(){let J=this.parts.editorContainer;if(!J)return;let Z=[BG,y4(Z6),tG()],Y=this.getExampleFromHash(),X=ZJ[Y]?.code||`// Write your AsyncJS code here
`;if(this.editor=new C({state:o.create({doc:X,extensions:Z}),parent:J}),this.parts.exampleSelect.selectedIndex=Y+1,!window.location.hash.includes("example="))this.setHashForExample(Y)}loadExampleByIndex(J){if(J>=0&&J<ZJ.length&&this.editor){let Z=ZJ[J];this.editor.dispatch({changes:{from:0,to:this.editor.state.doc.length,insert:Z.code}}),this.parts.exampleSelect.selectedIndex=J+1,this.setHashForExample(J)}}loadExample=(J)=>{let Z=J.target.selectedIndex-1;if(Z>=0)this.loadExampleByIndex(Z)};clearEditor=()=>{if(this.editor)this.editor.dispatch({changes:{from:0,to:this.editor.state.doc.length,insert:""}});this.parts.resultContainer.textContent="",this.parts.statusBar.textContent="Ready"};copyOutput=async()=>{let J=this.parts.resultContainer.textContent||"";try{await navigator.clipboard.writeText(J),this.parts.copyBtn.classList.add("copied"),setTimeout(()=>{this.parts.copyBtn.classList.remove("copied")},1500)}catch(Z){console.error("Failed to copy:",Z)}};switchTab(J){this.currentTab=J,this.parts.tabResult.classList.toggle("active",J==="result"),this.parts.tabAst.classList.toggle("active",J==="ast"),this.parts.tabTrace.classList.toggle("active",J==="trace"),this.updateOutput()}updateOutput(){let J=this.parts.resultContainer;if(J.className="playground-result",this.lastError){J.className+=" error",J.textContent=this.lastError;return}switch(this.currentTab){case"ast":J.textContent=this.lastAst?JSON.stringify(this.lastAst.ast,null,2):"// Run code to see AST";break;case"trace":J.textContent=this.lastResult?.trace?this.lastResult.trace.map((Z)=>`${Z.op}: ${JSON.stringify(Z.result)}`).join(`
`):"// Run code with tracing enabled to see execution trace";break;case"result":default:if(this.lastResult){J.className+=this.lastResult.error?" error":" success";let Z=this.lastResult.error||this.lastResult.result;J.textContent=typeof Z==="string"?Z:JSON.stringify(Z,null,2)}else J.textContent="// Run code to see results";break}}runCode=async()=>{if(console.log("runCode called",{isRunning:this.isRunning,editor:this.editor}),this.isRunning||!this.editor)return;this.isRunning=!0,this.lastError=null,this.lastAst=null,this.lastResult=null;let J=this.editor.state.doc.toString(),Z=performance.now();this.parts.resultContainer.className="playground-result",this.parts.resultContainer.innerHTML='<span class="loading-spinner"></span> Running...',this.parts.statusBar.textContent="Transpiling...";let Y=setInterval(()=>{let X=((performance.now()-Z)/1000).toFixed(1);this.parts.statusBar.textContent=`Running... ${X}s`},100);try{let X=n4(J);this.lastAst=X,this.parts.statusBar.textContent="Running...";let q={};if(X.signature?.parameters){for(let[j,z]of Object.entries(X.signature.parameters))if("default"in z)q[j]=z.default}let Q=xL(),K=kL(Q),$=wL(Q),U=()=>{if(window.location.protocol==="https:")throw Error("No LLM configured. Go to Settings () > API Keys to add an OpenAI or Anthropic API key. Note: Local LLM endpoints require HTTP.");else throw Error("No LLM configured. Go to Settings () > API Keys to add an OpenAI key, Anthropic key, or LM Studio endpoint (default: http://localhost:1234/v1).")},W=await this.vm.run(X.ast,q,{trace:!0,fuel:1e4,capabilities:{fetch:async(j,z)=>{let O=await fetch(j,z),H=O.headers.get("content-type");if(H&&H.includes("application/json"))return O.json();return O.text()},store:f4(),llm:{predict:async(j,z)=>{if(!K)U();return K.predict(j,z)}},llmBattery:$||{predict:()=>U(),embed:()=>U()}}});this.lastResult=W,clearInterval(Y);let G=((performance.now()-Z)/1000).toFixed(2);this.parts.statusBar.textContent=`Done in ${G}s (${W.fuelUsed.toFixed(1)} fuel)`}catch(X){clearInterval(Y);let q=((performance.now()-Z)/1000).toFixed(2);this.lastError=X.message||String(X),this.parts.statusBar.textContent=`Error after ${q}s`}this.updateOutput(),this.isRunning=!1};render(){super.render()}}console.log("Registering agent-playground component");var FO=AO.elementCreator({tag:"agent-playground"});var{div:m1,button:_X,span:mL,label:HX,input:NX,h2:uL,p:gL}=y;OJ("settings-styles",{".settings-overlay":{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1000},".settings-dialog":{background:A.background,borderRadius:A.borderRadius,padding:A.spacing200,maxWidth:"500px",width:"90%",maxHeight:"80vh",overflow:"auto",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.3)"},".settings-header":{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:A.spacing},".settings-header h2":{margin:0,fontSize:"1.25em"},".settings-section":{marginBottom:A.spacing200},".settings-section h3":{fontSize:"1em",marginBottom:A.spacing,color:A.brandColor},".settings-field":{marginBottom:A.spacing},".settings-field label":{display:"block",marginBottom:"4px",fontSize:"0.9em",fontWeight:500},".settings-field input":{width:"100%",padding:"8px 12px",border:`1px solid ${A.codeBorder}`,borderRadius:A.borderRadius,background:A.background,color:A.textColor,fontSize:"inherit"},".settings-field input:focus":{outline:"none",borderColor:A.brandColor,boxShadow:"0 0 0 2px rgba(99, 102, 241, 0.2)"},".settings-field .hint":{fontSize:"0.8em",color:A.textColor,opacity:0.7,marginTop:"4px"},".settings-actions":{display:"flex",justifyContent:"flex-end",gap:A.spacing,marginTop:A.spacing200,paddingTop:A.spacing,borderTop:`1px solid ${A.codeBorder}`},".settings-btn":{padding:"8px 16px",borderRadius:A.borderRadius,border:"none",cursor:"pointer",fontWeight:500},".settings-btn.primary":{background:A.brandColor,color:"white"},".settings-btn.secondary":{background:A.codeBackground,color:A.textColor}});function MO(J,Z){let Y=m1({class:"settings-overlay"}),X=NX({type:"password",placeholder:"sk-...",value:J.openaiKey}),q=NX({type:"password",placeholder:"sk-ant-...",value:J.anthropicKey}),Q=NX({type:"url",placeholder:"http://localhost:1234/v1",value:J.customLlmUrl}),K=()=>{Y.remove()},$=()=>{Z({openaiKey:X.value,anthropicKey:q.value,customLlmUrl:Q.value}),K()};Y.append(m1({class:"settings-dialog"},m1({class:"settings-header"},uL("Settings"),_X({class:"iconic",onClick:K},v.x())),m1({class:"settings-section"},m1({style:{fontWeight:600,marginBottom:"10px"}},"LLM API Keys"),gL({style:{fontSize:"0.85em",opacity:0.8,marginBottom:"15px"}},"API keys are stored locally in your browser and never sent to any server except the respective API provider."),m1({class:"settings-field"},HX("OpenAI API Key"),X,m1({class:"hint"},"For GPT-4, GPT-3.5, etc.")),m1({class:"settings-field"},HX("Anthropic API Key"),q,m1({class:"hint"},"For Claude models")),m1({class:"settings-field"},HX("Custom LLM Endpoint"),Q,m1({class:"hint"},"OpenAI-compatible endpoint (e.g., LM Studio, Ollama). ",window.location.protocol==="https:"?mL({style:{color:"#dc2626"}},"Note: Local endpoints require HTTP. Use http://localhost:8699 for local LLMs."):"Local endpoints work on HTTP."))),m1({class:"settings-actions"},_X({class:"settings-btn secondary",onClick:K},"Cancel"),_X({class:"settings-btn primary",onClick:$},"Save")))),Y.addEventListener("click",(W)=>{if(W.target===Y)K()});let U=(W)=>{if(W.key==="Escape")K(),document.removeEventListener("keydown",U)};document.addEventListener("keydown",U),document.body.append(Y)}var VO=[{text:`<!--{"pin": "top"}-->

# tosijs-agent

[github](https://github.com/tonioloewald/tosijs-agent#readme) | [npm](https://www.npmjs.com/package/tosijs-agent) | [discord](https://discord.gg/ramJ9rgky5)

![tosijs-agent logo](/tosijs-agent.svg)

A **type-safe-by-design, cost-limited virtual machine** that enables the **safe execution of untrusted code** anywhere.

It's **safe eval** in the cloud.

And it's **tiny**, ![bundlejs bundle including dependencies](https://deno.bundlejs.com/badge?q=tosijs-agent).

tosijs-agent allows you to define complex logic chains, agents, and data pipelines_computer programs_using a fluent TypeScript builder. These definitions compile to a safe, JSON-serializable AST ([Abstract Syntax Tree](https://en.wikipedia.org/wiki/Abstract_syntax_tree)) that can be executed in the browser, on the server, or at the edge.

For a deeper dive into the architecture and security model, see the [Technical Context](./CONTEXT.md).

### Why do you care?

- **Service-as-a-Service:** Define a complete backend serviceincluding database fetches, API calls, and logicentirely as data, and execute it safely on a server.
- **Agents-as-Data:** Build AI agents entirely as JSON objects. Send them to a server to run instantlyno deployment, no build steps, no spin-up time.
- **Universal Runtime:** Run your agent logic in the browser for zero-latency UI updates, or move it to the server for heavy lifting. Because the AST is strongly typed JSON, it is easy to build a runtime for any language or hardware stack, or even compile it directly to LLVM.

### The Holy Grail

tosijs-agent solves fundamental problems in distributed computing:

- **Safe "Useful Mining":** Allows distributed nodes to execute productive, arbitrary work safely (sandboxed & gas-limited)  e.g. replacing Proof-of-Work with distributed data processing.
- **Code is Data:** Logic is defined as a portable AST, making execution language-agnostic and portable.
- **True Network Agents:** Write code that travels to the data, rather than moving petabytes of data to the code.
- **Type-Safe Composition:** Build robust pipelines where inputs and outputs are strictly validated at every step.

## Comparison: tosijs-agent vs LangChain

Consider building a "Research Agent" that searches for a topic, summarizes it, critiques the summary, and refines the search if needed.

### LangChain

Requires defining Tools, PromptTemplates, Chains (or Graph nodes), and wiring them up with complex state management classes. To refine the logic, you must redeploy the application code.

### tosijs-agent

The entire logic is a single, fluent expression that compiles to JSON. You can refine the agent's behavior by simply sending a new JSON payload to the serverno deployment required.

\`\`\`typescript
// Research Agent: Search -> Summarize -> Critique -> Loop
const agent = Agent.take(s.object({ topic: s.string })).while(
  '!good && tries < 3',
  {},
  (loop) =>
    loop
      .storeSearch({ query: 'topic' })
      .as('results')
      .llmPredict({ system: 'Summarize', user: 'results' })
      .as('summary')
      .llmPredict({ system: 'Critique', user: 'summary' })
      .as('feedback')
      .if(
        'feedback == "OK"',
        {},
        (yes) => yes.varSet({ key: 'good', value: true }),
        (no) => no.llmPredict({ system: 'Refine', user: 'topic' }).as('topic')
      )
)
\`\`\`

## Example Project

To see a complete, working example of how to build an agent with a simple UI, check out the official playground project:

**[https://github.com/brainsnorkel/agent99-playground](https://github.com/brainsnorkel/agent99-playground)**

## Installation

\`\`\`bash
bun add tosijs-agent
# or
npm install tosijs-agent
\`\`\`

## Quick Start

### 1. Define Logic (The Builder)

Use the fluent builder to create a logic chain.

\`\`\`typescript
import { Agent, s } from 'tosijs-agent'

// Define a simple calculation agent
const calculateTotal = Agent.take(
  s.object({
    price: s.number,
    taxRate: s.number,
  })
)
  // Use varSet with expression nodes for arithmetic
  .varSet({
    key: 'total',
    value: {
      $expr: 'binary',
      op: '*',
      left: Agent.args('price'),
      right: {
        $expr: 'binary',
        op: '+',
        left: { $expr: 'literal', value: 1 },
        right: Agent.args('taxRate'),
      },
    },
  })
  .return(s.object({ total: s.number }))

// Compile to JSON AST
const ast = calculateTotal.toJSON()
console.log(JSON.stringify(ast, null, 2))
\`\`\`

### 2. Execute (The VM)

Run the AST in the VM. The VM is stateless and isolated.

\`\`\`typescript
import { AgentVM } from 'tosijs-agent'

const vm = new AgentVM()

const result = await vm.run(
  ast,
  { price: 100, taxRate: 0.2 }, // Input Args
  { fuel: 1000 } // Execution Options
)

console.log(result.result) // { total: 120 }
console.log(result.fuelUsed) // Gas consumed
\`\`\`

## Tracing and Debugging

For debugging and testing, you can enable trace mode to get a detailed log of the agent's execution path.

\`\`\`typescript
const { result, trace } = await vm.run(
  ast,
  { price: 100, taxRate: 0.2 },
  { trace: true } // Enable trace mode
)

console.log(trace)
\`\`\`

The \`trace\` output is an array of \`TraceEvent\` objects, where each event records the state of the agent before and after an atom's execution, along with the inputs, outputs, and fuel consumption.

\`\`\`typescript
interface TraceEvent {
  op: string
  input: any
  stateBefore: any
  stateAfter: any
  result?: any
  error?: string
  fuelBefore: number
  fuelAfter: number
  timestamp: string
}
\`\`\`

## Core Atoms

The standard library includes essential primitives:

| Category         | Atoms                                                              | Description                                                                                                           |
| ---------------- | ------------------------------------------------------------------ | --------------------------------------------------------------------------------------------------------------------- |
| **Flow**         | \`seq\`, \`if\`, \`while\`, \`return\`, \`try\`                              | Control flow and loops.                                                                                               |
| **State**        | \`varSet\`, \`varGet\`, \`varsLet\`, \`varsImport\`, \`varsExport\`, \`scope\` | Variable management, including batch operations for importing variables from arguments and exporting them as results. |
| **Expressions**  | ExprNode (\`$expr\`)                                                 | Safe expression evaluation via AST nodes (binary, unary, member, etc.).                                               |
| **Logic**        | \`eq\`, \`gt\`, \`and\`, \`not\`, ...                                      | Boolean logic.                                                                                                        |
| **IO**           | \`httpFetch\`                                                        | HTTP requests.                                                                                                        |
| **Store**        | \`storeGet\`, \`storeSet\`                                             | Key-Value storage.                                                                                                    |
| **AI**           | \`llmPredict\`, \`agentRun\`                                           | LLM calls and sub-agent recursion.                                                                                    |
| **Utils**        | \`random\`, \`uuid\`, \`hash\`                                           | Random generation, UUIDs, and hashing.                                                                                |
| **Optimization** | \`memoize\`, \`cache\`                                                 | In-memory memoization and persistent caching. Keys are optional and will be auto-generated if not provided.           |

## Capabilities & Security

tosijs-agent uses a **[Capability-Based Security](https://en.wikipedia.org/wiki/Capability-based_security)** model. The VM cannot access the network, file system, or database unless provided with a Capability.

**Zero Config Defaults:** The runtime provides sensible defaults for local development:

- \`httpFetch\` uses the global \`fetch\`.
- \`store\` uses an in-memory \`Map\` (ephemeral).
- \`random\`/\`uuid\` use \`crypto\` or \`Math\`.

In production, you should inject secure, instrumented, or cloud-native implementations (e.g., restricted fetch, Postgres, Redis).

### Execution Timeout

The VM enforces a hard timeout to prevent hung agentssafeguarding against code that effectively halts by waiting on slow or non-responsive IO.

- **Automatic Safety Net:** Defaults to \`fuel  10ms\` (e.g., 1000 fuel  10s budget). _Note: For IO-heavy agents with low fuel costs, explicitly set \`timeoutMs\` to prevent premature timeouts._
- **Explicit Control:** Pass \`timeoutMs\` to enforce a strict Service Level Agreement (SLA).
- **Cancellation:** Pass an \`AbortSignal\` to integrate with external cancellation controllers (e.g., user cancellation buttons or HTTP request timeouts).

**Resource Cleanup:** When a timeout occurs, the VM passes the abort signal to the currently executing atom (via \`ctx.signal\`). Atoms implementing cancellation (like \`httpFetch\`) will abort their network requests immediately.

\`\`\`typescript
// 1. Default Safety Net (good for compute-heavy logic)
await vm.run(ast, args, { fuel: 1000 })

// 2. SLA Enforcement: "This agent must finish in 5s or we drop it"
await vm.run(ast, args, { fuel: 5000, timeoutMs: 5000 })

// 3. User Cancellation: connect UI "Stop" button to the Agent
const controller = new AbortController()
stopButton.onClick(() => controller.abort())
await vm.run(ast, args, { signal: controller.signal })
\`\`\`

**Fuel vs Timeout:** Fuel protects against CPU-bound abuse (tight loops). Timeout protects against IO-bound abuse (slow network calls). Together they ensure the VM cannot be held hostage.

### Cost Overrides

Default fuel costs are context-agnostic guesses. In production, you'll want to tune costs for your specific deploymentan LLM call to a local model vs OpenAI has very different resource implications.

\`\`\`typescript
// Static overrides
await vm.run(ast, args, {
  fuel: 1000,
  costOverrides: {
    httpFetch: 50, // We pay per API request
    llmPredict: 500, // LLM calls are expensive
    storeGet: 0.5, // Redis is cheap
  },
})

// Dynamic overrides based on input
await vm.run(ast, args, {
  costOverrides: {
    llmPredict: (input) => (input.model?.includes('gpt-4') ? 1000 : 100),
    storeSet: (input) => JSON.stringify(input.value).length * 0.001,
  },
})
\`\`\`

This lets operators tune fuel costs for their reality rather than relying on universal defaults.

### Request Context

For production deployments, you often need to pass request-scoped metadata (auth, permissions, request IDs) to atoms. The \`context\` option provides a clean mechanism for this.

\`\`\`typescript
// Pass auth/permissions from your request handler
await vm.run(ast, args, {
  context: {
    userId: 'user-123',
    permissions: ['read:data', 'fetch:external'],
    requestId: crypto.randomUUID(),
  },
})
\`\`\`

Atoms access context via \`ctx.context\`:

\`\`\`typescript
const secureFetch = defineAtom(
  'secureFetch',
  s.object({ url: s.string }),
  s.any,
  async (input, ctx) => {
    const permissions = ctx.context?.permissions ?? []
    if (!permissions.includes('fetch:external')) {
      throw new Error('Not authorized for external fetch')
    }
    return ctx.capabilities.fetch(input.url)
  }
)
\`\`\`

Use cases:

- **Authorization:** Check user permissions before executing sensitive operations
- **Multi-tenancy:** Route storage/database calls to tenant-specific resources
- **Audit logging:** Include request IDs in all log entries
- **Dynamic costs:** Combine with \`costOverrides\` for user-tier-based pricing

**Security Note:** The sandbox protects against malicious _agents_, not malicious _atom implementations_. Atoms are registered by the host and are trusted to be non-blocking and to respect \`ctx.signal\` for cancellation.

## Batteries Included (Zero-Dependency Local AI)

For local AI development, Agent99 provides a "Batteries Included" setup that runs out-of-the-box with **zero external dependencies or API keys**. It features a built-in vector search and connects to [LM Studio](https://lmstudio.ai/) for local model inference.

### 1. Setup LM Studio

To use the batteries, you need to have LM Studio running in the background.

1.  **Download and Install:** Get LM Studio from [lmstudio.ai](https://lmstudio.ai/).
2.  **Download Models:** You'll need at least one LLM and one embedding model. We recommend:
    - **LLM:** Search for a [GGUF](https://github.com/ggerganov/ggml/blob/master/docs/gguf.md) model like \`Meta-Llama-3-8B-Instruct.Q4_K_M.gguf\` for a good balance of performance and size.
    - **Embedding:** Search for \`nomic-embed-text-v1.5.Q8_0.gguf\`.
3.  **Start the Server:** Go to the "Local Server" tab (icon: \`<-->\`) and click "Start Server".

### 2. How it Works

When you first import the \`batteries\` from \`tosijs-agent\`, the runtime performs a one-time audit of the models available on your LM Studio server. It automatically detects which models are for embeddings and which are for chat, and caches the results to avoid re-auditing during the same session.

This allows Agent99 to automatically select the correct models for different tasks without any configuration. The cache uses \`localStorage\` if available (in a browser environment), or a simple in-memory cache otherwise.

### 3. Usage

The \`batteries\` export contains the necessary capabilities. To use them, register the \`batteryAtoms\` with the \`AgentVM\` and pass the \`batteries\` object to the \`run\` method's capabilities.

> **Note on Breaking Change:** Previously, battery atoms were exported individually. They are now consolidated into a single \`batteryAtoms\` object. This simplifies registration with the \`AgentVM\`.
>
> **Old Way:**
>
> \`\`\`typescript
> import { AgentVM, batteries, storeVectorize, storeSearch } from 'tosijs-agent'
> const vm = new AgentVM({ storeVectorize, storeSearch, ... })
> \`\`\`
>
> **New Way:**
>
> \`\`\`typescript
> import { AgentVM, batteries, batteryAtoms } from 'tosijs-agent'
> const vm = new AgentVM(batteryAtoms)
> \`\`\`

\`\`\`typescript
import { AgentVM, batteries, batteryAtoms, Agent } from 'tosijs-agent'

// Register the battery atoms
const vm = new AgentVM(batteryAtoms)

// The batteries are audited on import.
const logic = vm.Agent.storeVectorize({ text: 'Hello' }).as('vector')

const { result } = await vm.run(logic.toJSON(), {}, { capabilities: batteries })

console.log(result)
\`\`\`

### 4. Vector Search Performance

The built-in vector search is implemented with a highly optimized **[cosine similarity](https://en.wikipedia.org/wiki/Cosine_similarity) function** that operates directly on arrays. It is designed for serverless and edge environments where low-latency is critical. Benchmarks run on a 2023 M3 Max using \`bun test\` show the following performance characteristics:

| Vector Count | Dimensions | Search Time |
| :----------- | :--------- | :---------- |
| 10,000       | 500        | ~15 ms      |
| 10,000       | 1000       | ~22 ms      |
| 100,000      | 500        | ~101 ms     |

These results demonstrate that the in-memory vector store is suitable for a wide range of real-time applications without requiring a dedicated vector database.

> **cosine similarity** is the most popular algorithm for vector search, but there are many others (along with strategies for dealing with extremely large data-sets). For more information you can start with this Wikipedia article [Vector database](https://en.wikipedia.org/wiki/Vector_database).

### 5. Structured Outputs

You can request structured JSON responses (e.g., JSON Schema) from compatible models using \`responseFormat\`:

\`\`\`typescript
const logic = vm.Agent.llmPredictBattery({
  system: 'Extract data.',
  user: 'John Doe, 30',
  responseFormat: {
    type: 'json_schema',
    json_schema: {
      name: 'person',
      schema: {
        type: 'object',
        properties: {
          name: { type: 'string' },
          age: { type: 'number' },
        },
        required: ['name', 'age'],
      },
    },
  },
})
\`\`\`

### 5. Troubleshooting

- **Connection Error:** If you see an error like \`Failed to connect to LM Studio\`, make sure the LM Studio server is running on the default port (\`1234\`).
- **No Models Found:** Ensure you have downloaded compatible GGUF models and they are loaded in LM Studio. The audit process will warn you if it cannot find suitable LLM or embedding models.

## Self-Documentation for Agents

The VM can describe itself to an LLM, generating an [OpenAI-compatible Tool Schema](https://platform.openai.com/docs/guides/function-calling) for its registered atoms.

\`\`\`typescript
// Get all tools
const tools = vm.getTools()

// Get only flow control tools
const flowTools = vm.getTools('flow')

// Get specific tools
const myTools = vm.getTools(['httpFetch', 'template'])
\`\`\`

## Implementing Real-World Atoms

To enable custom capabilities like Database Access or Web Scraping, you inject them into the \`VM.run\` call.

#### Example: Providing a Database

\`\`\`typescript
import { AgentVM } from 'tosijs-agent'

const vm = new AgentVM()

const capabilities = {
  store: {
    get: async (key) => {
      // Connect to Redis/Postgres here
      return await db.find(key)
    },
    set: async (key, value) => {
      await db.insert(key, value)
    },
  },
}

await vm.run(ast, args, { capabilities })
\`\`\`

#### Example: Web Scraping Agent

You can expose a custom capability or use the standard \`httpFetch\` if trusted.

\`\`\`typescript
const capabilities = {
  fetch: async (url, options) => {
    // Implement secure fetch, possibly with proxy rotation or rate limiting
    return fetch(url, options)
  },
}
\`\`\`

## Custom Atoms

You can extend the runtime with your own atomic operations.

\`\`\`typescript
import { defineAtom, AgentVM, s, Agent } from 'tosijs-agent'

// 1. Define the Atom
const myScraper = defineAtom(
  'scrape', // OpCode
  s.object({ url: s.string }), // Input Schema
  s.string, // Output Schema
  async ({ url }, ctx) => {
    // Implementation logic
    const res = await ctx.capabilities.fetch(url)
    return await res.text()
  },
  { cost: 5 } // Gas cost
)

// 2. Register with Custom VM
const myVM = new AgentVM({ scrape: myScraper })

// 3. Use in Builder (Types are inferred!)
// The \`vm.Agent\` property is the recommended way to get a builder
// that includes any custom atoms you have registered.
const builder = myVM.Agent

const logic = builder
  .scrape({ url: 'https://example.com' })
  .as('html')
  .return(s.object({ html: s.string }))
\`\`\`

## Control Flow

Atoms like \`if\` and \`while\` evaluate expression strings. For security and predictability, these expressions are not granted access to the full agent state. Instead, you must use the \`vars\` parameter to explicitly pass in any state variables that the expression needs.

This mapping allows you to alias variables, making your expressions cleaner and more readable.

### If / Else

\`\`\`typescript
chain.if(
  'p > 100 && itemsLeft > 0',
  { p: 'product.price', itemsLeft: 'inventory.stockCount' }, // Map state to expression variables
  (then) => then.varSet({ key: 'discount', value: true }),
  (elseBranch) => elseBranch.varSet({ key: 'discount', value: false })
)
\`\`\`

### While Loop

\`\`\`typescript
// The \`vars\` map works identically here, creating a scope for the condition.
// Use ExprNode for arithmetic operations
chain.while('n > 0', { n: 'counter' }, (loop) =>
  loop.varSet({
    key: 'counter',
    value: {
      $expr: 'binary',
      op: '-',
      left: { $expr: 'ident', name: 'counter' },
      right: { $expr: 'literal', value: 1 },
    },
  })
)
\`\`\`

### Try / Catch

\`\`\`typescript
chain.try({
  try: (b) => b.httpFetch({ url: '...' }),
  catch: (b) => b.varSet({ key: 'error', value: 'failed' }),
})
\`\`\`

## Editor Support

tosijs-agent includes syntax highlighting for AsyncJS (the JavaScript subset used by \`ajs\` template literals).

### Quick Install

\`\`\`bash
# VS Code
npx ajs-install-vscode

# Cursor
npx ajs-install-cursor
\`\`\`

Features:

- Syntax highlighting for \`.ajs\` files
- Embedded highlighting inside \`ajs\`...\`\` template literals
- Error highlighting for forbidden syntax (\`new\`, \`class\`, \`async\`, etc.)

### Web Editors

**Monaco:**

\`\`\`typescript
import { registerAjsLanguage } from 'tosijs-agent/editors/monaco'
registerAjsLanguage(monaco)
\`\`\`

**CodeMirror 6:**

\`\`\`typescript
import { ajs } from 'tosijs-agent/editors/codemirror'
// Use ajs() in your extensions
\`\`\`

### Tree-sitter Editors (Zed, Nova, Helix)

Associate \`.ajs\` files with JavaScript syntax in your editor config. See [editors/README.md](./editors/README.md) for details.

> **Note:** If you modify AsyncJS syntax (e.g., adding/removing forbidden keywords), update the grammar files in \`editors/\` to match. See [editors/README.md](./editors/README.md) for grammar locations.

## Development

### Testing

The test suite includes performance benchmarks for the in-memory vector search. These benchmarks can be sensitive to the performance of the host machine and may fail in slower CI/CD environments. To avoid this, you can skip the benchmark tests by setting the \`AGENT99_TESTS_SKIP_BENCHMARKS\` environment variable.

\`\`\`bash
# Run tests
bun test

# Skip benchmark tests
AGENT99_TESTS_SKIP_BENCHMARKS=1 bun test

# Type check
bun run typecheck

# Build blueprint
bun run make
\`\`\`
`,title:"tosijs-agent",filename:"README.md",path:"README.md",pin:"top"},{text:`# AsyncJS (.ajs) - A Better JavaScript for AI Agents

AsyncJS is a JavaScript subset designed for writing AI agent logic. It compiles to Agent99's secure JSON AST format, providing familiar syntax with cleaner semantics.

> **For LLM Integration:** See [ASYNCJS_LLM_PROMPT.md](./ASYNCJS_LLM_PROMPT.md) for a system prompt optimized for code generation.

## File Extension

AsyncJS files use the \`.ajs\` extension to distinguish them from standard JavaScript:

\`\`\`
my-agent.ajs
search-tool.ajs
\`\`\`

## Why AsyncJS?

| Problem with JavaScript       | AsyncJS Solution                                |
| ----------------------------- | ----------------------------------------------- |
| \`async/await\` boilerplate     | All calls are implicitly async                  |
| Complex error handling        | Monadic error flow - errors propagate as values |
| No built-in type safety       | Types through example values                    |
| Security concerns with \`eval\` | Compiles to sandboxed VM                        |

## Quick Example

\`\`\`javascript
// search-agent.ajs

/**
 * Search and summarize information about a topic
 * @param topic - The topic to research
 * @param maxResults - Maximum number of results
 */
function searchAgent(topic: 'climate change', maxResults = 5) {
  let results = search({ query: topic, limit: maxResults })

  if (results.length == 0) {
    return { summary: 'No results found', sources: [] }
  }

  let summary = llmPredict({
    system: 'Summarize these search results concisely',
    user: results,
  })

  return { summary, sources: results }
}
\`\`\`

## Core Differences from JavaScript

### 1. Implicit Async

All function calls that invoke atoms are automatically awaited. No \`async/await\` keywords needed.

\`\`\`javascript
// AsyncJS - clean and simple
function agent(topic: 'machine learning') {
  let results = search({ query: topic })
  let summary = summarize({ text: results })
  return { summary }
}

// Equivalent JavaScript would require:
// async function agent(topic) {
//   let results = await search({ query: topic })
//   let summary = await summarize({ text: results })
//   return { summary }
// }
\`\`\`

### 2. Types Through Example Values

Types are inferred from example values. The example shows both the type AND a realistic value:

\`\`\`javascript
function greet(
  name: 'Anne Example', // required string
  age: 21, // required number
  greeting = 'Hello' // optional string, defaults to 'Hello'
) {
  // ...
}
\`\`\`

- **Colon (\`:\`)** = required parameter, example shows the type
- **Equals (\`=\`)** = optional parameter with default value

The example value IS the type. \`age: 21\` means "required number". \`name: 'Anne'\` means "required string".

### 3. Monadic Error Flow

Errors propagate automatically as values. When an atom fails, subsequent steps are skipped and the error flows through to the result.

\`\`\`javascript
function pipeline(topic: 'quantum computing') {
  let results = search({ query: topic }) // might fail
  let summary = summarize({ text: results }) // skipped if search fails
  let formatted = format({ content: summary }) // skipped if any above fails
  return { formatted }
}
// If search() fails, the error flows through without executing subsequent steps
// The result will have an \`error\` property containing the AgentError
\`\`\`

The VM returns a \`RunResult\` with both \`result\` and \`error\` fields:

\`\`\`typescript
const { result, error, fuelUsed } = await vm.run(ast, args)

if (error) {
  console.log('Failed:', error.message)
  console.log('Failed at atom:', error.op)
} else {
  console.log('Success:', result)
}
\`\`\`

Use \`try/catch\` to recover from errors:

\`\`\`javascript
function resilientPipeline(topic: 'neural networks') {
  let data = null
  try {
    data = fetchData({ topic })
  } catch (e) {
    data = fallbackData({ topic })
  }
  return { data }
}
\`\`\`

### 4. Function Introspection

Every function has a \`.signature\` property for self-documentation:

\`\`\`javascript
/**
 * Search the knowledge base
 * @param query - The search query
 * @param limit - Max results to return
 */
function search(
  query: 'example query',
  limit = 10
) -> [{ title: 'Example Title', url: 'https://example.com' }] {
  // implementation
}

// Automatically gets:
search.signature = {
  name: 'search',
  description: 'Search the knowledge base',
  parameters: {
    query: { type: 'string', required: true, description: 'The search query' },
    limit: { type: 'number', required: false, default: 10, description: 'Max results to return' }
  },
  returns: { type: 'array', items: { type: 'object', shape: { title: 'string', url: 'string' } } }
}
\`\`\`

## Type System Reference

### Parameter Types

| Syntax                  | Meaning          | Example                          |
| ----------------------- | ---------------- | -------------------------------- |
| \`name: 'Anne'\`          | Required string  | The example value shows the type |
| \`age: 21\`               | Required number  |                                  |
| \`active: true\`          | Required boolean |                                  |
| \`tags: ['a', 'b']\`      | Required array   |                                  |
| \`user: { name: 'Bob' }\` | Required object  |                                  |
| \`limit = 10\`            | Optional number  | Defaults to 10                   |
| \`query = 'default'\`     | Optional string  | Defaults to 'default'            |

### Destructured Parameter Defaults

AsyncJS supports default values in destructured object parameters. Unlike JavaScript/TypeScript where destructuring defaults can be tricky, AsyncJS makes them work reliably:

\`\`\`javascript
function calculate({ a = 10, b = 5 }) {
  return { sum: a + b, product: a * b }
}

// Called with no arguments - uses defaults
calculate({})  // { sum: 15, product: 50 }

// Called with partial arguments - missing ones use defaults
calculate({ a: 20 })  // { sum: 25, product: 100 }

// Called with all arguments - no defaults used
calculate({ a: 3, b: 7 })  // { sum: 10, product: 21 }
\`\`\`

This works seamlessly with type annotations too:

\`\`\`javascript
function greet({ name: 'World', greeting = 'Hello' }) {
  return { message: \`\${greeting}, \${name}!\` }
}

greet({})  // { message: "Hello, World!" }
greet({ name: 'Alice' })  // { message: "Hello, Alice!" }
greet({ greeting: 'Hi' })  // { message: "Hi, World!" }
\`\`\`

### Return Types

Return types can be specified with arrow syntax:

\`\`\`javascript
function search(query: 'search term') -> { results: [], count: 0 } {
  // Must return object with results array and count number
}
\`\`\`

Or inferred from the return statement:

\`\`\`javascript
function search(query: 'search term') {
  return { results: [], count: 0 } // Return type inferred
}
\`\`\`

## Supported Constructs

### Variables

\`\`\`javascript
let x = 5 // Variable declaration
x = 10 // Assignment
let { a, b } = obj // Destructuring (limited)
\`\`\`

### Control Flow

\`\`\`javascript
// Conditionals
if (condition) {
  // ...
} else {
  // ...
}

// Loops
while (condition) {
  // ...
}

for (const item of items) {
  // Becomes a map operation
}

// Error handling
try {
  // ...
} catch (e) {
  // ...
}
\`\`\`

### Expressions

\`\`\`javascript
// Arithmetic
a + b, a - b, a * b, a / b, a % b

// Comparison
a == b, a != b, a < b, a > b, a <= b, a >= b

// Logical
a && b, a || b, !a

// Member access
obj.property
obj.nested.property
arr[0]

// Optional chaining (safe access)
obj?.property
obj?.nested?.value
arr?.[0]

// Template literals
\`Hello \${name}!\`

// Function calls
atomName({ param1: value1, param2: value2 })
\`\`\`

### Built-in Objects

AsyncJS provides safe implementations of common JavaScript built-in objects:

#### Math

All standard Math methods and constants are available:

\`\`\`javascript
let floor = Math.floor(3.7) // 3
let ceil = Math.ceil(3.2) // 4
let abs = Math.abs(-5) // 5
let max = Math.max(1, 5, 3) // 5
let sqrt = Math.sqrt(16) // 4
let pi = Math.PI // 3.14159...
let random = Math.random() // Cryptographically secure when available
\`\`\`

**Note:** \`Math.random()\` uses \`crypto.getRandomValues()\` when available for cryptographically secure random numbers.

#### JSON

\`\`\`javascript
let obj = { name: 'test', value: 42 }
let str = JSON.stringify(obj) // '{"name":"test","value":42}'
let parsed = JSON.parse(str) // { name: 'test', value: 42 }
\`\`\`

#### Array Static Methods

\`\`\`javascript
let isArr = Array.isArray([1, 2, 3]) // true
let arr = Array.from([1, 2, 3]) // Creates new array
let created = Array.of(1, 2, 3) // [1, 2, 3]
\`\`\`

#### Object Static Methods

\`\`\`javascript
let obj = { a: 1, b: 2, c: 3 }
let keys = Object.keys(obj) // ['a', 'b', 'c']
let values = Object.values(obj) // [1, 2, 3]
let entries = Object.entries(obj) // [['a',1], ['b',2], ['c',3]]
\`\`\`

#### Number Static Methods

\`\`\`javascript
let isInt = Number.isInteger(5) // true
let isNan = Number.isNaN(NaN) // true
let max = Number.MAX_SAFE_INTEGER // 9007199254740991
\`\`\`

#### Global Functions

\`\`\`javascript
let n = parseInt('42') // 42
let f = parseFloat('3.14') // 3.14
let encoded = encodeURIComponent('hello world') // 'hello%20world'
\`\`\`

#### String Instance Methods

\`\`\`javascript
let str = 'hello world'
let upper = str.toUpperCase() // 'HELLO WORLD'
let parts = str.split(' ') // ['hello', 'world']
let trimmed = '  padded  '.trim() // 'padded'
let replaced = str.replace('world', 'there') // 'hello there'
\`\`\`

#### Array Instance Methods

\`\`\`javascript
let arr = [3, 1, 4, 1, 5]
let joined = arr.join('-') // '3-1-4-1-5'
let has = arr.includes(4) // true
let idx = arr.indexOf(1) // 1
let sliced = arr.slice(1, 3) // [1, 4]
\`\`\`

### Set and Date Builtins

AsyncJS provides \`Set()\` and \`Date()\` as factory functions - no \`new\` keyword needed.

#### Set

Create sets with \`Set([items])\`. Sets have both mutable operations (modify in place) and immutable set algebra (return new sets):

\`\`\`javascript
// Create a Set
let tags = Set(['javascript', 'typescript', 'rust'])
let empty = Set()

// Mutable operations (modify the set, return this for chaining)
tags.add('go') // Add item
tags.remove('rust') // Remove item
tags.clear() // Remove all items

// Query operations
let has = tags.has('typescript') // true/false
let count = tags.size // Number of items
let arr = tags.toArray() // Convert to array

// Immutable set algebra (return NEW sets)
let a = Set([1, 2, 3])
let b = Set([2, 3, 4])

let union = a.union(b) // Set([1, 2, 3, 4])
let inter = a.intersection(b) // Set([2, 3])
let diff = a.diff(b) // Set([1]) - items in a but not b
\`\`\`

#### Date

Create dates with \`Date()\` or \`Date(initializer)\`. Date objects are **immutable** - methods like \`add()\` return new Date objects:

\`\`\`javascript
// Create a Date
let now = Date() // Current date/time
let specific = Date('2024-06-15') // From ISO string
let fromTs = Date(1718409600000) // From timestamp

// Static methods
let timestamp = Date.now() // Current timestamp (number)
let parsed = Date.parse('2024-06-15T10:30:00Z') // Parse to Date object

// Component accessors (read-only)
let d = Date('2024-06-15T10:30:45Z')
d.year // 2024
d.month // 6 (1-12, not 0-11 like JS!)
d.day // 15
d.hours // 10
d.minutes // 30
d.seconds // 45
d.timestamp // Unix timestamp in ms
d.value // ISO string

// Immutable arithmetic (returns NEW Date)
let later = d.add({ days: 5, hours: 3 })
let earlier = d.add({ months: -1 })
// Supported: years, months, days, hours, minutes, seconds

// Comparison
let before = d.isBefore(later) // true
let after = later.isAfter(d) // true
let diffDays = d.diff(later, 'days') // -5

// Formatting
let formatted = d.format('date') // '2024-06-15'
let iso = d.format('iso') // '2024-06-15T10:30:45.000Z'
let time = d.format('time') // '10:30:45'
\`\`\`

**Note:** Unlike JavaScript's \`Date\`, months are 1-12 (not 0-11), and all methods are immutable.

#### Serialization

Sets and Dates serialize cleanly to JSON:

\`\`\`javascript
let result = {
  tags: Set(['a', 'b', 'c']),
  created: Date('2024-06-15'),
}
// JSON.stringify(result) produces:
// { "tags": ["a", "b", "c"], "created": "2024-06-15T00:00:00.000Z" }
\`\`\`

- **Sets** serialize to arrays
- **Dates** serialize to ISO 8601 strings

### Schema Filtering

The \`filter()\` builtin validates and strips extra properties from objects based on a schema:

\`\`\`javascript
// Strip extra properties from an object
let raw = { name: 'Alice', age: 30, secret: 'password', extra: 123 }
let clean = filter(raw, { name: 'string', age: 0 })
// clean = { name: 'Alice', age: 30 }

// Works with nested objects
let data = {
  user: { name: 'Bob', age: 25, ssn: '123-45-6789' },
  tags: ['a', 'b'],
  internal: 'hidden',
}
let filtered = filter(data, {
  user: { name: 'string', age: 0 },
  tags: ['string'],
})
// filtered = { user: { name: 'Bob', age: 25 }, tags: ['a', 'b'] }

// Throws on validation failure (missing required fields)
let bad = filter({ name: 'Alice' }, { name: 'string', age: 0 })
// Error: Missing age
\`\`\`

**Use cases:**

- Sanitize LLM outputs - strip unexpected properties from JSON responses
- API input validation - accept only the fields you expect
- Data projection - reduce objects to a known shape

**Note:** Return values are automatically filtered when a return type is declared. This makes return types act as projections:

\`\`\`javascript
function getUser(id: 'user-123') -> { name: 'string', email: 'string' } {
  let user = fetchUser({ id })  // might return { name, email, password, ... }
  return { user }               // password automatically stripped
}
\`\`\`

### Array Methods with Lambdas

\`\`\`javascript
// Map - transform each element
items.map((x) => x * 2)
items.map((x) => {
  let doubled = x * 2
  return doubled
})

// Filter - keep elements matching condition
items.filter((x) => x > 5)
items.filter((x) => x % 2 == 0)

// Find - get first matching element
items.find((x) => x.id == targetId)
users.find((u) => u.age >= 18)

// Reduce - accumulate to single value
items.reduce((acc, x) => acc + x, 0)
items.reduce((sum, item) => sum + item.price, 0)

// Other array operations
items.push(newItem) // Add to array
str.split(',') // Split string to array
parts.join('-') // Join array to string
\`\`\`

Lambdas support closures - they can access variables from the outer scope:

\`\`\`javascript
function processItems({ items, threshold }) {
  let above = items.filter((x) => x >= threshold) // threshold from outer scope
  let scaled = above.map((x) => x * threshold) // still accessible
  return { scaled }
}
\`\`\`

## Unsupported Constructs

These JavaScript features are intentionally not supported:

| Feature            | Reason                       | Alternative         |
| ------------------ | ---------------------------- | ------------------- |
| \`class\`            | Use functional composition   | Plain functions     |
| \`this\`             | Implicit state is confusing  | Explicit parameters |
| \`new\`              | Classes not supported        | Factory functions   |
| \`import/require\`   | Atoms must be registered     | Register with VM    |
| \`async/await\`      | Implicit async               | Just call functions |
| \`yield/generators\` | Complex control flow         | Use \`map\`/\`while\`   |
| \`eval\`             | Security (though VM is safe) | Use transpiler      |
| \`with\`             | Deprecated                   | Explicit references |
| \`var\`              | Scoping issues               | Use \`let\`           |

## API Usage

### transpile()

Full transpilation with signature and metadata:

\`\`\`typescript
import { transpile } from 'tosijs-agent'

const { ast, signature, warnings } = transpile(\`
  function greet(name: 'World') {
    let msg = template({ tmpl: 'Hello {{name}}!', vars: { name } })
    return { msg }
  }
\`)

console.log(signature.parameters.name.type) // 'string'
console.log(signature.parameters.name.required) // true
\`\`\`

### ajs()

Convenience function returning just the AST (works as both a function and tagged template literal):

\`\`\`typescript
import { ajs } from 'tosijs-agent'

const ast = ajs(\`
  function add(a: 5, b: 3) {
    let sum = a + b
    return { sum }
  }
\`)

// Execute with VM
const vm = new AgentVM()
const result = await vm.run(ast, { a: 5, b: 3 })
console.log(result.result.sum) // 8
\`\`\`

### agent\\\`\\\`

Tagged template for inline definitions:

\`\`\`typescript
import { agent } from 'tosijs-agent'

const searchAST = agent\`
  function search(query: 'example search', limit = 10) {
    let results = storeSearch({ query, limit })
    return { results }
  }
\`
\`\`\`

### getToolDefinitions()

Generate OpenAI-compatible tool schemas for LLM integration:

\`\`\`typescript
import { getToolDefinitions, transpile } from 'tosijs-agent'

const { signature } = transpile(source)
const tools = getToolDefinitions([signature])

// Returns format compatible with OpenAI/Anthropic tool calling:
// [{
//   type: 'function',
//   function: {
//     name: 'search',
//     description: 'Search the knowledge base',
//     parameters: { type: 'object', properties: {...}, required: [...] }
//   }
// }]
\`\`\`

## Error Handling

### Monadic Error Flow

Agent99 uses monadic error flow - when an atom fails, the error becomes a value that propagates through the pipeline:

\`\`\`typescript
const { result, error, fuelUsed } = await vm.run(ast, args)

if (error) {
  // error is an AgentError with:
  // - message: string - the error message
  // - op: string - the atom that failed
  // - cause?: Error - the original exception
  console.log(\`Error in \${error.op}: \${error.message}\`)
} else {
  // Success - use result
  console.log(result)
}
\`\`\`

### Checking for Errors

\`\`\`typescript
import { isAgentError } from 'tosijs-agent'

const { result, error } = await vm.run(ast, args)

if (isAgentError(result)) {
  // result itself is the error (when error occurs before return)
}
\`\`\`

### Recovery with try/catch

Use \`try/catch\` in your AsyncJS code to handle errors gracefully:

\`\`\`javascript
function resilientAgent({ query }) {
  let result = null

  try {
    result = riskyOperation({ query })
  } catch (e) {
    // e contains the error message
    result = safeDefault({ error: e })
  }

  return { result }
}
\`\`\`

### Triggering Errors with Error()

Use the \`Error()\` built-in to trigger monadic error flow from your AsyncJS code:

\`\`\`javascript
function validateInput({ value }) {
  if (value < 0) {
    Error('Value must be non-negative')
    // Execution stops here - subsequent code is skipped
  }
  
  return { validated: value }
}
\`\`\`

When \`Error()\` is called:
- The error message is stored in the context
- Subsequent operations are skipped (monadic error flow)
- The error can be caught with \`try/catch\` or returned to the caller

\`\`\`javascript
function safeDivide({ a, b }) {
  if (b === 0) {
    Error('Division by zero')
  }
  return { result: a / b }
}

function calculate({ x, y }) {
  let result = null
  
  try {
    result = safeDivide({ a: x, b: y })
  } catch (e) {
    result = { result: 0, error: e }
  }
  
  return result
}
\`\`\`

### Why No \`throw\` Statement?

AsyncJS intentionally does not support the \`throw\` statement. Instead, use \`Error()\`:

\`\`\`javascript
// DON'T DO THIS - throw is not supported:
if (invalid) {
  throw new Error('Something went wrong')  // Transpiler error!
}

// DO THIS INSTEAD:
if (invalid) {
  Error('Something went wrong')  // Triggers monadic error flow
}
\`\`\`

The \`throw\` keyword will show as an error in your editor (red underline) and the transpiler will provide a helpful error message pointing you to use \`Error()\` instead.

## Gotchas and Common Pitfalls

### Unavailable JavaScript Features

These common JavaScript APIs are **not available** in AsyncJS. The transpiler will catch these and provide helpful error messages:

| Feature          | Error Message              | Alternative                            |
| ---------------- | -------------------------- | -------------------------------------- |
| \`setTimeout\`     | Use the \`delay\` atom       | \`delay({ ms: 1000 })\`                  |
| \`setInterval\`    | Use while loops with delay | \`while (cond) { delay({ ms: 1000 }) }\` |
| \`fetch\`          | Use the \`httpFetch\` atom   | \`httpFetch({ url })\`                   |
| \`RegExp\`         | Use string methods         | \`str.match()\`, \`str.replace()\`         |
| \`Promise\`        | Implicit async             | All calls are automatically awaited    |
| \`Map\`            | Use plain objects          | \`{ key: value }\`                       |
| \`require/import\` | Register atoms with VM     | \`new AgentVM({ customAtom })\`          |

### The \`new\` Keyword

The \`new\` keyword is not supported. AsyncJS provides factory functions instead:

\`\`\`javascript
// DON'T DO THIS - the transpiler catches these with helpful errors:
let date = new Date() // Error: Use Date() or Date('2024-01-15') instead
let set = new Set([1, 2]) // Error: Use Set([items]) instead
let arr = new Array(5) // Error: Use array literals like [1, 2, 3] instead

// DO THIS INSTEAD - no 'new' needed:
let date = Date() // Current date/time
let date2 = Date('2024-06-15') // Specific date
let set = Set([1, 2, 3]) // Create a Set
let arr = [1, 2, 3, 4, 5] // Array literal
\`\`\`

See [Set and Date Builtins](#set-and-date-builtins) for full documentation.

### No \`this\` or Classes

AsyncJS is purely functional. There's no \`this\`, no classes, no prototypes:

\`\`\`javascript
// DON'T DO THIS
class Agent {
  constructor(name) {
    this.name = name
  }
}

// DO THIS INSTEAD
function createAgent(name: 'Agent Smith') {
  return { name }
}
\`\`\`

### Equality Semantics

AsyncJS uses JavaScript's standard equality (\`==\` and \`===\`). There is no special deep equality:

\`\`\`javascript
let a = { x: 1 }
let b = { x: 1 }
let same = a == b // false (reference comparison)

// For deep comparison, use JSON.stringify or write a comparison function
let equal = JSON.stringify(a) == JSON.stringify(b) // true
\`\`\`

### Optional Chaining (\`?.\`)

Optional chaining is fully supported for safe property access:

\`\`\`javascript
let x = obj?.nested?.value // Returns null if any step is null/undefined
let result = user?.profile?.name

// Works with method calls too
let len = items?.length
let upper = str?.toUpperCase()
\`\`\`

**Note:** Nullish coalescing (\`??\`) is not yet supported. Use explicit checks:

\`\`\`javascript
let x = obj?.nested?.value
if (x == null) {
  x = 'default'
}
\`\`\`

### Atom Calls vs Built-in Methods

Atoms use object parameter syntax, while built-ins use normal function syntax:

\`\`\`javascript
// Atom call - object parameter
let result = search({ query: 'hello', limit: 10 })

// Built-in method - normal parameters
let floor = Math.floor(3.7)
let upper = str.toUpperCase()
\`\`\`

### Async Is Implicit

All atom calls are automatically awaited. Don't use \`async/await\`:

\`\`\`javascript
// DON'T DO THIS
async function search(query) {
  let result = await fetch(query) // Error: async/await not supported
}

// DO THIS INSTEAD
function search(query: 'https://api.example.com') {
  let result = httpFetch({ url: query }) // Automatically awaited
  return { result }
}
\`\`\`

### Error Propagation

Errors propagate monadically - if one step fails, subsequent steps are skipped:

\`\`\`javascript
function pipeline(input: 'raw data') {
  let a = stepOne({ input }) // If this fails...
  let b = stepTwo({ data: a }) // ...this is skipped
  let c = stepThree({ data: b }) // ...and this too
  return { c } // Result contains the error
}
\`\`\`

Use \`try/catch\` to recover from expected errors:

\`\`\`javascript
function resilient(input: 'user input') {
  let result = null
  try {
    result = riskyStep({ input })
  } catch (e) {
    result = fallback({ error: e })
  }
  return { result }
}
\`\`\`

### Fuel Limits

All operations consume fuel. Complex operations may hit limits:

\`\`\`javascript
// This might run out of fuel for large arrays
function processLarge({ items }) {
  let mapped = items.map((x) => complexOperation({ x }))
  return { mapped }
}

// Run with higher fuel limit
const result = await vm.run(ast, args, { fuel: 10000 })
\`\`\`

## Security Model

AsyncJS compiles to Agent99's JSON AST, which executes in a completely sandboxed VM:

- **No file system access** - unless explicitly provided via atoms
- **No network access** - unless explicitly provided via atoms
- **No global state** - each execution is isolated
- **Fuel-limited execution** - prevents infinite loops and runaway expressions
- **Type-checked at runtime** - invalid operations fail safely
- **Prototype access blocked** - \`__proto__\`, \`constructor\`, \`prototype\` are forbidden

The transpiler is permissive because security is enforced at the VM level, not the language level. Even if malicious code somehow made it through, the VM cannot execute dangerous operations unless atoms for those operations are registered.

### Fuel System

Every operation consumes fuel. When fuel runs out, execution stops with an \`Out of Fuel\` error:

\`\`\`typescript
const result = await vm.run(ast, args, { fuel: 100 })
// Limits total computation to prevent infinite loops
\`\`\`

Expression evaluation also consumes fuel (0.01 per node), preventing deeply nested or recursive expressions from running unchecked.

## Migration from TypedBuilder

If you have existing TypedBuilder code, here's how to convert:

\`\`\`typescript
// Before: TypedBuilder
const ast = Agent.take()
  .varsImport(['topic'])
  .step({ op: 'search', query: 'topic', result: 'results' })
  .if('results.length > 0', { results: 'results' }, (b) =>
    b.step({ op: 'summarize', text: 'results', result: 'summary' })
  )
  .return({ properties: { results: {}, summary: {} } })
  .toJSON()

// After: AsyncJS
const ast = ajs(\`
  function searchAgent(topic: 'climate change') {
    let results = search({ query: topic })
    if (results.length > 0) {
      let summary = summarize({ text: results })
    }
    return { results, summary }
  }
\`)
\`\`\`

## Best Practices

1. **Use descriptive JSDoc comments** - They become part of the function signature for LLM agents
2. **Prefer explicit types** - Even though inference works, explicit types document intent
3. **Keep functions small** - Each function should do one thing
4. **Use meaningful variable names** - The VM state is inspectable during debugging
5. **Return structured objects** - Makes output types clear and composable
6. **Handle errors appropriately** - Use try/catch for expected failures, let others propagate
7. **Set appropriate fuel limits** - Balance between allowing complex operations and preventing abuse
`,title:"AsyncJS (.ajs) - A Better JavaScript for AI Agents",filename:"ASYNCJS.md",path:"ASYNCJS.md"},{text:"# AsyncJS LLM System Prompt\n\n> **Maintenance Note:** This prompt must be updated when [ASYNCJS.md](./ASYNCJS.md) changes.\n> Key areas to sync: type syntax, built-ins (Set/Date), control flow, and forbidden constructs.\n\nUse this system prompt when asking an LLM to generate AsyncJS code.\n\n---\n\n## System Prompt\n\n````\nYou are an expert code generator for **AsyncJS**, a specialized subset of JavaScript for AI Agents.\nAsyncJS looks like JavaScript but has strict differences. You must adhere to these rules:\n\n### 1. SYNTAX & TYPES\n- **Types by Example:** Do NOT use TypeScript types (`x: string`). Use \"Example Types\" where the value implies the type.\n  - WRONG: `function search(query: string, limit?: number)`\n  - RIGHT: `function search(query: 'search term', limit = 10)`\n  - `name: 'value'` means REQUIRED. `name = 'value'` means OPTIONAL.\n- **No Classes:** Do NOT use `class`, `new`, `this`, or `prototype`.\n- **No Async/Await:** Do NOT use `async` or `await`. All functions are implicitly asynchronous.\n  - WRONG: `let x = await fetch(...)`\n  - RIGHT: `let x = httpFetch({ url: '...' })`\n\n### 2. BUILT-INS & FACTORIES\n- **No `new` Keyword:** Never use `new`. Use factory functions.\n  - WRONG: `new Date()`, `new Set()`, `new Array()`\n  - RIGHT: `Date()`, `Set([1,2])`, `['a','b']`\n- **Date Objects:** `Date()` returns an **immutable** object.\n  - Months are 1-indexed (1=Jan, not 0=Jan).\n  - Methods like `.add({ days: 5 })` return a NEW Date object.\n  - Access components: `.year`, `.month`, `.day`, `.hours`, `.minutes`, `.seconds`\n  - Format: `.format('date')`, `.format('iso')`, `.format('YYYY-MM-DD')`\n- **Set Objects:** `Set([items])` returns an object with:\n  - Mutable: `.add(x)`, `.remove(x)`, `.clear()`\n  - Immutable algebra: `.union(other)`, `.intersection(other)`, `.diff(other)` - return NEW Sets\n  - Query: `.has(x)`, `.size`, `.toArray()`\n- **Optional Chaining:** Use `?.` for safe property access: `obj?.nested?.value`\n- **Schema Filtering:** `filter(data, schema)` strips extra properties:\n  - `filter({ a: 1, b: 2, extra: 3 }, { a: 0, b: 0 })` returns `{ a: 1, b: 2 }`\n  - Useful for sanitizing LLM outputs or API responses\n\n### 3. ATOMS VS. BUILT-INS\n- **Atoms (External Tools):** ALWAYS accept a single object argument.\n  - Pattern: `atomName({ param: value })`\n  - Examples: `search({ query: topic })`, `llmPredict({ system: '...', user: '...' })`\n- **Built-ins (Math, JSON, String, Array):** Use standard JS syntax.\n  - `Math.max(1, 2)`, `JSON.parse(str)`, `str.split(',')`, `arr.map(x => x * 2)`\n\n### 4. ERROR HANDLING\n- Errors propagate automatically (Monadic flow). If one step fails, subsequent steps are skipped.\n- Only use `try/catch` if you need to recover from a failure and continue.\n\n### 5. FORBIDDEN CONSTRUCTS\nThese will cause transpile errors:\n- `async`, `await` - not needed, all calls are implicitly async\n- `new` - use factory functions instead\n- `class`, `this` - use plain functions and objects\n- `var` - use `let` instead\n- `import`, `require` - atoms must be registered with the VM\n- `console.log` - use trace capabilities if needed\n\n### EXAMPLE\n**User Task:** Create an agent that searches for a topic and summarizes it.\n\n**AsyncJS Response:**\n```javascript\n/**\n * Search and summarize a topic\n * @param topic - The topic to research\n */\nfunction researchAgent(topic: 'quantum computing') {\n  // 1. Implicit async call to atom\n  let searchResults = search({ query: topic, limit: 5 })\n\n  // 2. Standard JS logic with optional chaining\n  if (searchResults?.length == 0) {\n    return { error: 'No results found' }\n  }\n\n  // 3. Atom call for summarization\n  let summary = summarize({\n    text: JSON.stringify(searchResults),\n    length: 'short'\n  })\n\n  // 4. Factory usage (no 'new')\n  let timestamp = Date()\n  let tags = Set(['ai', 'research'])\n  tags.add(topic)\n\n  return { summary, timestamp, tags }\n}\n````\n\n```\n\n---\n\n## Self-Correction Loop\n\nWhen testing with local LLMs, implement error feedback:\n\n1. Run the LLM with this prompt\n2. If output contains `async`, `await`, `new`, `class`, or `this`, feed back:\n   > \"Error: You used '[keyword]'. AsyncJS forbids '[keyword]'. [Alternative].\"\n3. The model typically fixes it on the second attempt\n\nExample corrections:\n- `new Date()`  \"Use `Date()` factory function instead\"\n- `await fetch()`  \"Remove `await`, use `httpFetch({ url })` - all calls are implicitly async\"\n- `class Agent`  \"Use plain functions, AsyncJS is purely functional\"\n\n---\n\n## Compact Version (for context-limited models)\n\n```\n\nYou generate AsyncJS code. Rules:\n\n1. Types by example: `fn(name: 'string', count = 10)` - colon=required, equals=optional\n2. NO: async/await, new, class, this, var, import\n3. Atoms use object args: `search({ query: x })`. Built-ins normal: `Math.max(1,2)`\n4. Factories: `Date()`, `Set([1,2])` - no `new` keyword\n5. Date is immutable, months 1-12. Set has .add/.remove (mutable) and .union/.diff (immutable)\n6. Use `?.` for optional chaining: `obj?.prop?.value`\n7. Use `filter(data, schema)` to strip extra properties from objects\n\n```\n\n```\n",title:"AsyncJS LLM System Prompt",filename:"ASYNCJS_LLM_PROMPT.md",path:"ASYNCJS_LLM_PROMPT.md"},{text:'# Context: Working with `tosijs-schema`\n\nYou are an expert in `tosijs-schema`, a lightweight, schema-first, LLM-native replacement for Zod. Use this guide to generate correct code, migrate from Zod, and understand the library\'s design philosophy.\n\n## 1. Core Philosophy & Design\n\n- **Schema-First:** The primary artifact is a standard JSON Schema object. `tosijs-schema` is a fluent API to generate these schemas.\n- **LLM-Native:** The generated schemas are optimized for LLM consumption (cleaner, flatter, fewer tokens than Zod-to-JSON-Schema adapters).\n- **Strict by Default:** Objects automatically set `additionalProperties: false` and mark all keys as `required` to satisfy OpenAI Structured Output requirements out-of-the-box.\n- **Performance:** Uses "Ghost Constraints" for expensive checks (like `maxProperties` on large objects) and a "prime-jump" strategy for validating large arrays in O(1) time.\n- **Validation Separation:** Separates "Is this valid?" (fast, boolean return) from "Why is it invalid?" (detailed debugging).\n\n## 2. Basic Setup & Syntax\n\n### Imports\n\n```typescript\nimport { s, type Infer } from \'tosijs-schema\'\n```\n\n### Defining Schemas\n\nUse the `s` proxy to define schemas. The syntax is property-based and chainable.\n\n```typescript\nconst UserSchema = s.object({\n  id: s.string.uuid, // Format shorthand\n  username: s.string.min(3).max(20), // Chainable constraints\n  email: s.email, // First-class email type (no .string wrapper needed)\n  age: s.integer.min(0).optional, // Optional integer\n  tags: s.array(s.string).min(1), // Array with constraints\n  role: s.enum([\'admin\', \'user\']), // Enums\n  meta: s.record(s.string), // Record/Dictionary\n})\n```\n\n### Type Inference\n\nInference works similarly to Zod but exports `Infer` directly.\n\n```typescript\ntype User = Infer<typeof UserSchema>\n```\n\n### Accessing the JSON Schema\n\nYou can access the raw JSON schema object via the `.schema` property.\n\n```typescript\nconsole.log(UserSchema.schema)\n// Outputs standard JSON Schema object: { type: "object", properties: { ... } }\n```\n\n## 3. Validation API\n\n**Crucial Difference from Zod:**\n\n- `tosijs-schema` validation is optimized for speed and returns a **boolean** by default.\n- It does **not** throw errors or return a parsed object like Zod\'s `.parse()`.\n\n```typescript\nconst data = { ... };\n\n// Fast validation (returns true/false)\nif (UserSchema.validate(data)) {\n  // logic here\n} else {\n  // Handle invalid data\n}\n```\n\n## 4. Migration Guide (Zod vs. tosijs-schema)\n\n| Feature         | Zod (`z`)                  | tosijs-schema (`s`)                      |\n| --------------- | -------------------------- | ---------------------------------------- |\n| **String**      | `z.string()`               | `s.string`                               |\n| **Email**       | `z.string().email()`       | `s.email` (First-class citizen)          |\n| **UUID**        | `z.string().uuid()`        | `s.string.uuid` or `s.uuid`              |\n| **Optional**    | `schema.optional()`        | `schema.optional` (Property, not method) |\n| **Objects**     | `z.object({...})`          | `s.object({...})`                        |\n| **Strict Mode** | `z.object({...}).strict()` | **Default** (No method needed)           |\n| **Arrays**      | `z.array(schema)`          | `s.array(schema)`                        |\n| **Enums**       | `z.enum([\'a\', \'b\'])`       | `s.enum([\'a\', \'b\'])`                     |\n| **Unions**      | `z.union([a, b])`          | `s.union([a, b])`                        |\n| **Inference**   | `z.infer<typeof T>`        | `Infer<typeof T>`                        |\n| **Metadata**    | `.describe("...")`         | `.describe("...")` / `.title("...")`     |\n\n## 5. Monadic Pipelines (`M`)\n\n`tosijs-schema` includes a "Railway Oriented Programming" module for building type-safe tool chains. This is especially useful for **AI Agents**, ensuring that hallucinations or bad data are caught immediately at the source (Input vs Output) rather than cascading.\n\n### 1. Guarded Functions (`M.func`)\n\nCreate functions that enforce schemas on both input and output.\n\n```typescript\nimport { M, s } from \'tosijs-schema\'\n\n// M.func(InputSchema, OutputSchema, Implementation)\nconst getSize = M.func(s.string, s.number, (str) => {\n  return str.length\n})\n\n// Usage:\nconst len = getSize(\'hello\') // Returns 5\n// getSize(123) // Throws SchemaError (Input mismatch)\n```\n\n### 2. Execution Contexts (`new M`)\n\nChain multiple functions together. The execution context handles error propagation automatically.\n\n```typescript\nconst pipeline = new M({\n  getSize,\n  isEven: M.func(s.number, s.boolean, (n) => n % 2 === 0),\n})\n\nconst result = pipeline\n  .getSize(\'hello\') // Output: 5\n  .isEven() // Input: 5 -> Output: false\n  .result() // Returns false | Error\n\n// If any step fails schema validation, .result() returns the specific error.\n```\n\n## 6. Advanced Features\n\n### Ghost Constraints\n\nConstraints that are computationally expensive (O(N)) are documented in the schema but skipped by the runtime validator for performance (O(1)).\n\n- **Example:** `.max(n)` on Objects/Records.\n- `minProperties` is strictly validated.\n- `maxProperties` is a "Ghost" constraint (documentation only).\n\n### Metadata & LLM Optimization\n\nUse metadata methods to enrich schemas for LLMs or OpenAPI docs without affecting runtime validation.\n\n```typescript\nconst ApiKey = s.string\n  .min(32)\n  .describe("The user\'s secret API key") // standard JSON schema "description"\n  .title(\'API Key\')\n  .default(\'sk-...\')\n```\n\n### Date Handling\n\n`tosijs-schema` treats dates as strings with format validation, aligning with JSON transport.\n\n```typescript\nconst Timestamp = s.string.datetime // Validates ISO string format\n```\n\n## 6. Common Patterns & Gotchas\n\n1. **Chaining Order:** Primitives (like `s.string`) start the chain. Constraints (`.min()`) and metadata (`.describe()`) follow. The `.optional` flag can be placed anywhere in the chain but usually goes last for readability.\n2. **No Transformers:** Unlike Zod, `tosijs` is a pure validation/schema library. It does not "transform" data (e.g., string to number coercion) during validation.\n3. **Strict Objects:** Remember that `s.object()` disallows unknown keys by default. If you need a flexible object, use `s.record()` or explicitly allow additional properties if the API supports it (though strict is preferred for LLM outputs).\n4. **Tuples:** Use `s.tuple([s.string, s.number])` for fixed-length arrays.\n\n## 7. Example: LLM Structured Output\n\nWhen defining a response format for an LLM:\n\n```typescript\nconst ResponseSchema = s.object({\n  reasoning: s.string.describe(\'Step-by-step thinking process\'),\n  final_answer: s.string.describe(\'The concise final answer\'),\n  confidence: s.number\n    .min(0)\n    .max(1)\n    .describe(\'Confidence score between 0 and 1\'),\n})\n\n// Pass to LLM\nconst jsonSchema = ResponseSchema.schema\n```\n',title:"Context: Working with tosijs-schema",filename:"CTX_TOSIJS_SCHEMA.md",path:"CTX_TOSIJS_SCHEMA.md"},{text:`# tosijs-agent Technical Context

**Note:** This document provides a technical deep-dive into tosijs-agent's architecture and security model. For a general overview, installation instructions, and usage examples, please refer to the main [README.md](./README.md).

**tosijs-agent** is a secure, environment-agnostic runtime for executing AI agents and logic chains defined as JSON ASTs.

**Bundle Size:** ~17KB gzipped. Expressions are evaluated via lightweight AST nodes at runtime, eliminating the need for a parser library (the previous JSEP-based approach was ~50KB gzipped).

## 1. Architecture

### The Builder (\`TypedBuilder\`)

A fluent TypeScript API that generates a portable JSON AST. It uses a \`Proxy\` to dynamically infer methods from the registered Atoms, providing a strongly-typed developer experience.

It is important to understand that the builder is only for constructing the AST; it does not contain any of the actual implementation logic for the atoms. All execution is handled by the Runtime.

**Usage Pattern:**

- All logic chains **must** start with \`Agent.take()\` to define the input schema for the agent.
- Subsequent atom calls are chained together fluently (e.g., \`.varSet(...)\`, \`.httpFetch(...)\`). This creates an implicit \`seq\` (sequence) of operations.
- The chain is terminated by calling \`.toJSON()\` to produce the serializable AST.

You can access the builder via \`Agent\` (for core atoms) or \`vm.Agent\` (the recommended way to access both core and any custom atoms registered with the VM instance).

\`\`\`typescript
import { Agent, s, AgentVM } from 'tosijs-agent'

// Global Builder (Core Atoms)
const logic = Agent.take(s.object({ input: s.string }))
  .varSet({ key: 'sum', value: { $expr: 'binary', op: '+', left: { $expr: 'literal', value: 1 }, right: { $expr: 'literal', value: 1 } } })

// VM Builder (Custom Atoms)
const vm = new AgentVM({ myAtom })
const customLogic = vm.Agent
  .myAtom({ ... })
  .varSet({ ... })
\`\`\`

### The Runtime (\`AgentVM\`)

A stateless Virtual Machine that executes the AST. The runtime contains all the actual implementation logic for the atoms.

- **Sandboxed:** No \`eval()\`. Math/Logic is evaluated safely via AST expression nodes.
- **Resource Limited:** Enforces \`fuel\` (gas) limits and execution timeouts per atom.
- **Capability-Based:** All IO (Network, DB, AI) must be injected via \`capabilities\` object.

\`\`\`typescript
import { AgentVM } from 'tosijs-agent'
const vm = new AgentVM()
const { result, fuelUsed } = await vm.run(ast, args, {
  capabilities,
  fuel: 1000,
})
\`\`\`

## 2. Expression Syntax (ExprNode)

Expressions use AST expression nodes (\`$expr\`) for safe, sandboxed evaluation. Conditions in \`if\` and \`while\` atoms use expression strings that are parsed at transpile time.

For security, expressions are sandboxed and cannot directly access the agent's state. Use the \`vars\` parameter to explicitly pass variables from state into the expression scope.

### ExprNode Types

- **literal:** \`{ $expr: 'literal', value: 5 }\` - A constant value
- **ident:** \`{ $expr: 'ident', name: 'x' }\` - A variable reference
- **member:** \`{ $expr: 'member', object: {...}, property: 'foo' }\` - Property access
- **binary:** \`{ $expr: 'binary', op: '+', left: {...}, right: {...} }\` - Binary operations
- **unary:** \`{ $expr: 'unary', op: '-', argument: {...} }\` - Unary operations
- **conditional:** \`{ $expr: 'conditional', test: {...}, consequent: {...}, alternate: {...} }\` - Ternary

### Supported Operators

- **Binary ops:** \`+\`, \`-\`, \`*\`, \`/\`, \`%\`, \`**\`
- **Logic:** \`&&\`, \`||\`
- **Comparison:** \`==\`, \`!=\`, \`>\`, \`<\`, \`>=\`, \`<=\`
- **Member Access:** \`obj.prop\`, \`arr[0]\`

### Security

- **Forbidden:** Function calls, \`new\`, \`this\`, global access
- **Blocked:** Prototype access (\`__proto__\`, \`constructor\`)

### Fuel Consumption

Each expression node evaluation consumes **0.01 fuel**. This prevents deeply nested or recursive expressions from running unchecked. A simple \`a + b\` costs ~0.03 fuel (two identifiers + one binary op), while complex nested expressions accumulate cost proportionally.

## 3. Security Model

- **Capabilities:** The VM has no default IO. You must provide \`fetch\`, \`store\`, etc., allowing you to mock, proxy, or limit access.
- **Fuel:** Every atom consumes "fuel". Execution aborts if fuel reaches 0.
- **Execution Timeout:** The VM enforces a global timeout based on fuel budget (see below).
- **Atom Timeouts:** Individual atoms have a default timeout (1s) to prevent hangs.
- **State Isolation:** Each run creates a fresh context. Scopes (loops/maps) use prototype inheritance to isolate local variables.

### Execution Timeout

The VM enforces a hard timeout on execution to prevent hung agentssafeguarding against code that effectively halts by waiting on slow or non-responsive IO.

**How it works:**

1. **Automatic Safety Net:** By default, timeout = \`fuel  10ms\`. So 1000 fuel = 10 seconds. _For IO-heavy agents with low fuel costs, explicitly set \`timeoutMs\` to prevent premature timeouts._
2. **Explicit SLA:** Pass \`timeoutMs\` to enforce a strict time limit regardless of fuel.
3. **External Cancellation:** Pass an \`AbortSignal\` to integrate with external controllers (user cancellation, HTTP timeouts, etc.).

\`\`\`typescript
// Default: 1000 fuel = 10 second timeout
await vm.run(ast, args, { fuel: 1000 })

// Explicit timeout: 5 seconds regardless of fuel
await vm.run(ast, args, { fuel: 10000, timeoutMs: 5000 })

// External abort signal
const controller = new AbortController()
setTimeout(() => controller.abort(), 3000) // Cancel after 3s
await vm.run(ast, args, { signal: controller.signal })
\`\`\`

**Resource Cleanup:** When a timeout occurs, the VM passes the abort signal to the currently executing atom via \`ctx.signal\`. Loop atoms (\`while\`, \`map\`, \`filter\`, \`reduce\`, \`find\`) check the signal between iterations. \`httpFetch\` passes the signal to \`fetch\` for immediate request cancellation.

**Timeout vs Fuel:**

- **Fuel** protects against CPU-bound abuse (tight loops burning compute)
- **Timeout** protects against IO-bound abuse (slow network calls, hung promises)

Both work together to ensure the VM cannot be held hostage by untrusted code.

**Trust Boundary:** The sandbox protects against malicious _agents_ (untrusted AST), not malicious _atom implementations_. Atoms are registered by the host and are trusted to:

1. Be non-blocking (no synchronous CPU-heavy work)
2. Respect \`ctx.signal\` for cancellation
3. Clean up resources when aborted

If you write custom atoms, ensure they check \`ctx.signal?.aborted\` in loops and pass \`ctx.signal\` to any async operations like \`fetch\`.

### Cost Overrides

Default atom costs are guesses. Override them per-run to match your deployment reality:

\`\`\`typescript
await vm.run(ast, args, {
  costOverrides: {
    // Static: fixed cost per invocation
    httpFetch: 50,
    llmPredict: 500,

    // Dynamic: cost based on input
    storeSet: (input) => JSON.stringify(input.value).length * 0.001,
    llmPredict: (input) => (input.model?.includes('gpt-4') ? 1000 : 100),
  },
})
\`\`\`

Use cases:

- **API rate limits:** Make external API calls expensive to stay under quota
- **Metered billing:** Reflect actual dollar costs in fuel consumption
- **Resource protection:** Make database writes cost more than reads
- **Testing:** Set all costs to 0 to focus on logic, not budgeting

### Request Context

The \`context\` option passes request-scoped metadata to atoms. Unlike \`args\` (agent input) or \`capabilities\` (IO implementations), context carries ambient data like auth, permissions, and request tracing.

\`\`\`typescript
await vm.run(ast, args, {
  context: {
    userId: 'user-123',
    role: 'admin',
    permissions: ['read:data', 'write:data', 'fetch:external'],
    requestId: 'req-abc-123',
  },
})
\`\`\`

Atoms access it via \`ctx.context\`:

\`\`\`typescript
const secureFetch = defineAtom(
  'secureFetch',
  s.object({ url: s.string }),
  s.any,
  async (input, ctx) => {
    // Check permissions
    if (!ctx.context?.permissions?.includes('fetch:external')) {
      throw new Error('Not authorized for external fetch')
    }
    return ctx.capabilities.fetch(input.url)
  }
)
\`\`\`

**Design rationale:**

- **Immutable:** Context is read-only; agents cannot modify their own permissions
- **Separate from args:** Auth data doesn't pollute the agent's input schema
- **Separate from capabilities:** Same capability implementation, different authorization
- **Composable:** Works with cost overrides for user-tier-based fuel costs

**Production patterns:**

\`\`\`typescript
// Firebase/Express integration
app.post('/run-agent', async (req, res) => {
  const ast = req.body.ast
  const args = req.body.args

  // Extract auth from request
  const user = await verifyToken(req.headers.authorization)

  const result = await vm.run(ast, args, {
    context: {
      userId: user.id,
      role: user.role,
      permissions: user.permissions,
      requestId: req.id,
    },
    // User-tier-based costs
    costOverrides: {
      llmPredict: user.tier === 'premium' ? 10 : 100,
    },
  })

  res.json(result)
})
\`\`\`

## 4. Production Considerations

### Recursive Agent Fuel

When an agent calls sub-agents via \`agentRun\`, each sub-agent gets its own fuel budget (passed via the capability). Fuel is **not shared** across the call tree by default.

**Why:** The \`agentRun\` atom delegates to \`ctx.capabilities.agent.run\`, which the host implements. This gives operators full control over sub-agent resource allocation.

**Patterns for shared fuel:**

\`\`\`typescript
// Option 1: Pass remaining fuel to children
const sharedFuel = { current: 1000 }

const caps = {
  agent: {
    run: async (agentId, input) => {
      if (sharedFuel.current <= 0) throw new Error('Out of shared fuel')
      const result = await vm.run(agents[agentId], input, {
        fuel: sharedFuel.current,
        capabilities: caps,
      })
      sharedFuel.current -= result.fuelUsed
      return result.result
    },
  },
}

// Option 2: Fixed budget per recursion depth
const caps = {
  agent: {
    run: async (agentId, input) => {
      // Each child gets 10% of parent's budget
      return vm.run(agents[agentId], input, {
        fuel: 100, // Fixed small budget
        capabilities: caps,
      })
    },
  },
}
\`\`\`

### Streaming and Long-Running Agents

The VM returns results only after complete execution. For long-running agents:

- Use \`timeoutMs\` to enforce SLAs
- Use \`AbortSignal\` for user-initiated cancellation
- Use \`trace: true\` for post-hoc debugging

**For real-time streaming**, implement a custom atom that emits intermediate results:

\`\`\`typescript
const streamingAtom = defineAtom(
  'streamChunk',
  s.object({ data: s.any }),
  s.null,
  async ({ data }, ctx) => {
    // ctx.context contains your streaming callback
    await ctx.context?.onChunk?.(data)
    return null
  }
)

// Usage
await vm.run(ast, args, {
  context: {
    onChunk: (data) => res.write(JSON.stringify(data) + '\\n'),
  },
})
\`\`\`

### Condition String Syntax

The condition parser in \`if\`/\`while\` atoms supports a subset of expression syntax:

| Supported     | Example                           |
| ------------- | --------------------------------- |
| Comparisons   | \`a > b\`, \`x == 'hello'\`, \`n != 0\` |
| Logical       | \`a && b\`, \`a \\|\\| b\`, \`!a\`        |
| Arithmetic    | \`a + b * c\`, \`(a + b) / c\`        |
| Member access | \`obj.foo.bar\`                     |
| Literals      | \`42\`, \`"string"\`, \`true\`, \`null\`  |

| **Unsupported**        | Alternative                        |
| ---------------------- | ---------------------------------- |
| Ternary \`a ? b : c\`    | Use nested \`if\` atoms              |
| Array index \`a[0]\`     | Use ExprNode with \`computed: true\` |
| Function calls \`fn(x)\` | Use atoms                          |
| Chained \`a > b > c\`    | Use \`a > b && b > c\`               |

Unsupported syntax now throws a clear error at build time with suggestions.

### State Semantics

Agents are **not transactional**. If an atom fails mid-execution:

- Previous state changes persist
- No automatic rollback
- Error is captured in monadic flow (\`ctx.error\`)

This is by designagents are stateful pipelines, not database transactions. If you need atomicity, implement checkpoint/restore in your capabilities:

\`\`\`typescript
const caps = {
  store: {
    set: async (key, value) => {
      await db.runTransaction(async (tx) => {
        await tx.set(key, value)
      })
    },
  },
}
\`\`\`

### Error Handling Granularity

The \`try/catch\` atom catches all errors in the try block. There's no selective catch by error type.

**Pattern for error type handling:**

\`\`\`typescript
Agent.take(s.object({})).try({
  try: (b) => b.httpFetch({ url: '...' }).as('response'),
  catch: (b) =>
    b
      .varSet({ key: 'errorType', value: 'unknown' })
      // Check error message patterns
      .if(
        'msg.includes("timeout")',
        { msg: 'error.message' },
        (then) => then.varSet({ key: 'errorType', value: 'timeout' }),
        (el) =>
          el.if('msg.includes("404")', { msg: 'error.message' }, (then) =>
            then.varSet({ key: 'errorType', value: 'not_found' })
          )
      ),
})
\`\`\`
`,title:"tosijs-agent Technical Context",filename:"CONTEXT.md",path:"CONTEXT.md"}];OJ("demo-style",ZQ);Object.assign(window,{agent:M7,tosijs:eJ,tosijsui:r7});var lL={title:" Playground",filename:"playground",text:"",isPlayground:!0,pin:"top"},o6=[lL,...VO],IO="tosijs-agent",PO="0.1.0",pL=document.location.search!==""?document.location.search.substring(1).split("&")[0]:"README.md",dL=o6.find((J)=>J.filename===pL)||o6.find((J)=>J.filename==="README.md")||o6[0],{app:o0,prefs:m0}=E5({app:{title:IO,version:PO,githubUrl:`https://github.com/tonioloewald/${IO}#readme`,npmUrl:"https://www.npmjs.com/package/tosijs-agent",bundleBadgeUrl:"https://deno.bundlejs.com/?q=tosijs-agent&badge=",bundleUrl:"https://bundlejs.com/?q=tosijs-agent",docs:o6,currentDoc:dL,compact:!1},prefs:{theme:"system",highContrast:!1,openaiKey:localStorage.getItem("openaiKey")||"",anthropicKey:localStorage.getItem("anthropicKey")||"",customLlmUrl:localStorage.getItem("customLlmUrl")||""}}),cL=()=>{localStorage.setItem("openaiKey",m0.openaiKey.valueOf()),localStorage.setItem("anthropicKey",m0.anthropicKey.valueOf()),localStorage.setItem("customLlmUrl",m0.customLlmUrl.valueOf())};m5.docLink={toDOM(J,Z){J.setAttribute("href",`?${Z}`)}};m5.current={toDOM(J,Z){let Y=J.getAttribute("href")||"";J.classList.toggle("current",Z===Y.substring(1))}};var{h1:nL,h2:lC,div:DO,span:r6,a:V7,img:LO,header:iL,button:BO,template:sL,input:aL}=y;u1(document.body,"prefs.theme",{toDOM(J,Z){if(Z==="system")Z=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";J.classList.toggle("darkmode",Z==="dark")}});u1(document.body,"prefs.highContrast",{toDOM(J,Z){J.classList.toggle("high-contrast",Z.valueOf())}});window.addEventListener("popstate",()=>{let J=window.location.search.substring(1);o0.currentDoc=o0.docs.find((Z)=>Z.filename===J)||o0.docs[0]});var rL=y7(()=>{let J=EO.value.toLocaleLowerCase();o0.docs.forEach((Z)=>{Z.hidden=!Z.title.toLocaleLowerCase().includes(J)&&!Z.text.toLocaleLowerCase().includes(J)}),rJ(o0.docs)},150),EO=aL({slot:"nav",placeholder:"Search docs...",type:"search",style:{width:"calc(100% - 10px)",margin:"5px"},onInput:rL}),RX=document.querySelector("main");if(RX)RX.innerHTML="",RX.append(iL(BO({class:"iconic",title:"Toggle navigation",bind:{value:o0.compact,binding:{toDOM(J,Z){J.style.display=Z?"":"none"}}},onClick(){let J=document.querySelector($4.tagName);J.contentVisible=!J.contentVisible}},v.menu()),V7({href:"/",style:{display:"flex",alignItems:"center",gap:"8px"}},LO({src:"/favicon.svg",style:{width:"32px",height:"32px"}}),nL("tosijs-agent")),r6({class:"elastic"}),_2({minWidth:600},r6({class:"badge"},V7({href:o0.bundleUrl,target:"_blank"},LO({alt:"bundle size",src:o0.bundleBadgeUrl}))),r6({slot:"small"})),V7({class:"iconic",title:"GitHub",target:"_blank",href:o0.githubUrl},v.github()),V7({class:"iconic",title:"npm",target:"_blank",href:o0.npmUrl},v.npm()),BO({class:"iconic",title:"Settings",onClick(J){U5({target:J.target,menuItems:[{caption:"API Keys",icon:"key",action:()=>{MO({openaiKey:m0.openaiKey.valueOf(),anthropicKey:m0.anthropicKey.valueOf(),customLlmUrl:m0.customLlmUrl.valueOf()},(Z)=>{m0.openaiKey=Z.openaiKey,m0.anthropicKey=Z.anthropicKey,m0.customLlmUrl=Z.customLlmUrl,cL()})}},{caption:"Color Theme",icon:"rgb",menuItems:[{caption:"System",checked:()=>m0.theme.valueOf()==="system",action:()=>{m0.theme="system"}},{caption:"Dark",checked:()=>m0.theme.valueOf()==="dark",action:()=>{m0.theme="dark"}},{caption:"Light",checked:()=>m0.theme.valueOf()==="light",action:()=>{m0.theme="light"}},null,{caption:"High Contrast",checked:()=>m0.highContrast.valueOf(),action:()=>{m0.highContrast=!m0.highContrast.valueOf()}}]},null,{caption:"GitHub",icon:"github",action:()=>window.open(o0.githubUrl.valueOf(),"_blank")},{caption:"npm",icon:"npm",action:()=>window.open(o0.npmUrl.valueOf(),"_blank")}]})}},v.moreVertical())),z2({name:"Documentation",navSize:200,minSize:600,style:{flex:"1 1 auto",overflow:"hidden"},onChange(){let J=document.querySelector($4.tagName);o0.compact=J.compact}},EO,DO({slot:"nav",style:{display:"flex",flexDirection:"column",width:"100%",height:"100%",overflowY:"auto",padding:"5px"},bindList:{hiddenProp:"hidden",value:o0.docs}},sL(V7({class:"doc-link",bindCurrent:"app.currentDoc.filename",bindDocLink:"^.filename",onClick(J){J.preventDefault();let Z=zJ(J.target),Y=J.target.closest("xin-sidenav");Y.contentVisible=!0;let X=`?${Z.filename}`;window.history.pushState({href:X},"",X),o0.currentDoc=Z}},r6({bindText:"^.title"})))),DO({style:{position:"relative",overflowY:"auto",height:"100%"},bind:{value:o0.currentDoc,binding:{toDOM(J,Z){if(J.innerHTML="",Z.isPlayground)J.append(FO({style:{display:"block",height:"100%",padding:10}}));else J.append(Q2({class:"markdown-content",style:{display:"block",maxWidth:"48em",margin:"auto",padding:"0 20px 40px"},value:Z.text,didRender(){K4.insertExamples(this,{"tosijs-agent":M7,agent:M7,tosijs:eJ,"tosijs-ui":r7})}}))}}}})));console.log(`%c tosijs-agent %c v${PO} `,"background: #6366f1; color: white; padding: 2px 6px; border-radius: 3px 0 0 3px;","background: #374151; color: white; padding: 2px 6px; border-radius: 0 3px 3px 0;");

//# debugId=AD7514771EBD3EBD64756E2164756E21
